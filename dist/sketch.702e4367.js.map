{"version":3,"sources":["node_modules/three/build/three.module.js","shader/fragment.glsl","shader/vertex.glsl","../src/dat/color/toString.js","../src/dat/utils/common.js","../src/dat/color/interpret.js","../src/dat/color/math.js","../src/dat/color/Color.js","../src/dat/controllers/Controller.js","../src/dat/dom/dom.js","../src/dat/controllers/BooleanController.js","../src/dat/controllers/OptionController.js","../src/dat/controllers/StringController.js","../src/dat/controllers/NumberController.js","../src/dat/controllers/NumberControllerBox.js","../src/dat/controllers/NumberControllerSlider.js","../src/dat/controllers/FunctionController.js","../src/dat/controllers/ColorController.js","../src/dat/utils/css.js","../src/dat/gui/saveDialogue.html.js","../src/dat/controllers/ControllerFactory.js","../src/dat/utils/requestAnimationFrame.js","../src/dat/dom/CenteredDiv.js","../src/dat/gui/GUI.js","../src/dat/index.js","node_modules/gsap/gsap-core.js","node_modules/gsap/CSSPlugin.js","node_modules/gsap/index.js","node_modules/orbit-controls-es6/build/orbit-controls-es6.umd.js","node_modules/cannon/build/cannon.js","sketch.js"],"names":["Number","EPSILON","undefined","Math","pow","isInteger","value","isFinite","floor","sign","x","Function","prototype","Object","defineProperty","get","toString","match","assign","target","TypeError","output","index","arguments","length","source","nextKey","hasOwnProperty","call","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","EventDispatcher","addEventListener","type","listener","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","array","slice","i","l","_lut","MathUtils","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","n","m","mapLinear","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","defineProperties","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","clone","constructor","copy","v","add","w","addVectors","addScalar","s","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","Matrix3","error","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","f","g","h","getInverse","matrix","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","rotate","theta","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","create","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","Array","isArray","dispose","transformUv","uv","Vector4","z","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","update","isEuler","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","step","inverse","conjugate","p","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","_vector","Vector3","_quaternion","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","position","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","test","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","children","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","object","remove","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isInstancedMesh","count","instanceMatrix","serialize","library","element","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","values","key","data","recursive","parse","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$1","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","union","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","v0","extents","j","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","start","intersectsLine","startSign","endSign","end","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","color","components","parseInt","charAt","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","blending","side","flatShading","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","BufferAttribute","itemSize","normalized","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXYZ","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","isNaN","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","keys","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","scope","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLCubeRenderTarget","renderer","scene","currentRenderTarget","getRenderTarget","setRenderTarget","render","clear","stencil","dummy","isWebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","join","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","UniformsLib","common","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transparency","WebGLBackground","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","shaderName","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","detachShader","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getShaderObject","shaderobject","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","extensionDrawbuffers","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","pointShadow","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","result","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRManager","framebufferScaleFactor","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","targetRay","getControllerGrip","grip","onSessionEvent","inputSource","onSessionEnd","forEach","setFramebuffer","animation","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","transform","inputPose","gripPose","getPose","targetRaySpace","gripSpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","maxInstancedCount","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","compiled","initMaterial","window","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","threshold","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edges","edge1","edge2","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","concat","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","__proto__","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","shift","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","cached","setTimeout","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","Date","now","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","isSkeletonHelper","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_lodPlanes","_sizeLods","_sigmas","_createPlanes","_pingPongRenderTarget","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","fromCubemap","cubemap","_textureToCubeUV","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","outputTarget","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","tmpScene","poleAxis","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","module","exports","forceCSSHex","colorFormat","__state","conversionName","toFixed","str","ARR_EACH","ARR_SLICE","Common","each","obj","isObject","isUndefined","toCall","args","itr","BREAK","fnc","callImmediately","timeout","delayed","callNow","INTERPRETATIONS","isString","original","isNumber","toReturn","interpret","family","litmus","conversions","conversion","read","tmpComponent","ColorMath","hi","NaN","hex_with_component","componentIndex","colorToString","write","defineRGBComponent","component","componentHexIndex","space","recalculateRGB","defineHSVComponent","recalculateHSV","math","component_from_hex","extend","hsv_to_rgb","rgb_to_hsv","COMPONENTS","rgb_to_hex","Controller","initialValue","createElement","__onChange","__onFinishChange","updateDisplay","EVENT_MAP","EVENT_MAP_INV","CSS_VALUE_PIXELS","cssValueToPixels","val","isNull","dom","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","hor","vertical","horizontal","eventType","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","defaults","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","newBool","bool","attachEvent","detachEvent","classes","getComputedStyle","el","offsetParent","offsetLeft","offsetTop","activeElement","href","BooleanController","__prev","__checkbox","onChange","appendChild","checked","OptionController","opts","__select","opt","innerHTML","desiredValue","selectedIndex","isActive","StringController","__input","onBlur","blur","numDecimals","NumberController","_params","__min","__max","__step","__impliedStep","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","__truncationSuspended","prevY","attempted","onFinish","onMouseDrag","onMouseUp","onMouseDown","o2","NumberControllerSlider","__background","__foreground","onTouchStart","addClass","bgRect","getBoundingClientRect","touches","onTouchMove","onTouchEnd","pct","FunctionController","__button","fire","ColorController","__color","__temp","makeSelectable","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","removeClass","valueField","fieldDown","fieldDownH","setSV","fieldUpSV","setH","fieldUpH","toOriginal","fieldRect","mismatch","flip","_flip","toHexString","marginTop","vendors","linearGradient","vendor","cssText","hueGradient","css","indoc","doc","link","rel","getElementsByTagName","cssContent","injected","head","saveDialogContents","ControllerFactory","isFunction","isBoolean","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","makeFullscreen","body","hide","display","webkitTransform","layout","defer","innerWidth","getWidth","innerHeight","getHeight","inject","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","DEFAULT_WIDTH","autoPlace","preset","hideable","resizable","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","closeOnTop","revert","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","onClickTitle","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","getSaveObject","saveToLocalStorageIfPossible","resetWidth","toggleHide","gui","CLASS_CONTROLLER_ROW","CLASS_TOO_TALL","CLASS_DRAG","_keydownHandler","which","removeChild","__li","subfolder","removeFolder","newGuiParams","folders","li","folder","parentElement","getOffset","__save_row","__resize_handle","offsetHeight","debounce","saveDialogueContents","remembered","getCurrentPreset","presetName","newDom","liBefore","removeListeners","markPresetModified","modified","__preset_select","augmentController","__gui","nextSibling","nextElementSibling","firstElementChild","listen","pc","pb","returned","oldName","wasListening","newController","fakeEvent","stopPropagation","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","presetMap","factoryArgs","before","location","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","show","save","prompt","saveAs","addResizeHandle","pmouseX","drag","dragStop","dragStart","setWidth","useInitialValues","savedValues","setPresetSelectIndex","updateDisplays","controllerArray","domImport","GUIImport","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","_config","autoSleep","force3D","nullTargetWarn","lineHeight","_defaults","overwrite","_bigNum","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_cos","_sin","_isString","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_parenthesesExp","_relExp","_delimitedValueExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","_merge","gsap","_missingPlugin","_warn","suppress","_addGlobal","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","harnessPlugin","_gsap","harness","targetTest","GSCache","_getCache","_getProperty","_forEachName","names","_round","_arrayContainsAny","toSearch","toFind","_parseVars","isLegacy","varsIndex","vars","irVars","inherit","immediateRender","runBackwards","_lazyRender","tween","_lazy","_lazySafeRender","suppressEvents","_numericIfPossible","_passThrough","_setDefaults","_setKeyframeDefaults","toMerge","_mergeDeep","_copyExcluding","excluding","_inheritDefaults","keyframes","_arraysMatch","_addLinkedListItem","firstProp","lastProp","sortBy","_prev","_next","_dp","_removeLinkedListItem","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","_act","_uncache","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","_parentToChildTotalTime","parentTime","_tDur","_setEnd","_rts","_postAddChecks","timeline","_time","_initted","_dur","rawTime","_clamp","totalTime","_zTime","_addToTimeline","skipChecks","_delay","_sort","_recent","_attemptInitTween","_initTween","_pt","lazy","_ticker","_renderZeroDurationTween","prevRatio","ratio","repeatDelay","iteration","prevIteration","repeatRefresh","invalidate","_from","_callback","_startAt","_onUpdate","_prom","_findNextPauseTween","_first","_last","_setDuration","skipUncache","dur","_onUpdateTotalDuration","Timeline","_zeroPosition","_parsePosition","labels","recent","clippedDuration","_conditionalReturn","getUnit","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","_wake","querySelectorAll","shuffle","distribute","ease","_parseEase","isDecimal","ratios","ratioX","ratioY","distances","originX","originY","wrapAt","_invertEase","_roundModifier","raw","snap","snapTo","is2D","increment","closest","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","unitize","mapRange","_wrapArray","wrapper","wrapYoyo","_replaceRandom","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","progress","mutate","master","interpolators","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","label","executeLazyFirst","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","_props","instanceDefaults","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","register","prop","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","_hue","m1","m2","splitColor","toHSL","forceAlpha","wasHSL","_colorOrderData","_colorExp","_formatColors","orderMatchData","shell","_hslExp","_colorStringFilter","combined","_tickerActive","_getTime","_lagThreshold","_adjustedLag","_lastUpdate","_gap","_nextTime","_req","_raf","_self","_tick","elapsed","manual","overlap","dispatch","tick","wake","gsapVersions","GreenSockGlobals","sleep","cancelAnimationFrame","clearTimeout","lagSmoothing","adjustedLag","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","parsedVal","_configEaseFromString","_CE","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","amplitude","period","_configBack","overshoot","Linear","easeNone","none","n3","SteppedEase","immediateStart","Animation","_yoyo","yoyo","yoyoEase","reversed","_proto","smoothChildTiming","_totalTime","_pTime","totalProgress","_ps","includeRepeats","wrapRepeats","restart","includeDelay","atTime","resume","hasStarted","eventCallback","onFulfilled","Promise","resolve","_resolve","_then","_Animation","sortChildren","_proto2","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","isYoyo","_lock","rewinding","doesWrap","_hasPause","_forcing","adjustedTime","_this2","addLabel","getChildren","nested","tweens","timelines","ignoreBeforeTime","getById","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","_targets","tweenTo","tl","_vars","_onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","fp","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","_checkPlugin","plugin","ptLookup","priority","_ptLookup","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","_ease","_yEase","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","first","pr","change","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","_key2","getProperty","getter","quickSetter","setters","isTweening","registerEffect","_ref","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","install","effects","ticker","globalTimeline","core","globals","getCache","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","_getComputedProperty","skipPrefixFallback","getPropertyValue","_checkPropPrefix","_prefixes","preferPrefix","_initCore","documentElement","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","oldCSS","bbox","getBBox","_gsapBBox","_getAttributeFallbacks","attributesArray","hasAttribute","_getBBox","bounds","_isSVG","getCTM","_removeProperty","removeProperty","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","curValue","curUnit","isRootSVG","tagName","measureProperty","toPixels","toPercent","isSVG","_get","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","addedToDOM","baseVal","consolidate","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","yOffsetOld","yOffset","originSplit","invertedScaleX","rotationX","rotationY","skewX","skewY","perspective","forceCSS","xPercent","offsetWidth","yPercent","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","_ref2","_addRotationalPropTween","cap","finalValue","_addRawTransformPTs","startCache","exclude","endCache","CSSPlugin","specialProp","isTransformRelated","transformPropTween","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","all","gsapWithCSS","TweenMaxWithCSS","THREE","dat","OrbitControls","CANNON","fragment","Sketch","selector","configScene","initParameters","configRenderer","attachDOM","setDimensions","configCamera","resize","configControls","setupPhysics","setupResize","addObjects","lastTime","fixedTimestep","maxSubSteps","devicePixelRatio","controls","autoRotate","enableZoom","enablePan","that","amlitude","diffAmplitude","period1","period2","perlinAmplitude","timespeed","oneWave","fly","alert","world","World","gravity","broadphase","NaiveBroadphase","cannonBody","Body","mass","Vec3","addBody","groundBody","groundShape","SketchBox","Box","SketchFallingCards","surfaceGeometry","surfaceMaterial","SketchFallingTogether","cannonBody2","createMatrix","hfShape","Heightfield","elementSize","hfBody","sizeX","sizeY","material2","mesh2","SketchManyCards","physicsObjects","number","angularVelocity","SketchTrollCards","sq","sketch","sketch2","sketch3","sketch4","sketch5","sketch6"],"mappings":"ACAAu5I,ACAAA,MDAM,ACAA,CDACC,ACAAA,ODAP,ACAA,GDAe,ACAA,oLDAf,4hBCAA;;A2BAA,ADAA,AEAA;ADCA,ADAA;ACCA,ADAA,AEAA;ADCA,ADAA;ACCA,ADAA,AEAA;ADCA,AHMA,ADXA,AGKA,SHLSoX,sBAAT,CAAgCC,IAAhC,EAAsC;AIMtC,AJNwC,AGMxC,AEAA,MLN4CA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AIO7D,AHPA,ADA+D,AGO/D,UHPqE,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AIQ/D,AJRuJ,AGQvJ,AEAA;ADCA,ADAA;ACCA,AJVwJ,AGUxJ,AEAA,SLV+JD,IAAP;AIWxJ,AJXsK,AGWtK;ACCA,ADAA,AEAA;ADCA,AJXA,AGWA,SHXSE,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AIY9C,AJZgDD,AGYhD,AEAA,ELZgDA,QAAQ,CAACpwJ,SAAT,GAAqBC,MAAM,CAACge,MAAP,CAAcoyI,UAAU,CAACrwJ,SAAzB,CAArB;AIahD,AJb0GowJ,AGa1G,EHb0GA,QAAQ,CAACpwJ,SAAT,CAAmBsT,WAAnB,GAAiC88I,QAAjC;AIc1G,AJdqJA,AGcrJ,EHdqJA,QAAQ,CAACtlD,SAAT,GAAqBulD,UAArB;AIerJ,AHPA,ADRuL,AGevL;ACCA,AHJA,ADVA,AGcA,IFJIiC,IAAJ;AGKA,AHLA,AEKA,IFJIE,IADJ;AGMA,AHNA,AEMA,IFJIogB,WAFJ;AGOA,AHPA,AEOA,IFJIC,cAHJ;AGQA,AHRA,AEQA,IFJIC,QAJJ;AGSA,AHTA,AESA,IFJIC,cALJ;AGUA,AHVA,AEUA,IFJIC,mBANJ;AGWA,AHXA,AEWA,IFJIrhB,aAAa,GAAG,SAASA,aAAT,GAAyB;AGK7C,AHJE,AEIF,SFJS,OAAO3lE,MAAP,KAAkB,WAAzB;AGKF,AHJC,AEID,CFbA;AGcA,AHdA,ADAA,AGcA,IFJIinF,eAAe,GAAG,EAVtB;AGeA,AHfA,AEeA,IFJIC,QAAQ,GAAG,MAAM3zK,IAAI,CAACuP,EAX1B;AGgBA,AHhBA,AEgBA,IFJIqkK,QAAQ,GAAG5zK,IAAI,CAACuP,EAAL,GAAU,GAZzB;AGiBA,AHjBA,ADCA,AGgBA,IFJIskK,ADZA9iB,MCYM,CDZC,ECYE/wJ,CDZC,GCYG,CAACiW,KAblB;AGkBA,AHlBA,ADEE+6I,AGgBF,EHhBEA,ECYEM,OAAO,ADZA,EAAE,CCYC,EDbA,CCDd;AvBDe,A0BoBf,AHnBA,ADGEL,AGgBF,EHhBEA,ECYE6iB,KvBhBW,AsBIN,EAAE,CCYC,GAAG,EDdD,KtBFC,CAAS3vI,EuBCxB,GvBDe,EAAgBm1G,WAAhB,EAA6B;A0BqB5C,AHpBA,ADIE4X,AGgBF,EHhBEA,ECYE6iB,EvBhBIx6B,UsBIQ,CtBJRA,CuBgBU,ADZA,CAHJ,CtBDQp1G,CuBgBD,IvBhBCA,CAAMq1G,OAANr1G,CAAcs1G,cAAdt1G,CAA6BtjC,QAA7BsjC,IuBAtB;AGqBA,AHrBA,ADKE+5B,AGgBF,EHhBEA,ECYE81G,GDZG,EAAE,MCYM,GAAG,WAjBlB;AGsBA,AHtBA,ADMI7iB,AGgBJ,IFJI8iB,ADZA9iB,EtBJI91I,CAAAA,GAAIrb,IAAAA,AsBIE,CtBJGsV,CsBID,ItBJJtV,AuBgBQ,CvBhBGmkC,EuBgBA,GvBhBAA,CAAM9oB,CAAjBrb;A0BqBZ,AHJEk0K,ADdO,AGkBT,EFJEA,IvBhBM95J,CAAAA,GAAIpa,CuBgBD,EAAE,CvBhBDA,CAAKsV,KAALtV,CAAWmkC,KAAAA,CAAM/pB,CAAjBpa,KuBeW;AGMvB,AHJE8b,ADnBY,AGuBd,CHvBA,CCmBEA,IvBhBM1J,CAAAA,AuBgBD,EAAE,CvBhBGpS,IAAAA,CAAKsV,KAALtV,CAAWmkC,GuBcA,EvBdAA,CAAM/xB,CAAjBpS;A0BqBZ,AHJEwW,ADpBF,AGwBA,EFJEA,EDZE46I,EtBJIj/I,CAAAA,AuBgBD,EAAE,CvBhBGgyB,GsBIC,EtBJDA,CAAMhyB,AsBIF;AIiBhB,AHRuB,ADRrBmhG,AGgBF,CF1BA,CDUEA,ItBJMj5F,CAAAA,GAAIra,AsBIF,EAAE,EtBJAA,AsBGI,CtBHCsV,KAALtV,CAAWmkC,KAAAA,CAAM9pB,CAAjBra;A0BqBZ,AH3BA,ADWEqxJ,AGgBF,EHhBEA,ECYE8iB,EvBhBI7/J,CAAAA,GAAI6vB,CsBID,EAAE,EtBJDA,CAAM7vB,CAAN6vB,CAAQu1G,AuBgBF,ADdF,GCcK,IvBhBTv1G,CAAgB,CAAhBA,GuBgBkBgwI,cAAT,CAAwBna,KAAxB,EAA+B1jI,IAA/B,EAAqC;AGK1D,AHJE,ADZA46F,AGgBF,EHhBEA,ItBJMj9G,CAAAA,AsBID,ECYEqiB,ADZA,CtBJG6N,GuBgBC,CAAClxB,CvBhBFkxB,CAAMlwB,CAANkwB,AuBgBH,CvBhBWu1G,AuBgBFpjH,IAAI,CAACxlB,CAAd,CvBhBGqzB,CAAgB,AuBgBF7N,CvBhBd6N,GuBgBkB,CAACze,CAAtB,EAAyB1lB,IAAI,CAACsV,KAAL,CAAW,CAACghB,IAAI,CAAChiB,CAAL,GAASgiB,IAAI,CAACjkB,CAAL,GAAS2nJ,KAAnB,IAA4B,KAAvC,IAAgD,KAAhD,GAAwD1jI,IAAI,CAACuL,CAAtF,EAAyFvL,IAAzF,CAAP;AGKF,AHJC,ADhBe,AGoBhB,CF7BA,ADCA;AI6BA,AH9BA,ADCA,AG6BA,AE5BApjB,IJwBIkhK,ADZA9iB,EtBJEhY,C2BRC,CAACxnI,GLYG,AKZX,CAAY,ELYE,GtBJRwnI,AsBTN,GKCA,C3BQsBC,CuBgBA,AIxBA4jC,GJwBG,EIxBzB,K3BQsB5jC,EuBgBY66B,GvBhBI,euBgBb,CvBhBnB96B,AuBgB+C0gB,IvBhBOzgB,CuBgBnC,EAAmCjjH,IAAnC,EAAyC,EvBhBNijH,KAAgB,gBAAiB;A0BqB7F,AHJE,AD1BF,AG8BA,AE3BArmI,ILWIq+I,GKXG,C3BOC5X,A2BPA7nI,CJuBCwkB,EvBhBDqjH,A2BPR,CLWY,AKXA,CJuBC,CvBhBCx1G,AuBgBAlxB,CDZC,ECYN,CAASqjB,AIvBlB,C3BOc6N,AsBIKmtH,CtBJC1tH,A2BPAw5I,EJuBE,CvBhBRj5I,AuBgBSrzB,AIvBvB,C3BOwBjQ,AuBgBf,EAAiBy1B,AD1B1B,IC0B8B,CAAC5Q,CvBhBjBye,AuBgBL,CvBhBwB,CuBgBC61H,CvBhBpB71H,IuBgByB,KAAK,CAAV,GAAc7N,IAAI,CAACthB,CAAnB,GAAuBhV,IAAI,CAACsV,KAAL,CAAW,CAACghB,IAAI,CAAChiB,CAAL,GAASgiB,IAAI,CAACjkB,CAAL,GAAS2nJ,KAAnB,IAA4B,KAAvC,IAAgD,KAAhD,GAAwD1jI,IAAI,CAACuL,CAA7G,EAAgHvL,IAAhH,CAAP;AGKF,AHJC,AD3BD,AG+BA,AE1BApjB,CJNA,GDgBIs+I,GKVG,CLUC,AKVA1/I,GLUG9R,AKVX,CAAY,GLUG,CAACuP,EAAL,CKVX,ELUqB,AKVAgkJ,CLLrB,SKKA,EAA2B,WAA3B,EAAwCA,WAAKqF,QAAL,EAAxC;AD2BA,AHjCA,ADCA,AGgCA,AEzBA1lJ,IJqBImhK,ADZA5iB,GKTG,CAAC3/I,G3BIG6nI,A2BJX,CLSY,AKTA,E3BIDA,CAAIt4I,AsBKAmwJ,IAAI,EtBLR7X,CsBKW,CAhBtB,CtBWwB,GAAG,E2BJ3B,EJqB+B,AIrBA0jC,GJqBG,SAAShJ,YIrB3C,eJqBkC,CAAqCra,KAArC,EAA4C1jI,IAA5C,EAAkD;AGKpF,AHJE,AD7BF,AGiCA,AExBApjB,ILQIw+I,GKRG,CAAC5/I,CJoBCwkB,ADZA,EKRT,C3BGY,AsBKA,AKRA,CJoBC,AD7Bb,CC6BcrjB,GAAL,CvBjBS0mI,AuBiBArjH,IAAI,CAACxlB,AIpBvB,CJoBS,CIpBgBwsK,CJoBChnJ,IAAI,CAAC5Q,AIpB/B,CJoBS,EAAyBs0I,KAAK,GAAGh6J,IAAI,CAACsV,KAAL,CAAW,CAACghB,IAAI,CAAChiB,CAAL,GAASgiB,IAAI,CAACjkB,CAAL,GAAS2nJ,KAAnB,IAA4B,KAAvC,IAAgD,KAAhD,GAAwD1jI,IAAI,CAACuL,CAAhE,GAAoEvL,IAAI,CAAClkB,CAAvG,EAA0GkkB,IAA1G,CAAP;AGKF,AHJC,AD9BD,AGkCA,AEvBApjB,CJZA,GDmBIy+I,GKPG,CAAC7/I,CLOC,EKPT,CLOY9R,AKPA,ILOI,CAAC4V,IAlBjB,MKWA,EAA6B6hC,eAA7B;ADwBA,AHpCA,ADCA,AGmCA,AEtBAvkC,IJkBI,ADZA0+I,GKNG,CLMC,AKNA9/I,GLMG9R,AKNX,CAAY,GLMG,CAACuS,GAnBhB,UKaA,EAA+BgrK,iBAA/B;ADuBA,AHJAjJ,ADhCA,AGoCA,IHhBIziB,IAAI,GtBNG,AsBMA7xJ,IAAI,CAACwS,CtBNCmnI,EsBdjB,ECgCqB,GAAG,SAAS26B,qBAAT,CAA+Bta,KAA/B,EAAsC1jI,IAAtC,EAA4C;AvBvBlE,A0B4BF,AHJE,ADjCF,AGqCA,IHhBIw7H,AKNE0rB,EJkBAr9K,GvBlBG,EuBkBE,EvBlBEo5I,AsBMA,CCYCjjH,EDZE,ECYE,CAAChiB,CAAL,GAASgiB,CvBlBVijH,CsBMYuY,ECYE,CAACz/I,CvBlBC,AuBkBN,GAAS2nJ,EDZhB,CAAmB75J,ECYjC,CvBlBO,EAA+B,AsBMxB,EAA0B;AIiB1C,AHJEm2B,ADZA,AGgBF,AErBI,EJiBFA,IAAI,CAACrjB,EDZE,CCYP,CvBlBS,AuBkBAqjB,IAAI,CAACxlB,ADZA3Q,CCYd,CIjBcs9K,CJiBGnnJ,CvBlBCjb,CAAT,AsBMF,ECYc,CvBlBC,AuBkBAqK,CAAtB,CDZwB,AKLtB,C3BDO,AuBkBgB,CAAC,AIjBF,E3BDItL,AuBkBAja,CvBlBnB,GAAuB,AsBMhC,CCYiC,EvBlBxB,EuBkB4BA,CvBlBCiS,CAA7B,GAAiC,AuBkBA,GAAG,CAAR,GAAY,CAAC,EAAb,GAAkB,EAAtB,CAAP,CAAD,GAAqCkkB,IAAI,CAACuL,CAAnE,EAAsEvL,IAAtE;AvBnBO,A0BwBT,AHJC,ADZA,AGgBD,AEtB0B,CJlB1B,ADCA,EtBeS,MAEA,IAAIijH,WAAAA,KAAgB,UAApB,EAAgC;A0BuBzC,AHzCA,ADCA,AGwCA,IFJIg7B,ADZAxiB,OtBNO,IsBMI,GAAG,GtBNG12I,CAAV,GAAc,EuBkBE,ADZA02I,CtBNhB,EuBkBmB,CvBlBC33I,CAApB,GAAwB,GAAxB,AsBMO,CCYqBm6J,ADZAp0K,EtBNEiS,CAA9B,EsBMO,CtBN2B,CsBMC,EtBNnC,GAAwCD,CAAxC,GAA4C,OuBkBzB,CAAiC6nJ,KAAjC,EAAwC1jI,IAAxC,EAA8C;AvBnBnE,A0BwBT,AHJE,ADZA,AGgBF,AEtBQ,G3BFC,MAEA,AuBkBAA,ADZA,AKNIonJ,I3BAAnkC,AuBkBA,CAACtmI,EDZE9S,CCYP,CAASm2B,EIlBV,CLMC,CCYa,CAACxlB,CvBlBVyoI,AuBkBJ,EAAiBjjH,ADZA,GtBNG,CuBkBC,CAAC5Q,CAAtB,EvBlBA,AuBkByBs0I,EvBlBE,AsBMlC,GCYqC,GAAG1jI,IAAI,CAACthB,CAAR,GAAYshB,IAAI,CAAClkB,CAA/C,EAAkDkkB,IAAlD,CAAP;AGKF,AHJC,ADZA,AGgBD,AErBQ,CJtBR,ADCA,QKqBaqnJ,E3BDF,OAAOx5I,KAAAA,A2BCV,C3BDgBP,GAANO,CAAUtjC,QAAVsjC,CAAmB,EAAnBA;AADT,A0BwBT,AH5CA,ADCA,AG2CA,AEpBQ,G3BJC,CuBoBLqwI,ADZAxiB,KtBNK,A2BEI4rB,I3BFArkC,AsBMA,GAAG,OKJR,C3BFKA,CsBMYyY,ItBNI,KsBMb,CAAmB7xJ,CCYC,GAAG,CvBlB9B,AsBMO,EtBN0B,AsBMA,MCYMq0K,gCAAT,CAA0Cxa,KAA1C,EAAiD1jI,IAAjD,EAAuD;AGK9F,AHJE,ADZA,AGgBF,AEnBQ,SJeCA,ADZA,AKHIunJ,E3BHF,EuBkBE,CAAC5qK,EDZE9S,CtBNCkb,AuBkBR,CvBlBE,AuBkBOib,AIfV,CAAemnJ,E3BHF,AsBMZ,CCYa,CAAC3sK,CvBlBZ,AuBkBF,EAAiBwlB,ADZA,CtBNClc,A2BGnB,C3BHG,EuBkBmB,CvBlBC,AuBkBAsL,CAAtB,EvBlBE,AuBkBuBs0I,ADZhC,GtBNmC5nJ,CAA1B,CuBkB4B,EvBlBE,GuBkBG,CAAV,GAAckkB,IAAI,CAAClkB,CAAnB,GAAuBkkB,IAAI,CAACthB,CAArD,EAAwDshB,IAAxD,CAAP;AvBnBO,A0BwBT,AHJC,ADZA,AGgBD,AElBQ,CJ5BR,ADCA,EtBqBS,MAEA,A2BIIwnJ,I3BJAvkC,S2BIL,CAAmB9sD,C3BJd8sD,KAAgB,A2BII,CAAC+N,UAAP,C3BJlB,EAAkC,A2BII,EAAvC,EAA2C76D,MAAM,CAAC+6D,WAAP,GAAqB,EAAhE;ADmBR,AH/CA,ADCA,AG8CA,AEjBQ,IJaJitB,ADZAxiB,KKDS8rB,E3BLF,KsBMK,CtBNC1iK,CAAN,CuBkBQ,ADZA,EtBNE,A2BKb,CJac,EvBlBX,GAAgBjB,CAAhB,AsBMiB63I,GtBNG,AuBkBAwiB,GvBlBpB,GAA0BriK,CAA1B,EsBMQ,CtBNsB,AsBMAjS,GtBN9B,EuBkBW,ADZH,CtBN4BgS,AuBkBAnR,CvBlBpC,AsBMqC,GtBNG,EuBkB7B,EAAiCk8C,QAAjC,EAA2C/8C,KAA3C,EAAkD;AvBnB/D,A0BwBT,AHJE,ADZA,AGgBF,AEhBQ,G3BRC,MAEA,AuBkBAa,ADZA,AKAIg9K,I3BNAzkC,EuBkBE,AIZP,CJYQz1G,ADZA3jC,KCYP,ADZA,CCYa+8C,EvBlBTq8F,EsBMa,GtBNG,CuBkBpB,IAAyBp5I,GDZhC,CtBNO,CuBkBP,CvBlBsC;A0BuBxC,AHJC,ADZA,AGgBD,AEfQ,CJlCR,ADCA,QKiCa89K,E3BPF,QAAQ5iK,CAAR,GAAY,A2BOf,K3BPG,GAAoBjB,CAApB,GAAwB,KAAxB,GAAgChI,CAAhC,GAAoC;AADtC,A0BwBT,AHlDA,ADCA,AGiDA,AEdQ,G3BVC,CuBoBLsiK,ADZAxiB,KtBNK,A2BQIgsB,I3BRA3kC,AsBMA,GAAG,ECYE,GAAG,AIVb,G3BRKA,CsBMY2Y,ItBNI,CuBkBCwiB,IDZd,CAAmBv0K,ItBN1B,CsBMO,CtBNyB,CsBMC,ECYrB,CAAwBa,MAAxB,EAAgCk8C,QAAhC,EAA0C/8C,KAA1C,EAAiD;AGKtE,AHJE,ADZA,AGgBF,AEbQ,SJSCa,ADZA,AKGIm9K,E3BTF,IuBkBI,CAACr6I,ADZA3jC,GtBNGkb,CAAR,A2BSH,CJSC,ADZA,CCYas5J,CvBlBC,GsBMG,EtBNf,GAAoBv6J,CAApB,CuBkBF,CAAyB8iC,ADZhC,CtBNiC,KAAxB,EuBkBF,CvBlBkC9qC,CAAhC,AuBkBiCjS,GvBlBG,EuBkBtC,CAAP,EvBlBS,GAA4CgS,CAA5C,GAAgD;AADlD,A0BwBT,AHJC,ADZA,AGgBD,AEZQ,CJxCR,ADCA,EtB2BS,MAEA,A2BUI6rK,I3BVAzkC,E2BUL,S3BVKA,KAAgB,SAApB,EAA+B;A0BuBxC,AHrDA,ADCA,AGoDA,AEXQ,IJOJq7B,ADZAziB,KKKSisB,E3BXF,IsBMI,GAAG,CtBNC/jK,A2BWX,C3BXG,AuBkBS,GvBlBG,AuBkBA,IDZI83I,CtBNhB,GAAoB79I,CAApB,AuBkBqBsgK,GvBlBG,GsBMjB,CAAqBz0K,CtBN5B,GAAgC8T,CAAhC,AsBMO,EAA4B,CtBNC,CuBkBxB,CAA0BjT,MAA1B,EAAkCk8C,QAAlC,EAA4C/8C,KAA5C,EAAmD;AvBnBjE,A0BwBT,AHJE,ADZA,AGgBF,AEVQ,G3BdC,MAEA,AuBkBAa,ADZAb,AKMIghD,I3BZAo4F,CsBMC,CCYC,AINP,CJMQkb,GDZG,ECYV,CAAav3G,EvBlBTq8F,AsBMX,KtBN2B,CuBkBpB,IAAyBp5I,KvBlBzB,AuBkBP,EvBlBuC;A0BuBzC,AHJC,ADZA,AGgBD,AEVK,CJ7CL,ADCA,UtBgCW,QAAQka,CAAR,GAAY,KAAZ,GAAoB/F,CAApB,GAAwB,KAAxB,GAAgCL,CAAhC,GAAoC,KAApC,GAA4C9B,CAA5C,GAAgD;A0BuB3D,AHxDA,ADCA,AGuDA,IFJI0iK,ADZAziB,YCYY,CDZC,ECYE,CDZC,QCYQyiB,CDZCziB,WCYV,CAAsBpxJ,CDZrB,GAAyB,ECY1B,EAA8Bk8C,QAA9B,EAAwC/8C,KAAxC,EAA+C;AGKlE,AHJE,ADZA,AGgBF,SFJSa,ADZA,MCYM,CAACyzJ,ADZAhoE,KCYP,CAAa5hE,ADZb,KAAkB,CCYlB,GAAsB7pB,MAAM,CAACyzJ,ADZpC,KCY6B,CAAa3pI,MAAb,GAAsB3qB,KAAnD;AGKF,AHJC,ADZA,AGgBD,CF1DA,ADCA,QtBmCS;A0BuBT,AH3DA,ADCA,AG0DA,IFJI20K,ADZAziB,eAAe,GAAG,ICYI,GAAG,EDZEA,GKIb,IJQoByiB,QDZhB,CAAyB30K,KAAzB,EAAgC,MCYzB,CAAgCa,MAAhC,EAAwCk8C,QAAxC,EAAkD/8C,KAAlD,EAAyDm2B,IAAzD,EAA+D0jI,KAA/D,EAAsE;AGKnG,AHJE,ADZA,AGgBF,AEXQ,MJOF7jI,GDZG47H,ECYE,AIPEhxG,GJOC//C,EIPN,GAAa,CJOD,ADZA,CCYCyzJ,ADZAt0J,EKKIg9K,GJOvB,ADZkB,CAAX,CKKqB,CAAC1mJ,ELLAq7H,GKKV,EAAb,ILLgC,CAAC3xJ,KAAD,CAAtC;ArB7CF,AyB8DA,AHJEg2B,ADZD,AGgBD,AEXK,CLjDL,CCwDEA,EtB1DIyjH,GsB0DC,CAAC/uH,ItB1DF+uH,EsB0DJ,CtB1Det6H,EsB0DA6W,GtB1DA7W,CAAM7e,CsB0DD,CAACqqB,MAAN,CtB1DAxL,CAAgBqiE,CsB0DDxhF,KAA9B,CtB1DF;AACA,AyB8DA,AHJEg2B,ADzDF,AG6DA,EFJEA,EtB1DI0jH,AqB8CFyY,GCYG,CAACyiB,IDZI,CrB9CNl7B,EqB8CSv6H,CrB9CGA,IqB8CE,CrB9CFA,AqB8CGC,CrB9CG9e,CsB0DtB,CAAsBu5J,IDzDxB,CCyDE,EtB1DgB16I,AsB0Da6W,CtB1DGlnB,IsB0DhC,CtB1DF;AAQA,AyBuDA,AHJC,AD1DD,AG8DA,CF/DA,GtBQM6qI,AqBuCFyY,MrBvCEzY,GAAS,IqBuCE,GAAG,mBA9CpB;AI+DA,AHhEA,ADCA,AG+DA,IFJIk7B,ADZA,KrBvCK,EADM,mBsBoDe,GAAG,IIRZ,KJQqBA,0BAAT,CAAoCh0K,MAApC,EAA4Ck8C,QAA5C,EAAsD/8C,KAAtD,EAA6Dm2B,IAA7D,EAAmE0jI,KAAnE,EAA0E;AGK3G,AHJE,ADZFxH,AGgBA,AEXQ,MJOFr8H,CDZC,GrBtCG,AqBsCA,CCYC,AIPEynG,GJOC58H,GIPN,E1B3CE,CsBkDU,AIPE,CJODyzJ,ItBlDX,A0B2CF,C1B3CWzzJ,AsBkDjB,MtBlDQ,EAAiB,WqBV3B;AIiEA,AHJEm1B,AD7DF,AGiEA,AEVQ,EJMNA,EDZE,GCYG,CAAC+mB,CtBlDC68F,E0B4CIskC,G1B5CCxkC,EsBkDP,CAAL,EINM,CJMY15I,EINI,C1B5CV05I,A0B4CN,C1B5CgBp4I,CsBkDtB,GtBlDYo4I,CAAez4I,SAAfy4I,EAA0B,CAA1BA,GAA8B,UAASG,GAAT,EAAc;AyBuD1D,AHJE7jH,ADZFs8H,AGgBA,AETQ,EJKNt8H,KAAK,CAAC4+I,EtBlDIvgI,C0B6CCuS,G1B7CDvS,CqBsCG,AKOP,E1B7CW,CqBsCD,AKOE,CAAZ,G1B7CgBylG,CsBkDtB,CAAsB+f,KAAtB,CtBlDiB,CAAchgB,AsBkDF7jH,GtBlDZ,EsBkDjB,EtBlDsCz1B,MAAAA,CAAO8zC,EqBZ/C,ErBYwC9zC,CAAYs5I,GAAZt5I,CAArB,GAAwC;AyBuD3D,AHJC,AD/DD,AGmEA,AERQ,CJ5DR,GDoDIgyJ,OrBtCO/wE,A0B8CE28F,Q1B9CM,KqBsCK,AKQhB,GLRmB,AKQE,E1B9CDjoJ,GAAT,C0B8CgB,C1B9CF,G0B8CzB,mBL3DR;AIoEA,AHrEA,ADCA,AGoEA,AEPQ,IJGJ4+I,ADZA,OKSSsJ,C1B/CD,CAAC,KAAKrkC,AsBkDA,GAAG,CIHb,GAAmB,CAAnB,G1B/CK,CAAiBF,EsBf9B,CtBe8BA,CAAI3jH,GAAJ2jH,CAAjB,GAA4B;AyBuDzC,AHtEA,ADsDA2Y,AGgBA,AEPK,IJGDuiB,WDZW,ErBtCE7+I,CqBsCC,MrBtCM2jH,AsBkDA,GtBlDAA,AsBkDGi7B,CtBlDC5+I,GAAJ2jH,EqBfxB,QCiEyC,GAAG,QAlE5C;AGuEA,AHvEA,ADCA,AGsEA,IFJIm7B,ADZA,WCvDJ;AtBcmB,AyB0DnB,AHxEA,ADwDAviB,AGgBA,IFJIwiB,GtBtDe,AqB0CZ,CrBtCCvhF,EqBsCE,ErB1CS,CAIN,IAJM,CsBsDD,GAAG,KDnErB,ICmE8BuhF,cAAT,CAAwBhnK,IAAxB,EAA8BinK,EAA9B,EAAkC;AtBxDnD,AyB6DJ,AHJE,ADpEF,AGwEA,IHhBIxiB,ECYE79I,CtBlDC,AsBkDA,GAAGi+I,IAAI,CAACv2I,ODZO,GAAG,KCYf,GAAuBu2I,IAAI,AIJhB,CJIiBv2I,cDpEtC,CCoEiC,CAAqB,CAAC24J,EAAE,IAAI,8BAAP,EAAuCjzG,OAAvC,CAA+C,QAA/C,EAAyD,MAAzD,CAArB,EAAuFh0D,IAAvF,CAAvB,GAAsH6kJ,IAAI,CAAClW,aAAL,CAAmB3uI,IAAnB,CAA9H,CADqD,CACmG;AGK1J,AJzEA,AGyEA,AEPQ,ILTJ0kJ,OrBrCO9xJ,A0B8CE8/C,QLlEb,AKkEQ,GAAgB,IAAIq8H,KAAK,CAACr4F,aAAV,CAAwB;A1B3DjC,AyBmEf,AHJE,ADtEF,AG0EA,AERkDzC,G1B3DnC,CqBmDX0wE,IA1DJ,AKkEkD1wE,CJIzCrtE,CAAC,CAAC8uB,KAAF,CIJkD,EJIxC9uB,AIJ0C,CJIpD,GAAci+I,IAAI,CAAClW,aAAL,CAAmB3uI,IAAnB,CAArB,CAHqD,CAGN;AGKjD,AHJC,ADvED,AG2EA,AETgD,CJnEhD,GD4DI4kJ,GKOoB,CAAhB,I1B3CI,IqBvBZ,KrBuBY,QAAA,CAAShyJ,MAAT,EAAiB;AyBqD7B,AH7EA,ADCA,AG4EA,AERQ,IJIJs0K,ADZAriB,IA5DJ,CrBwBSlZ,E0B4CIj5F,G1B5CC+4F,K0B4CN,CAAcjxD,G1B5CRixD,CAAUp4I,AsBgDA,GAAG,CtBhDbo4I,CAAez4I,I0B4CrB,CAA4BqrF,EJIA6oF,EtBhDtBz7B,EAA0B,A0B4CE,C1B5C5BA,A0B4C6B2kC,G1B5CC,UAASxkC,EsBgD1B,CtBhDiB,AsBgDah5I,AIJjD,E1B5CkD,IsBgD/B,EAAsCk8C,QAAtC,EAAgDq4H,kBAAhD,EAAoE;AGK/F,AHJE,ADzEF,AG6EA,AEPQ,ILTJriB,ECYE32D,EAAE,EtBhDI/nD,CsBgDDqrG,AIHE/+F,CLTD,ErBpCAtM,CqBoCG,ErBpCI,AqBzBnB,EKsEQ,CAAcgf,E1B7CEymF,KsBgDG,CAACj5I,EtBhDT,CAAcg5I,E0B6CzB,C1B7CW,AsBgDQ,AIHS,CJGlC,GtBhDsCt5I,I0B6ChC,E1B7CgCA,A0B6CM,C1B7CC8zC,A0B6CvC,I1B7CgC9zC,CAAYs5I,GAAZt5I,CAArB,GAAwC;AyBqD3D,AHJE,AD1EF,AG8EA,AEPK,ILTDyyJ,KCYK52D,EtBhDE5a,AsBgDA,CAACzkC,KDZK,ErBpCE,CsBgDR,ADZS,CCYX,CD1ET,GC0EyBq/C,EAAE,CAACi5E,CtBhDAn/I,GAAT,EAAc,UsBgDR,CAAoB6mB,QAAQ,CAACklB,OAAT,CAAiB0xG,QAAjB,EAA2B,KAA3B,EAAkCrgE,WAAlC,EAApB,CAAhB,IAAwFlX,EAAE,CAACi5E,gBAAH,CAAoBt4H,QAApB,CAAxF,IAAyH,CAACq4H,kBAAD,IAAuBD,oBAAoB,CAACt0K,MAAD,EAASy0K,gBAAgB,CAACv4H,QAAD,CAAhB,IAA8BA,QAAvC,EAAiD,CAAjD,CAApK,IAA2N,EAAlO,CAF6F,CAEyI;AGKxO,AHJC,AD3ED,AG+EA,CFhFA,GDgEIk2G,QrBpCQ,EqB3BZ,GrB2BiBlZ,WAAL,CAAiBl5I,MAAAA,CAAOq1B,GAAPr1B,CAAjB,GAA+B;AyBqD3C,AHjFA,ADCA,AGgFA,IFJI00K,ADZAriB,QAAQ,CCYC,EDZE,CCYC,CtBhDCh9H,OAAO2jH,AqBoCAqZ,GrBpCArZ,CAAI3jH,GAAJ2jH,CqBoCT,CAAkBriG,ICYIyoB,CDZtB,EAAyB,ECYxB,CAA2B,GAA3B,CA7EhB;AGkFA,AHlFA,ADkEE,AGgBF,IFJIq1G,KDZK,CAACtiB,UCYU,GAAG,ADZA,GAAGG,IKQZmqB,EJIkBhI,ADZA,CAAC99H,KAAD,EAAQu7G,AKQhB,QJID,ADZS,CCYiBh2G,ADZxC,KAA6Cq2G,GCY/B,CDZrB,CCYyD99H,OAApC,EAA6CkgJ,YAA7C,EAA2D;AtBnD/D,AyBwDnB,AHJE,ADZD,AGgBD,AEPQ,CL3ER,KC8EM3gK,CtBpDa,AsBoDZ,CtBhDC6+E,EsBgDEp+D,CIHGopC,C1BjDM,CAIN,IAJM,AsBoDF,GIHT,CJGa00G,EIHI92J,MJGvB,EIH+B,CAAC2yI,cAAT,CAAwBquB,QAAxB,CAAjB;A1BnDJ,AyB2DJ,AHLE,AD9EF,AGmFA,AENQ,ILVJjqB,ECYEl/I,CtBhDC,AsBgDA,GAAGU,CAAC,AIFE6pD,CJED/6B,KADV,CDXgB,EKUV,CLVa,AKUE08G,SLVOgT,EKUtB,CAA2B,KAAK1yG,MLVnB,CAAwB5D,CKUV,CAAc2oC,MLV5B,EAAkC1lF,EKU/C,GLVa,EAAyC;AIiB9D,AHNE,ADVA,AGgBF,AENK,MJEC+O,CAAC,EDZEgE,CCYC,CtB/CClS,AsB6CT,KDVc,CAACmS,IAAR,CAAa,kBAAb,EAAiC+pC,QAAjC,EAA2C,QAA3C,EAAqD/8C,KAArD,EAA4D,uCAA5D,CAAP;ArB7Da,AyB8Ef,AJhBC,AGgBD,CHrFA,ErBOe;AyB+Ef,AHJE,ADlFF,AGsFA,IHhBIszJ,ECYEv2G,GDZG,ErBlCE,CqBkCC,ECYE,IAAI5oC,CAAZ,CtB9CK,CqBkCUm/I,ECYE,CAACkiB,EDZZ,CrBlCD,AqBkCgB3tF,GrBlCL,IqBkCV,ECYV,ADZkC0rE,ECYE,MDZ1B,EAAkC;AIiB9C,AHJI,ADZF,AGgBF,QxBlDUvZ,CqBkCD,CAACuZ,CCYCx2G,GtB9CDi9F,GAASN,CqBkCV,CCYL,GDZkB3mI,IrBlCH2mI,CAAUp4I,EqBkCA,CAAC0R,CrBlCX0mI,CAAez4I,EqBkCZ,AKSJ+S,CLTiB6zE,EKSd3tE,GAAG,C1B3CLw/H,CqBkCG,CAApB;AIiBF,AHJG,ADZF,AGgBD,AENQ,CLlFR,UrBsCW,A0B4CEl9H,KAAL,GAAa8vE,I1B5CC,E0B4CK,CAAC66D,UAAP,GAAoB,EAAjC;ADOR,AJzFA,AGyFA,AELQ,ILXJqM,MrBlCMvZ,C0B6CGx9H,G1B7CHw9H,AqBkCI,GrBlCGP,AqBkCA,AKWT,GAAcptD,M1B7CLotD,AqBkCS8Z,AKWE,C1B7CDlyJ,A0B6CE+lJ,I1B7CZ3N,CAAez4I,IqBkCf,CAAoByc,CKWf,G1B7CLg8H,AqBkCA,AKW0B,ELXAG,AKWnC,GLXS,EAA+B;AIiBhD,AHJE98F,ADZA,AGgBF,AELK,EJCHA,ODZOr/B,CCYC,GAAGq/B,ADZA,KAAKg2G,GCYG,CAAC5uH,IDZI,CAACzmB,CCYd,CAAgB,CAAhB,CDZa,CCYM7N,ADZd,GAAiBgqI,GAAtB,CAAJ,ICYI,ADZ8BmZ,KCYKj2G,QAAQ,ADZ/C,CCYgDk9D,IDZI+4C,ECYb,CAAgB,CAAhB,CAA9C,QDZwE,CAACt1I,IAAD,CAAb,GAAsBm8H,GAA1E,KAAkFkZ,QAAzF;AIiBF,AJhBC,AGgBD,CH3FA,UrBwCW,IAAIhkJ,CAAAA,GAAIirI,MAAAA,CAAO94I,MAAP84I,GAAgB,GAAGjrI,CAAAA,IAAK,GAAGA,CAAAA,IAAK;AyBoDnD,AHJE,ADxFF,AG4FA,IHhBI0kJ,KCYK1kJ,CAAC,IDZI,CrBnCC,CAACirI,AsB+CA,CDZC,CCYCu7B,ItB/CFv7B,CAAOjrI,CAAPirI,CAAAA,CAAUlhE,AqBmCA26E,CCYC,CAAC1kJ,CAAD,CAAT,CtB/CFirI,CAAgB,CsB+CCj9F,GtB/CjBi9F,AqBmCC,ErBnCqBC,CqBmCC,ECYrB,CtB/CFD,CAAD,EsB+C8B7lI,CAA7B,CAAd,EAA+C,CAAE;AGKnD,AJhBE,AGgBF,SHhBS,CAAP,yBKUiB;ADOnB,AHJE,ADZD,AGgBD,AELQ,CLzFR,QC0FSpF,CAAC,CIDG4Y,EJCA,CAAJ,GAAQ,AIDT,GAAc,CJCb,GAAe,AIDEq1J,CJCDjuK,CAAC,GIDK,CAACwvC,CJCD,CAAN,GAAU,IAAV,GAAiBxvC,CAAC,IAAI,AIDzB,CJCoB,AIA9B,EADU,CJC6BwmK,CICvC,KAAK/4J,GJD2C,CAACzN,CAAD,AIChD,CJD8B,EICjB,CJDyC,EAA1C,EICM0N,EJD0CsgC,IIDlD,EAGV,EJFV,GIDoB,EAIV,IAJU,CAAd;ADMR,AHJC,AD3FD,AG+FA,AECQ,CJjGR,GDgFI22G,OKiBS/rI,E1BrDAsyH,IAAAA,A0BqDL,C1BrDU,AqBoCA,AKiBEzsH,C1BrDPysH,EqBoCQ,EA/ErB,GKgGQ,CAAqBnnI,GAArB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,EAAgC,CAAhC;A1B1DJ,AyB0DJ,AHjGA,ADCA,AGgGA,AECK,IJLD2iK,ADZA9hB,SCYS,EDZE,CCYC,EDZE,EAhFlB,KC4FyB8hB,SAAT,GAAqB;AtBrFtB,AyB0Ff,AHJE,AD7FF,AGiGA,GxB1Fe,CqB0EX7hB,ECYE3B,SDZS,GAAG,CCYC,CD7FnB,CC6FE,EAAqB;AGKvB,AHJIW,AD9FJ,AGkGA,IFJIA,ADZAiB,IrBnCI,AsB+CA,GAAGvnE,MtB/CH,AsB+CJ,ItB/CI,CAASutD,AqB/CjB,GrB+CQ,EAAcK,GAAd,EAAmB1iG,KAAnB,EAA0B;AyBoDlC,AHJIs7G,AD/FJ,AGmGA,IFJIA,ADZAgB,IrBnCI,AsB+CA,CtB/CCja,EsB+CE+Y,CDZC,ErBnCE,CsB+CC,ADZA,CCYCt2I,CD/FhB,OC+FI,aIIiB;ADCrB,AHJI42J,ADhGJ,AGoGA,AEAQ,IJJJA,ADZAnf,OKgBSuqB,CLhBD,GCYG,ADZA,EApFf,CCgGkBxrB,CIIV,GJJc,AIIE,CJJD4iB,GIIKwH,YJJxB,YIIoB,CAAkB,KAAKv1J,MAAvB,EAA+B,KAAKg5B,QAAL,CAAc+kC,UAA7C,CAAhB;ADCR,AHJI0tF,ADjGJ,AGqGA,AEAQ,IJJJA,ADZApf,OKgBSsqB,CJJD,GAAGrJ,CDZC,GAAG,AKgBX,CAAcsJ,CLrGtB,QCiG6B,CAAC,AIItB,GAA2B,EJJN,CAAd,EIIP,EJJgC;AGKxC,AHJM56I,ADlGN,AGsGA,AEAQ,ILhBJswH,ECYEtwH,KAAK,AIIE26I,EJJA,MDZM,AKgBX,CAAcE,ELhBA,EAtFtB,MKsGQ,GAA2B,IAA3B;ADCR,AHNwC,ADjGxC,AGuGA,AEAQ,ILhBJtqB,CCUA,GtB7CIza,G0BmDK6kC,K1BnDL7kC,EqBmCU,CKgBV,C1BnDYI,A0BmDE4kC,CLhBD,ErBnCD5kC,AqBpDpB,CrBoDwBr4D,K0BmDhB,E1BnDAi4D,C0BmD0B,G1BnDCI,C0BmD3B,E1BnD2BA,CAAIr4D,OAAJq4D,KAAgBJ,UAAU;AyBoD7D,AHJI45B,ADpGJ,AGwGA,AEAQ,IJJJA,ADZAlf,MrBnCM3yE,C0BmDG88F,CLhBD,GAAG,GrBnCGpkC,AsB+CA,CIIV,CAAc/1H,CJJD8wJ,EtB/CEz9H,CqBmCC28G,EKgBhB,MLhBO,CAAkBC,ECYE,CAAC,IDZrB,CCYoB,CAA/B,ADZsC;ArBpCtC,AyBqDJ,AHJI0gB,ADZF,AGgBF,AEAK,IJJDA,EDZEj0K,KrBnCK,CqBmCC,GrBnCGg5I,AqBmCAua,GrBnCAva,AsB+CG,CtB/CC34I,EsB+CEo0K,CDZC,CAAC,CAAD,CrBnCPz7B,AqBmCb,KrBnC4BA,GAAAA,CAAI34I,GsB+CG,CAAC4zK,EtB/CRj7B,GAAa,CAAhC,EAAmC,MsB+CT,CAAjC;AGKJ,AHJIk7B,ADbF,AGiBF,IFJIA,EDZE1gB,IrBnCIn+H,GAAAA,GAAAA,GqBkCR,ErBlCQA,GsB+Cc,GAAGo/I,gBAAgB,CAACP,oBAAD,CAAvC;AGKJ,AHJI3B,ADdF,AGkBF,IFJIA,EDZErkK,CAFJ,GrBjCQC,CAAAA,CsB+CE,CAAC20B,CtB/CH30B,IsB+CN,CtB/CMA,AsB+CSu2I,OAAf,GAAyB,0DAAzB,CAVmB,CAUkE;AGKzF,ADAA,qCEDqB;ADErB,AHJIyvB,ADZF,AGgBF,AEAQ,IJJJA,EDZE,CAACjjB,GKgBK2sB,C1BpDDxoJ,GAAAA,A0BoDK,CJJD,CDZC,CrBpCC,AqBoCAr1B,AKgBE,C1BpDRq1B,AsBgDO,CAAC,CtBhDClnB,AsBgDAsmK,CtBhDAtmK,A0BoDZ,ELhBQ,CrBpCQ6qI,AqBoClB,GrBpCkBA,CAAI34I,AqBoCA,CAAC0wJ,OrBpCO17H,AsBgDA,CAAC,EtBhDDA,CqBoCI,CAACr1B,CrBpCCmO,GAAGknB,EqBoCL,CrBpCKA,AqBoC3C,ECYkC,ADZc,CCY9C,CtBhDgD;AyBqDpD,AHJIi9I,ADZA/e,AGgBJ,AECQ,IJLJ+e,ADZA/e,OAAO,AKiBE1lD,C1BrDDx4E,EqBoCE,CrBpCFA,AqBoCGk+H,GCYG,CtBhDCva,A0BqDX,EJLa,CtBhDT3jH,AsBgDR,ADZU,AKiBU,CLjBpB,GrBpCsBgkH,GAAAA,CAAI54I,IAAJ44I,CAAS1iG,KAAT0iG,EAAgBL,GAAAA,CAAI3jH,GAAJ2jH,CAAhBK,EAA0BhkH,GAA1BgkH,MAAmC,KAAKC,OAAO;AyBqDzE,AHJG,ADZA,AGgBH,AECYvzF,QAAAA,IAAI,EAAE,CADM;ADCxB,AHJC,AEID,AECY+3H,CJlHZ,OIkHYA,QAAQ,EAAE,CAFE;ADExB,AHlHA,ADkGE,AGgBF,AECYC,IJLRjJ,EDZE,EAAEthB,AKiBIuqB,QJLI,GAAG,EDZE,AKiBI,EAAE,CLjBH,AKcA,CLdC/9K,GCYG80K,GDZG,CAACrhB,KAAP,GCYN,CAAsBshB,ADZA,EAAjB,EAAqBrhB,OAAvC,CAAJ,ECYiB,ADZoC,ECYE;AtBvD9C,AyB4DX,AHJE,ADZExlJ,AGgBJ,AECY8vK,ILjBR9vK,CrB5CO,AqB4CN,GAAGklJ,AKiBI4qB,G1BrDD,I0BqDQ,EAAE,CAJG,KLbD,CAAC39K,MAApB;AIiBJ,AHJE,AEIF,AECY49K,MJLNjJ,EIKMiJ,CJLH,EtBhDE,CsBgDC7J,GtBhDK/+I,A0BqDE,EAAE,CALG,K1BhDA2jH,GsBgDE,CAAC,CtBhDE,IsBgDH,EAAQ,KAAKi8B,eAAL,IAAwB,KAAKA,eAAL,CAAqBxkI,YAArB,CAAkC,OAAlC,CAAxB,IAAsE,4BAA9E,CAAxB;AGKF,AHLE,ADXE,AGgBJ,AECYytI,MJLNhJ,EIKMgJ,GLjBDhwK,CrBpCCmrI,AqBoCA,GrBpCAA,AsBgDG,CtBhDC54I,EsBgDE,ADZA,CAAC2yJ,CrBpCP/Z,CAAS1iG,EsBgDEw+H,AIKI,EAAE,C1BrDjB97B,A0B+CY,E1B/CIL,GAAAA,CAAI3jH,CsB+C9B,CDXgC,CAACnnB,CrBpCP8qI,AqBoCM,CrBpCtBK,AqBoCO,CAAmBsa,CrBpCAt+H,IAA1BgkH,KqBoCO,CrBpC4B,AqBoCEr5I,KrBpCGs5I,CqBoCjC,CAAf,EAAsD,CAAE,ErBpCD;AyBqD3D,AHNE,AEMF,AECY6kC,MJLN/I,EIKM+I,QJLI,CIKK,EJLF,AIKI,CAPC,IJEAhyB,WAFtB;AGOF,AHPE,ADTEqH,AGgBJ,AECY4qB,ILjBR5qB,ECYE6hB,EIKM+I,IJLA,GAAG,AIKI,ELjBF,AKiBI,GJLDt7I,ADZAswH,CKSI,IJGT,CAAW1O,OAHxB,EDTiC,CAACx2I,CAAD,CAA/B;AIiBJ,AHRE,ADRC,AGgBH,AECY+pB,MJLNq9I,EIKMr9I,EJTV,EISc,EAAE,CATM;ADSxB,ADAA,AECYomJ,QAAAA,GAAG,EAAE,eAAY;A1BlHd,AyBkHf,AHJEhM,ADZAnkK,AGgBF,AECgBowK,EJLdjM,ADZAnkK,CrBlGa,AqBkGZ,GAAGqlJ,IKiBU+qB,GJLH,ADZA,CCYC9+B,ADZAn/I,CKiBO,CAAC,ILjBpB,CKiBmB,CAAL,GJLd,CAAwB20K,GAAxB;AGKF,AFzIA,ACyIA,AECa,S1BpDJ,SAAA,KAAA,CAASz7B,GAAT,EAAc;AyBoDvB,AHJEy7B,ADZA,AGgBF,AEZwB,EJQtBA,GAAG,CAACx1B,CIRE,ELJCtxI,CAAC,EAAR,EAAY,CrBnCCqrI,EsB+Cb,CAAgB,EtB/CE,EsB+ClB;AtBhHa,AyBqHf,AHJE,ADZEga,AE1HJ,AC0IA,AEEQ,G1BvHO,CqBqGXA,GCYGzwH,IDZI,AKkBEqnH,CJNX,ADZUj8I,CCYCg4I,ADZF,CAAP,AKkBI,GAAW,ELlBAqN,CCYjB,CIMqB6oB,EJNA,CIMG,CAAC90B,CLlBD,CAACp5I,CAAD,AKkBP,CLlBA,CCYjB,ADZ4BulJ,AKkBtB,KLlBW,KAAqBF,OAAO,CAACrlJ,CAAD,CAAP,CAAWulJ,KAAX,GAAmB,IAAIG,OAAJ,CAAYL,OAAO,CAACrlJ,CAAD,CAAnB,EAAwBslJ,aAAxB,CAAxC,CAAf,KAAmGD,OAAO,CAAC1lJ,MAAR,CAAeK,CAAf,EAAkB,CAAlB,CAAnG;AIiBJ,AJhBG,AGgBH,AEGQ,WAAKi8I,C1BpDD,E0BoDJ,CAASj3I,GAAT,CAAa,E1BpDT,G0BoDc26F,K1BpDd,CAAS1W,E0BoDb,E1BpDI,A0BoDwB,E1BpDTvC,I0BoDnB,EAAoC,CAApC,E1BpDI,A0BoDmC,E1BpDT4kD,C0BoD9B,EAA4C,IAA5C,Q1BpDI,EAA2C;AyBkDvD,AHJE,ACvIF,AC2IA,AEIQ,IH/IJyiC,EDuIElH,EtB7CEt7B,G0BqDK0Q,GAAL,C1BrDA1Q,AuB1FO,AG+IEvmI,G1BrDTumI,AuB1FU8Y,AG+IV,CAAa,CJRnB,EAAoB,CtB7Cd9Y,C0BqDkB5rC,QAAlB,CH/Ie0hE,CG+Ia,KAA5B,EAAmC1yJ,IAAnC,CAAwC,CH/I9B,CAAoB0+J,QG+I9B,YH/IU,KAAkChpB,cAApD;AE4IA,AHJI,ADZF,AE5HF,AC4IA,AEIK,IH/ID,IDuII,CDZCgB,ErBhCE,KqBgCT,OrBhCoB;AyBiDtB,AHJM+hB,ADZL,AE3HD4G,AC2IA,CHhIA,KC4HM5G,ItB5CMt8B,AsB4CF,GtB5CEA,AsB4CC,ECvIE,CvB2FG,EsB4CAu8B,ACvIA0G,ODuIL,EAAP,ECvIuB,CAACpL,IAAZ,CAAiB/J,KAFnC;AE8IA,AHJM,AD7HN,AGiIA,IHhBIjT,MrBhCQza,CsB4CDo8B,EDZE,CrBhCDp8B,EqBgCI,CrBhCGh5I,GsB4Cb,GAAiB,EDZEyzJ,GCYG0hB,MDZZ,CCYV,ADZ6Bv1K,CCU3B,CAE6B,IDZrB,EAA2B;AIiB3C,AJhBE,AGgBF,SHhBSA,MAAM,CAACyzJ,KAAP,IAAgBH,QAAQ,CAACv9I,AKmBhB,OLnBuB,CAAC/V,MAAD,CAAR,CAAR,CAA0B,CAA1B,EAA6ByzJ,KAApD;AIiBF,AHJM,ADZL,AGgBD,AEIQhoE,CLvIR,KKuIQA,KJRG8pF,CIQG,CAACpoK,E1BrDAusI,GsB6CT,GAAeo7B,ItB7CI,I0BqDjB,CAAwB,GJR1B,KIQE,EAAkC,KAAKkI,MAAL,CAAYnqF,IAAZ,CAAiB,IAAjB,CAAlC;ADHR,AHJK,ADhIL,AGoIA,AEIK,ILpBDihE,CCOA,CAKE,OAAO9/I,CAAP,EAAU,ADZA,CCYE,CtB7CA,CqBiCC,SAAS8/I,YAAT,CAAsB9zJ,MAAtB,EAA8Bk8C,QAA9B,EAAwC;AIiB3D,AHJG,ADZD,AGgBF,GFXE,GDLItU,GCYG,GtB7CG,CAAC4xG,AsB6CA,KAAKg8B,ADZA,GAAGx1K,MCYZ,ADZkB,CAACk8C,CCYC,CtB7CCi7C,IAAAA,CAAKlf,CqBiCR,CAAzB,GrBjC4Bkf,CAAW6hD,GAAX7hD,EAAgBiiD,IAAhBjiD;AyBkD9B,AHJIm+E,ADZF,AGgBF,IFJIA,IAAI,CDZCvkB,ECYE,KAAKykB,IDZI,CAAC5tI,ICYV,EAAP,MDZgB,CAAX,GAA4B5nC,MAAM,CAACk8C,QAAD,CAAN,EAA5B,GAAiD+0G,YAAY,CAACrpH,YAAD,CAAZ,IAA8B5nC,MAAM,CAACywC,YAAP,CAAoByL,QAApB,CAA9B,IAA+DtU,YAAvH;AIiBF,AHJG,ADZF,AGgBD,CHvIA,4BK0Ia;ADFb,AJxIA,AGwIA,AEIQ,ILpBJmsH,MrBjCQpa,C0BqDCmjC,KLpBG,CrBjCJnjC,EqBiCO,CrBjCGH,I0BqDd,CAAmB/tD,GLpBCsoE,GKoBK,CAACzN,G1BrDZ9M,IAAmB,CAACC,AqBiCvB,CAAsBua,CKoBd,GAAoB,CLpB5B,CKoBX,CLpBwC78D,CKoBG1L,GLpBhC,EAAmC,CKoBG,CAAC+6D,WAAP,GAAqB,EAAhE;ADHR,AHJE,ADZA,AGgBF,AEKQ,MJTF0uB,GDZG,CAAClhB,CKqBGl0G,IJTX,ADZa,ECYE,CDZCk0G,CrBhCCva,A0BqDX,CAAcx4H,GLrBC,CAACm+C,GKqBhB,CAAsB,CLrBZ,CAAY,GAAZ,AKqBiBzjD,CLrB1B,EAA2BglE,EKqB5B,EAAkC,GLrBjC,CAAmCwW,CKqBGv7E,GLrBtC,GKqBD,ELrB6Co4I,KAAnD;AIiBF,AHJI,ADZH,AGgBD,AEMQ,CLhJR,OCsIQohB,GIUKtuJ,K1BtDG+vF,C0BsDR,CJVJ,AIUgBj5D,EJVA,IIUZ,E1BtDQi5D,CAAW6iC,A0BsDE,KAAK/9H,E1BtDlBk7F,EAAoBjiB,C0BsDP,GAAa,K1BtD1BiiB,A0BsD+Bj7F,MAAvC;ADLR,AHJMs5J,ADvIN,AG2IA,AEOQ,ILvBJ,ECYEA,KIWOpuJ,IJXE,CAACsiI,CIWR,CAAYlrG,UJXd,CAAuB,IAAvB,EAA6Bk3H,KIW3B,KJXF;AGKN,AHJK,ADZLnhB,AGgBA,AEOK,KJbD,CDVE,GAAG,CrBhCCta,CsB4CC,ODZOsa,CrBhCC,KqBgCV,CAAgB90J,KAAhB,EAAuB;AIiBhC,AHJM+1K,ADZJ,AGgBF,MFJMA,GDZGl2K,IrBhCIi5E,AqBgCA,CAAC3jE,CCYC,CAACkrI,GtB5CGxG,AqBgCV,CAAW75I,IrBhCIi6I,CqBgCC,ECYnB,CAAsB,ADZA,ICYtB,EDZG,IAA6B,MAA7B,IAAuC,CAA9C;AIiBF,AHJK,ADZJ,AGgBD,CH9IA;ArB+EI,AyBgEJ,AHJG,AD3IH,AG+IA,IHhBI8a,iBAAiB,GAAG,SAASA,EKsBd,eLtBK,CAA2BC,QAA3B,EAAqCC,MAArC,EAA6C;ArBxHtD,AyByIf,AJhBE,AGgBF,AEOQ,G1BhJO,Q0BgJFmqB,KAAL,GAAa,IAAIjC,MAAM,CAACkC,KAAX,EAAb;ADNR,AHJEnM,ADZA,AGgBF,AEQQ,EJZNA,IDZIlkK,CAAC,GAAGimJ,CrB/BC,A0BuDEmqB,EJZA,CAAC9zB,EDZE,AKwBR,CLxBSpqJ,AKwBEo+K,G1BvDR,GqB+BT,CKwBM,CJZN,AIYyBxsK,CJZD+iK,CtB3Cf,CAASh8B,A0BuDZ,CJZN,AIY6B,CAAvB,C1BvDG,C0BuDuB,C1BvDT,A0BuDjB,EAA6B,CAAC,CAA9B;ADPR,AJjBE,AGiBF,AESQ,MLzBF9qI,CAAC,CrB/BC8qI,EqB+BE,CrB/BFA,AqB8BN,AK0BWulC,C1BxDDxoK,I0BwDJ,CAAW2oK,I1BxDE,M0BwDb,C1BxDoB1lC,E0BwDI,C1BxDJA,CAAIjjI,E0BwDIumK,K1BxDRtjC,C0BwDc,C1BxDrB,A0BwDsB2lC,eAAX,EAAxB;ADRR,AHJE,AEIF,AEUQ,OJdD77I,GIcOza,C1BzDHwwH,CsB2CT,CAAW6L,GIcO,GAAG,C1BzDZ7L,AsB2CT,AIcM,C1BzDap4I,EsB2CE40K,EtB3CZx8B,CAAeG,GAAfH,AsB2CT;AtBxIa,AyB6If,AHJE,ADZA,AGgBF,AEWQ,G1BxJO,MsByINy8B,ADZAnhB,EK2BIyqB,EJfX,IDZe,CAACpxK,GK2BV,GAAkB,CL3BjB,CAAiB4mJ,EK2BIkoB,IL3BE,CAACpuK,CAAD,AK2BI,CL3B3B,AK2B4B2wK,IL3BE,AK2Bb,CL3BjB,AK2BiC,IL3BE,EAAE3wK,CAAF,GAAMC,CAAhD,GAAoD,CAAE;AIiBxD,AHJC,AEID,AEWY2wK,CJjKZ,OIiKYA,IAAI,EAAE,C1BzDH,A0BwD2B,S1BxD3B,WAAA,CAAS9lC,GAAT,EAAc;AyB+C7B,AHvJA,ADuIE,AGgBF,AEWYrsH,IJfR8oJ,IIeQ9oJ,CL3BHze,CAAC,CrB9BC8qI,EqB8BE7qI,CrB9BF6qI,AqB8BT,EK2BkB,EAAE,C1BzDHj6I,G0ByDOu9K,IJfA,EIeM,CJfH,AIeIyC,IAAX,CAAgB,CAAhB,EAAmB,CJfHtJ,AIehB,EAAsB,EAAtB,CAFoB,iBJbb,CAAgCz1K,MAAhC,EAAwC01K,eAAxC,EAAyD;AtB3IvE,AyBgJf,AHJE,ADZD,AGgBD,AEWY3gJ,CLlKZ,ErBOe,GsB4IT7mB,CAAC,CIeK6mB,EJfF2gJ,GIeO,EAAE,IAAI4G,MJfE,AIeI,CJfHj8K,AIeIm6B,MJf5B,AIeiB,CAAkBnS,MAAlB;ADVnB,AJxJA,AGwJA,AEO0C,ILvBtCgsI,GKuBsB,CAAlB,E1BpDE,IqB6BI,GAAG,ErB7BP,MAAA,CAASrb,AqB6BOqb,GrB7BhB,EAAc,KqB6BP,CAAoBx/D,MAApB,EAA4BznF,IAA5B,EAAkC+iB,MAAlC,EAA0C;AIiB3D,AHJE,ADZA,AGgBF,AEYQ,SJhBCjiB,CAAC,CtBzCC8qI,A0ByDEulC,CJhBX,EtBzCSvlC,AsByCG,EIgBN,CAAWgmC,E1BzDA,K0ByDX,CAAmB,KAAKJ,UAAxB;A1B9JO,AyBmJf,AHJI,ADZF,AGgBF,AEaQ,G1BhKO,GqBmITtqB,ECYEt0J,GIiBKi/K,GJjBC,ADZA,CCYCtJ,EDZE3kB,IK6BT,GAAkB,EL7BA,CCYlB,ADZmBn8D,CCYC6gF,AIiBE4G,KL7BG,CAAC,AK6BE,CL7BH,AK6BIuC,CL7BX,CAAxB,EK6BwB,CAAgB,GJjBC,CAAC3wK,CAAD,CAAnC,CAAJ,EAA6C;AGKjD,AHJM,ADbJ,AGiBF,AEaY4wK,ML7BNvqB,EK6BMuqB,IAAI,CJjBH9+K,CIiBK,CL7BH,GAAG,CCYC,ADZAs0J,CCYC7jH,ODZO,GAAG,CAAH,CCYd,CAAoBilI,CDZC,CAAhB,KAAsBtoK,IAAI,GAAG,CCYC,ADZR,CCYSc,CAAD,CAAnC,ADZsC,CCY7C,ADZkC,GAAe,CAArC,CADhB;AIkBF,AHJK,ADdH,AGkBF,AEW0C,ML3BpCsmJ,CK2BoB,CAAlB,EL3BE,GAAG3/D,MAAM,CAAC0/D,SAAD,CAFjB;AImBF,AHJG,ADfD,AGmBF,AEcQ,ML9BFE,KK8BOyqB,CLjCX,UKiCM,GAAmB,IAAI5C,MAAM,CAACj+I,KAAX,EAAnB;ADbR,AHJC,AEID,AEeQ,CJ9KR,UI8Ka4gJ,UAAL,CAAgBt+E,QAAhB,CAAyB,KAAKu+E,WAA9B;ADdR,AHhKA,ADgJE,AGgBF,AEgBQ,IJpBJtJ,EDZEthB,KKgCOiqB,CJpBD,EDZV,CCYa,CDZC,AKgCR,CAAWS,OJpBKpJ,AIoBhB,CAAmB,KAAKqJ,EJpBjB,CAAkBj/K,MAAlB,CIoBP,CJpBiC;AGKzC,AHJE,ADZEw0J,AGgBJ,AEgBK,ILhCDA,ECYEqhB,EDZE,CAACvjE,GCYP,KDZE,GAAgBzd,MAAM,CAAC,CAAD,CAAtB;AIiBJ,AJhBG,AGgBH;ACCA,AHJE,AEIF,MFJM;AGKN,AHJIghF,ADZFrhB,AGgBF,EHhBEA,ECYEqhB,EDZE,CAAC1lJ,GCYG,GAAGnwB,ADZX,GAAcmwB,GCYG,CAAColJ,EDZlB,KCYW,EAAT,CADE,CACyB,EImBd;ADdjB,AHJG,AEIH,AEgBQ,GJtBN,CAEE,MIoBQsI,CJpBDtnK,GIoBK,EJpBZ,CIoBe,CJpBD,GIoBV;ADfR,AHJIs/J,ADZF,AGgBF,AEiBQ,I1BvEC,AsBkDLA,EDZEzoK,ICYI,ADZR,AKiCYynB,ELjCF,CCYCigJ,CtBlDK97B,GAAT,C0BuEa,C1BvEC,E0BuEE,IJrBA,AIqBImjC,CJrBH17K,IAAb,AIqBqB,CJrBHT,AIqBI4mG,MJrBtB,EAA0B,IAA1B,CAAT,CIqBqB,CAAyB,CAAzB,EAA4B,EAA5B,EAAgC,EAAhC,CAAjB;ADhBR,AHJG,ADZC6tD,AGgBJ,AEkBQ,ILlCJA,MAAM,AKkCIz/H,C1BxEH8c,EqBsCE0iH,GrBtCF1iH,CAAMknG,AqBsCb,CKkCkB,E1BxEXlnG,C0BwEc,IAAIqqI,KAAK,CAACrxI,iBAAV,CAA4B;A1BzEnD,AyBwDF,ADAA,AEiBuD3H,I1BjLxC,I0BiLwCA,KAAK,EAAE;ADhB9D,AHJE0yI,ADZE,AGgBJ,AEgBqD,EJpBnDA,KIoBuB,CJpBjB,AIoBA,G1BrEGv3J,AqBqCA6R,ECYE0lJ,GtBjDFv3J,CAAMC,AqBqCA,ECYE,CAAC5C,CDZC,EAAE,CrBrCZ2C,CsBiDE,GtBjDe,CsBiDCu3J,MAAM,CAACj6J,EtBjDCo9H,GAAT,CsBiDpB,CtBjDkC,AsBiDxC,CDZ0Cyb,GCYGz0J,GDZ1B,CAAjB,ECYiD,ADZA,CCYCu1K,OAAP,KAAmBT,YAAhE,KAAiFe,MAAM,GAAGf,YAAY,CAACr0K,IAAb,CAAkBT,MAAlB,EAA0B,IAA1B,CAA1F,EATuC,CASqF;AGK9H,AJhBM,AGgBN,AEiBQ,W1BtEGg5I,A0BsEEvgG,G1BtEFugG,CAAIjmI,A0BsEP,GAAY,IAAIopK,I1BtEbnjC,C0BsEkB,CAACnkG,G1BtECv2B,C0BsEX,CAAeuW,QAAf,EAAyBG,QAAzB,CAAZ;A1BnLO,AyBmKf,AHJE,ADZIy/H,AGgBN,AEkBQ,G1BrLO,GqBmJTA,GCYGohB,EIsBI91H,CLlCD,GCYG,ADZA5vB,CKkCP,CAAWjd,EJtBA,CAAC2iK,AIsBZ,CLlCa,AKkCE,CLlCDrhB,ICYI,ADZX,AKkCa/7G,CJtBD98B,ADZAqiI,GKkCnB,EJtBC,GDZM,CCYqB,CAAC63B,EDZE,EAAjC,ECYqC,CAACt2K,CAAnC,IAAwC,CAACs2K,MAAM,CAAChmK,CAAhD,GAAoD;AGK7D,AHJItQ,ADZE4wB,AGgBN,AEkBK,IJtBD5wB,CAAC,CDZC4wB,CCYC,CAACslJ,ItBhDI,AqBoCA,GAAGtkB,MrBpCH,KqBoCc,CAAChhI,ErBpCf,CAAS6oH,AsBgDS,CAACh5I,EtBhDnB,AqBoCqB,CAACw0J,CrBpCR,EsBgDI,CDZH,CCYY,ADZAE,CCYC,GAAD,EAAM,CDZnB,CAAX,ECYwB,EAAY,ADZAvkI,ICYZ,CAAT,CAAvB,ADZkD,CAACA,GCYG,CADA,EDXvD;AIiBN,AHJItgB,ADZC,AGgBL,IFJIA,CAAC,EAAE,CAAC4lK,GtBhDGz8B,GAAAA,KAAQt5I,MAAAA,CAAOs5I,GAAPt5I,CsBgDW,CAACM,MAAD,EAAS,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,CAAT,CAAvB,IAAsD,CAFA;AtB/J9C,AyBsKf,AHJI2b,AEIJ,GxBtKe,CsBkKXA,KAAK,EAAE,CAHkD;AGQ7D,AHJIC,ADZA44I,AGgBJ,IFJI54I,ADZA44I,IAAI,CAACG,CCYC,EtB/CE,AsB+CA,StB/CA,GqBmCR,GAAuBxD,AKiChB,E1BpEC,CAASnY,GAAT,EAAc,GqBmCY,CAACyb,MAAM,CAACE,eAAR,CAAlC;AIiBJ,AHT6D,AES7D,AEkBQ,GJ3BC,GAKHkhB,KtB/CK78B,A0BqEEpc,CJ3BX,EtB1CSoc,G0BqEH,E1BrEWA,C0BqEG,E1BrEHA,E0BqEX,C1BrEiB;AArHV,AyByKf,AHJC,ADZG,AGgBJ,AEkBK,CJnML,EtBQe,KqByJP5rI,IAAI,GAAG,CAAX,EAAc;AIiBlB,AHlLA,ADkKMonJ,AGgBN,IFJIshB,EDZEthB,ICYI,ADZA,CAACI,CrBlCC,CsB8CC,QtB9CD,CsB8CUkhB,CDZhB,GAAoB,CAApB,CCYO,CtB9CD,AsB8CiB9hK,CtB9CRglI,AsB8CR,EAAmB,CtB9CpB,EAAc;AyBmD1B,AHJE,ADZG,AGgBL,KHlBI,ICcK,CAAC,CtB9CCA,AqBkCA,CCYChlI,CAAC,CtB9CFglI,AsB8CG+8B,KtB9CK/8B,CsB8CP,EtB9COA,GAAM,AsB8CA,CAAChlI,CAAC,CAACmhK,UAAH,IAAiBnhK,CAAC,CAACihK,eAAhC,KAAoDW,QAAQ,CAAC5hK,CAAD,CAA9D,CAAR;AtBvKa,AyB4Kf,AHJC,ADZKwgJ,AGgBN,CFpLA,EtBQe,GqB4JTA,IAAI,CAACj3B,OAAL,GAAe1oC,MAAM,AKiChB,CLjCiB0/D,SAAS,GAAG,CAAb,CAArB,CADK,CACiC;AIiB5C,AHrLA,ADqKK,AGgBL,AEkBQ,IJtBJ,OIsBS33B,E1BnEA,I0BmEL,GAAc,E1BnET,G0BmEL,M1BnEK,CAASoc,GAAT,EAAc;AyBkD3B,AHJAg9B,ADZG,AGgBH,AEkBQ,W1BnEGh9B,A0BmEE74F,G1BnEF64F,CsB6CI,EIsBP,CJtBU,CtB7CC,KAARA,GsB6CgBg9B,CtB7CCh9B,GAAAA,KAAQ,MsB6ClB,CAAyBh5I,MAAzB,EAAiCk8C,QAAjC,EAA2C;AtB1K9C,AyB+Kf,AHJE,AEIF,AEkBK,G1BjMU,GsB2KTA,QAAJ,EAAc;AGKhB,AHJI,ADZF,AGgBF,QFJQpZ,CDZC0xH,ICYI,ADZX,CrBhCY,EsB4CEx0J,MAAM,CtB5CR,AsB4CS8iC,KAAnB,KtB5CU,CAASk2G,GAAT,EAAc;AyBiD5B,AJhBC,AGgBD,CHxLA,UrBwIWt5I,MAAAA,CAAOD,SAAPC,CAAiBG,QAAjBH,CAA0Be,IAA1Bf,CAA+Bs5I,GAA/Bt5I,MAAwC;AyBiDnD,AHJI,ADrLJ,AGyLA,IHhBIm1J,ICYI34G,ODZO,CCYC,EDZE,ECYEw2H,ODZO7d,EKiCd,MJrBT,EAAiC,CDZnB,GAAuB;ArBlK1B,AyBmLf,AHJM34G,ADZJ,AGgBF,AEkBQ,C1BrMR,KsB+KMA,ADZA/tC,CAAC,GAAG2kJ,AKkCE,IJtBE,CIsBGl2B,EJtBAq3C,IDZI,AKkCb,CLlCc5zK,CKkCG,KLlCvB,GCYI;ArBrLN,AwB0LA,AHJK,ADbH,AGiBF,AEmBY,IzB7MNu5I,EoB0KAzoI,CAAC,GAAG2hJ,SpB1KJlZ,EoB0Ke,CpB1KG,AoB0KF3rI,CpBxKpB,IoBwKQ,CAAkB,CAAlB,CADR;AIkBF,AJlBE,AGkBF,AEmBS,MLnCHC,CAFJ,GpBtKUy0C,MAAAA,CAAOk3F,QADjB;AwB0LF,AHJI,ADfF,AGmBF,MHhBMib,ECYEhyH,GDfN,ECeW,CAACmzI,CrBpLG,aqBoLb,EAA0B;AGK9B,AHJM,AEIN,AEmBQ,UJvBE/5H,CIuBG6J,IAAL,GJvBU,CAACqzD,AIuBE,CzB3MC,GyB2Md,EJvBE,CAAgB,CAAhB,EAAmB,CAAnB,MAA0B,IAA1B,IAAkCl9D,QAAQ,CAACk9D,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,MAA0B,QAAhE,EAA0E;AGKhF,AHJQ,ADZN25C,AGgBF,EHhBEA,UpBxKY,CoBwKD,GAAG,EAAd,GpBxKY,IAAA,CAASjZ,QAAT,EAAmB;AwByLjC,AHJQ59F,ADZN42G,AGgBF,AEmBQ,ELnCNA,MCYM52G,EIuBI,EzB3MI/sB,CoBwKH,CAAC9uB,CKmCGg9K,CzB3MDluJ,AqBoLA,GrBpLO2qH,AqBoLJ,CDZjB,GAAqB,AKmCX,CLnCV,CCYuB59F,ErBpLF49F,CAASh6I,AyB2MFf,KzB3MP+6I,AqBoLf,CrBpL8B,GyB2M9B,EAAiC,+BzB3MlBA;AwByLvB,AHJO,AEIP,AEoBY,aAAKykC,KAAL,CAAWh6J,IAAX,CAAgB,KAAK+4J,aAArB;ADnBZ,AJhBE,AGgBF,AEoBS,OLpCFpvK,CAAC,GAAG,CpBzKGihB,AoByKZ,EAAYjhB,CAAC,CpBzKDihB,EoByKIhhB,CAAhB,EpBzKqB,AoByKFD,CAAC,EAApB,EAAwB,CpBzKG;AwB0L7B,AHJM40B,ADZFgyH,AGgBJ,IHhBIA,ECYEhyH,GDZG,ECYE,CAACmzI,ADZA9kK,CAAC,CAACjD,CAAD,CAAT,CpBzKe,SqBqLb,CAAqBguC,QAAQ,CAACklB,OAAT,CAAiB0xG,QAAjB,EAA2B,KAA3B,EAAkCrgE,WAAlC,EAArB;AGKN,AHJK,AEIL,AEoBQ,KJ/BJ,MAOO,AIwBE4qE,QAAL,GAAgB,KAAKt3H,IAArB;ADnBR,AHJM,ADZF,AGgBJ,AEqBQ,QLrCA+uG,GKqCKr8G,ELrCA,EKqCL,CAAU9rB,CLrCDmoI,KAAK,CAACC,CKqCf,CAAmB/hJ,GLrCvB,CKqCI,CLrCsB,AKqCE,KAAK4rK,UAAL,CAAgBjyJ,QAAxC;ADpBR,AHJMmW,ADZAgyH,AGgBN,AEsBQ7uG,MJ1BFnjB,ADZAgyH,AKsCE7uG,KJ1BG,ADZA,CCYCivF,ADZA/0F,GpBzKK,GoByKX,CAAa20G,KAAK,CAACC,ECYnB,AI0BuB,CJ1BD74G,AI0BE,ELtCX,CAAY,CAAZ,CAAb,AKsC6BiE,ELtCA20G,CCY7B,GI0BwB,CLtCU,AKsCEjiE,CLtCDkiE,GKsCX,CAAiB,CLtCZ,CAAY,CAAZ,CAA7B,AKsCwB,CAAD,CLtCsB,AKsC3C,ILtCF,EAAmDA,KAAnD,GAA2D,CAA3D;AIiBN,AHJK,ADZA,AGgBL,AEuBQ,WAAKj1G,MzBhNM,EyBgNX,CAAcK,EzBjNL,IyBiNT,CAAqB,KAAKJ,KAA1B,EAAiC,KAAKj5B,MAAtC;ADtBR,AHJG,ADZA,AGgBH,AEuBK,ezBhNYuc,QAAAA,CACH,OACAlU,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EADA,GACqBA,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EADrB,GAEAA,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EAFA,GAEqBA,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EAFrB,GAGAA,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EAHA,GAGqBA,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EAJlBkU,EAIsC,CAJtCA;AAFA,AwB4LjB,AHJC,ADZA,AGgBD,CF1MA,ADCA;ApBMsB,AwBoMtB,AH3MA,ADCA,AG0MA,IFJI6yI,ADZAlhB,GpBpLkB,YoBoLH,ECYE,CDZC,ECYE,ODZOA,ECYEkhB,aDZX,CAAyBr1F,GCYvB,CAA2BmrF,KDZ7B,CCYE,CDZkCjmH,CCYC/lD,GDZrC,EAA0Ci1J,CCYxC,EAA2C/4G,QAA3C,EAAqDi6H,CDZvD,EAA0DviJ,KAA1D,CCYE,CDZ+D,CCYCwL,GAAhE,EAAqEg3I,YAArE,EAAmF;AGK3G,AHJE,ADZA,AGgBF,MFJM9zE,ADZAwwD,ECYE,GAAG,ErBhLIjzJ,EqBgLAggK,EDZE,CAACx/J,MAAhB,EAAwB,QCYf,CAAc2rK,MAAM,CAACrT,GAArB,EAA0B34J,MAA1B,EAAkCk8C,QAAlC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkDk6H,YAAY,GAAG5C,gCAAH,GAAsCD,uBAApG,CAAT;ArBjMoB,AwBsMtB,AHJEvH,ADZEnX,AGgBJ,EFJEmX,EDZEnX,CpBvLa,GqBmMT,CAAC8D,GAAP,GAAar2D,ADZA,ECYb;AGKF,AHJEA,ADZC,AGgBH,EFJEA,EAAE,CAAClxF,CAAH,GAAO+kK,SrB/KW,AqB+KlB;AGKF,AHJE7zE,AEIF,EFJEA,EAAE,AIwBE68E,CJxBDnrK,CAAH,GAAOorB,GrB/KK,AqB+KZ,SrB/KY,IAAA,CAAS06G,QAAT,EAAmB;AwBoLjC,AJhBEj5D,AGgBF,EHhBEA,SAAS,CpBnKK1xD,AoBmKJgxB,IpBnKIhxB,EoBmKd,CpBnKqB2qH,AoBmKJ/zF,IAAjB,EAAuBkvG,EpBnKFnb,CAASh6I,KAATg6I,CAAe,KoBmKpC,EAAuClmH,KAAvC,OpBnKqBkmH;AwBoLvB,AHJEkyB,AEIF,EFJEA,MAAM,CAAChN,MAAP,CAAcvxJ,IAAd,CAAmByuC,QAAnB;AGKF,AJhBE,AGgBF,MHhBM42G,MpBpKQ3jI,IAAAA,CoBoKG,CAAC9uB,GpBpKK,GoBoKrB,EAAwB,CpBpKG;AwBqL7B,AHJE,ADZE,AGgBJ,SFJSiiG,EAAP,MrBhLiB;AwBqLnB,AHJC,ADZGuyD,AGgBJ,CFpNA,GDoMIA,WAAW;AIiBf,AHrNA,ADqMG,AGgBH,IFJIwhB,oBAAoB,GAAG;AGK3B,AHJEC,ADZD,AGgBD,CHrNA,CCiNEA,GAAG,EAAE,CADoB,OrB/KV;AwBqLjB,AHJEC,ADlNF,AGsNA,EFJEA,EDZErhB,CCYC,EAAE,CAFoB,SrB9KR,KADF,AoBqKK,GAAG,SAASA,kBAAT,CAA4B/1J,KAA5B,EAAmC;AIiB5D,AHJEq3K,ADZA,AGgBF,EFJEA,IAAI,ADZAnnK,CAAC,CCYC,EDZE4zB,KpBpKOI,KoBoKG,CAAClkC,EpBpKJkkC,CAAS,EoBoKN,CAAlB,IpBpK+BlU,IAAAA,CAAK,CAALA,CAAAA,CAAQtvB,QAARsvB,EAAhBkU,EAAoC,CAApCA;AAFA,AwBuLjB,AHR2B,ADRzB,AGgBF,CFzNA,QDyMS,CAACh0B,CAAC,IAAIA,CAAC,KAAK,CAAZ,KAAkB,CAAClQ,KAAK,GAAG,EAAT,EAAaW,KAAb,CAAmB+xJ,kBAAnB,EAAuCxxJ,MAAvC,GAAgD,CAAlE,GAAsEgP,CAAtE,GAA0ElQ,KAAjF;ApB9KkB,AwB+LpB,AH1NA,AD0MC,AGgBD,CHzNA,GCqNI,GrB3LgB;AwBgMpB,AHJAs3K,ADtNA,AG0NA,IHhBIthB,SpBnKWt1J,CqB+KD,EDZE,CCYC,EDZE,OCYO42K,EDZEthB,YCYX,ADZE,CCYsBn1J,ADZA0kB,CAAtB,EAAyB,GCY3B,EAAgCw3B,QAAhC,EAA0C/8C,KAA1C,EAAiD87D,IAAjD,EAAuD;ArB5LpD,AwBiMpB,AHJE,ADZA,AGgBF,KvBtNiB,CqBkNXy7G,GDZGhyJ,CAAP,ICYY,GAAGue,UAAU,CAAC9jC,KAAD,CAAV,CIaE,GJbmB,CAApC;AGKF,AHLE,ADXD,AGgBD,AEUQ,CLtOR,KCwNMw3K,KIcO4H,EzB5LE,AqB8KF,GAAG,AIcR,CJdSp/K,EIcI,GJdC,CIcGm9K,EJdA,EAAT,EAAa58G,AIcE,CAAC8+G,GJdhB,EIcK,CJdeplE,CIc5B,KJdQ,CAA2B,CAACs9D,QAAQ,GAAG,EAAZ,EAAgBr2K,MAA3C,KAAsD,IADpE;AGMF,AHNE,ADvNF,AG6NA,AEWQ,IL3BJ+0J,ECYE,KIeOmpB,CzB7LC,IoBkKE,AK2BR,CAAWE,EL3BA,EpBlKL,GyB6LN,CzB7LM,AyB6LaxsK,CzB7LJ6nI,EoBkKKsb,AK2BpB,CAAuB,CAAvB,EAA0B,CAA1B,CzB7LM,CyB6LuB,CzB7LJ,AyB6LK,CAA9B,GL3BW,CAAsBpc,GAAtB,EAA2BgF,QAA3B,EAAqC;AIiBxD,AHJEl7G,ADZA,AGgBF,AEYQ,EJhBNA,KAAK,ADZA,GCYGyvI,CDZC7tJ,AK4BE65J,CzB9LGpvJ,AoBkKd,IpBlKcA,AoBkKA6uH,AK4BR,CAAW0gC,CJhBD,CrB9KK5kC,AqB8KJh3G,KAHjB,ADTA,EAAwB,CpBlKHg3G,AyB8Lf,CzB9LwBh6I,EyB8LA,GzB9LTg6I,CAAe,AyB8LFwiC,MAAM,CAACqC,eAAX,EAAxB,kBzB9Le7kC;AwBmLvB,AHRE,ADRE,AGgBJ,AEaQ,MJjBFoD,EDZE,EAAEx4H,CAAC,AK6BEk6J,IL7BE5lC,CCYC,EDZR,CCYW+5B,ADZf,EAAiB,AK6Bb,GAAkB,IAAIuJ,KJjBG,CAACntJ,AIiBE,CAAC0vJ,GJjBlB,CAAoB3iI,AIiBb,CAAgB,OJjBvB,CAJjB;AGSF,AHTE,ADPI88F,AGgBN,AEaY8lC,MJjBNlI,ADZA59B,EK6BM8lC,CL7BH,CAACp6J,CAAD,CpBnKKyK,AoBmKR,AK6BU,EAAE,CJjBH,ADZA6uH,AK4B2B,CzB/L5B7uH,EqB+KInvB,GrB/KK,EoBmKA,CCYC,ADZA0kB,CCYCmyJ,ADZF,CAAjB,CpBnKuB,KqB+KX,CAAepkE,WAAf,OAAiC,KALjD;AGUF,AHVE,ADNG,AGgBL,AEaY9lF,MJjBNmqJ,EIiBMnqJ,QAAQ,CzBhMD,CyBgMG,GJjBD,CIiBK2vJ,EJjBF,CAAC1F,GIiBO,CAACmI,IAAX,CJjBY,AIiBI,CAAhB,EJjBe,AIiBI,CAAnB,EAAsB,EAAtB,CAFoB,EJfR,GAAc,QAAxB,KAAqC7hC,UAAU,GAAG,OAAH,GAAa,QAA5D,CANtB;AGWF,AHXE,ADLC,AGgBH,AEaYnoH,MJjBNysE,EIiBMzsE,IJjBA,CIiBK,EJjBF,AIiBI,GJxBjB,CIwBqBunJ,MAAM,CAAC8C,GAAX,CAAe,IAAI9C,MAAM,CAACyC,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAf;ADZnB,AHZE,AEYF,AES0C,MJbpChI,CIaoB,CAAlB,MJbM,GAAG97G,IAAI,KAAK,IARxB;AGaF,AHbE,ADHA,AGgBF,AEcQ,MJlBF+7G,GDZGh+B,EK8BIulC,CL9BX,GpBnKe,AqB+KF,CIkBP,CAAWS,CJlBD/jH,IAAI,EIkBd,CAAmB,EJlBA,GATzB,AI2B8B2jH,UAAxB;ADbR,AHdE,ADFD,AGgBD,AEeQ,CLpPR,KCiOMx/E,EAVJ,GI6BW6/E,MzBlMM,IyBkMX,CzBnMS,EyBmMS,IAAI3C,MAAM,CAACuC,IAAX,CAAgB;ADd1C,AHfE,ADvNF,AGsOA,AEeYC,IL/BRzpB,ECYEllI,EImBM2uJ,IJ9BV,AI8Bc,CzBlMD77I,CyBkMG,SzBlMHA,CAAW9T,AoBmKF,GAAG,CpBnKDA,CAAK,CAALA,CAAX8T,CAFE,IoBqKmBoyH,oBAAT,CAA8Brc,GAA9B,EAAmCgF,QAAnC,EAA6C;AIiBxE,AHhBE,ADAA,AGgBF,AEa0C,MJjBpC7oH,CDZC,AK6BmB,CAAlB,GJ7BN,ADASzQ,CAAT,CpBnKaue,GoBmKC+6G,OpBnKD/6G,CAAW9T,AoBmKxB,EAAwB,EpBnKAA,CAAK,CAALA,CAAX8T,CAHE;AwBuLjB,AHjBE,ADCE,AGgBJ,AEgBQ,MJpBFg0I,EDZE,EAAEvyJ,CCDR,ADCS,AKgCEw6J,EzBnMEj8I,EoBmKA+1G,GAAP,IKgCA,CzBnMO/1G,AoBmKQve,CpBnKGyK,AoBmKF,CKgCG,GzBnMDA,CAAK,AoBmKF,AKgCEmtJ,CzBnMLntJ,CAAX8T,IyBmMsB,CAAC5E,GLhC9B,EKgCmB,ELhCgB3Z,AKgCnC,CLhCoC,KAAK,MAA7C,EAAqD;ApBvKxC,AwBwLjB,AJhBMs0H,AGgBN,AEiBQ,MLjCFA,GAAG,CAACt0H,CAAD,AKiCIu6J,CLjCP,GAASjhC,MKiCP,CAAgBr9C,CLjCD,CAACj8E,CAAD,CAAjB,IKiCE,CAAyB,KAAKw6J,WAA9B;AzBhNO,AwBgMf,AHJE,ADZG,AGgBL,AEkBQ,MJtBFjkH,CrB5LS,GqB4LL,CIsBGsjH,IJtBE5H,CIsBP,CAAWqI,KJtBb,EIsBE,CAAmB,CJtBD,CAACtI,GIsBKuI,KJtB1B,IAAiC5I,CIsB/B,mBJtBmD,CAACp7G,IAAD,CAArD,IAA+Do7G,oBAAoB,CAACM,OAAD,CAAvF,EAAkG;AGKpG,AHJI,ADZD,AGgBH,AEkBK,WJtBMD,ErB9KI72K,MqB8KX;ArB7LW,AwBkMf,AHJG,ADZF,AGgBD,CH5OA,IpBKiB;AwBwOjB,AJ7OA,AG6OA,IHhBIyyJ,MAAM,GAAG,CpBjKG,QoBiKMA,MAAT,CAAgBpqD,IAAhB,EAAsBotD,OAAtB,EAA+B;AIiB5C,AHJEqhB,ADZA,AGgBF,EFJEA,KDZK,ECYE,EDZEjyJ,CpBjKG,AoBiKZ,ECYY,EDZE4wI,ECYd,GrB7KY,CqB6KQ,CAACyhB,ADZrB,EpBjKY,AoBiKW,CpBjKFj9B,KqB6KrB,EIqBe,CzBlMH,EAAmB,AqB6KG48B,QAAQ,GAAGD,cAAc,CAACz2K,MAAD,EAASk8C,QAAT,EAAmB/8C,KAAnB,EAA0B,IAA1B,CAA3D;AGKF,AHJE83K,ADZE/uE,AGgBJ,AEkBQ,EJtBN+uE,EDZE/uE,GCYG,CDZC,CAACxjF,CCYC1kB,ADZF,AKkCI69K,CLlCR,CpBjKY1uJ,EoBiKFmmI,AKkCE,EzBnMAnmI,AqB6KA,CAAC4mJ,AIsBE,EzBnMIj8B,EoBiKF,AKkCb,CLlCcp1H,CCYZ,ADZW,CAAjB,GpBjKmBo1H,AqB6KIg8B,CrB7KKh2K,KAATg6I,AqB6KU,CrB7KK,AqB6KJ95I,MAAD,CAA/B,+CrB7KqB85I;AwBkLvB,AJhBG,AGgBH,AEmBQ,UAAMjlH,QAAQ,GAAG,IAAIsnJ,KAAK,CAACxhI,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAAjB;ADlBR,AHJE,AEIF,A5BhQA,A8BoRQ,MJxBFq8H,IIwBQhiJ,EzBtMA7F,GqB8KC,CrB9KDA,EyBsMQ,EJxBFujJ,CrB9KG,AyBsME,IAAIyJ,EzBtMA,GyBsMK,CAACrxI,IJxBA,CAACoR,QAAD,CAAf,GIwBK,CJxBwB,AIwBI,CJxBHA,QAAQ,CAAC1uC,OAAT,CAAiB,OAAjB,CAAnC,CAAb,EAA4E;AGK9E,AHJI,ADZF,AGgBF,A5B/PA,A8BkRuD21B,I9BlRlDtkC,I8BkRkDskC,CLnC9C+kE,CzB/OE,CAACppG,EyB+OV,AKmC0D,EAAE,EzBrM3C,CL7Ed,KAAmBC,SAAxB,EAAoC;A6BgQpC,AHJI,ADZH,AGgBD,A5B9PCF,A8BgRoD,CLrQrD,CzBXCA,K8BgRwB,C9BhRlB,A8BgRC,C9BhRAC,E0B0PG,K1B1PV,GAAiBE,IAAI,CAACC,GAAL,CAAU,CAAV,EAAa,CAAE,C0B0Pfy3K,C1B1PA,CAAjB,M0B0PyB,IAAIO,KAAK,GAAGj3K,MAAM,CAACu1K,OAAP,GAAiBr4B,UAAU,GAAG,OAAH,GAAa,QAAxC,CAAH,GAAuDl9I,MAAM,CAAC82K,eAAD,CAAtE,CAAR,GAAmGt1E,MAA1G,CAAP;AGKJ,AHJG,ADhPH,AGoPA,A5B7PC,A8BgRO,ILnCJ+zD,OKmCS98G,GLnCC,CKmCN,ELnCS,CKmCG,IAAI0jI,ILnCE5mB,CKmCG,CAAC1gH,IAAV,CAAehgB,GLnClB,CAAoBqzE,IAApB,AKmCG,ELnCuBotD,AKmCEtgI,OLnC5B,CKmCG,CLnCgC,AKmC5C;ADlBR,AJhBE,AGgBF,AEoBQ,OLpCD,IAAItQ,AKoCEq7B,CLpCX,GpBlKe,CoBkKDu1G,AKoCR,CAAWpiJ,GAAX,CAAe,ELpCrB,EAAuB,CKoCGulC,IAApB;ADnBR,AHJE3V,ADZEolE,AGgBJ,A5B7PA,A8BiRK,EJxBHplE,EDZEolE,AzB7OCrpG,G0ByPE,CAACq+I,ADZA,CAACx4H,CAAD,AzB7OG,CyB6OP,AzB7OQxlB,GyB6OEgyJ,GpBlKK,CqB8KD,E1BzPb,C0ByPgB,CrB/KJ,CoBmKM,CAACoE,CzB7OEv2J,G0ByPR,GAAa,ADZA,CAAC2lB,CAAD,CAAR,AzB7OvB,CyB6Oc,CzB7OwB,EyB6OA6wI,CCY/B,CAAL,GAAyC/zD,KDZK,CCYC,ADZA0G,ICYI6uE,ADZA,CAACryJ,CAAD,CAAJ,KCYY,ADZAwjF,GCYGyuE,CDZC,CAACjyJ,CAAD,CAAJ,GCYA,ADZU,EAAtB,CCYyBu2C,ADZ1B,EAA4Bq6F,ECY3B,CAA/C,IDZiF,CAAC5wI,CAAD,CAAnC,CAAlC,GAA4E4wI,OAAO,CAAC5wI,CAAD,CAA7F;AIiBJ,AHJEyL,ADZC,AGgBH,A5B5PC,E0BwPCA,MAAM,GAAG,CAAC+rB,CrB9KGjZ,OqB8KK,CAACz1B,ErB9KNy1B,CAAW9T,IAAAA,AqB8Kd,CrB9KmB,AqB8KF,CrB9KHA,CAAX8T,CAFE,IqBgLL,CAAD,IAA8Bg4B,IAAI,KAAK,IAAT,IAAiBj7D,MAAM,CAACw/I,WAAxB,IAAuC,CAACo3B,SAAtE,GAAkF52K,MAAlF,GAA2FA,MAAM,CAACm1K,UAA3G;AGKF,ADAA,A5B5PC,aK0EclyI,UAAAA,CAAW9T,IAAAA,CAAK,CAALA,CAAX8T,CAHE;AwBsLjB,AHJE,ADZA,AGgBF,A5B3PCpkC,EAAAA,I0BuPKo4K,E1BvPC,CyB2OE/uE,AzB3ODhpG,E0BuPN,ErB9Ka+jC,AqB8KF,ADZX,KzB3OD,GAAmB,EKyELA,CAAW9T,IAAAA,CAAK,CAALA,CAAX8T,ALzEgB9jC,CKqEd,ILrEG,EAAmB;A6B4PvC,AHJIgxB,ADZH,AGgBD,A5B1PE,CyBAF,CKkOwBqsJ,EJoBpBrsJ,MAAM,C1BtPD,EKwEM8S,AqB8KF,CAACjjC,I1BtPEb,E0BsPI,CAAC81K,ErB9KNhyI,ALxEN,CKwEiB9T,IAAAA,ALxEA,CKwEK,CAALA,CAAX8T,KqB8KD,A1BtPL,I0BsP+B,A1BtPF7jC,E0BsPzB,EAA+B+1K,I1BtPE,CAAEh2K,K0BsP5C,A1BtP0C,CAArC,IAAkDH,IAAI,CAACK,KAAL,CAAYF,KAAZ,MAAwBA,KAAjF;AKmEe,AwBwLjB,AHJG,ADvPH,AG2PA,A5BzPE,GAJD,CyB6OGq2J,cAAc,GAAG,SAASA,cAAT,CAAwBxc,GAAxB,EAA6Byc,SAA7B,EAAwC;ApB/K7C,AwBgMhB,AJhBE,AGgBF,A5BxPC,EAED,E8BuQM4pB,ELjCArsK,CpBhLU,GoBgLN,GAAG,EAAX;AIiBF,AHJE,ADbA,AGiBF,MFJM,ADZA0R,CCYCyL,ADbL,MpBhKatwB,AqB6KT,IAAWswB,MAAM,KAAK8hI,IAAtB,IAA8B,CAAC9hI,MAAM,CAACqvH,WAA1C,EAAuD;ArB7LzC,AwBkMhB,AHJIrvH,AEIJ,IFJIA,MAAM,GAAG8hI,IAAI,CAACjM,IAAd;ArBrPa,AwB0PjB,AHJG,ADZD,AGgBF,A5BvPA,IAAKhnJ,GyBuOE0lB,CAAL,AzBvOO,CAACplB,GyBuOE05I,CzBvOP,EyBuOH,EAAe,CzBvOEj6I,SAAnB,EAA+B;AKL7B,AwB6PF,AJhBI,AGgBJ,A5BtPC,CKTuB,EAiFtB,KoB8JM,EAAE2lB,CAAC,IAAI+wI,SAAP,CAAJ,EAAuB;AIiB3B,AHJEtgI,ADZIniB,AGgBN,A5BrPChU,E0BiPCm2B,A1BjPDn2B,IyBqOKgU,AzBrOD,C0BiPE,A1BjPD1T,GKuEMqjD,AqB0KFxyB,ADZA,CAACzL,AzBrOV,CyBqOS,CAAJ,CzBrOO,EKuEDi+B,AqB0KI,ADZAq2F,CpB9JGe,AqB0KF0Z,EDZE,CAAC/uI,CAAD,CCYjB,ADZI,EzBrOkBnlB,CKsEtB,ALtEW,EAAe;A6BsP5B,AJhBK,AGgBL,A5BpPE,WAASA,CAAC,GKuEK,ALvEF,CAAN,GAAY,CAAE,CAAd,GAAoBA,CAAC,GAAG,CAAN,GAAY,CAAZ,GAAgB,CAAEA,CAA3C;A6BqPF,AHJE,ADZC,AGgBH,A5BnPE,GAJD,G0BmPK41B,GrBxKK,EqBwKA,IAAI6hJ,SAAT,IAAsB7hJ,KAAK,CAACxZ,KAA5B,IAAqCuhI,UAArC,IAAmD/nH,KAAK,CAAC4wB,IAAN,KAAe8yG,kBAAQ9yG,IAA9E,EAAoF;AGKtF,AHJI,AEIJ,A5BlPC,W0B8OU,CrBxKG,SAAA,IAAA,CAAS+zF,OqBwKL48B,CrBxKJ,EAAmB,KqBwKP,GAAGvhJ,KAAK,CAACxZ,KAAjB,GAAyB6lF,MAAhC,CAAP;AGKJ,AHJG,ADZD,AGgBF,GFNE,MAEO,ADZAxuF,IAAP,EpB5Je;AwB6KjB,AHJI,ADZH,AGgBD,A5BlPA,CyBpBA,GzBoBK,C0B8OAgkK,SAAS,A1B9OCx3K,GKsEI,CqBwKDm3K,IrBzKD,ALrEM,CAACl3K,E0B8OC,KAAK,E1B9OzB,C0B8OD,I1B9OkC,E0B8OCqjC,G1B9OvC,E0B8O4C,A1B9OE,C0B8ODnW,QAAN,GAAiB2nJ,oBAAoB,CAACt0K,MAAD,EAAS,UAAT,CAAxE;AGKJ,AHJImwB,ADnQJ,AGuQA,A5BjPC,I0B6OGA,ADZAulI,MCYM,KrBxKO5b,AqBwKF95I,KDZK,CCYhB,ErB1Ka,AoB8JM,GCYG8iC,KAAK,CAACnW,ADZA+oI,QCYN,GAAiB,KDZpB,CAA0BlB,ECY7C,EAFK,ADVc,CCY+B,CDZC;AIiBvD,AJhBE,AGgBF,A5BjPC,MyBiOKrkI,MAAM,GAAGqkI,IAAI,CAACrkI,MpB5JQ,AoB4Jb,IAAe2hI,eAA5B;ApB/Je,AwBgLjB,AHJI3hI,ADbF,AGiBF,A5BhPCzwB,EAAAA,E0B4OGywB,EDZEgnE,EzBhOC,CAACx3F,C0B4OE,ADZA,CCYC6/I,EDZEgV,IAAI,CAACmB,ICYd,CAAmB4c,A1B5OtB,CAAuB/yK,GyBgOX,GAAiB61J,CCY1B,C1B5O4B,CAAC51J,E8BsPd,O9BtPlB,EAA2C,MyBgO/B,AzBhOZ,EAAmD,CyBgOC21J,YADnD;ApBjKS,AwBmLX,AHJIh2D,AEIJ,A5B/OEx/F,A8BsPM,IJXJw/F,A1B3OFx/F,E0B2OI,CrB/KK,AL5DN,E0B2OI2yK,A1B3OF,E8BsPMgM,KAAL,CJXS,CAACzH,CIWG,E9BtPF,E8BsPMwF,MAAM,CAACkC,GJXf,CAAb,CIWiB,EAAb;ADNR,AHJIruJ,ADZF,AGgBF,A5B9OG,A8BsPK,IJZJA,EDZEghI,ICYI,CAAC1G,AIYE8zB,EzBnLE,ALnEL,G8BsPF,CLxBS,AKwBEE,CLxBDjqB,AzB9NH30J,IKmEA,AqBuKX,ADZkB,CCYC0yK,ADZA7d,CKwBf,CAAmBziJ,C9BtPjB,CKmEK,CAASkxB,AyBmLhB,C9BtPkBrjC,A8BsPK,CLxBd,AKwBT,CJZJ,ADZF,CKwBgC,CzBnLnB,AoB2JkB,AKwBzB,C9BtPE,CKmEqB,ALnEE,A8BsPI,CAAC,CAA9B,yB9BtPE,EAAsD,CAAtD,CAAP;A6B+OH,AHJIgjC,ADZA,AGgBJ,A5B7OG,A8BsPK,IJbJA,KAAK,CAACnW,CDZCwD,AKyBEouJ,IzBpLIp7I,CyBoLT,CLzBJ,AKyBeu7I,CJbf,CDZe,CpB3JFv7I,CAAMP,AqBuKF,MIab,GAAwB,CJb5B,GIagC05I,MAAM,CAACqC,eAAX,EAAxB;ADRR,AJhBMxnF,AGgBN,A5BpPoD,A8B8P5C,G9B9PP,GyBoOKA,IAAI,CAACq9D,AK0BEoqB,IL1BH,EAAOzuJ,IK0BT,EL1Be,CAACqkI,AK0BE,IL1BT,AK0Ba8nB,CL1BDt+B,KK0BO,CAAC6gC,EL1B3B,CAAJ,CK0BoB,CAAgB;AzBhM/B,AwBuLX,AHJI,ADZE1uJ,AGgBN,A5B3OC,A8BqPW2uJ,ML1BN3uJ,ECYE+sH,AIcI4hC,IL1BA,AK0BI,EAAE,CL1BH3uJ,AKyB2B,GJbxB,GDZG,CCYC6mJ,ADZA7mJ,MAAhB,GCYF,EAA6B;ArBrLhB,AwB0LjB,AHJMgF,ADZD,AGgBL,AEUYxI,MJdNwI,EIcMxI,GJdD,GAAG,EIcM,EAAE,IAAI2vJ,MAAM,CAACyC,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CJdE5uJ,CIcoB,EAAtB,CAFoB,EJZ5B,CAAR;ArBzLJ,AwB8LF,AHJMgF,ADZH,AGgBH,A5B3OA,A8BqPYJ,CzBzRY,EAyGtB,CLrEGr1B,E0BuOCy1B,EIcMJ,E9BrPD,C0BuOA,A1BvOCh1B,C0BuOAgmD,CIcK,EAAE,CJdb,C1BvOD,E0BuOc8yG,AIcIyjB,G9BrPAv9K,G8BqPM,CAACqgL,GAAX,CAAe,C9BrPlC,EAAmC,C8BqPG9C,GJdXv2H,GIciB,CJdtC,AIcuCg5H,IAAX,CAAgB,EAAhB,EAAoB,GAApB,EAAyB,EAAzB,CAAf;ADTnB,AHJM5pJ,AEIN,A5B1OC,A8BgPyC,MJVpCA,CIUoB,CAAlB,EzB5KIwtB,CqBkKD,CAAChnC,IrBlKAgnC,CAAOpkC,AqBkKb,GAAc4R,IrBnKlB,EqBmKwB,CAAC2mJ,eAAD,CAApB;AGKN,AHJK,ADZH,AGgBF,A5B1OC,A8BqPO,SL3BCtiB,EK2BI+pB,EL3BX,EpBtJe,CyBiLT,CAAWS,OAAX,CAAmB,KAAKJ,UAAxB;ADVR,AHJG,ADZF,AGgBD,A5BzOCl/K,A8BqPO,CL/RR,CzB0CCA,MAAM,CAACK,E8BqPKk/K,IzBlLI,ALnEhB,GAAgB,G8BqPT,GAAkB,I9BrPEj/K,A8BqPEs8K,M9BrPb,A8BqPmB,CAACuC,C9BrPA,G8BqPX,CAAgB;ADX1C,AJpRA,AGoRA,A5BxOE,A8BoPUC,IL5BRlpB,IzBxNG51J,A8BoPK8+K,IzBlLE,AyBkLE,E9BpPH,A8BoPK,EL5BF,GAAG,AzBxND//K,EKkEJ,IAAA,CAAS+6I,EoBsJK8b,AzBxNrB,IAAwB51J,EKkEjB,EAAmB,ELlEI,EyBwNlB,CAAsBwP,EAAtB,AzBxNuB,EyBwNGC,EAA1B,AzBxNjB,EyBwN+C,AzBxNA;A6ByOjD,AHJE,ADZA,AGgBF,A5BvOG,A8BiPuC,ML1BpCvB,CAAC,AK0BmB,CAAlB,CJdC,CDZCsB,EpBtJIsqI,AoBsJF,AzBvNH,CyBuNIz5I,GzBvNAJ,GyBuNX,CpBtJY65I,CAASz5I,ILjEd,CAAe,CKiEVy5I,IqBkKEi9B,CrBlKkB,GAAG,IqBkKb,GAAG33E,EAAE,GAAGs3E,QAAL,GAAgBl1E,MAAnB,GAA4BpC,EAAE,C1BnO7C,CAAN,E0BmOuDs3E,QAAN,GAAiBl1E,MAAM,GAAGpC,EAAT,GAAcs3E,QAA/B,GAA0C,CAArF,CAAP;AGKF,AHJC,ADbC,AGiBF,A5BtOG,A8BmPK,CJpSR,KDuQM52K,KAAK,AK6BEo/K,GL7BChxK,CAAC,EpBtJI,GoBsJCuB,EAAE,AK6Bd,CL7BepP,EK6BI,IL9BzB,AK8B6Bi8K,MAAM,CAACj+I,KAAX,EAAnB;ADZR,AHxRA,AEwRA,AEcQ,IJlBJ64I,IAAI,GAAG,AIkBE+H,SJlBO/H,CIkBZ,CAAgBv2E,EJlBb,CAAc3gG,KIkBjB,CJlBG,AIkBsB,EJlBAk8C,GIkBKgjI,KJlB3B,EAAgCjkH,IAAhC,AIkBH,EJlByC8/D,OAAtC,EAA+C;AGK1D,AHJE,ADZA,AGgBF,A5BtOE,A8BqPM,MJnBF57H,E1BlOAe,CyBsNGJ,ECYP,AImBWy+K,GL/BC,AzBtNF,E8BqPJ,C9BrPO7+K,A8BqPIs/K,CL/BD9wK,CAAC,EAAV,EzBtNY,CAAElO,A8BqPf,CL/BiBwP,AK+BE,EL/BA,CAACtB,CAAD,CAAF,AzBtNJ,A8BqPW+wK,C9BrP9B,IyBsNiCxvK,EAAE,CAACvB,CAAD,CAAnC,AK+BM,EL/BkC,CAAE;AIiB5C,ADAA,AEeK,ezBrLY;AwBuKjB,AHJE,ADZA,AGgBF,A5BtOE,M0BkOI,CAACokK,EDZEpkK,AzBtND,CyBsNE,GAAG,AzBtND/N,CyBsNV,GpBtJiB,CLhEF,G0BkOf,A1BlOkB,CK+DH,AL/Df,C0BkOqB,C1BlOAA,KAAK,GAAGC,SAAS,CAACC,MAAvC,EAA+CF,KAAK,EAApD,EAA0D;A6BuO5D,AHJIy0K,ADZH,AGgBD,A5BrOG,CyBtDH,GCuRIA,M1BjOGt0K,GK+DQw5I,AqBkKF,G1BjOA,GAAG15I,EK+DD05I,CAAS,CAATA,CAFE,IL7DQ,CAAE35I,KAAF,CAAtB;A6BsOH,AHJG,ADxRH,AG4RA,IHhBI01J,SpBtJW/b,QAAAA,CAAS,AoBsJF,CpBtJPA,CAHE,CoByJQ,QK8BR,CL9BiB+b,kBAAT,CAA4B1lI,MAA5B,EAAoC+C,KAApC,EAA2C4iI,SAA3C,EAAsDC,QAAtD,EAAgEC,MAAhE,EAAwE;AIiBjG,AJhBE,AGgBF,A5BrOG,A8BoPK,ML/BFF,IzBrNEx1J,A8BoPIu9K,GzBrLG/jC,CyBqLC,CL/BD,CzBrND,C8BoPK,GL/BC,CpBtJLA,AL/DI/6I,A8BoPX,CzBrLgB,CAAT+6I,EoBsJU,CAAvB,EAA0B,EzBrNpB,IAAwBx5I,MAAM,KAAK,IAAxC,EAA+C;AK2DjC,AwB2KjB,AHJE,ADZEw1J,AGgBJ,A5BpOI,A8BoPI,ILhCJA,ECYE55G,IIoBQrnB,GLhCD,AzBpNH,C0BgOI,EDZE,CzBpNFt0B,C0BgOI0yK,AIoBI,GAAG,GLhCrB,AzBpNA,C8BoPyBkJ,G9BpPJ77K,E8BoPS,CAACq6C,GJpB7B,A1BhOF,EAA8B,E0BgOIuB,IIoBb,CAAsB,CAAtB,EJpBqB,AIoBI,EAAzB,EAA6B,CJpBH,AIoB1B,CAAjB,UJpBN,EAA8D;ArB7K/C,AwBkLjB,AHJIA,ADZD,AGgBH,A5BnOK,A8BoPG,IJrBJA,GrB9Ka,GyBmMHlnB,EJrBF,E1B/NFt1B,C0B+NKuzK,GIqBO,E9BpPN,CAACxzK,A8BoPQ,IAAI08K,K9BpPnB,A8BoPwB,CJrBH,A1B/NJ37K,A8BoPQsqC,CJrBHoR,QAAD,CAA3B,I1B/NM,CAAgCz7C,E8BoPjB,CAA4B,C9BpP3C,CAAsCH,MAAtC,EAA8CC,OAA9C,CAAL,EAA+D;A6BoOpE,ADAA,A5BlOML,A8BkPiDijC,QAAAA,I9BlPjDjjC,CK6DS,AyBqL6C,EAAE,G9BlPlD,CAAEK,GK6DC,IL7DH,CK6DG,AL7DT,CK6DkB4iC,EL7DE7iC,GK6DX,EAAgB,CL7DC,CAAEC,OAAF,CAA1B;A6BmON,AHJI,ADZF,AGgBF,A5BjOM,A8BgP+C,ML/B/Cw1J,CK+BmB,CJnBjB,AImBA,CJnBC75G,KDZK,CpBrJG,CAAC/Y,CqBiKD,CAAC31B,CDZC,EpBrJD21B,CAAM9oB,CAAP,CoBqJO,CpBrJG8oB,AqBiKlB,ADZP,CCYwB,CDZC,ECYlB,CrBjKkBA,AqBiKvB,CrBjK6B/pB,CAAhB,AqBiKe,ErBjKI+pB,KAAAA,CAAM/xB,CAAzB;AwBsKjB,AHJM8qC,ADZF65G,AGgBJ,A5BhOK,A8BgPG,ILhCJA,ECYE75G,KIoBOzD,CLhCD,ECYE,CDZC,AKgCP,EJpBSyD,CIoBG,ILhChB,AKgCoBigI,GJpBC,CAAC/8G,CIoBG,CAACvqB,GJpBb,CAAe,AIoBZ,CAAehgB,EJpBlB,EAAoB,CAApB,CAAX,EIoBc,EAAyBG,QAAzB,CAAZ;AzBrMS,AwBsLjB,AHJK,ADZF,AGgBH,A5B/NI,A8BgPI,KzBxMS,MyBwMJ+qB,KAAL,CAAW7sC,GAAX,CAAe,KAAKulC,IAApB;ADhBR,AHJG,AEIH,A5B9NG,A8BgPK,UAAM6mI,MzBtLI,SyBsLW,GAAG,IAAInD,KAAK,CAAC10H,mBAAV,CAA8B,CAA9B,EAAiC,EAAjC,EAAqC,EAArC,CAAxB;ADjBR,AJhBE,AGgBF,AEmBQ,MLnCF00C,IAAI,AKmCIojF,EzBvLA,CoBoJDpvJ,MAAM,CAAC4lI,CpBpJN,IAAA,AyBuLe,CzBvLNjc,EoBoJJ,AKmCa,CLnC9B,GKmCkCqiC,EzBvLtB,EAAmB,CyBuLQ,CAACrxI,iBAAV,CAA4B;ADlB5D,AHJE,ADbA,AGiBF,A5B9NE,A8BgP4DT,MJtBxDqoI,ADZA5iK,CADJ,CKmC4Du6B,G9BhPrDnqC,CK0DK45I,KL1DZ,A8BgPqE,EAAE,CzBtL3DA,CAASz5I,AqBgKF,CAAC67C,CIsBsC,IzBtL9C49F,GqBgKO,CAAf,CrBhK4B,GAAG,AqBgKF59F,OrBhKS,CqBgKD,IrBhKN,CqBgKW,WAA9C,EAA2D;AGK7D,AHJI/8C,AEIJ,A5B7NE,A8B8O6EgkC,G9B9Q9E,C0ByPGhkC,IIqB2EgkC,CJrBtE,GAAGg0I,CIqBwE,EzBrLnE,AyBqLqE,QAA1B,IJrBjC,CAACn3K,MAAD,EAAS+6H,OAAT,CAAvB;AGKJ,AHJI57H,ADZF,AGgBF,A5B5NC,A8B4O+FmmC,IJpB5FnmC,EDZE62J,EKgC0F1wH,CJpBvF,GAAG4W,ADZV,AKgCkG,ELhCtF,AKgCwFigI,GzBpLnF,EyBoLwF,CJpBvF,AIoBwFl6K,EzBrL3F,GqBiKQ,iBAAb,GAAiC9C,KAAK,CAAC+8C,QAAD,CAAtC,GAAmDk7H,aAAa,CAAC9C,oBAAoB,CAACt0K,MAAD,EAASk0K,oBAAT,CAArB,CAAb,GAAoE,GAApE,GAA0E/0K,KAAK,CAACk4K,OAAhF,GAA0F,IAArJ;AGKJ,AHJG,ADZCvnK,AGgBJ,AEe4D,GJtB1D,CDTEA,CAAC,EK+B2B,CL/BxBojB,AK+BA,CJnBC,IrBhKM4mH,AoBoJF,CAACkc,MAAD,CpBpJElc,AoBoJX,CpBpJoB,CAATA,CAFE;AwBuKjB,AHJI36I,AEIJ,A5B5NA,A8B4OQ,IJpBJA,A1BxNAuB,K0BwNK,EIoBI64B,CJpBDv5B,A1BxNA,CKwDG85I,ELxDA,C8B4OP,EJpBU,CAACh3G,AIoBE,C9B5OrB,CKwDeg3G,CAAS,CAATA,AyBoLUqiC,CzBvLR,AqBmKL,CAAajgI,GIoBK,CAACrH,IJpBnB,AIoBS,CJpBjB,AIoBgCyqI,eAAf,EAAgCC,eAAhC,CAAb;ADfR,AJhBI,AGgBJ,AEiBQ,WLjCGpjF,AKiCEp8C,EzBrLE+5F,EoBoJA,CKiCP,CAAW5mI,ELjCAipF,CKiCX,CzBrLO29C,AyBqLQ,CzBrLC,CAATA,AoBoJQ,CpBxJN,AoBwJOkc,EKiCIz8H,ILjCL,CAAJ,AKiCX,GLjC0BzpB,CAA9B,EAAiC;AIiBrC,AHJI,ADZEqsF,AGgBN,A5B7NA,A8B8OK,I9B9ODx7F,EyB6MEw7F,ECYE,CAACh9F,A1BzNA,CyB6MC,EzB7ME,CKyDG26I,AoBoJF39C,CCYL,GDZS,CCYCh9F,ADZA82J,GpBpJHnc,CAAS,CAATA,AqBgKQ,ADZjB,KCYsB,MAApB,IAA8B/e,OAA9B,IAAyC,CAAC,CAAC57H,KAAK,GAAG,EAAT,EAAaqO,OAAb,CAAqB,OAArB,CAA9C,EAA6E;ArBrKhE,AwB0KjB,AHJMrO,ADZD,AGgBL,A5B9NcyB,EAAAA,I0B0NRzB,A1B1NY,EAAE,CAAR,E0B0ND,GAAGm4K,aAAa,CAACp7H,QAAD,CAAb,IAA2Bo7H,aAAa,CAACp7H,QAAD,CAAb,CAAwBl8C,MAAxB,EAAgCk8C,QAAhC,EAA0C+e,IAA1C,CAA3B,IAA8Eq5G,oBAAoB,CAACt0K,MAAD,EAASk8C,QAAT,CAAlG,IAAwH,4BAAal8C,MAAb,EAAqBk8C,QAArB,CAAxH,KAA2JA,QAAQ,KAAK,SAAb,GAAyB,CAAzB,GAA6B,CAAxL,CAAR,CAD2E,CACyH;ArBzKxL,AwB8KlB,AHJK,ADZF,AGgBH,A5B/NuBr7C,EAAAA,KKiDL,CLjDW,EAAE,CAAnB;A6BgOZ,AHJG,AEIH,A5BhOkCC,EAAAA,KAAK,EAAE,CAA7B,GK6DG,SAAA,KAAA,CAASqiC,CyBmLX,IzBnLE,EAAgB;AwBoK/B,AJhBE,AGgBF,A5BjO4CpiC,A8BkPpC,E9BlPoCA,IyBiNtCo7F,EzBjN4C,EyBiNhD,AzBjNkD,A8BkPxC,C9BlPA,CyBiNA,GpBnJK,AyBoLAygC,CzBpLCz5F,KAAAA,AyBoLV,CzBpLgB9oB,CAAP,AyBoLQ,EzBpLE8oB,KAAAA,CAAM/pB,CAAhB,EAAmB+pB,KAAAA,CAAM/xB,CAAzB,EAA4B+xB,KAAAA,CAAMhyB,CAAlC;AwBoKjB,AHJE,ADZE+hB,AGgBJ,A5BlOuDlyB,A8BoP3C,E9BpP2CA,EyBkNnDkyB,GzBlNwD,E0B8NnD+nC,ADZA,AzBlNqD,CyBkNpDi7F,AzBlNE,G0B8NC,EDZT,ECYa,CAAC,ADZA/5D,CCYC,CAACh9F,EDZE,CAAC+2J,ECYE,GAAG,ADZxB,ECYe,EAAa1oJ,OAAb,CAAqB,GAArB,CAAV,GAAsCipK,cAAc,CAACz2K,MAAD,EAASk8C,QAAT,EAAmB/8C,KAAnB,EAA0B87D,IAA1B,CAAd,GAAgDA,IAAtF,GAA6F97D,KAApG;ArB7KgB,AwBkLlB,AHJC,ADZGg9F,AGgBJ,A5BnOiEl7F,A8BqPxD,CJrUT,C1BgFiEA,EyBmN7Dk7F,CzBnNgE,EAAE,CyBmN9D,CAAC+5D,KAAL,GAAahjI,KAAb;ApBtLa,AwBuMjB,AHpTA,ADoSG,AGgBH,A5BpOY,CAAZ,EyBiNE,CCeEqkJ,KDZK,iBCYiB,GAAG,SAASA,sBAAT,CAAgCv3K,MAAhC,EAAwC4/J,IAAxC,EAA8C5gI,KAA9C,EAAqDI,GAArD,EAA0D;ArBrMrF,AwB0MF,AHJE,ADZElM,AGgBJ,AEkBQ,CzBrUgB,EAmJtB,CoBgJEA,KAAK,CAACgjI,CKkCGnwG,ILlCT,AKkCI,GLlCU51B,CKkCG,IAAb,CLlCgB,CAAC2lI,SAAD,CAApB;AIiBJ,AHJE,ADZE3lI,AGgBJ,A5BrOA,IyBqNIA,AzBrNAjvB,E0BiOE,CAAC89B,E1BjOE,CKqEG2jB,AoBgJF,CAACmzG,CCYL,A1BjOM,IKqEAnzG,AqB4JI3jB,CrB5JGi6G,GoBgJT,CCYW,ADZjB,GAAoB/lH,CpBjJtB,CqB6JwB,GDZtB,GCYF,EAAgC;AGKlC,AHJI,ADZD,AGgBH,A5BtOcnyB,A8BwPN,E9BxPMA,MAAM,EAAE,A8BwPV,C9BxPA,IKsEK,AyBkLAs8K,QAAL,KAAkBt+K,SAAtB,EAAiC;ADjBzC,AHJI,AEIJ,A5BvOyBkC,A8B0Pb,E9B1PaA,GAAG,EAAE,C0BmOtByjB,A1BnOI,C0BmOH,GAAG+vJ,CIuBK8J,CzBlLD,IyBkLJ,CAAWh6J,IAAX,CAAgB,IJvBA,CAACq7I,AIuBI0d,IJvBL,EAAOt9K,MAAP,CIuBhB,CJvB+B,CAAf,CAAxB;AGKJ,AHLI,ADXF,AGgBF,A5BxOiCmB,A8B2PxB,E9B3PwBA,IyBwN3B+xB,ECYE5f,CAAC,EDZE,AzBxN+B,CKyE5B,AqB2JFoR,ADZAwxI,CCYC,A1BpO+B,CAAhC,G0BoOKoe,ADZf,EAAiB,EpB/IL,IAAA,CAASx6B,QAAT,EAAmB,CqB2JI,CAAC95I,MAAD,EAAS0kB,CAAT,EAAY,CAAZ,CADjC;AGMJ,AJhBIwO,AGgBJ,A5BzO+C9xB,EAAAA,EyByN3C8xB,KAAK,CAACgjI,EpB/IIvzG,EL1E6C,CyByNvD,CAAYszG,AzBzN6C,EK0E/CtzG,CAAOo3F,EoB+IjB,GAAoB7mH,GpB/IVyvB,CAAgBm3F,CoB+I1B,OpB/I0BA,CAASz/H,CAAzBsoC,KACFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS1gI,CAAzBupC,CADEA,IAEFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS1oI,CAAzBuxC,CAFEA,IAGFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS3oI,CAAzBwxC,GAA6B;AwB6JzC,AHJI,ADZD,AGgBH,A5B1OY,A8B6PJ,C9B7PR,EyBwNE,KCcMrvC,CAAC,ADZA,EKmCI+pK,EJvBA/pK,CAAC,GrBxJK,EqBwJA0rB,AIuBX,GAAgB,EJvBpB,EAAsB,CIuBG+mB,IAArB;ADlBR,AHJM65G,ADZFzvI,AGgBJ,AEoBQ,ILpCJA,ECYEyvI,IAAI,ADZA,CAAC7J,AKoCEt9G,EJxBA/zB,CAAP,CIwBE,CAAUiI,GzBhLG,AoB4IX,CAAN,GAAmBuG,CpB7IJ,AyBiLX,CAAmBlgB,GLpCvB,CKoCI,CAAwB,KAAK4rK,UAAL,CAAgBjyJ,QAAxC;ADnBR,AHJMqS,ADZH,AGgBH,A5B3OA,A8BgQQ,I9BhQJ39B,E0BuOE29B,KAAK,AIyBEyZ,GJzBCnlC,CrBxJGwmI,AqBwJX,AIyBE,C9BhQQ,A8BgQE32H,G9BhQC,CAAnB,GK+EiB22H,CAASz/H,CAFP,CyBmLX,CAAqBrH,IAArB,CAA0B,KAAK4rK,UAAL,CAAgBz7J,UAA1C;ADpBR,AHJK,AEIL,AEsBQ8iC,MAAAA,SzBlLS6zF,QAAAA,CAAS1gI,CAHP,EyBqLU,CAAC,KAAK+mC,MAAL,CAAY0yC,IAAZ,CAAiB,IAAjB,CAAD,CAArB;ADrBR,AHJG,ADZD3/D,AGgBF,A5B5OA,A8BmQQ,ELvCNA,EzB5NE5xB,GyB4NG,CAAC20J,GKuCKn2G,ELvCX,EpB5Ieg6F,CoB4ID39C,AzB5NA,GAAG,A8BmQX,CLvCN,AzB5NF,A8BmQsBh8C,GzBnLL25F,CAAS1oI,CAJP,CyBuLX,CAAqB,KAAK2uC,KAA1B,EAAiC,KAAKj5B,MAAtC;ADtBR,AJhBEoM,AGgBF,AEuBK,ELvCHA,KAAK,CAAC/C,MAAN,CpB5Ie2pH,EoB4IA5mH,KAAK,CpB5IL4mH,AoB4IMqc,CpB5IGhlJ,EoB4IT,GAAYgf,MAA3B;ApBjJiB,AwBkKnB,AHJE,ADZA,AGgBF,A5B7OA,IAAI5uB,E0ByOE+gG,EAAE,CDZCpvE,ECYE,GDZT,CCYa2sI,E1BzOE,GAAG,CAApB,a0ByOW,CAAc,KAAKlH,GAAnB,EAAwB34J,MAAM,CAAC8iC,KAA/B,EAAsC88H,IAAtC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkDmL,8BAAlD,CAAT;AGKF,AHLE,ADXD,AGgBD,CHjUA,KC6TM5qK,KAAK,GAAG,CADZ;AGMF,AHNE,AD5TF,AGkUA,A5B9OA,IyB8NIi2J,AzB9NA50J,E0B0OEwpK,UAAU,GAAG,CAFjB,C1BxOmB,GAAG,CyB8NC,AzB9NzB,GyB8N4B,SAAS5U,qBAAT,CAA+BjmI,MAA/B,EAAuC+C,KAAvC,EAA8C4iI,SAA9C,EAAyDC,QAAzD,EAAmE;AIiB/F,AHPE,ADTA,AGgBF,EEtDiCopB,IJkD3BhuK,ADZA2kJ,CCSJ,QrBtJe,AoB6IF,KAAK,KAAK,CAAvB,EAA0B;ApB3JZ,AwB4KhB,AHRE,ADREA,AGgBJ,A5B/OA,IyB+NIA,AzB/NAr0J,E0B2OE+vE,CrBxKU,KqBoKd,CDRW,GAAG,QAAZ,AzB/NoB,GAAG,CAA3B;A6BgPA,AHTE,ADPC,AGgBH,IEoBMguG,EJxBAhI,OrBxJS,IqBmJb,KrBnJa,KAAA,CAASr0I,KAAT,EAAgB;AwB6J/B,AHVE,AEUF,A5BhPA,IAAIzhC,E0B4OE0pK,QANJ,CrBlJe,ULpFQ,GAAG,CAA5B;A6BiPA,AHXE,ADLA,AGgBF,MFJMjoI,ADZA4yH,KCKJ,ErBjJa5yH,CoB4ID,IpB5ICA,CAAM9oB,AoB4IF,CpB7IF,IoB6IO,CAAtB,EAAyB;AIiB3B,AHZE,ADJE07I,AGgBJ,A5BjPA,IyBiOIA,AzBjOAp0J,E0B6OE81K,MDZM,CpB5IGt0I,EoB4IA,CCIb,ErBhJaA,ALrFG,CKqFG/pB,CAFJ,CLnFI,CyBiOjB,AzBjOJ;A6BkPA,AHbE,ADHC,AGgBH,MFJMs+J,OrBxJSv0I,CqB+Ib,IrB/IaA,CAAM/xB,CAHJ;AwBgKjB,AHdE,AEcF,A5BlPA,IAAIxP,E0B8OEspK,MAVJ,CrB9Ia/nI,GLtFC,EKsFDA,CAAMhyB,ALtFF,CAAnB;AKkFiB,AwBiKjB,AHfE,ADDA,AGgBF,MFJMg6J,ADZAhvE,IAAI,CCCR,EDDWjpE,KAAK,CAAC+iI,KAAjB;AIiBF,AHhBE,ADDA,AGiBF,A5BnPA,IAAIp0J,E0B+OE81K,ADZAr5G,IAAI,GCAR,ADAWprC,KAAK,CAACgjI,CzBnOC,GAAG,CyBkOrB,AzBlOF;AK+DgB,AwBqLhB,AHjBE,AEiBF,KvBvLiB,CqBmLX0hB,SAbJ;AGkBF,AHlBE,ADEA,AGgBF,A5BpPA,IAAI91K,E0BgPE+1K,ADZA17E,IAAJ,EAAU,CpB3IG,CqByIb,E1BlOc,GAAG,CAAnB;A6BqPA,AHnBE,ADGEA,AGgBJ,IHhBIA,ECYE27E,EDZE,CAAC5hB,GpB3IK,EoB2IV,CCHF,EDGe53F,IpB3IH,AoB2IV,IpB3IU,CAASw7E,QAAT,EAAmB;AwB4JjC,AHJEx3C,ADZC,AGgBH,A5BrPA,E0BiPEA,CDdA,CCcE,A1BjPAvgG,C0BiPCqP,CAAH,GAAO4tB,ADZA,GpB3IK2jB,CoB2IDxyB,AzBrOA,C0BiPX,E1BjPc,CAAhB,CK0FcwyB,CAAOo3F,AoB2IF,CAAC+b,OpB3INnzG,CAAgBm3F,CoB2IX,CAAN,KAAsB5mH,CpB3IL4mH,CAASz/H,CAAzBsoC,EoB2IL,EAAiC,CpB1I9BA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS1gI,CAAzBupC,CADEA,IAEFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS1oI,CAAzBuxC,GAA6B;AwB0JzC,AHJE2/C,ADZEnyE,AGgBJ,EFJEmyE,EAAE,ADZAnyE,CCYCnc,CAAH,GAAOorB,CDZC,CAAC02H,CCYT,KrBrJiB,GoByIT,CAAN,GAAoBx3F,IAApB;AIiBJ,AHJEt/B,ADZC,AGgBH,A5BtPA,E0BkPEA,E1BlPEh9B,G0BkPG,IAAI,C1BlPC,C0BkPV,CA/BqF,CA+BxE,A1BlPA,CAAf,GK6FqB,KADF,WyBmKA;ADRnB,ADAA,AEUQ,WAAKu8K,IzBnKIzkC,CyBmKT,GAAa,IzBnKJA,AyBmKQwiC,CzBnKCjiK,CAFP,IyBqKY,CAACmkK,KAAX,EAAb;ADTR,AHJEp/I,ADZA,AGgBF,A5BvPA,A8BkQQ,EJfNA,E1BnPEn9B,C0BmPC,CDZCq8D,GCYG,CDZP,CCYA,AIeWigH,CL3BD,EzBvOE,CK8FGzkC,CyBoKT,C9BlQS,A8BkQE2kC,C9BlQnB,KK8FiB3kC,CAAS1gI,AyBoKlB,CzBvKW,AyBuKQnH,GAAnB,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAAC,CAA9B;ADVR,AJhBIqsD,AGgBJ,AEYQ,IL5BJA,IAAI,CAAC23F,EK4BIsoB,GL5BT,CpBzIazkC,CyBqKT,CL5BS39C,AK4BEuiF,IL5Bf,EpBzIa5kC,CAAS1oI,GyBqKlB,GAAwB,IAAIkrK,MAAM,CAACqC,eAAX,EAAxB;AzBzKW,AwB8JnB,AHJE,ADZC,AGgBH,A5BxPA,A8BqQQ,GL/BN,CzBtOEz8K,E0BoPEk9B,GAAG,ADZA,EK6BIw/I,EL7BAzuJ,CCYC,C1BpPC,GAAG,CyBwOC,AzBxOnB,C0BoPE,ADZkB4lI,CK6BZ,CJjBc,EIiBI,IL7BP,AK6BWumB,CL7BjB,KAAqBppJ,AK6BE,CAAC2rJ,IL7B5B,AK6BiB,CAAgB,CL7BD;AIiBzC,AHJI7+K,ADZAmwB,AGgBJ,AEaY2uJ,IJjBR9+K,ADZAmwB,IK6BQ2uJ,EJjBF,ADZA,CCYCh8I,ADZAizH,CK6BK,EAAE,EJjBd,CAAa6J,CIgByB,CL5BhC,CAAN,CCYA,EDZmBzjE,ECYE/8D,EDZrB,CCYA;AGKJ,AHJIA,ADZD,AGgBH,A5BzPA,A8BsQYzS,IJjBRyS,A1BrPAj9B,G0BqPG,CIiBKwqB,EJjBF2nJ,MIiBU,C9BtQH,C8BsQK,E9BtQF,CAApB,C8BsQ0BgI,MAAM,CAACyC,CJjBH,CAAC/+K,EIiBT,CAAgB,CAAhB,EJjBQ,AIiBW,CAAnB,CJjBiB4/J,CIiBK,EAAtB,CJjBQ,AIeY,CJfhC,IAAsCxgI,GAA5C;AGKJ,AHJIp/B,AEIJ,AEaY+0B,IJjBR/0B,IIiBQ+0B,EJjBF,CAAC+N,EIiBM,EzBvKA,AyBuKE,CJjBf,CAAa88H,EIiBM0c,EJjBnB,IAAqBt9I,AIiBI,CAACogJ,GAAX,CJjBf,AIiB8B,IAAI9C,MAAM,CAACyC,IAAX,CAAgB,EAAhB,EAAoB,GAApB,EAAyB,EAAzB,CAAf;AzBnLJ,AwBuKf,AHJG,ADZD7rJ,AGgBF,A5B1PA,A8BmQ0C,ELzBxCA,EzB1OE9wB,GKmFW,AoBuJR,AKyBmB,CLzBlB8zJ,AKyBA,KLzBN,CzB1OY,EyB0OEhjI,CzB1OC,CAAjB,GyB0OqB,CAAC+iI,KAAN,GAAc/iI,KAAK,CAAC/C,MAAN,GAAe,IAA3C,CAxB6F,CAwB5C;AIiBnD,AJhBC,AGgBD,AEcQ,CLzWR,UKyWaouJ,EzBvKE,GyBuKP,CAAWS,KzBvKJ,EyBuKP,CAAmB,EzBvKZ,CAAS77I,EyBuKQy7I,GzBvKjB,EAAgB,KyBuKvB;ADbR,AHJEztK,ADxVF,AG4VA,A5B3PA,A8B0QQ,EJnBNA,CAAC,CDZCklJ,AzB3OAh0J,E0BuPE,CAAC28B,IImBMygJ,CJnBP,EAAQrgJ,CrBrJG,EqBqJX,CAAJ,A1BvPgB,GyB2OG,AzB3OA,CAArB,A8B0QQ,EL/BgB,CK+BG,IAAIk9I,IL/BEjmB,EK+BI,CAACwoB,IAAX,CAAgB,SL/BnB,CAA2B3rJ,KAA3B,EAAkCojI,yBAAlC,EAA6D;AIiBrF,AHHE,ADbA,AGgBF,AEeYwoB,ML/BN5rJ,EK+BM4rJ,GL/BD,CAAC3uJ,AK+BI,CzBxKDgT,CyBwKG,IzBxKHA,AoByIT,AK8BqC,CzBvKtB9oB,CADJ,GoB0IM,CAACi8I,YCaHnlJ,CAAnB,EA3CqF,CA2C9D,SDbF,IAA8B+hB,KAAK,CAAC/C,MAAN,CAAaomI,kBAA5D,CAAJ,EAAqF;AIiBvF,AJhBIrjI,AGgBJ,A5B5PA,A8B2QYvG,IL/BRuG,AzB5OA5wB,I8B2QQqqB,CL/BH,CAACwD,GpBzIKgT,GoByIX,AK+BgB,CL/BHvQ,CpBzIFuQ,AyBwKO,CzBxKD/pB,CAFJ,ALjGG,E8B2QMkjK,CL/BtB,AzB5OmB,CyB4OCppJ,AzB5OxB,I8B2QgC,CL/B5B,AK+B6B6rJ,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,EAAtB,CAFqB;ADZ3C,AHFE//I,ADdC,AGgBH,AEeYjK,EJjBViK,KAAK,CIiBKjK,EJjBF5jB,CAAC,CAAC,CrBvJGgyB,AqBuJJ,AIiBM,CJjBf,CIiBiB,GzBxKJA,CAAM/xB,AyBwKEkrK,MAAM,CAAC8C,GAAX,CAAe,IAAI9C,MAAM,CAACyC,IAAX,CAAgB,EAAhB,EAAoB,GAApB,EAAyB,EAAzB,CAAf;AzB3KF,AwB6JjB,AHFE3/I,AEEF,A5B7PA,A8BwQ2C,EJbzCA,E1B3PE78B,C0B2PC,EIasB,CJbnB4O,AIaA,CJbC,CAAC,CAAD,CAAP,W1B3PqB,GAAG,CAA1B;A6B8PA,AHFEqmK,ADdAtkJ,AGgBF,AEgBQ,EJlBNskJ,ADdAtkJ,KAAK,CAACsjI,GKgCK+nB,CLhCX,CCcW,EDdE,CCcCv/I,ADdd,AKgCM,CAAWggJ,IJlBE,CAACl/K,EIkBd,CAAmB,EJlBX,CAAY2xJ,EIkBIguB,WAAxB,YJlBQ,KAAgC,EAA9C;ArB5Ka,AwB+Kf,AHFE3H,ADdD,AGgBD,A5B9PA,A8B+QQ,CLnXR,CCgWEA,E1B5PEt1K,CKkDa,MqB0MN,AImBEk9K,GJnBCtgJ,GAAG,CAACt/B,E1B5PE,G0B4PN,A1B5PS,A8B+Qf,CJnBgB2xJ,A1B5PxB,yB0B4Pc,KAA8B,EAA1C;AGGF,AJnWA,AGmWA,AEkBQ,ILlCJgF,MKkCUkpB,ELlCF,EpBxII,CoBwID,EKkCM,GAAG,ILlCAlpB,AKkCI6lB,MAAM,CAACsD,CLlCpB,CAAkB/+F,SAAlB,AKkCS,CAAuB,CLlCH,IKkCQtnE,MAA5B,EAAoC;ADjB5D,AHFE,ADdA,AGgBF,A5B/PA,A8BiRYsmK,I9BjRRp9K,E0B6PEq1K,ADdA3mK,CAAC,CKkCK0uK,ELlCFh/F,EpBxII,GqBsJC,CAACxgF,E1B7PE,CyB+OhB,AKkCqB,EzB1KT,ALvGO,A8BiRI,CJpBvB,A1B7PF,E0B6PwB,CrBtJV,CAASy5I,QAAT,EAAmB;AwByJjC,AHFI,AEEJ,AEgB4D,OAApC,CAAhB,GJlBGtoE,CrBtJG7uB,KqBsJG,CrBtJHA,CAAOo3F,CqBsJD0X,OrBtJN9uG,CAAgBm3F,QAAAA,CAASzgI,CAAzBspC,KACFA,GqBqJwBzf,GrBrJxByf,CAAOo3F,AqBqJC,CAAqB36G,GAArB,CAAhB,EAA2C,CrBrJnCujB,CAAgBm3F,QAAAA,CAASxmI,CAAzBqvC,CADEA,IAEFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS7mI,CAAzB0vC,CAFEA,IAGFA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS3oI,CAAzBwxC,GAA6B;AwBsJzC,AHFM+0H,ADdJ,AGgBF,A5BhQA,A8BmRQ,I9BnRJh1K,E0B8PEg1K,GDdGvmK,CAAP,AKmCY2uK,ELnCF,ECcE,C1B9PC,C8BmRK,CzBxKD,AqBmJFtuG,C1B9PC,C8BmRK,E9BnRvB,E0B8PuB,AIqBI8qG,CJrBH,CAAD,CAAjB,GIqB2B,CAACuC,IAAX,CAAgB;ADlBvC,AHFM1T,ADdFh6J,AGgBJ,AEkByC2tK,ILlCrC3tK,CAAC,CCcCg6J,ADdAzU,EKkCmCooB,GJpB9B,CDdP,AKkCyC,EJpB/B1/I,AIoBiC,CLlChC,CAAX,CCca,CAAC2qF,CrBnJG,KADF,GqBoJL,CAAc5pH,KAAd,EAAqBqxE,MAAM,CAACrxE,KAA5B,CAAR;AGGN,AJhBIgR,AGgBJ,A5BjQA,A8BkRuC,ILjCnCA,AzBjPAxO,CyBiPC,EKiCkB,CLjCfwO,AKiCA,CLjCC,CAACgf,KpBrIO2pH,CoBqIb,IzBjPgB,GK4GHA,AL5GM,CK4GGzgI,CAFP,CL1GnB;A6BkQA,AHFM,ADdH,AGgBH,AEkBQymK,MAAAA,IJpBE38I,EIoBI,CAACw9D,EzBvKEm5C,AqBmJX,EAAW,IIoBT,CAAgB6lC,CzBvKP7lC,CAASxmI,CAHP,IyB0KX;ADjBR,AHFQ6vB,AEER,A5BlQA,A8BqRQ,I9BrRJvgC,I0BgQIugC,GIqBKo7I,EJrBA,ErBnJIzkC,CqBmJD,AIqBR,CJrBS32G,AIqBE67I,KJrBG,CrBnJLllC,CAAS7mI,AyBwKlB,CzB5KW,AqBuJM,AIqBE6sK,CJrBX,C1BhQW,G0BgQG,A1BhQA,C0BgQtB,AIqBA,E9BrRR;A6BmQA,AHFO,ADdL,AGgBF,AEoBQ,OJxBF,EDZGj/F,EKoCIo+F,EJtBA,ErBnJInlC,EqBmJAqxB,CDdf,GKoCM,CJtBc,CrBnJLrxB,AqBmJM1gC,CrBnJGjoG,AyByKA,IAAImrK,CJtBb,CAAa,CAAC,CAAd,EIsBmB,CAACuC,GJtBC,CIsBZ,CAAgB,KJtBzB,IAAgC1T,KAAK,CAAC/xD,MAAN,CAAa,CAAC,CAAd,MAAqB,OAAzD,EAAkE;ArBxJ5D,AwB2JnB,AHFQj2E,ADdP,AGgBD,A5BnQA,A8BuRY27I,CLhYZ,GzByGIj8K,I0BiQIsgC,AIsBI27I,IAAI,CJtBH,CIsBK,C9BvRH,C0BiQC,CAAR,C1BjQU,GAAlB;A6BoQA,AHFO,AD3WP,AG6WA,AEkB0C,ILlCtCnoB,GKkCsB,CAAlB,aLlCa,GAAG,SAASA,iBAAT,CAA2B91E,SAA3B,EAAsC;AIiB9D,AJhBE,AGgBF,A5BpQA,A8ByRQ,I9BzRJ/9E,EyBoPEqtB,KKqCO+uJ,CLrCD,GAAGr+F,AzBpPA,GAAG,GAAlB,C8ByRQ,ELrCgB,CAAC1wD,AKqCE,IAAImsJ,ELrC7B,IKqCmC,CAACj+I,KAAX,EAAnB;ADpBR,AHFM,AEEN,AEsBQ,UJxBEq5I,CIwBGuH,IzB5KI,GqBoJC,GIwBV,CAAgBt+E,EJxBA82E,MIwBhB,CAAyB,GJxBC,EIwBIyH,CJxBD1H,UIwB7B,CJxBwC,CAACxM,UAAU,EAAX,CAAX,IAA6B,EAAhD,CAAZ,EAAiE;ArBlKvD,AwBqKhB,AHFQI,ADdN,AGgBF,A5BrQA,A8B4RQ,I9B5RJroK,GKgGY,CqBmKRqoK,CDdCj7I,EKuCIouJ,G9B5RC,CyBqPC,CCcC,AIyBR,C9B5RS,A8B4RES,EJzBA/7I,ADdA9S,CzBrPnB,I8B4RQ,CLvCiB,AKuCE,CLvCDA,GCcG,CAACsnJ,AIyBEwH,ELvC9B,EAAgC,MCcL,AIyBrB,CJzBW,IAA0B,CAArC;AGGR,AHFQrH,ADdJ,AGgBJ,AEuBK,QJzBGA,KrBnJO,IqBmJE,GAAGH,ErBnJL,KAAA,CAASt0I,EqBmJM,CAACi2E,ErBnJhB,EAAgB,EqBmJX,CAAkB,CAACgyD,QAAQ,GAAG,EAAZ,EAAgB/qK,MAAlC,CAAZ;AGGR,AHFQw3K,ADdJ1nJ,AGgBJ,A5BtQA,IyBsPIA,AzBtPAntB,I0BoQI60K,EDdE,CAACnhB,EzBtPE,EKiHI,CqBmJD,A1BpQA,CyBsPZ,ECceghB,A1BpQnB,CyBsPoB,CAAhB,MCcuB,CAACp0I,MAAT,CAAgB,CAAhB,MAAuB,GAAvB,GAA6B,EAAEo0I,QAAQ,CAACp0I,MAAT,CAAgB,CAAhB,IAAqB,GAAvB,CAA7B,GAA2D,CAAtE;AGGR,AJhBInT,AGgBJ,IHhBIA,MAAM,CAACymI,EpBrIIzzH,KAAAA,CAAM9pB,CADJ,IoBsIb;AIiBJ,AHFQ,ADdJ8W,AGgBJ,A5BvQA,IyBuPIA,AzBvPAltB,MyBuPM,ECcE40K,CrBnJG10I,AoBqIFhT,KpBrIEgT,ALlHG,CKkHG7vB,AoBqIF,CpBvIF,AqBqJT,ADdY6c,CzBvPC,C0BqQC,E1BrQtB,EyBuPI,SKsCe;ADrBnB,AHFUunJ,ADdP,AGgBH,AEuBQ,UJzBEA,CIyBGn+J,EzB5KE4pB,IyB4KP,CzB5KOA,AqBmJG,CrBnJGlwB,CAHJ,AyB+KK,CJzBDykK,CIyBb,OJzBqB,CAACt+D,MAAT,CAAgB,CAAhB,CAAX;AGGV,AHFS,AEET,A5BxQA,A8BgSQ,I9BhSJl2G,M8BgSU68K,GzB7KC58I,EyB6KI,GzB7KJA,AyB6KO,CzB7KDhyB,CyB6Kb,M9BhSkB,GAAG,GAA7B;AK+GiB,AwB0JjB,AJhBE,AGgBF,AEyBQ,SLzCC0vE,CKyCKm/F,KAAK,GLzCjB,AKyCoB,EAAd;ADxBR,AHFQ9U,ADdP,AGgBD,A5BzQA,CyB/GA,GzB+GI/nK,I0BuQI+nK,MAAM,GAAGjoI,C1BvQC,GAAG,GAArB,G0BuQ2B,CAACy0I,QAAD,CAAnB;ArB3KQ,AwB8KhB,AHFQC,ADvXR,AGyXA,AEyBQ,ILzCJ9gB,CpBnNa,GqBiOT8gB,GI2BK,IJ3BE,AI2BEzpK,CAAC,EJ3BAwpK,CI2BG,CAAb,EAAgBxpK,CAAC,ELzCA,CCcC,AI2BE6xK,CJ3BD3mE,CDdC,GKyCpB,EJ3BU,AI2BiBlrG,CJ3BD,AI2BE,CJ3BDg9J,CI2B3B,CLzC6BrU,CKyCG,GJ3BC,GAAG,EAAV,EAAcx2J,MAA9B,CAAV,GDdoB,CAA+BwgF,SAA/B,EAA0C;AIiBtE,AHFQ1gF,ADdN,AGgBF,A5B1QA,A8BoSY,I9BpSRiD,I0BwQIjD,CDdC,CAAC0gF,GpBpIK,AqBkJF,AI4BItnE,GJ5BDk4I,GDdP,AK0CG,CAAYhkJ,GL1CDozE,CK0CX,CAAiB,C9BpSH,C8BoSd,E9BpSiB,GyB0PG,AzB1PhC,CyB0PiCi2E,GAAV,IAAiBD,ECcR34F,SAAhB,GAA4By5G,OAAO,ADdU,CCcTt3K,ADdUwgF,MCctD,GDd+D,CAAC1wD,MAAX,CAA3D;AIiBF,AJhBC,AGgBD,CH3XA,WpBuOc,SAAA,IAAA,CAAS2pH,QAAT,EAAmB;AwBqJjC,AHFQ,AD1XR,AG4XA,A5B3QA,A8BqSY,IL1CRid,AzB3PA1zJ,QKuHUs/C,AqBkJF,CAACg1H,AI4BI,IAAIx9I,CzB9KPwoB,ALvHI,A8BqSI,CzB9KDo3F,CqBkJb,C1BzQa,A8BqSI,CJ5BH,AI4BV,E9BrSZ,A8BqS4B5/G,CL1CH,AK0CI,EzB9KfwoB,CAAgBm3F,AoBoIF,AK0CIkmC,KAApB,EAA2B7lJ,CzB9KT2/G,AyB8KU,CzB9KDzgI,AoBoIF09I,CpBpIvBp0G,AyB8KF,EAAgC,GzB7KhCA,MAAAA,CAAOo3F,QAAPp3F,AoBmIgB,CpBnIAm3F,AoBmI+Bj5D,QpBnI/Bi5D,CAASxmI,AoBmIT,CpBnIhBqvC,CADEA,AoBoIwD,IpBlI1DA,MAAAA,CAAOo3F,QAAPp3F,CAAgBm3F,QAAAA,CAAS7mI,CAAzB0vC,GAA6B;AwBmJzC,AHFU,ADdR,AGgBF,AE2BgB,SL3CPk+B,MK2CYtnE,EzB7KF,CoBkID,CAACy9I,EK2CH,CAAY9oJ,CAAZ,EAAeT,CL3CtB,GAAoBwpJ,AK2Cb,CAAoBj4J,IAAI,CAAC2P,MAAL,EAApB,CL3C4B,CAACkyE,SAAS,CAACq2E,MAAX,EAAmBr2E,SAAS,GAAGA,SAAS,CAACyxB,QAAV,KAAuBzxB,SAAS,CAACs2E,OAAhE,CAAf,GAA0Ft2E,SAA9G,GAA0H,CAAjI;AIiBF,AHFU82F,ADdT,AGgBD,A5B5QA,A8BuSa,CLzZb,GzBkHIr0K,M0B0QMq0K,OAAO,ErBhJI,CqBgJDA,IrBjJD,ELzHO,C0B0QC,E1B1QE,E0B0QE5nB,C1B1Q/B,iB0B0QuC7yF,KAAR,CAAc0iG,IAAd,CAAX,IAAkCgY,SAA5C;AGGV,AJ/XA,AG+XA,AE2BS,IL3CL,WpBlIa99B,QAAAA,CAASzgI,CAFP;AwBqJnB,AHFU,ADdV49I,AGgBA,A5B7QA,A8BwSK,I9BxSD1zJ,U0B2QUpD,CrBhJG25I,AoBkIF,GAAG,AzB7PA,C0B2QC,E1B3QE,EK2HJA,CAASxmI,AqBgJF8rB,A1B3QxB,CKwHmB,EqBmJQ,ADdA63H,CCcC52J,MAAlB,EAA0B,MDdlB,CAAyB+2J,KAAzB,EAAgCC,aAAhC,EAA+C;AIiBjE,AHFYj4H,ADdV,AGgBF,SHhBS,CAACg4H,ECcEh4H,GrBhJK06G,AqBgJF,ADdA,ICcI69B,ADdAtgB,IpBlIFvd,CAAS7mI,EqBgJd,MDdH,KAA4B,CAAC,CAACmkJ,KAAF,KAAYA,KAAxC,GAAgD,CAAC,CAACA,KAAF,GAAU,CAA1D,GAA8D,CAAC,CAACA,KAAvE;ApBtIiB,AwBuJnB,AHFY90D,ADdX,AGgBD,A5B9QA,CyBpHA,GzBoHI9+F,Q0B4QQ8+F,EAAE,CAACtuF,CAAH,IAAQ2jK,M1B5QM,C0B4Qd,E1B5QiB,GAA7B;A6B+QA,AHFW,ADjYX,AGmYA,IHhBIrgB,uBAAuB,GAAG,GK0Cb,ML1CsBA,uBAAT,CAAiCC,UAAjC,EAA6CrkI,KAA7C,EAAoD;AIiBlF,AHFS,ADdP,AGgBF,A5B/QA,A8B0SQ,I9B1SJzvB,KyB+PK,CAAC8zJ,AK2CEsmB,IAAI,GAAG,GL3CC,CK2CZ,EL3Ce3qJ,GzB/PG,EyB+PE,CAACkhE,AzB/PA,GAA7B,GyB+PS,IAA8BlhE,KAAK,CAAC4jI,GAApC,IAA2C5jI,KAAK,CAAC4jI,GAAN,IAAa,CAAb,GAAiB,CAAjB,GAAqB5jI,KAAK,CAACwjI,MAAN,GAAexjI,KAAK,CAAC0jI,aAAN,EAAf,GAAuC1jI,KAAK,CAACskI,KAA7G,CAAP;AIiBF,AJhBC,AGgBD,AE4BQ,CLjaR,SKiac3iI,KzB/KG,GyB+KK,GAAG,IAAIsnJ,KAAK,CAACxhI,WAAV,CAAsB,CAAtB,EAAyB,EAAzB,EAA6B,CAA7B,CAAjB;AzB3LO,AwBgKf,AHFQ,ADpYR,AGsYA,A5BhRA,A8B6SQ,IL7CJ88G,AzBhQA/zJ,GKgHW,GyB6LDsxB,CL7CH,CCcC4iJ,EDdE,AzBhQA,GAAG,CAAjB,A8B6SsB,GJ/BD,AI+BI,EL7CFngB,EK6CM0kB,CJ/BHxE,IDdZ,AK6CoB,CL7CH92F,AK6CI/1C,EJ/B3B,EAA2B,KDdrB,EAA4B,MK6CjB,CAA4B;AD5BrD,AHFUsgI,ADdR,AGgBF,AE4BuDjoI,QAAAA,CL5C9C09C,CCcCuqF,GrBhJK,AyB8K6C,EAAE,GJ9B5C,ADdA,CAAC/2E,ECcEoiF,CrBhJN,CoBkIN,GAAiBxiB,CpBlIX,CAAS9wH,IoBkIQ,CpBlIjB,AoBkIkB09C,EpBlIF,AqBgJI,CAAC7gF,MAAD,ADdO,CAACo0F,CCcCwrE,IAAT,CDdF,CCciB6X,GDdG52F,OCclB,EAA2B82F,ADdA,CAACngB,KAAV,CCclB,CAAd,CDdkDx4J,GCcG,CAAhE,ADdiE,CAAC8V,GAAL,CAAS+rE,SAAS,CAACi2E,GAAV,IAAiBj2E,SAAS,CAAC62E,IAA3B,IAAmCnH,QAA5C,CAAlB,IAA2E,CAA/F,CAAD,CAA9B;AIiBF,AHFS,ADdR,AGgBD,A5BjRA,A8B4SqD,CLnarD,GzBuHI5sJ,G8B4SqB,CAAjB,CJtD+D,CAyB7D,KrBhJO,AL/HF,GAAG,CAAlB;A6BkRA,ADAA,AE4BQ,WAAK80C,EzB9KEtV,EyB8KP,GzB9KOA,AyB8KK,CzB9KC9pB,CADJ,EyB+KO8iK,KAAK,CAACtnI,IAAV,CAAehgB,QAAf,EAAyBG,QAAzB,CAAZ;AD3BR,AJhBA,AGgBA,A5BlRA,A8B+SQ,I9B/SJpxB,O8B+SSm8C,EzB/KE5c,ALhIF,GAAG,A8B+SR,C9B/SR,A8B+SmBjwB,CzB/KJiwB,CAAM7vB,CAFJ,AyBiLT,CAAe,KAAKmlC,IAApB;AD5BR,AHFQ6pD,AEER,AE8BQ,QJhCAA,EAAE,AIgCI29E,CJhCHtnB,ErBhJIx1H,CqBgJP,GAAS,CrBhJFA,CAAMlwB,AyBgLE,GAAG,IAAIkpK,KAAK,CAACrxI,iBAAV,CAA4B;AzBnLrC,AwBsJjB,AHFUorH,AEEV,A5BnRA,A8BgTwD/yH,I9BhTpDt/B,I8BgToDs/B,EJ/B9C+yH,GI+BmD,EJ/B9C,AI+BgD,EJ/B9C5zD,C1BjRC,C0BiRC,CAACq2D,C1BjRC,CAArB,C0BgRiB;AGIjB,AHFUj0I,AEEV,AE4BsD,OAA5B,CAAlB,EJ9BEA,CAAC,EAAEymJ,KAAK,IAAIH,UAAU,KAAK,CAAxB,GAA4BG,KAA5B,GAAoC,GAFhC;ArBnKF,AwBwKf,AHFU,AEEV,A5BpRA,A8BiTQ,I9BjTJrnK,O8BiTSo8K,G9BjTC,E8BiTN,C9BjTS,CAAjB,C8BiTqB,IAAI/D,KAAK,CAACtnI,IAAV,CAAehgB,QAAf,EAAyBorJ,SAAzB,CAAb;AzBrRS,AwByPjB,AHFU3sK,AEEV,AE8BQ,UJhCEA,CAAC,AIgCEysC,EJhCAqrH,GIgCL,CAAWl4J,GAAX,CJpCS,AIoCM,KAAKgtK,KAApB;AzBzRN,AwB4PF,AHFU7uK,AEEV,A5BrRA,A8BoTQ,CzB9agB,CAAxB,EL0HItN,M0BmRMsN,AIiCIiuK,CJjCH,EAAEzH,QAAQ,A1BnRA,G0BmRGA,A1BnRA,CAAxB,A8BoT6B,GAAG,IJjCA,AIiCIsE,GJjCDjR,EIiCM,CAACzjH,GJjCrB,GAAuByjH,MAAM,GAAGE,IIiCrB,CAA8B,CAA9B,EJtCf,AIsCgD,EAAjC,EAAqC,EAArC,CAAxB;AzB9KR,AwBgJA,AHFU97J,AEEV,AEgCQ,IzBhLJkiE,MAAAA,AqB8IMliE,AIkCIiwK,CJlCH,ErB9IP/tG,AqB8ISruC,KrB9ITquC,AqB8Ic,CrB9IlB,GqB8IsBruC,GIkCO,EJlCF,CIkCK,EJlCF,CAAjB,CIkCuBg5I,EJlCFn9K,GIkCO,CJlCH,AIkCI8rC,CJlCHx2B,KAA1B,GAAkC,QIkCf,CAA4B;AzB/K5D,AwBgJA,AHTiB,AESjB,A5BtRA,A8BqT8D+1B,IzB/K1D2vG,ALtIAh2I,I8BqT0DqmC,CJxCtD,GrBvIJ2vG,GAAAA,CLtIY,C8BqTuD,E9BrTpD,A8BqTsD,CzB/KrEA,ALtIJ,CKsIA,EyB+K4D;AD9B5D,AHFO,AEEP,AE8B+E72G,QAAAA,KAAK,EAAE,QAA1B;AzB7K5D,AwBgJA,AHFK,ADdLw0H,AGgBA,A5BvRA,A8BoTgGryH,IzB7K1F20G,ALvIFh2I,I8BoT4FqhC,IAAI,CzB7K9F20G,CoBgIQ,AK6CwFkiC,EzB7KpF,CoBgID,AzBvQA,E8BoT0F,C9BpTvF,A8BoTwFl6K,C9BpT5G,IKuIMg4I,CoBgIoB0d,QpBhIR,GAAW,GoBgIZ,CAAwBC,QAAxB,EAAkC1kI,KAAlC,EAAyC;AIiB1D,AJhBE,AGgBF,AE4B4D,ML5CtDpjB,CAAJ,AK4C8B,CAAxB,KzB5KK;AwBiJb,AHFIwyF,AEEJ,A5BxRA,A8BqTQ,IJ/BJA,A1BtRAp+F,EKyII41I,AqB6IF,CAACzoI,CAAH,GAAOlR,AI+BEo5B,GzB5KLugH,EqB6IQ,AI+BR,CzB5KW15I,EqB6IAg/B,AI+BE,E9BrTA,C0BsRC,CAAC/+B,AI+BE87K,C9BrTD,CAAxB,CKyImB/7K,CAAUC,CyB4KC,CJ/BnB,AI+BoBw0C,GJ/BCzV,CrB7Ibh/B,AyB4KE,CAAek/K,CJ/BD,CrB7IG,AqB6IFv1D,CrB7IjB3pH,GAAuBuiD,KqB6IV,CrB7IUA,AqB6IIxiD,CrB7IG4V,EyB4K5B,EJ/BW,AI+BqBwpK,EJ/BAngJ,CrB7IXujB,CAAeviD,CqB6ID,CAACC,MAAzB,CrB7IUsiD,AqB6I/B,CrB7IQviD,CyB4KE,CJ/B8C,AI+B3D,CzB5K8DA,CqB6IlE,CAlDoB,CAkD+C,MrB7IDA,CAAU,CAAVA;AwBgJtE,AHFG,ADdD,AGgBF,AE8BQ,GJnFN,GDqCI8yB,GpB/HG6lH,AqB6IA,EDdE,AK8CEh5F,CL9CD83G,EpB/HEje,EyB6KN,CL9CF,AK8Ca1mI,GAAX,CL9CaggB,AK8CE,KL9CG,AK8CEqG,CL9CDu+H,IpB/HI,AyB6KvB,IL9Ca,IAAkB,CAAC5kI,CpB/HAgnH,IoB+HK,CAAC6d,CpB/Hf,EAAiB,CoB+H9C,EAAkD;AIiBpD,AHFIz1D,ADdA,AGgBJ,A5BzRA,A8BuTK,IJhCDA,A1BvRAn+F,E0BuRE,CAACkW,CrB7IC6/H,AqB6IJ,GAAO0lB,GrB7IH1lB,CAAOC,AqB6IA,C1BvRC,GAAG,C0BuRC,A1BvRpB,CK0IQD,CAAcJ,OqB6IX,CrB7IHI,GAAyB,AqB6IA96G,GAAG,KAAK,MAA9B,GAAuCo0I,gCAAvC,GAA0ED,uBAAjF;AGGJ,AHFG,ADdCzjK,AGgBJ,IHhBIA,CAAC,GAAGwnJ,KpB/HKve,KAAKmB,MAAAA,CAAOE,MoB+HM,CAACwd,MpB/HM,EoB+HE,CAACI,OpB/HM3d,AoB+Hf,EAAD,EAAqBnnH,KAArB,CpB/HO,AoB+HlC,EpB/HuDulH,cAArB,EAAqC;AwBgJ3E,ADAA,A5B1RA,IAAIr0I,YAAY,CK2ICi2I,EL3IE,CAAnB,OK2IiBA,CAAWC,IAAXD,CAAgBP,QAAhBO;AwBgJjB,AHFE,ADdE,AGgBJ,MFFMuX,EDdE,CAAC1+H,KAAK,CAAC6kI,IAAP,IAAeE,CCcT9oI,IAAR,CAAaiQ,ADdU,AK6ChB,CL7CiB,CAAD,CCcvB,CAAJ,ADd+BlM,ECcR,GDda,CAAC0jI,aAAN,EAAJ,EAA2B9mJ,CAA3B,CAAN,GAAsCojB,KAAK,CAACgkI,MAA5C,GAAqD3G,QAAxE,EAAkF;AIiBtF,AHFIjuD,ADdEpvE,AGgBN,A5B3RA,A8ByTQ,IJhCJovE,A1BzRAj+F,E0ByRE,ADdA6uB,CCcClf,CAAH,EIgCQ,CJhCD,ADdA,CpB/HCgmI,AqB6IR,ADdQ75F,CCaa,CACX,CIgCGy8E,E9BzTA,CyB2QX,CAAa9sH,CpB/HPkqI,AoB+HN,AzB3Qc,CAApB,A8ByTQ,CL9Cc,CK8CG,EzB7KA,CoB+HnB,IpB/HMA,IAAsBxoE,MAAAA,KAAW,OAAO;AwBgJpD,AHFG,ADdE,AGgBL,AE+BY,qBzB9KSA;AwBgJrB,AJhBG,AGgBH,A5B5RA,A8B2TS,GLzDiD,CAUtD,AzB5QAltE,aK6Iam0I,IL7II,GAAG,CAAxB,SK6IkCA;AwBgJlC,AHFE,AEEF,OFFOkgB,GAAL,GAAWr2D,EAAX,CA9GqF,CrB/BtE+3C,AqB6IA,arB7IaA;AwBgJ9B,ADAA,A5B7RA,A8B4TQ,I9B5TJ91I,O8B4TSwhD,IAAL,EzB9KSpD,EyB8KI,IzB9KJA,AL9IM,A8B4Tf,CzB9KgB22F,EL9IE,CAA1B;A6B8RA,AHFE,ADdA,AGgBF,MHhBMmd,GCcGn0D,EAAP,GDdY,CAACs1D,QAAD,CAAR,CAAmBzB,GAAnB,IAA0ByB,QAAQ,CAACE,QAAnC,IAA+CF,QAAQ,CAACC,KAAT,IAAkBD,QAAQ,CAACG,IAA1E,IAAkFH,QAAQ,CAACd,GAA/F,EAAoG;ApBvIhG,AwBwJN,AHFC,ADdG,AGgBJ,A5B9RA,A8B6TQ,CJlcR,G1BqIItyJ,M8B6TQ,KAAK64K,QAAL,E9B7Ta,GAAG,A8B6TEt+K,C9B7T9B,Q8B6TQ,EAAiC;AD9BzC,AHpaA,ADoZI,AGgBJ,AEgCY,IJlCRg5K,IDdIngB,KpB9HKj1G,AyB8KI47H,GLhDD,CAACxmB,CKgDL,CzB9KCp1G,AyB8KUp+B,CzB9KH+0H,CqB4IC,ADdb,EKgDI,CJlCY,ADdAse,AKgDI,KAAK0lB,GLhDD,CAAChrE,QAAT,CKgDZ,CLhDR,EAAyC;AIiB7C,AHFE7kF,ADdI3d,AGgBN,A5B/RA,A8B+TS,EJlCP2d,E1B7REhpB,C0B6RC,CDdCqL,CCcC,ADdA,GAAG8nJ,CCac,ODblB,GzB/Qe,GAAG,CAAxB;AKmIE,AwB6JF,AHFElqI,AEEF,EFFEA,MAAM,EAAE,MAFc;AGKxB,AHFEH,ADdI,AGgBN,A5BhSA,A8BgUQ,EJlCNA,E1B9RE7oB,E0B8RE,EAAE,CrB3ICs1I,EyB6KIqjC,CJrCW,CDXXvtK,CAAC,CAACqmJ,GAAT,CKgDE,CLhDY,EKgDI,G9BhUC,E8BgUIpwG,C9BhUD,CAA5B,E8BgUQ;AzBlMR,AwBmKA,AHFEv4B,ADdM1d,AGgBR,AEiCQ,CzBpMR,CqBiKE0d,KAAK,CDdC1d,CCcC,ADdA,CAACkoJ,CKiDGv/G,IJvCW,AIuChB,CAAU9rB,CLjDV,MAAe,CAAf,AKiDA,CAAmB3Z,GLjDClD,CAAC,AKiDrB,CLjDsBooJ,AKiDE,KAAK0mB,ILjDT,CAAY9uK,CAAC,CAAConJ,GKiDV,CAAgBvqI,ELjDpB,CAApB,CADY,CAC+B,GKiD3C;ADhCR,AHFEtW,AEEF,A5BhSA,A8BkUQ,EJpCNA,E1B9RE1R,I0B8RI,EAAE,CIoCG8zC,E9BlUA,E8BkUL,C9BlUQ,A8BkUEt1B,G9BlUlB,O8BkUQ,CAAqBnQ,IAArB,CAA0B,KAAK4rK,UAAL,CAAgBz7J,UAA1C;AxB5cR,AuB2aA,AHRwB,ADRhBrT,AGgBR,AEmCQ,CJ7cR,GpBDIyqI,ImB2ZIzqI,CAAC,EKmDIowK,CLnDDpwK,CAAC,CAACqmJ,EnB3ZV5b,AwB8cI,CLnDA,AKmDW5tH,ExB9cf4tH,KAAAA,CAAJ,AwB8cQ,CAAoBvnI,IAApB,CAAyB,KAAKysK,WAAL,CAAiB9yJ,QAA1C;AxB5cR,AuB0aA,AH3aA,AD2ZO,AGgBP,A5BjSA,A8BqUQ,IxB9cF6tH,AoBwaFw9B,A1B/RApzK,O8BqUSs7K,ExB9cP1lC,GAAY,AwB8cV,CAAWr3H,Q9BrUM,E8BqUjB,C9BrUoB,A8BqUEnQ,G9BrU9B,C8BqUQ,CJtCyB,AIsCE,GJtCC,EIsCIysK,OJtCKzH,IIsCV,CAAiB70J,UAA5C,cJtC4B,CAAuChkB,KAAvC,EAA8C;AGGlF,AHFE,ADdG,AGgBL,AEqCQ8mD,MJvCFmZ,AIuCEnZ,KJvCG,GpBxaG,AoBwaA9mD,KAAK,CAACigE,GpBxaN,EoBwaA,CAAY,CIuCG,CAAC,CJvChB,CAAZ,GpBxaY,AwB+cqBjf,CxB/cZ9mC,CAAT,EAAY/F,CAAZ,CwB+cgB,CxB/cDL,AwB+ca4/E,CxB/c5B,EAAkB,CwB+cF,CAAiB,IAAjB,CAAD,CAArB;ADpCR,AHHE,AEGF,A5BlSA,A8BwUQ,I9BxUJhuF,E0BgSEtF,CAAC,CpBxaGk7I,EAAAA,AoBwaAr7E,CIwCGtf,ExBhdE9gD,EoBwaA,CAAC,CpBxaDA,AoBwaA,CpBxaKK,AoBualB,CIyCM,CAAc8gD,GxBhdPnhD,CAAWqa,CAAAA,ANwID,C8BwUjB,CAAqB,CxBhdC,ANwIF,EMxIbra,CNwIf,C8BwUkC+gD,ExBhdE,GwBgd5B,EAAiC,KAAKj5B,MAAtC;ADrCR,AHJE,ADZE8wI,AGgBJ,AEsCK,ILtDDA,ECcE/nJ,CAAC,CpBvaGsJ,CAAAA,CoBuaAimD,EpBvaI/lD,AmByZF,CnBzZEA,AmByZD8+I,ECcE,CpBvaG,AoBuaF,CAAD,CpBvaD9+I,AoBuaJ,CDdN,EnBzZmBra,CoBuaD,ADdA,CAACuxJ,EnBzZAvxJ,CAAKK,CoBqa1B,IpBraqBL,AmByZnB,CnBzZ8Bqa,AmB6YoE,CnB7YpEA,AmByZD,GnBzZK,EAAfra;AuB0avB,AJhBG,AGgBH,A5BnSA,IAAI8F,IMtIM4f,CAAAA,GAAIzR,CAAAA,IAAK,MAAMK,CAAXL,YNsIsB,GAAG,GAAvC;A6BoSA,AHFE,ADdD,AGgBD,CH/aA,KC6aM1T,CAAC,CpBvaG2R,CAAAA,GAAI+B,AoBuaF,CpBvaEA,IAAK,AoBuab,IAAe1T,CAAC,CpBvaI4Z,CAAAA,GAAI7F,AoBuaH,CpBvabL,OoBuaR,IAAiCpD,CAAC,KAAK,MAAvC,IAAiDA,CAAC,KAAK,OAA3D,EAAoE;AGGtE,AHFI,AD9aJ,AGgbA,A5BpSA,IyBoRIuoJ,AzBpRArzJ,IMrIM+K,CAAAA,GAAImD,CAAAA,IAAK,CmByZD,GAAG,EnBzZK,CAAC,MAAMkG,AmByZHi/I,CnBzZJ,IAAY9kJ,CAAxBL,ANqIsB,GAAG,GAAvC,EyBoRqB,CAAwB2kJ,QAAxB,EAAkC1kI,KAAlC,EAAyCvG,QAAzC,EAAmD0rI,UAAnD,EAA+D;AIiBpF,AHFIl5J,ADdF+zB,AGgBF,EHhBEA,AKxEkCmsJ,EJsFhClgL,GDdG,CnBxZGkS,AmBwZF8e,CnBxZE9e,AoBsaD,GpBtaK,AoBsaF9R,CpBraN,AoBqaF,CpBraG0T,AmBuZL,CnBvZI,EAAInD,CAAJ,AmBuZYumJ,EnBvZL3xI,CAAP,CADQ,EAER,CAACxT,CAAD,EAAI+B,CAAJ,EAAOyR,CAAP,CAFQ,EAGR,AmBqZ6B,CnBrZ5BA,AmBqZ6BwO,CnBrZ9B,EAAIjgB,CAAJ,CmBqZ6B,CnBrZtBnD,AmBqZX,CnBrZI,CAHQ,EAIR,CAAC4U,CAAD,EAAIxT,CAAJ,EAAO+B,CAAP,CAJQ,EAKR,CAACnD,CAAD,EAAI4U,CAAJ,EAAOzR,CAAP,CALQ,EAMR,CAACA,CAAD,EAAIyR,CAAJ,EAAOxT,CAAP,CANQ,EAORupI,EAPQ;AuByad,AHFIl7I,ADdF2zB,AGgBF,A5BrSA,EyBqREA,ECcE3zB,A1BnSAyF,C0BmSC,EDdE,CCcC6K,ADdAukF,CCcJ,EpB9ZO,GmBgZT,GAAe6/D,MAAM,CAACtnI,MzBrRM,EyBqRE,CzBrRC,EyBqREuG,CzBrRnC,IyBqRwC,CAAColI,MAAlB,CAArB;AIiBF,AHFIzoJ,ADdFqjB,AGgBF,EHhBEA,ECcErjB,AIqCEswK,CJrCD,EDdE,CCcChhL,ADdAk1F,CnBhZChjF,CAAAA,CAAE,CAAFA,AmBgZP,CnBhZOA,AoB8ZL,EDdW4iJ,CnBhZC,GADL,EmBiZU,CAAC/gI,KAAK,CAACkhE,MAAN,IAAgBlhE,KAAK,CAAC0jI,aAAN,KAAwB53J,IAAI,CAAC8V,GAAL,CAASoe,KAAK,CAAC09E,SAAN,EAAT,CAAxB,IAAuD,CAAvE,CAAD,CAAnB;AIiBF,AHFG,AEEH,A5BtSA,IAAI3rG,KM1HKoM,CAAAA,CAAE,CAAFA,CAAAA,GAAO,GAFL,QN4HgB,GAAG,GAA9B;A6BuSA,AJhBEwkJ,AGgBF,EHhBEA,OnBhZOxkJ,CAAAA,CAAE,CAAFA,CAAAA,GAAO,ImBgZI,CAACumJ,QAAD,EAAW1kI,KAAX,EAAkB,QAAlB,EAA4B,OAA5B,EAAqC0kI,QAAQ,CAACW,KAAT,GAAiB,QAAjB,GAA4B,CAAjE,CAAlB;AnBnZS,AuBoaX,AHFEn5F,AEEF,A5BvSA,E0BqSEA,E1BrSEl6D,G0BqSG,CAAC,CAAD,CAAL,GAAW6yK,c1BrSc,G0BqSG,A1BrSA,C0BqSCx4K,CAAD,CAAjB,A1BrSb,I0BqSqCA,CAAnC;ApBpbgB,AuBublB,AHFE6/D,ADdAw4F,AGgBF,EFFEx4F,ADdAw4F,CnBvagB,IoBqbX,CAAC,CAAD,CAAL,ADdQ,CAACY,ECcEuf,KDdX,GAAmB7kJ,KAAnB,ICc4B,CAACrjB,CAAD,CAAjB,IAAwBA,CAAnC;AGGF,AHFE,ADdAwoJ,AGgBF,A5BxSA,EyBwREA,EzBxRElzJ,K0BsSKi6D,GDdG,EnB/YE,AoB6ZA,CAACze,CDdCg3G,EzBxRE,C0BsST,CAAW,C1BtSC,EMvHP,AoB6ZL,CAAP,C1BtSF,KyBwR8B,CAACC,EnB/YjB,CAASv9I,CAAT,EAAYjB,CAAZ,CmB+YgB,CnB/YDhI,CAAf,AmB+Y2B8hB,EnB/YT,GmB+YF,CAA5B;AIiBF,AHFC,ADdC,AGgBF,CF1bA,OpB2BUhkB,CmB+YD0oJ,EnB/YC1oJ,GAAMlQ,GmB+Yd,CnB/YcA,CAAKkQ,GAALlQ,CAASqb,CAATrb,EAAYoa,CAAZpa,EAAeoS,CAAfpS;AuBgahB,AH3bA,AD2aC,AGgBD,A5BzSA,CyBjJA,GCwbIi5K,A1BvSA7yK,IMtHM+J,GAAAA,GAAMnQ,IAAAA,CAAKmQ,EoB6ZA,CpB7ZLnQ,CAASqb,ANsHF,CMtHPrb,AoB6ZQ,EpB7ZIoa,ANsHF,CMtHVpa,EAAeoS,CAAfpS,ANsHhB,G0BuSiCi5K,iBAAT,CAA2Bjf,KAA3B,EAAkC1jI,IAAlC,EAAwC;AGGhE,AHFE,ADzbF,AG2bA,IHhBImjI,ECcEnjI,EpB7ZIyJ,EoB6ZA,CAAC+1H,EpB7ZD/1H,GAAQ5vB,AoB6ZZ,GpB7ZYA,CoB6ZEmmB,CDdC,CnB/YGpmB,EoB6ZA,ADdA,CCcC4lJ,KAAL,CAAW+C,EDdEY,GCcb,KAAqBnjI,IAAI,CAACw/H,IDdtB,CCciB,ADdUA,CCcCiD,IAAlD,ADdsB,ECckC,ADdAG,SAAlC,EAA6CtkI,KAA7C,EAAoDqhI,cAApD,EAAoE;AIiB5F,AHFI,ADdFyD,AGgBF,A5B1SA,EyB0REA,EzB1RErzJ,IMrHIgU,AoB6ZArZ,CpB7ZAqZ,GAAAA,AmB+YI,CAACy7I,CCcC,GpB7ZNz7I,AoB6ZSic,CDdL,EAAQ4iI,CCcC,CAACpoJ,CAAlB,G1BxSsB,GyB0Rd,AzB1RiB,CyB0R3B,GzB1RF;A6B2SA,AHHI,AEGJ,QtB/ZQwD,AoB6ZAwvB,CpB7ZAxvB,GAAAA,CoB6ZK,GAAGtT,CpB7ZRsT,KoB6Zc,CAACwvB,KADnB;AGIJ,AHJI,ADZF,AGgBF,A5B3SA,IAAIx9B,EyB2RE,CAACwvJ,CCcCsU,IDdI,CCcC,ADdAtR,GCcGxiI,C1BzSC,G0BySG,A1BzSA,C0BySCuL,ADdnB,CCYE,CDZmB,CzB3RvB;A6B4SA,AHLI,ADXA,AGgBJ,QtB/ZQ1xB,AoB6ZAgmB,GpB7ZAhmB,AmB+YG,CAAP,CCcS,GpB7ZG,AoB6ZAnP,GpB7ZG,GoB6ZG,CAACyzJ,KAHnB;AGMJ,AHNI,ADVD,AGgBH,A5B5SA,IAAIluJ,I0B0SIq6J,EpB7ZE7gI,EoByZN,GpBzZMA,GAAQ5vB,YNmHY,GAAG,E8BoUd,E9BpUnB;AMpHI,AuBiaJ,AHPI,AEOJ,AEyBQ,QJ3BA+oK,GpB7ZG,AwBwbEqG,KAAL,GAAa,IJhCjB,AIgCqBjC,MAAM,CAACkC,KAAX,EAAb;ADxBR,AHRI,ADRF,AGgBF,A5B7SA,A8BuUQ,I9BvUJh5K,EyB6RE,CAACouB,CCcC1lB,CANJ,EIkCSqwK,CL1CP,CnB/YO,GmB+YGzpB,AK0CR,CAAW2pB,IL1CE,CAAC9lB,EK0Cd,CL1CF,AK0CqB1mJ,GAAnB,CAAuB,CL1CD6iJ,AzB7RA,A8BuUtB,EAA0B,C9BvUD,A8BuUzB,EL1C2B,AK0CE,CL1CDiD,AK0CE,C9BvUtC,A8BuUQ,GL1CsB,IAAcjD,KAAK,CAACN,IAAN,CAAWoE,IAAX,KAAoB,KAAlC,IAA2C,CAAC9D,KAAK,CAACiD,IAAP,IAAejD,KAAK,CAACN,IAAN,CAAWoE,IAA7F,KAAsG5F,kBAAkB,KAAK6F,OAAO,CAAC7yG,KAAzI,EAAgJ;AIiBlJ,AJhBI8sG,AGgBJ,AE2BQ,IL3CJA,OnB/YOpY,AwB0bE6jC,GxB3bA,CmBgZE,CAAC9wK,AK2CR,CAAWixK,GL3Cf,CAAiB5pB,KAAjB,CK2CI,GAAwB,IAAIwnB,MAAM,CAACqC,eAAX,EAAxB;AD1BR,AHFI,AEEJ,A5B9SA,A8B0UQ,I9B1UJl5K,I0B4SI2jK,GpB7ZG,AwB2bEgX,CxB7bA,CoB+ZA,KAAK,KAAV,EI8BA,EJ9BmBhX,CI8BG,C9B1UD,C8B0UrB,EJ9BwB,A1B5SA,IAAhC,C0B4SqC,IAAjC,EAAuC;AGG3C,AHFMtmI,ADdFgyH,AGgBJ,AE6BQ,IL7CJA,ECcEhyH,GDdG,CAACiyH,CnB/YC,AoB6ZA,AI+BEsrB,CJ/BD37B,GDdR,EK6CI,CL7CU,CCcZ,ADdawT,CK6CG,EJ/BA,AI+Bd,EJ/BF,IDdY,EAAYjD,cAAZ,CAAd;AnBlZS,AuBmab,AHFMijB,ADdF,AGgBJ,A5B/SA,IAAIxyK,E0B6SEwyK,KDdK,CAAP,SCciB,GAAG,CAAlB,I1B7SuB,GAAG,IAAhC;A6BgTA,AHFK,ADdF,AGgBH,AE6BQ,KJlCJ,MAGO,AI+BE,IAAIhqK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKmyK,MAAzB,EAAiCnyK,CAAC,EAAlC,EAAsC;AD5B9C,AHFMk7J,ADdL,AGgBD,A5BhTA,A8B8UY,CLteZ,GzBwJIzjK,E0B8SEyjK,KAAK,CIgCOpjB,EJhCJojB,E1B9SE,A8B8UM,GJhCH,A1B9SA,A8B8UM,CJhCLhqG,G1B9SpB,A8B8U6Bk9G,EJhCf,CAAY,GAAZ,AIgCqB,CJhC7B,AIgC8BuC,IAAX,CAAgB;AD7BzC,AHFM3wK,ADvcN,AGycA,AE8BgB4wK,IL9CZhmB,ECcE5qJ,CAAC,CpB7ZCmM,CAAAA,CoB6ZE+uJ,AIgCM0V,IxB7bF3vK,AwB6bM,CJhCL,CAAC9O,AIgCM,GxB7bH,CwB4bsB,EJ/BnC,MDdsB,GAAG,SAASy4J,wBAAT,CAAkChE,KAAlC,EAAyCoD,SAAzC,EAAoDjD,cAApD,EAAoErhI,KAApE,EAA2E;AIiB1G,AJhBE,AGgBF,A5BjTA,A8B+UgBjH,I9B/UZ/mB,EyBiSEmzJ,InB/YI,AwB6bMpsI,CxB7bLvT,CAAAA,GAAIhI,AmB+YA,CnB/YL,EmB+YQ0jJ,AK8CM,ExB7bJ/1H,AwB6bM,GL9CH,CAACo5H,AK8CMmkB,K9B/UD,CyBiSX,AK8CkB,CAACyC,C9B/UL,CyBiSC,CAAf,CK8CQ,C9B/U1B,A8B+U0C,CL9CL,CAAnB,GAAuB,CAAvC,AK8C8C//K,IAAI,CAAC2P,MAAL,KAAgB,GAAtB,CAAhB,EAA4C,MAAM3P,IAAI,CAAC2P,MAAL,KAAgB,GAAtB,CAA5C,EAAwE,IAAI,IAAI3P,IAAI,CAAC2P,MAAL,EAAhF,CAFe;AxB5brC,AuBiaJ,AHFM,ADfJ,AGiBF,AE8BgBomB,ML9CVikI,IK8CUjkI,CxB7bL,AmB+YA,ECcE,CDdCmjI,CnB/YC9+I,AoB6ZAlL,AIgCM,CxB7bNkL,AoB6ZF,CIgCU,EJhCJ,CAAC,CpB7ZCjK,AoB6Zf,AIgCqBmtK,EJhCJ,ADdA,CnB/YZ,EAAe,AmB+YA,CAAZ,AK8CmB,CAAC8C,EL9CJ,CAAhB,AK8CS,CAAe,EL9CJ,CADhC,CK+CwC9C,MAAM,CAACyC,IAAX,CAAgB,EAAhB,EAAoB,GAApB,EAAyB,EAAzB,CAAf;AD7BvB,AHFQnf,ADhBN,AGkBF,A5BlTA,A8B4UyC,I9B5UrC/5J,EyBkSEozJ,ECcE2G,CI4BiB,CxBzbf,AwBybE,EJ5BA,EpB7ZE,CAACxuJ,AoB6ZAg4J,CpB7ZAh4J,CmB+YE,EnB/YEiJ,CAAL,AoB6ZM,ADdAy6I,CCcC5mJ,CAAD,CAAZ,CpB7ZgB6wB,CmB+YC,CAACo4H,GzBlSG,GAAG,CyBgS9B,GzBhSF;AM9GW,AuBiaX,AJnBE,AGmBF,AE+BYnR,KxBhcD,CmBiZLoR,EK+CMpR,GxB9bD,AmB+YA,CK+CK,CAACs6B,CL/CH,CAHZ,aKkDU,CAAqBruK,GAArB,CAAyBjT,IAAI,CAAC2P,MAAL,EAAzB,EAAwC,IAAI3P,IAAI,CAAC2P,MAAL,EAA5C,EAA2D,CAA3D;AD9BZ,AHFQ,ADlBN,AGoBF,A5BnTA,A8BmVY,I9BnVR7I,EyBmSEw8F,EAJJ,EnB3YQ,EoB6ZEowE,CIkCK0N,CxB/bH,CAAC/lK,CAAAA,GAAIjB,CAAL,IAAU2lB,GoB6ZG,AIkCf,CJlCgB6gI,A1BjTA,A8BmVInyJ,G9BnVD,C0BiTJ,AIkCf,CJlCJ,AIkC6Bu4I,EJlCF,A1BjTnC,E8BmVY;AD/BZ,AHFUkyB,ADnBR,AGqBF,AEiCY,MLjDNhf,ICcIgf,GImCOqG,ELtDf,GKsDU,CAAWS,MJnCE,CImCb,CAAmBh5B,CJnCH,CAAlB,EImCE;ADhCZ,AHFU4Z,ADpBR,AGsBF,A5BpTA,A8BqVS,I9BrVL75J,EyBoSEozJ,ICcIyG,IAAI,GAAGA,EDpBf,ECoBmB,KAAK,E1BlTE,GAAG,IAA/B,Q0BkTiB,GAA6BsU,oBAA7B,GAAoDD,cAA3D;AGGV,AHFS,AEET,StBhaS;AuBiaT,AJhBE,AGgBF,A5BrTA,A8BsVQ,I9BtVJjuK,EyBqSEizJ,KKiDOymB,MLjDI,GzBrSG,CyBqSC5qB,EzBrSE,A8BsVf,GLjDkB,CAACkC,AzBrS3B,OyBqSE,EAAkC;AIiBpC,AHFQgf,ADdJ,AGgBJ,AEkCQ,QxBncA38J,AoB+ZA28J,CpB/ZA38J,CwBmcMsmK,ExBncF,GAAG,EwBmcM,GAAG,GJpCD,CAAC3/K,AIoCIs8K,MJpCL,AIoCW,CAACsD,CJpCHhgB,IAAT,CAAf,KIoCgB,CAAuB,KAAKrmJ,MAA5B,EAAoC;ADjC5D,AHFO,ADdH69I,AGgBJ,A5BtTA,A8BwVYyoB,ILlDRzoB,AzBtSAnxJ,I8BwVQ45K,CLlDH,EnBjZE,CmBiZC5nB,AzBtSA,GAAG,GyBsSG,CAAC,AzBtSnB,A8BwVuB,CLlDL,CKkDO,CLlDHnD,KAAK,CAAC0C,KAAV,EAAiBU,SAAjB,CAAd;AIiBJ,AHFK,ADdDgB,AGgBJ,AEgC4D,ILhDxDA,GKgDoB,CAAhB,KLhDK,GAAGjC,eAAe,CAACG,KAAD,EAAQ6B,WAAR,CAA3B;AIiBJ,AJhBIE,AGgBJ,A5BvTA,A8B0VQ,ILnDJA,AzBvSAjzJ,M8B0VU45K,G9B1VD,GAAG,A8B0VI,CLnDH,EKmDM,CLnDH7oB,AzBvSpB,G8B0V2BqlB,MAAM,CAACuC,IAAX,CLnDY,AKmDI,CLnDH/pB,KAAK,CAACoC,MAAP,EAAe+B,WAAf,CAA/B;AIiBJ,AHFI,AEEJ,AEkCyC6lB,QJpCjC5G,AIoCiC4G,GxBnc9B,CwBmckC,EAAE,SJpC3C,EAAqB;AGGzB,AHFM9I,ADdF,AGgBJ,A5BxTA,A8ByVuC,I9BzVnC7vK,E0BsTE6vK,CImCiB,CLjDf9c,AKiDA,CxBlcC7/I,CAAAA,GAAI,GADF,CmBkZM,ICcI,A1BtTA,C0BsTCrZ,ADdAm5J,EzBxSE,I0BsTH,A1BtTrB,E0BsT8B8a,KDd1B,EAAiC,OCchB,CAAf;AGGN,AJhBMlb,AGgBN,AEkCQ+mB,MLlDF/mB,AKkDE+mB,GxBncCxsK,CAFE,EwBqcG,CAACqtF,ELlDA,GAAG,GKkDV,CLlDcq4D,AKkDE2mB,KLlDlB,EKkDE;ADjCR,AHFM,AEEN,A5BzTA,A8B4VQ,I9B5VJv5K,KMxGK+I,CoB+ZCgmB,C1BvTC,A8B4VEopJ,CxBpcJpvK,ENwGK,CMxGC,AoB+ZT,CIqCE,CJrCS,AIqCE6vK,C9B5VnB,M8B4VQ,CAAmBc,MAAnB;AxBvcG,AuBqaX,AHFQ3qJ,ADdF,AGgBN,AEoCQ,QJtCAA,EDdE2/H,CKoDGmqB,EJtCA,CAACjK,CDdC,CAACxgB,CCcR,GDdE,CCcWx0J,ADdAo5J,AKoDb,GAAkB,GJtCC,CAAClkB,AIsCEonC,MLpDpB,AKoD0B,CAACuC,GLpDC/pB,CKoDZ,CAAgB,GJtCrB,ADdsB,CCcC,ADdAgD,QAAtC,EAAgD,CCcjC,CAAb;ApBzdU,AuB4dlB,AJhBQhD,AGgBR,A5B1TA,A8B8VYgqB,GxBhgBM,CNkKdz4K,IyB0SIyuJ,AKoDIgqB,IAAI,CLpDH,CAACzlB,AKoDI,K9B9VC,GAAG,EyB0Sd,EzB1SR;A6B2TA,AHFQ8d,ADdD,AGgBP,AEkC0C,OAAhB,CJpClBA,AIoCA,MxBlcM,SAAA,AoB8ZS,CAACn3K,MAAD,EAAS,CpB9ZlB,AoB8ZS,CpB9ZAqa,AoB8Zf,CpB9ZM,AoB2ZG,CAGmB,CpB9ZVjB,CAAZ,EAAehI,CAAf,EAAkB;AuBiahC,AJhBK,AGgBL,A5B3TA,A8BgWQ,I9BhWJ9K,IMrGIs8B,GAAAA,AwBqcKs8I,E9BhWA,CMrGC,ENqGE,GMrGGvkC,CNqGnB,E8BgWQ,GAAmB,IAAI2hC,MAAM,CAACj+I,CxBrcxB,CAAwB,CAAxB,EAA2B,AwBqcd,CxBrcb,CwBqcN,CxBrcoChkB,CAA9B;AuBiad,AJhBG,AGgBH,AEsCQ,UxBtcE,CwBscG4kK,IxBtcEtkC,MwBscP,CAAgBh6C,QAAhB,CAAyB,ExBtcvB,CAAwB/9D,EwBscIs8I,CxBtc5B,EAA6B,CAA7B,EAAgC9lK,CAAhC,IwBscF;ADrCR,AHFQ+b,AEER,A5B5TA,A8BmWQ,I9BnWJ5uB,I0B0TI4uB,EpB9ZE,CwBucGopJ,EJzCA,CAACxjD,CpB9ZC4f,CwBucP,C9BnWS,A8BmWEqkC,G9BnWC,C0B0TZ,GAAgB,A1B1TxB,A8BmWQ,CJzCA,AIyCmB,KAAKC,GxBvctB,CAAwBr8I,GAAxB,EAA6B,CAA7B,AwBucF,ExBvckCxxB,CAAhC;AuBiaV,AHFO,ADdL,AGgBF,AEuCK,MLvDC,CAAC0jJ,InBhZIlyH,CmBgZC,CAACk1H,QAAP,IAAmBW,iBAAiB,CAAC3D,KAAD,EAAQoD,SAAR,EAAmBtkI,KAAnB,EAA0BqhI,cAA1B,CAAxC,EAAmF;AnBjdnE,AuBkelB,AHFK,ADdD,AGgBJ,A5B7TA,GMrKkB,CNqKdzuJ,qBAAqB,GAAG,IAA5B;A6B8TA,AHFG,ADdC,AGgBJ,sBtB/ZsB,SAAA,kBAAA,CAASo8B,GAAT,EAAcg4G,cAAd,EAA8B;AuBgapD,AHFC,ADdE,AGgBH,A5B9TA,C0BvKA,G1BuKIn0I,OMjGQm8B,GAAAA,IAAQg4G,ONiGK,GAAG,IMjGRA,ANiGpB,GMjGqC,AwBqclB,CxBrcPh4G,GAA+B;AArEzB,AuBqelB,AHteA,AEseA,AEuCQ,GxB5gBU,CoBmed,OIyCSrpB,MAAL,GAAc,EAAd;ADtCR,AHFA+9J,ADdE,AGgBF,A5B/TA,A8BuWQ,I9BvWJ5wK,EyB+SEsyJ,IKwDQ+mB,CLxDH,ECcE,EI0CM,CJ1CH,ADdAhnB,EKwDM,EAAd,ExBtcc,EN+FE,CyB+SlB,EzB/SqB,EyB+SEnlI,EnB9YP,AN+FtB,GyB+SM,IAAgCkhI,KAAK,CAACqD,KnB9YtB,CAASv1H,AmB8YO,GnB9YhB,EAAcg4G,AmB8YmB2V,QAAjD,IAA6D,CAAC2H,CnB9Y9C,EAA8B/4J,KAA9B,CmB8Y6C,CnB9YR,GmB8YsB21J,KAAK,CAACqD,MAArF,EAA6F;AIiB/F,AHFEggB,ADdErjB,AGgBJ,AEyCQ,EJ3CNqjB,EDdErjB,KAAK,CAACqD,AKyDI6nB,CxBvcH7gL,CoB4ZC,EAAE,CI2CK,CxBvcRA,AmB8YP,EKyDkB,CLzDH+4J,CKyDX,CxBvca3d,EoB4ZE49B,KDdK,KnB9YP59B,AoB4ZP,ADdmB0a,CCcC+W,EpB5ZEpxB,IoB4ZtB,EAA4B56I,KDdK,CCcjC,EpB5ZsB46I,AoB4Zc1+F,ADdAq0G,GnB9YG,CAA1CpxJ,CAAAA,GAAgDyjC,AoB4Z7C,ADdiC,ECca80I,CpB5ZD90I,AmB8YE,CAAjC,CAAxB,CnB9Y6D,AmB6Y8B,CAC9B,CnB9YE,EoB4ZrD,EAAwDkyH,IpB5ZKva,CoB4Z7D,EAA+D,SpB5ZZ;AuB+ZjE,AHFI,AEEJ,A5BhUA,IAAI5zI,I0B8TImuJ,KAAK,CAACx/H,IAAN,I1B9Tc,C0B8TC,E1B9TE,IAAzB,O0B8TI,EAAkC;ApBtepB,AuByelB,AHFM,ADdFw/H,AGgBJ,AEyCQ,CxBlhBR,GmBydIA,KAAK,CCcCxyD,ADdA02D,CKyDG,CJ3CD,GAAGgT,ADdX,AKyDa99J,CAAC,ELzDA8qJ,CKyDG,CAAb,CJ3Ca,CAACL,AI2CEzqJ,CLzDpB,AKyDqB,EJ3CV,CI2Ca6xK,EJ3CA,GI2CpB,CJ3CwBlgB,CI2CG3xJ,CAAC,EAA5B,EAAgC,aJ3CZ,CAAc89J,MAAM,CAACrT,GAArB,EAA0B34J,MAA1B,EAAkCk8C,QAAlC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD+7H,iBAAlD,CAAtB;AGGN,AHFM31E,AEEN,A5BjUA,A8B2WY,I9B3WR17F,E0B+TE07F,EAAE,CAACzhE,CAAH,GAAO62I,AI4CIn+J,E9B3WF,GAAG,C8B2WN,CAAY9L,CJ5ClB,C1B/TN,E8B2WY,CAAiB,EAAjB;ADzCZ,AHFM60F,ADdF,AGgBJ,MFFMA,EAAE,ADdAwyD,CCcCka,EAAH,EDdO,CCcC,ADdA1V,CCcC,EAAT,EDdF,EAAiB;AIiBrB,AHFMh3D,ADdA02D,AGgBN,A5BlUA,A8B4WY,I9B5WRnyJ,E0BgUEy7F,ADdA02D,ECcE,CAAClE,EDdE,EzBlTE,A8B4WI,CJ5CX,ADdQ,EzBlTE,C0BgUCA,AI4CI36H,CL1DH6+H,AK0DI,E9B5WtB,C8B4WyB,CJ5CnB,AI4CM,CL1DN,CK0DsB7+H,CAAC,GAAG6lJ,KAApB,EAA2B7lJ,CAAC,EAA5B,EAAgC;ADzC5C,AJhBK,AGgBL,AE2CgB,eAAK5gB,MAAL,CAAYrL,CAAZ,EAAeT,IAAf,CAAoBzO,IAAI,CAAC2P,MAAL,KAAgB,EAApC;AD1ChB,AHFMq9J,AEEN,A5BnUA,A8B8Wa,I9B9WTllK,E0BiUEklK,MAAM,CAAChN,C1BjUC,GAAG,E0BiUX,CAAcvxJ,C1BjUpB,G0BiUM,CAAmByuC,QAAnB;AGGN,AJhBI44G,AGgBJ,AE2CS,IL3DLA,KAAK,CAAC+C,KAAN,GAAc,CAAd;AIiBJ,AHFM,ADdF/C,AGgBJ,A5BpUA,A8B+WK,IL3DDA,AzBpTA/tJ,KyBoTK,CAACmwJ,GCcG,CAAP,EDdF,GAAeE,AzBpTA,GAAG,EyBoTlB,EzBpTJ;A6BqUA,AHFK,ADdDnC,AGgBJ,IHhBIA,cAAc,IAAIsE,SAAS,CAACzE,KAAD,EAAQ,SAAR,CAA3B;AIiBJ,AHFG,ADdCxyD,AGgBJ,A5BrUA,IyBqTIA,AzBrTAt7F,EyBqTE,GAAG8tJ,KAAK,CAAC6D,GAAX,MzBrToB,GAAG,IAA3B;A6BsUA,AHFE,AEEF,iCE0CiB;ADzCjB,AJhBI,AGgBJ,A5BtUA,A8B+WiB,I9B/Wb1xJ,OyBsTOq7F,EAAP,CzBtTU,CyBsTC,EzBtTEx7F,UAAjB;A6BuUA,AJhBMw7F,AGgBN,MHhBMA,EAAE,CAACjoF,CAAH,CAAK2+I,KAAL,EAAY12D,EAAE,CAACppF,CAAf;AIiBN,AJhBMopF,AGgBN,A5BvUA,A8BgXQ,I9BhXJp7F,EyBuTEo7F,EAAE,EKyDIu7E,CLzDDv7E,EAAE,CAAC4zD,AKyDE,C9BhXD,E8BgXI,C9BhXD,CyBuTZ,EKyDE,C9BhXR;A6BwUA,AJhBK,AGgBL,AE0CQ,WAAKjlG,OAAL,GAAe,EAAf;ADzCR,ADAA,A5BxUA,A8BmXQ,I9BnXJ9pD,O8BmXSi5K,W9BnXS,GAAG,A8BmXjB,CAAoBz/F,G9BnX5B,I8BmXQ,CAA4B,UAAAq4D,GAAG,EAAI;AD1C3C,AJhBI,AGgBJ,AE4CY,QL5DJ,CAACggB,GK4DSnkI,EL5DV,IAAUigI,EK4DQ,GL5DH,AK4DM,CL5DL0E,GK4DS2iB,KL5DzB,AK4D8B,CAAC10H,GL5DH,CAACqtG,KAAK,CAAC2E,SAAnC,AK4DqB,CAA8B,CAA9B,EL5D2B3E,AK4DM,CAAjC,CAAjB,GL5DiD,CAAC1gE,MAA1D,EAAkE;AIiBtE,AJhBM,AGgBN,A5BzUA,A8BsXYv/D,I9BtXRztB,I8BsXQytB,K9BtXC,GAAG,A8BsXI,CAAChD,G9BtXrB,I8BsXY,CAAiB7yB,IAAI,CAACuP,EAAL,GAAU,CAA3B;AD5CZ,AJhBMumJ,AGgBN,AE8CY,ML9DNA,KAAK,CAAC0E,AK8DMxkI,QL9DZ,AK8DoB,CL9DLmrB,EK8DQ,IL9DvB,AK8D2Bg8H,CL9DLjkB,IK8DU,CAACptH,IL9DjC,EAAiC,IAAjC,EAAuClX,KAAvC,AK8DuB,CAA4B;AD7CzD,AJhBK,AGgBL,A5B1UA,A8BuX2DuP,I9BvXvD97B,M8BuXuD87B,KAAK,EAAE,G9BvX9C,GAAG,E8BuXkC,E9BvXzD;A6B2UA,ADAA,AE4C4EmC,UAAAA,IAAI,EAAE62I,KAAK,CAACl6K;AD3CxF,AJhBI6yJ,AGgBJ,A5B3UA,A8BsXyD,IL3DrDA,AzB3TAxtJ,KyB2TK,AK2DoB,CL3DnBmyJ,AK2DE,E9BtXA,GAAG,IyB2TX,AzB3TJ,KyB2TwBxE,cAAc,IAAIsE,SAAS,CAACzE,KAAD,EAAQ,UAAR,CAA/C;AIiBJ,ADAA,AE4CY,YAAMr8G,IAAI,GAAG,IAAI0jI,KAAK,CAACtnI,IAAV,CAAehgB,QAAf,EAAyBG,QAAzB,CAAb;AD3CZ,AJhBI,AGgBJ,A5B5UA,IAAIztB,IyB4TI6vJ,KAAK,IAAItC,EzB5TE,GyB4TG,AzB5TA,CyB4TCkC,GzB5TvB,IyB4TQ,IAA0B,CAAC/B,cAA3B,IAA6CH,KAAK,CAAC3kI,MAAvD,EAA+D;AIiBnE,AJhBMopI,AGgBN,AE4CY,ML5DNA,EK4DM,KAAI,CAACtoG,CL5DF,CAAC6jG,KAAD,AK4DH,CAAarnJ,CL5DF,GK4DX,CAAkBgrC,IAAlB,EL5DG,CAAT;AIiBN,AJhBK,AGgBL,A5B7UA,IAAIjxC,gBAAgB,GAAG,IAAvB;A6B8UA,ADAA,AE4CY,QAAA,KAAI,CAACu4C,KAAL,CAAW7sC,GAAX,CAAeulC,IAAf;AD3CZ,AJhBI,AGgBJ,A5B9UA,A8B0XS,I9B1XLhxC,G8B6WI,CL/CA,CAACywJ,SAAS,GzB9TG,CyB8TCpD,EzB9TE,GyB8TG,CAAC0C,AzB9T5B,KyB8TS,IAA4BU,SAAS,GAAG,CAAzC,KAA+CpD,KAAK,CAACkE,KAAN,KAAgBA,KAAnE,EAA0E;AIiB9E,AJhBMlE,AGgBN,AE6CQ,ML7DFA,IK6DQwqB,CL7DH,CAACtmB,KAAN,IAAe3C,IK6DQ,GAAG,IAAI8lB,KAAK,CL7DH,AK6DI10H,CL7DHqtG,KAAD,EAAQ,CAAR,CAAhC,SK6D0B,CAA8B,CAA9B,EAAiC,EAAjC,EAAqC,EAArC,CAAxB;AD5CR,ADAA,A5B9UA,A8B4XQ,I9B5XJptJ,M8B4XU63K,c9B5XU,C8B4XK,E9B5XF,C8B4XK,I9B5XhC,A8B4XoCpD,KAAK,CAACrxI,iBAAV,CAA4B;AD7C5D,AJhBM,AGgBN,AE6C8DT,QAAAA,EL7DpD,CAAC4qH,MK6D4D,EAAE,IAAb,EL7DtD,EAAqB;AIiB3B,AJhBQsE,AGgBR,A5B/UA,A8B2X+Ep2H,I9B3X3Ex7B,IyB+TI4xJ,AK4DuEp2H,KAAK,EAAE,EL5DrE,CAAC2xH,KAAD,AK4D2C,EL5DnCA,AzB/TA,GAAG,EyB+TE,CAACkE,EzB/T/B,GyB+TyB,GAAc,YAAd,GAA6B,mBAArC,EAA0D,IAA1D,CAAT;AIiBR,ADAA,AE2CgG1zH,QAAAA,IAAI,EAAE62I,KAAK,CAACl6K;AD1C5G,AJhBQ6yJ,AGgBR,A5BhVA,A8B0X4D,I9B1XxDltJ,G8B0X4B,CL1DxBktJ,AK0DA,KL1DK,CAAC4E,KAAN,IAAe5E,EzBhUE,GyBgUG,AzBhUA,CyBgUC4E,IzBhU7B,CyBgUuB,EAAf;AIiBR,AJhBO,AGgBP,AE2CQ,WAAKngI,KAAL,GAAa,IAAI4iJ,KAAK,CAACtnI,IAAV,CAAeyqI,eAAf,EAAgCC,eAAhC,CAAb;AD1CR,AJhBK,AGgBL,A5BjVA,A8B6XQ,I9B7XJ13K,O8B6XSk4C,KAAL,CAAW7sC,GAAX,CAAe,I9B7XE,C8B6XGqmB,E9B7XA,G8B6XpB,E9B7XR;A6BkVA,AJhBG,AGgBH,AE4CK;AD3CL,AJhBC,AGgBD,A5BlVA,CyB5LA,GzB4LIzxB,uBAAuB,GAAG,KAA9B;A6BmVA,AJ/gBA,AG+gBA,IHhBI6xJ,mBAAmB,GAAG,SAASA,mBAAT,CAA6B94E,SAA7B,EAAwCqwB,QAAxC,EAAkDnrD,IAAlD,EAAwD;AIiBlF,AJhBE,AGgBF,A5BnVA,IAAIh+C,EyBmUEmrB,KAAJ,gBzBnUyB,E8B8Xd,C9B9XiB,KAA9B;A6BoVA,ADAA,AE0Ca;ADzCb,AJhBE,AGgBF,A5BpVA,IAAIlrB,EyBoUE+9C,IAAI,GAAGmrD,QAAX,EAAqB,KzBpUK,GAAG,KAA/B;A6BqVA,AJhBIh+E,AGgBJ,AE0CQ,IL1DJA,KAAK,CK0DG,EL1DA2tD,GK0DK+7C,ML1DI,AK0Db,CL1Dcg9B,CK0DG,KL1DrB;AIiBJ,ADAA,A5BrVA,A8BgYY,I9BhYR3xJ,wBAAwB,GAAG,KAA/B;A6BsVA,AJhBI,AGgBJ,AE2CS,WL3DEirB,KAAK,IAAIA,KAAK,CAACkhE,MAAN,IAAgBruC,IAAhC,EAAsC;AIiB1C,AJhBM,AGgBN,A5BtVA,IAAI79C,MyBsUM,CAACgrB,KAAK,CAAC6kI,EzBtUE,EyBsUT,CzBtUY,GyBsUG7kI,EzBtUzB,GyBsU8B,CAACoC,IAAN,KAAe,SAA9B,IAA2CpC,KAAK,CAACkhE,MAAN,GAAe8c,QAA9D,EAAwE;AIiB9E,AJhBQ,AGgBR,AE2CQ,WAAKnrD,IL3DE7yB,AK2DP,IAAa,CL3Db,GK2DA;AD1CR,AJhBO,AGgBP,A5BvVA,IAAI/qB,eAAe,GAAG,KAAtB;A6BwVA,ADAA,AE2CQ,UAAI,KAAKk1K,QAAL,KAAkBt+K,SAAtB,EAAiC;AD1CzC,AJhBMm0B,AGgBN,A5BxVA,A8BoYY,I9BpYR9qB,EyBwUE8qB,KAAK,EK4DMqrJ,CL5DHrrJ,IK4DF,CL5DO,AK4DI3O,CL5DH2xI,GK4DR,C9BpYY,A8BoYI,CL5DtB,EzBxUqB,E8BoYMonB,G9BpYjC,U8BoYY;AD3CZ,AJhBK,AGgBL,AE4CS;AD3CT,AJhBG,AGgBH,A5BzVA,GyB+TE,CzB/TEj1K,KyByUK,ezBzUe,GAAG,KAA3B;A6B0VA,AJhBI6qB,AGgBJ,AE4CQ,IL5DJA,KAAK,EK4DImqJ,CL5DDx8F,OK4DJ,EL5Da,CAACg5E,AK4DE,KL5DpB,AK4DyB9zG,IAArB;AD3CR,ADAA,A5B1VA,A8BuYQ,I9BvYJz9C,O8BuYS83K,a9BvYW,C8BuYhB,CAAoBz/F,C9BvYD,KAA3B,C8BuYQ,CAA4B,UAACq4D,GAAD,EAAM9qI,CAAN,EAAY;AD5ChD,AJhBI,AGgBJ,AE8CY,QAAA,GL9DDglB,GK8DK,CAAC+9B,CL9DD,IAAI/9B,EK8DR,CAAahlB,CAAb,CL9Da,CAACkmF,AK8DEznE,ML9DR,EK8DR,CAAyB3Z,CL9DD+yC,GK8DxB,CL9DR,AK8DsCizF,EL9DA,CK8DG,CAACrsH,QAAlC;AD7CZ,AJhBM,AGgBN,A5B3VA,IAAIpkB,MyB2UM,CAAC2qB,KAAK,CAAC6kI,IAAP,GzB3Uc,CyB2UC7kI,EzB3UE,GyB2UG,CAACoC,CzB3U/B,GyB2UyB,KAAe,SAA9B,IAA2CpC,KAAK,CAACkhE,MAAN,GAAe8c,QAA9D,EAAwE;AIiB9E,AJhBQ,AGgBR,AE8CY,QAAA,MAAI,CL9DDh+E,AK8DE+9B,KL9DT,EK8DI,CAAa/iD,CAAb,EAAgBiV,UAAhB,CAA2BnQ,IAA3B,CAAgCgmI,GAAG,CAAC71H,UAApC;AD7CZ,AJhBO,AGgBP,A5B5VA,A8B0YS,I9B1YL3a,G8BqYI,iB9BrYgB,GAAG,KAA3B;A6B6VA,ADAA,AE+CQy9C,MAAAA,qBAAqB,CAAC,KAAK9F,MAAL,CAAY0yC,IAAZ,CAAiB,IAAjB,CAAD,CAArB;AD9CR,AJhBM3/D,AGgBN,A5B7VA,A8B6YQ,I9B7YJzqB,EyB6UEyqB,KAAK,AKgEE4sB,GLhEC5sB,KAAK,AKgEX,CLhEY+iI,AKgEE91G,I9B7YE,CyB6UlB,CKgEE,C9B7YmB,A8B6YE,K9B7Y7B,A8B6YkCJ,KAA1B,EAAiC,KAAKj5B,MAAtC;AD/CR,AJhBK,AGgBL,AEgDK;AD/CL,AJhBG,AGgBH,A5B9VA,IAAIpe,oBAAoB,GAAG,KAA3B;A6B+VA,AJhBC,AGgBD,CHviBA;AIwiBA,AJxiBA,AGwiBA,A5B/VA,IyB+UIoxJ,AzB/UAnxJ,YyB+UY,GAAG,KzB/UK,GAAG,CyB+UCmxJ,IzB/U5B,QyB+UmB,CAAsBj5E,SAAtB,EAAiCyxB,QAAjC,EAA2CynD,WAA3C,EAAwD;AIiB3E,AJhBE,AGgBF,EEnF8BylB,ILmExBtiK,MAAM,GAAG2jE,SAAS,CAACm2E,OAAvB;AIiBF,AJjBE,AGiBF,A5BhWA,IAAIpuJ,EyBgVEoxJ,GAAG,GAAG/F,MAAM,CAAC3hD,KzBhVK,GyBgVN,AzBhVS,CyBgVf,IAAoB,AzBhVhC,CyB+UE;AIkBF,AJhBEzxB,AGgBF,EHhBEA,EK6DI0/F,OL7DK,CAACxoB,IAAV,GAAiBiC,GAAjB;AIiBF,AJhBEn5E,AGgBF,A5BjWA,EyBiVEA,EzBjVEh4E,OyBiVO,CAAC2uJ,KAAV,GAAkB,CAACt6I,IzBjVI,EyBiVL,CzBjVQ,EyBiVE88I,GAAV,AzBjVpB,GyBiVoC98I,MAAM,GAAG,CAAT,GAAa,IAAb,GAAoB+2I,MAAM,CAAC+F,GAAG,IAAI98I,MAAM,GAAG,CAAb,CAAH,GAAqB2jE,SAAS,CAACs2E,OAAV,GAAoBj6I,MAA1C,CAA5D;AIiBF,ADAA;ACCA,AJhBE,AGgBF,A5BlWA,IAAIpU,EyBkVE+3E,SAAS,CAACg3E,KAAV,GAAkBmC,CzBlVC,EyBkVvB,CzBlV0B,CyBkVC,IzBlV7B;A6BmWA,AJhBIn5E,AGgBJ,IHhBIA,SAAS,CAACg3E,KAAV,GAAkBmC,GAAlB;AIiBJ,AJhBIn5E,AGgBJ,A5BnWA,IyBmVIA,AzBnVA93E,SyBmVS,CAACmuJ,MAAV,GAAmBl4J,EzBnVE,EyBmVE,CAACkQ,AzBnVA,GyBmVL,CAAS2xE,CzBnVhC,QyBmVyC,CAACq2E,MAAnB,EAA2Br2E,SAAS,CAAC22E,KAArC,CAAnB;AIiBJ,AJhBG,AGgBH;ACCA,ADAA,A5BpWA,IAAIxuJ,sBAAsB,GAAG,KAA7B;A6BqWA,AH/EgB,AD+Dd,AGgBF,CFpjBA,EDoiBG+wJ,WAAD,IAAgBtD,QAAQ,CAAC51E,SAAS,CAAC1wD,MAAX,CAAxB;AIiBF,AJhBE0wD,AGgBF,A5BrWA,EyBqVEA,EzBrVE53E,OyBqVO,CAACknB,MAAV,IAAoBsnI,IzBrVI,GyBqVG,AzBrVA,CyBqVC52E,IzBrV9B,KyBqV6B,CAA3B;AIiBF,AHFA,ADdE,AGgBF,SHhBSA,SAAP;AIiBF,AJhBC,AGgBD,A5BtWA,CyBhNA,GzBgNI33E,sBAAsB,GAAG,KAA7B;A6BuWA,AJvjBA,AGujBA,IHhBI+wJ,sBAAsB,GAAG,SAASA,sBAAT,CAAgCp5E,SAAhC,EAA2C;AIiBxE,AJhBE,AGgBF,A5BvWA,IAAI13E,KyBuVK03E,SAAS,YAAYq5E,EzBvVE,E8ByYd,C9BzYiB,GyBuV1B,EzBvVT,CyBuVyCzD,QAAQ,CAAC51E,SAAD,CAAxC,GAAsDi5E,YAAY,CAACj5E,SAAD,EAAYA,SAAS,CAACk3E,IAAtB,CAAzE;AIiBF,AJhBC,AGgBD,AEmCQ,CL5lBR,UK4lBah4G,KAAL,GAAa,IAAIo8H,KAAK,CAAC1mJ,KAAV,EAAb;ADlCR,AHFA2iJ,ADxjBA,AG0jBA,A5BxWA,A8B4YQ,IvB3lBFh2I,AkBuiBF+3H,AzBxVA/wJ,KO/MEg5B,EuB2lBO2d,CvB3lBP3d,IuB2lBE,CJtCS,ADdA,AKoDE1M,GJtCC,ADdA,CCcC,CAAD,EnBrjBd0M,AmBqjBkB,CAAJ,EAAO,AIsCnB,CJtCY,EAAU,AIsCE,CJtCZ,C1BtWY,C0BsWC,CAAb,AIsCgB+5I,C9B5YD,C0BsWC,CAAhB,CAzjBpB,CI+lByC,C9B5YzC,A8B4Y0C/5I,KAAV,CAAgB,QAAhB,CAAxB;ADnCR,AH5jBA,AD4iBEgyD,AGgBF,AEoCK,ELpDHA,ECcEikF,IDdI,EAAE,CADU,QlBtiBJ,MmBqjBS,GAAG,EA1jB5B;AG6jBA,AH7jBA,AD6iBEvnE,AGgBF,A5BzWA,EyByVEA,ECcEwnE,A1BvWAjvK,KyByVK,EAAEupJ,SCcS,GAAG,SAAS0lB,A1BvWA,GAAG,KAAnC,Q0BuWuB,CAA0Bn5K,KAA1B,EAAiC;AGGxD,AHFE,ADjBkB,AGmBpB,CH7jBA,QlBKSq5I,AmBsjBAr5I,KAAK,KnBtjBK86I,AmBsjBA,SnBtjBAA,CAAUhiE,KAAVgiE,CAAgB,IAAhBA,EAAsB75I,ImBsjBhC,IAAwCjB,CnBtjB9B86I,ImBsjBmC,KAAK,MAAlD,IAA4D,CAAC96I,KAApE;AGGF,AHFC,AD5jBD,AG8jBA,A5B1WA,C0BrNA,GD+iBIi7J,AzB1VA9wJ,cyB0Vc,GAAG,SAAS8wJ,EzB1VE,GAAG,A8B6YhB,K9B7YnB,IyB0VqB,CAAwBv5E,SAAxB,EAAmCl0D,QAAnC,EAA6C;AIiBlE,AHhkBA,ADgjBE,AGgBF,AEoCQ,IJtCJ4rJ,EDdEle,ElBxiBE,GuB4lBKkkB,CLpDD,ClBxiBC/lC,EkBwiBE33D,CKoDP,GAAa,CvB5lBb,GuB4lBiBy7F,CLpDD,ClBxiBC,AkBwiBAjiB,IKoDM,CAACmkB,CLpD9B,ClBxiB8B,GuB4lBX,EAAb,CJtC8B,GAAG,SAASjG,kCAAT,CAA4Cv4K,MAA5C,EAAoD;AGG7F,AHFE,ADfA,AGiBF,A5B3WA,A8BgZQ,I9BhZJuJ,E0ByWEivK,ADdAle,KKqDOikB,CvB7lBD,AkBwiBA,GAAG19F,ClBxiBCjuE,AuB6lBR,CAAW6rK,CJvCD,GnBtjBN,AmBsjBSnK,CnBtjBC,EkBwiBE,AKqDhB,CLrDiB9b,AKqDEvmJ,GAAnB,CAAuB,CAAvB,ELrDO,AzB3ViB,A8BgZE,CAA1B,E9BhZ2B,A8BgZE,CLrDDkoJ,AKqDE,CAA9B,G9BhZR,C0ByWyC,CAACn6J,MAAD,CDfvC,CCegDi0K,SnBtjBtC,KmBsjB6B,CAAvC;AGGF,AJlBE,AGkBF,AEsCQ,MLtDF1Z,KKsDOgkB,KAAL,CAAWG,ILtDE,GAAG79F,GKsDhB,GAAwB,GLtDC,CAACyxB,AKsDEgqE,MAAM,CAACqC,CLtDnB,MAAwBruB,OAAxB,CKsDQ,ELtD0BgK,AKsDlD,MLtDwD,CAACxpD,OAAP,CAAe,KAAf,CAAlC,GAA0DjwB,SAAS,CAACk3E,IAF1F;AImBF,AHFE,ADjBA,AGmBF,A5B5WA,A8BmZQ,I9BnZJvuJ,EyB4VE,GCcG8uK,EIyCI8H,cJzCY,AIyCjB,CJzCkB5H,EIyCI,EAAtB,E9BnZwB,GAAG,G0B0WV,CAAhB,C1B1WT,E0B0W0CJ,iBAAjC,GAAqDI,YAAY,CAACp/D,MAAb,CAAoB,CAApB,EAAuBt5G,KAAvB,CAA6B0xJ,iBAA7B,EAAsC/oH,GAAtC,CAA0CwrH,gBAA1C,CAA5D;AGGF,AHFC,ADdC/lJ,AGgBF,AEwCQ,CJ5mBR,CDojBEA,CAJA,MlBpiBOsqI,EuBgmBI6nC,MvBhmBIlvK,AuBgmBT,GAAcnS,CvBhmBD,GuBgmBK,CAACsV,CvBhmBDkkI,IuBgmBJ,CAAW,EvBhmBZ,CAAarnI,CAAb,CuBgmBiBnS,GvBhmBC,CuBgmBG,CAAC2P,MAAL,EAAhB,CAAd;ADvCR,AHrkBA,ADgjBE,AGqBF,A5B7WA,I0B2WI8pK,A1B3WAhvK,EyB6VEqM,MALJ,ECmBY,GAAG,SAAS2iK,M1B3WM,GAAG,C0B2WlB,CAAoBz4K,G1B3WrC,G0B2WiB,EAA4B04K,OAA5B,EAAqC;AGGtD,AHFE,AEEF,AEwCQ,MJ1CFvjJ,KAAK,AI0CE,GJ1CCn1B,CI0CGkO,CAAC,GAAG,CJ1CD,AI0CZ,CJ1CaulJ,CI0CGvlJ,CAAC,GJ1CX,AI0Cc,IJ1CE,CI0CGmyK,MAAzB,EAAiCnyK,CAAC,EAAlC,EAAsC,WJ1CNlO,MAAV,CAA5B;AGGF,AHHE,ADbA,AGgBF,A5B9WA,A8BuZY,I9BvZR0J,E0B4WEo5B,ADdAguH,KCcK,CI2CO9K,EJ3CJhmJ,CDdC,CAAC2sB,AKyDM,GAAG,CJ3CL,CAACmW,EI2CQw5I,CLzDd,CAAT,CCaJ,GI4CiC,CLzDLxqI,AKyDM+sI,E9BvZJ,E8BuZP,CLzDU,AzB9VA,A8BuZM,CLzDLlyJ,IzB9VpC,IyB8VmC,CAAL,IAAmBA,QAAQ,IAAI0tI,MAAvD,CAAJ,EAAoE;AIiBtE,AHJE,ADZE,AGgBJ,AEyCgBykB,MJ3CVvlK,II2CUulK,EJ3CJ,EI2CQ,CJ3CLvG,CI2CO,IADmB,6BJ1CQ,CAACv4K,MAAD,CAF/C;AGKF,AHLE,ADXEkO,AGgBJ,A5B/WA,A8BwZgBye,ILzDZze,AzB/VAvE,CyB+VC,CCcCwmB,EDdExD,EKyDQA,EJ9Cd,IDXc,CAAC2W,CKyDO,EAAE,GLzDlB,CAAgB,AKyDMg5I,CLzDtB,CAAJ,IKyDgC,CvBnmBvB,AuBmmBwByC,E9BxZJ,E8BwZP,C9BxZU,A8BwZM,K9BxZ1C,C8BwZgD//K,IAAI,CAAC2P,MAAL,KAAgB,GAAtB,CAAhB,EAA4C,MAAM3P,IAAI,CAAC2P,MAAL,KAAgB,GAAtB,CAA5C,EAAwE,IAAI,IAAI3P,IAAI,CAAC2P,MAAL,EAAhF,CAFe;ADtCzC,AHNE,AEMF,AEyCgBomB,MJ3CVo3H,II2CUp3H,GvBnmBL8lH,EuBmmBU,EJ/CnB,AI+CqB,IAAIyhC,KvBnmBhBzhC,CAAc,AuBmmBQ,CAACukC,GvBnmBvBvkC,AuBmmBY,CAAe,IAAIyhC,MAAM,CAACyC,IAAX,CAAgB,EAAhB,EAAoB,GAApB,EAAyB,EAAzB,CAAf;ADxCvB,AHPE,ADTE,AGgBJ,A5BhXA,A8BqZyC,I9BrZrCn1K,E0B8WEwnK,EDdEljK,CAAC,AKqDgB,CJ5CvB,AI4CU,ILrDE,GAAN,IAAaA,CAAC,KAAK,GAAvB,EAA4B,CzBhWC,GAAG,KAApC;A6BiXA,AHRE,ADRI,AGgBN,AE0CY83I,MJ5CN2yB,EI4CM3yB,IAAI,CL1DH,AK0DIs6B,CL1DHpyK,CAAC,CCQb,IDRkB,GAAN,GAAYosJ,EK0Dd,CAAqBroJ,GL1DD,AK0DpB,CL1DqBmiF,AK0DIp1F,IAAI,CAAC2P,CL1D5B,GAA4B2rJ,EK0DL,EAAzB,EL1DoC,AK0DI,CL1DHxpD,GK0DO9xG,IL1Dd,AK0DkB,CL1DHs7J,AK0DI3rJ,ML1DE,AK0DP,CL1DQqoJ,CK0DpD,EAA2D,CAA3D,GL1D6C,IAAkB,CAAjC,CAA7B,KAAqE/zH,UAAU,CAACtW,QAAQ,CAACysF,MAAT,CAAgB,CAAhB,CAAD,CAAV,IAAkC,CAAvG,CAAP;AIiBN,AJhBK,AGgBL,A5BjXA,A8B4ZY,I9B5ZRvvG,S8B4Zau2K,cAAL,CAAoB3yK,IAApB,C9B5ZqB,A8B4ZIu4I,G9B5ZD,C8B4ZxB,I9B5ZZ;A6BkXA,AHFE,AEEF,AE4CY,MJ9CN7wH,KAAK,CAAC6/I,CI8CKuJ,EJ9CX,GI8CM,CJ9COv+K,AI8CIg/K,MJ9CE,CAACvuI,AI8Cd,CAAmBu1G,IAAnB,GvBvmBI,ImByjBG,CAAoB,WAApB,CAAjB,EAAmD;AGGrD,AHFIorB,ADdAljK,AGgBJ,A5BlXA,A8B8ZS,IJ9CLkjK,ADdAljK,AzBlWApE,CyBkWC,GCcG,ADdA6iB,GCcG3sB,EnBzjBA66I,GkB2iBK,CCcC,ADdArtI,CCcCg2E,MDdV,CAAiB,ClB3iBdq3D,CAAc,AmByjBd,CAAiB+9B,ADdpB,CAAJ,ElB3iBO/9B,EAAoB,CPyMG,C0BgXvB,CAAyBg+B,CnBzjBzBh+B,APyM0B,KAArC,K0BgXW,GAAuCthI,MAA9C,CADiD,CACK;AGG1D,ADAA;ACCA,AHFIA,ADdA,AGgBJ,A5BnXA,A8B+ZQ,IJ9CJA,A1BjXAxP,IyBmWImE,CAAC,CCcC,CI8CGwxK,CL5DD,CCcC,ADdT,CCcUtO,CDdC,GCcG,CAACjgK,CAAN,EAASigK,CI8Cd,GJ9CkB,CAAChgK,CAAd,EAAiBggK,IAAI,A1BjXA,C0BiXC//J,CAAtB,C1BjXwB,C0BiXC+/J,IAAI,A1BjX1C,C0BiX2Cl4J,CAA9B,EAAiCk4J,IAAI,CAACp9J,CAAtC,EAAyCo9J,IAAI,CAACj4J,CAA9C,CAAT;AGGJ,AHFI,ADdE,AGgBN,AE6CQ,UL7DE,AK6DIwmK,CJ/CHpmK,CDdCoT,KCcK,AI+CI,CJ/CHg0B,EDdE,AK6DI,EJ/Cb,CAAY,CDdC05G,AK6DIiiB,EJ/CjB,IDdD,AK6DwB,CL7D5B,AK6D6BsD,CJ/CH,CDdC,SK6DT,CAAuB,EJ/CpC,GAAqCxH,AI+CI7+J,MAA5B,EAAoC,SJ/CjD,GAAyDA,MAAhE;AGGJ,AHFG,ADdK8gJ,AGgBR,A5BpXA,A8BiaYwlB,GJpDV,C1B7WE71K,IyBoWIqwJ,AK6DIwlB,CJ/CH,IAAItmK,CDdC,CAACoT,ICcI,AI+CI,EAAE,EL7DX,CCcUyrJ,ADdhB,GAAmB7d,MlB5iBZ,CPwMmB,GAAG,I0BkXxB,CDdL,AzBpWR,G0BkX6C,CAACv6J,MAAM,CAAC++I,YAAxC,IAAwD/+I,MAAM,KAAKqyK,WAAnE,IAAkF,CAACl9I,KAAK,CAAC6/I,GAA7F,EAAkG;AGG3G,AHFI,ADdG,AGgBP,AE2C4D,OAApC,CAAhB,KvBvmBG,KAAKx8B,OAAL,CAAa6B,UAAb,CAAwBS,KAAxB,CAA8B,IAA9B;AsB6jBX,AHFI,AEEJ,A5BrXA,A8BmaQ,I9BnaJ7wI,M8BmaU61K,E9BnaF,GAAG,C8BmaK,G9BnapB,A8BmauB,IAAIxD,MAAM,CAACuC,IAAX,CAAgB;AD7CvC,AHFIzN,ADdE,AGgBN,AE6CyC0N,IJ/CrC1N,IAAI,AI+CiC0N,GJ/C9Bh8I,CI+CkC,CL7DhCu3H,CK6DkC,EJ/C/B,CAACnU,EDdE,CAACv5H,ICchB,IDde,CAAb;AIiBN,AHFImW,ADdC,AGgBL,A5BtXA,A8BkauC,IJ9CnCA,A1BpXA54B,G8BkamB,CAAf,CJ9CC,CAACg8I,I1BpXI,G0BoXV,A1BpXa,G0BoXG,C1BpXpB,M0BoXI;AGGJ,AHFI/1H,AEEJ,AE6CQ2vJ,CvBjoBF19I,GmBklBFjS,EI+CI2vJ,IJ/CE,EI+CI,CJ/CD9/K,AI+CE2gG,MJ/CI,CAACw0E,CI+CZ,CAAgBwK,OAAhB,CJ/CJ;AGGJ,AJhBI7pK,AGgBJ,A5BvXA,A8BqaQ,IL9DJA,AzBvWA3L,MyBuWM,CK8DGo0K,EL9DA,EAAE5xJ,CzBvWC,A8BqaR,CAAWqyJ,E9BraA,IyBuWI,AzBvWvB,CyBuWwB17I,AK8DhB,CAAmBw8I,KL9DZ,CAAgB5xK,AK8DvB,CL9DwB,GAAG,CAApB,IAAyBye,QAAQ,CAACysF,MAAT,CAAgBlrG,CAAC,GAAG,CAApB,CAA3B,CAAT;AlB7iBJ,AsB8jBA,AHFI,ADdA,AGgBJ,AE+CQ,QJjDA,CnB5jBC6sI,AmB4jBA5qH,EDdEjiB,AK+DE+wK,CL/DD,GCcJ,ADdO,CAAJ,GCcQ,ADdA7kB,CCcCp6J,CIiDZ,GAAkB,EJjDA,CnB5jB1B,AmB4jB2B++I,CnB5jBC/+I,AuB6mBEs8K,KL/DG,ClB9iBjC,AkB8iBkCz7F,AK+DE,CAACg+F,CvB7mBD7jC,GmB4jBhC,AIiDsB,CAAgB,CJjDD,EDdR,ElB9iBjC,AkB8iB6CruH,ElB9iBEsuH,MkB8iBM,CAAC7hC,MAAT,CAAgB,CAAhB,ElB9iB7C,AkB8iBgElrG,CAAC,ClB9iBC,EkB8iBE,CAAvB,CAAZ,CAAd,GAAuD4H,MAA/D,GAAwEykJ,eAAe,GAAGzkJ,MAAjG;AIiBJ,AHFM6iK,ADdH,AGgBH,A5BxXA,A8BuaYmG,I9BvaR10K,E0BsXEuuK,EIiDMmG,CvB7mBHn/K,GuB6mBO,EAAE,EJjDF,GAAG,CAAb,CADmC,CACnB,C1BtXC,COtMCK,EPsME,IAA1B,EOtMgCg7I,WAAW;AsB+jB3C,ADAA,AE6C0C,OAAhB,CAAlB,CvB3mBC,SAAA,MAAA,GAAW;AsB+jBpB,AHFMmR,ADdJ,AGgBF,A5BzXA,A8ByaQ,I9BzaJ9hJ,E0BuXE8hJ,GDdGx/H,ClB9iBC,CuB8mBGuyJ,IvB9mBE1mC,EmB4jBE,ADdA,GCcGx4I,CDdC,AzBzWA,COrMX,AuB8mBF,CvB9mBek7I,CPqMC,CyByWf,AKgEkB,CJlDD,CAACiR,CnB5jBjB,AkB8iBkBoO,AzBzW5B,C8Bya+B+hB,IvB9mBE,EuB8mBI,CAACj+I,EJlDhC,EnB5jBkC,CuB8mBb,ELhElB,AKgED,GLhEsC,CAAC1R,QAA7C;AIiBF,AJhBC,AGgBD,AEiDQ,CL9oBR,UK8oBasyJ,IvB/mBE,KAAKzmC,CuB+mBZ,CAAgB73C,KvB/mBT,CAAaq6C,EuB+mBpB,CAAyB,KAAKkkC,CvB/mBvB,UuB+mBP;ADhDR,AHFM7M,AD5lBN,AG8lBA,A5B1XA,A8B4aQ,ILlEJ7X,AzB1WAlwJ,E0BwXE+nK,KIoDOkM,KAAL,CJpDS,AIoDES,CJpDDx/B,G1BxXG,CyB0WC,EzB1WE,A8B4ahB,CLlEiB,AKkEE,G9B5a3B,C0BwXM,CAAwBx/I,AIoDEi/K,ILlEEzkB,ECc5B,EALmC,CAKF,CIoD/B,YLlEiB,CAA4Br7J,KAA5B,EAAmCg4F,IAAnC,EAAyC;AIiBlE,AJhBE,AGgBF,AEkDK,SLlEIh4F,KAAK,IAAIA,KAAK,KAAK,CAAnB,GAAuBg4F,IAAI,CAACh4F,KAAD,CAA3B,GAAqCg4F,IAA5C;AIiBF,AHFK,ADdJ,AGgBD,A5B3XA,CyBrOA,GzBqOI5sF,QOnMQ4wI,WPmMW,GAAG,COnMC,GPmM3B,GOnMiCH,WAAWC;AsB+jB5C,AJjmBA,AGimBA,IHhBIgd,MAAM,GlB7iBG,AkB6iBA,KlB7iBKzf,IkB6iBIyf,GlB7iBT,CAAajd,EkB6iBb,CAAgB9rI,GAAhB,EAAqBC,ClB7iBrB,EkB6iBA,EAA0BhQ,KAA1B,EAAiC;AlBrjBH,AsBskB3C,AHFIoa,ADdF,AGgBF,A5B5XA,I0B0XIA,A1B1XA/O,CO1MuC,IkBsjBlCrL,CCcC,GAAGo5K,CDdC,GAAGrpK,EzB5WE,CyB4WV,EzB5Wa,CyB4WCA,GAAd,AzB5WT,GyB4W6B/P,IKiEZ,CLjEiB,GAAGgQ,GAAR,GAAcA,GAAd,CCckB,CAACnP,CDdCb,KCcF,ADd7C,CCcE;AGGJ,AJhBC,AGgBD,AEgDiB,CLnpBjB,QlBuCS,SAAA,MAAA,CAAS8T,CAAT,EAAY;AsB6jBrB,AHFI,ADlmBJ,AGomBA,A5B7XA,IyB6WIwnJ,AzB7WAhwJ,I0B2XI2mK,EnB1jBE,CkB4iBC,CCcP,EAAU,ADdA,ClB5iBC54B,KP+LK,EO/LV,CAAa0C,AkB4iBAuf,AzB7WA,IAAvB,CO/LU,EkB4iBI,CAAiBt7J,ElB5iBE,GkB4iBnB,EAAwB,ElB5iBE;AsB6jBxC,AHFM2jC,ADdJ,AGgBF,AEgDQ,MJlDFA,GDdG,CAAC3jC,AKgEE0+K,CJlDD,CAAC33B,EnB1jBE/K,AuB4mBE,CLhED,EKgEI,CLhED,CCcZ,CDdG,CKgED,CJlDci2B,ADdAh4D,ICchB,EDdG,ClB5iBoB,AkB4iBA,CAACn2E,KlB5iBK+3G,KkB4iBK,CAAC77I,KlB5iBK87I,AkB4iBN,CAAV,GAAoB,EAArB,EAAyB56I,MAA7C,CAAP;AIiBF,AHFK,ADdJ,AGgBD,A5B9XA,A8B+aQ,CLvpBR,GzBwOIqK,C0B0XA,MAEO,AImDEumD,EvB7mBAunF,KuB6mBL,GvB7mBa0C,AP8LA,A8B+aE,EAAf,C9B/agB,CAAxB,IO9L6B;AsB6jB7B,AHFM86B,ADrmBN,AGumBA,AEkDQ,ILlEJ/mK,ECcE+mK,GDdG,EKkEIoK,CLlED,SCcS,ADdAnxK,CCcCjP,GIoDd,CLlEI,AKkEgB2gF,CLlEDzxE,CCcN,EAAS,ADdlB,EAAoBC,CKkExB,CAA4B,CLlExB,EAAyBhQ,ECchB,CAAf,EDdM,EAAgC,AKkER65I,GAAG,EAAI;ADjD3C,AHFK,ADdH,AGgBF,A5B/XA,A8BkbY,I9BlbRruI,KyB+WK6vJ,GKmES3lI,QAAQ,GAAG,E9BlbJ,EyB+WE,AKmEMsnJ,CLnELh9K,AzB/WA,CAA5B,G8BkbsC,CLnEX,AKmEYsoD,ELnEJ,UAAUx0C,CAAV,EAAa,IKmEnB,CAA8B,CAA9B,EAAiC,CAAjC,CAAjB;ADlDZ,AJhBI,AGgBJ,AEoDY4hB,QAAAA,GvBhnBD2jH,AkB4iBAyf,KKoES,CLpEH,AKoEIpmI,CLpEH3iB,ClB5iBC8rI,EkB4iBF,EAAM7rI,CKoEX,CAAiBnQ,CLpEZ,EAAWiU,CAAX,AKoEgB,CLpE7B,AKoE8B1E,EvBhnBF0E,AuBgnBH,GAAU,CAA3B;ADnDZ,AHFI,ADdD,AGgBH,A5BhYA,A8BqbY,GLvEe,CAAzB,AzB9WErI,I0B8XI+tK,IIuDU3jJ,MJvDd,EAAgB,AIuDM,G9BrbH,A8BqbM,G9BrbH,CAA1B,A8BqbiCmnJ,KAAK,CAACrxI,iBAAV,CAA4B;AvBnoBd,AsB+kB3C,AHFM,ADdL,AGgBD,AEqDgBxF,CLhqBhB,SCymBU6mH,AIuDM7mH,IAAI,EAAE62I,KJvDhB,AIuDqB,CAACl6K,CJvDL,SIsDkC;ADnDzD,AHFQkuB,AD1mBR,AG4mBA,A5BjYA,A8BsbgBsY,ILrEZiyH,AzBjXA7vJ,I0B+XIslB,EDdE,AKqEMsY,GLrEH,AKqEM,CJvDL,CAAC2gH,AIuDM,CLrELn7I,EzBjXE,C8BsbOkuK,ELjqBzB,AzB2OqB,G8BsbS,C9Btb9B,A8Bsb+B5iE,EJvDvB,CAAoBv5G,MAApB,EAA4BmsJ,EIuDf,GAA0B71C,IAA1B,CAA+BkqE,CJvD5C,UIuDa;ADpDrB,AHFO,AD3mBP,AG6mBA,AEkDyD,ILlErD7lB,GCYE,EIsDuB,CAAjB,GJpDC,GDdG,CCcCxqI,EDdE,ICcN,EAAY,GDdGwqI,YAAT,CAAsBx7J,KAAtB,EAA6By7J,QAA7B,EAAuC;AlB3iB1D,AsB4jBA,AHFQzqI,ADdN,AGgBF,A5BlYA,A8BwbY,I9BxbRrlB,I0BgYIqlB,CnB1jBCirH,AkB4iBAj8I,GKsESs5C,EJxDJ,ADdA,CCcC+mG,C1BhYC,A8BwbM,ELtEJ0R,CzBlXC,A8BwbM,I9BxbzB,A8Bwb6BirB,GJxDrB,CnB1jBR,AmB0jB2Bn8K,ADdA,ClB5iBCA,AkB4iBAb,AKsEM,CAAC01C,IJxD3B,ADdmB,AKsEF,CvBlnBzB,AkB4iBS,AKsE+BhgB,EvBlnBJmmH,EkB4iBE,IKsEb,EAAyBhmH,CvBlnBlD,EAA+C,GkB4iBG71B,EKsEzB,CAAb,ELtEH,KAAmD,CAACy7J,QAAD,IAAa,CAACz7J,KAAK,CAACkB,MAApB,IAA8BlB,KAAK,CAACkB,MAAN,GAAe,CAAf,IAAoBlB,KAApB,IAA6B+xJ,SAAS,CAAC/xJ,KAAK,CAAC,CAAD,CAAN,CAAvH,KAAsI,CAACA,KAAK,CAAC07J,QAA7I,IAAyJ17J,KAAK,KAAK4yJ,IAA1K;AIiBF,AHFO,ADdN,AGgBD,CH/mBA,MC2mBa,EnBxjBJpyJ,ImB0jBI,WnB1jBWK,QAAQg7I,WAAW;AsB6jB3C,AHFQq3B,AD9mBR,AGgnBA,A5BnYA,A8BybY,ILtERvX,AzBnXA/vJ,I0BiYIsnK,AIwDI,CvBlnBH,GkB4iBG,EKsEI,CLtED,AKsEEphH,E9BzbA,COzLR,CmB0jBU,CAACw5F,A1BjYA,E8BybR,CAAah9I,CvBlnBhB,AkB4iBeqtJ,AzBnXxB,GOzLoB,AuBknBR,CAAkBriH,GJxDtB,CAAwBz4C,ADdjB,AKsEH,CLtEqB+6J,EAAlB,EAAsBC,CCc7B,WDdO,EAAoCC,WAApC,EAAiD;AIiBhE,AHFO,ADdL,AGgBF,MHhBMA,IlB5iBI,KAAKziB,EkB4iBE,KlB5iBP,AkB4iBY,ClB5iBC0C,IkB4iBI,ClB5iBjB,AkB4iBR,EAA4B,GlB5iBG,OAAO;AsB6jBxC,AHFK,ADdD+f,AGgBJ,A5BpYA,A8B0bY,ILtERA,AzBpXAjwJ,I8B0bQ,MAAI,CvBlnBD,AkB4iBA,AKsEE+0C,C9B1bD,EyBoXE,CzBpXC,COxLCy4F,AkB4iBhB,AKsEQ,CAAWtlI,E9B1bvB,C8B0bY,CAAeulC,EvBlnBZ,CAAauiG,CuBknBhB,QvBlnBG;AsB6jBf,AHFG,ADdA,AGgBH,AEsDS,OAhBD;ADrCR,ADAA,A5BrYA,A8B4bQ,I9B5bJ/vI,M8B4bUq0K,Q9B5bI,GAAG,IAArB,A8B4b6B,GAAG,IAAInD,KAAK,CAAC10H,mBAAV,CAA8B,CAA9B,EAAiC,EAAjC,EAAqC,EAArC,CAAxB;ADtDR,AHFE,ADdA,AGgBF,AEwDQ,SJ1DCixH,ADdA3d,CKwEKwkB,CLxEH,ClB5iBClkC,AkB4iBA16D,ICcI,GDdP,CCcWpnE,ADdA,KKwES,CJ1DH,CnB1jBC,AmB0jBAlZ,CI0DK,ELxEFlB,EKwEMg9K,CJ1DhB,EDdA,CCcgB,CAA3B,ADd4B,AKwEI,CAACrxI,EJ1DF,CAACvxB,MAAM,CAAC,CAAD,CAAP,EAAYA,GI0DpB,CAA4B,EJ1DF,CAAC,CAAD,CAAlB,EAAuBA,MAAM,CAAC,CAAD,CAA7B,EAAkCA,MAAM,CAAC,CAAD,CAAxC,EAA6CA,MAAM,CAAC,EAAD,CAAnD,EAAyDA,MAAM,CAAC,EAAD,CAA/D,CAA/B,GAAsGA,MAA7G;AGGF,AHFC,ADdG,AGgBJ,A5BtYA,A8B6b8D8wB,CJ9qB9D,G1BiPIn/B,IyBsXIgwJ,AKuEsD7wH,KvBlnBjD,IPqLI,A8B6bsD,CvBlnBrDmuG,CuBknBuD,CLvErE,AzBtXgB,IAApB,A8B6b4D,CvBlnB/C,CAAawC,SAAb;AAR8B,AsBokB3C,AHxnBA,AEwnBA,AEsDgF73G,IJxD5E21I,CnBlkBuC,GuB0nBqC31I,KAAK,EAAE,IJxDpE,GAAG,CIwDsC,QJxD7B21I,eAAT,CAAyB94K,MAAzB,EAAiCu7B,MAAjC,EAAyCw9I,gBAAzC,EAA2DC,MAA3D,EAAmEC,WAAnE,EAAgFC,uBAAhF,EAAyG;AGG/H,AHFE,ADdE,AGgBJ,A5BvYA,A8B4biG5zI,I9B5b7Fn6B,E0BqYEgqB,EIuD2FmQ,CvB/mBxF,EmBwjBE,ADdAwrH,CKqE0F,EJvDvF9wJ,AIuDyFm8K,IvB/mB9F,APmLS,C8B4b0F,CJvDxF,ADdA,AKqEyFl6K,CJvDxFwxJ,ADdAt0J,AzBvXA,GOnLZ,CAAS8T,APmLlB,COnLS,AmBwjBP,ADdkB,CAAT,ClB1iBU,GkB0iBU,CAAC+nJ,YAArB,IAAqCL,YAAY,CAACx7J,KAAD,EAAQ,CAAR,CAAjD,GAA8D,CAAC+7J,YAAY,GAAGD,WAAhB,EAA6BxtJ,IAA7B,CAAkCwqE,KAAlC,CAAwCijF,YAAxC,EAAsDnlJ,OAAO,CAAC5W,KAAD,CAA7D,CAA9D,GAAsI87J,WAAW,CAACxtJ,IAAZ,CAAiBtO,KAAjB,CAA7I;AIiBJ,AHHE,ADbC,AGgBH,AEoD4D,GLxEnD,GCkBHoa,CIsD0B,CLpExB0hJ,AKoEA,EvB9mBE,EmBwjBE,GnBxjBGziB,AmBwjBAygC,IDlBb,GlBtiBQ,CAAa/9B,GmBwjBG,EnBxjBhB,EmBwjBoBu9B,GnBxjBG,OAAO,AmBwjBA,CAACz4K,MAAD,EAAS,IAAT,CADtC;AGIF,AHJE,ADZD,AGgBD,A5BxYA,A8B6bQ,CL/qBR,GzBkPIoL,E0BsYE+tK,KIuDO5/I,GvB/mBC8hH,EmBwjBE,A1BtYA,A8B6bR,GJvDWlmH,A1BtYA,A8B6bE,I9B7brB,A8B6byBgnJ,CJvDD,CAAC/C,GIuDK,CvB/mBD,AuB+mBEvkI,GJvDZ,CIuDE,CAAeyqI,EJvDA,CAFlC,YIyDmB,EAAgCC,eAAhC,CAAb;ADpDR,AHLE,ADtnBF,AG2nBA,AEsDQ,ILtEJ,ECcElG,KIwDOt5H,EvBhnBAy4F,GmBwjBG,AIwDR,CAAWtlI,EJxDAiiB,CIwDX,CvBhnBa+lH,AuBgnBE,GJxDC,CAACo+B,CIwDG//I,GvBhnBC,EuBgnBrB,CJxDW,IAAiB,CAHlC;AGMF,AHNE,ADVFxjB,AGgBA,A5BzYA,A8B+bK,I9B/bD1K,E0BuYEkuK,CDdC,GAAG,MCcM,GAAGpkJ,ADdApf,EzBzXE,G0BuYG,A1BvYA,C0BuYC2sE,CDdf,CAAiBvjF,CzBzX3B,I0BuYmB,ADdT,EAAwB67J,ECcE,CAJlC,SDVQ,EAAsC;AIiBhD,AHPE,ADTA,AGgBF,MFFMwe,GDdG1oB,OCcO,EDdE,CCcC37H,ADdAh2B,KCcK,ADdN,CCcOs6K,ADdhB,IAAoB,CAACze,ECcX,IAAiB,CALlC,KDTO,KAAsChJ,YAAY,IAAI,CAACmJ,KAAK,EAA5D,IAAkET,MAAM,CAACj6J,IAAP,CAAYwxJ,IAAI,CAACmJ,gBAAL,CAAsBj8J,KAAtB,CAAZ,EAA0C,CAA1C,CAAlE,GAAiHmyJ,QAAQ,CAACnyJ,KAAD,CAAR,GAAkB27J,QAAQ,CAAC37J,KAAD,EAAQ67J,YAAR,CAA1B,GAAkDL,YAAY,CAACx7J,KAAD,CAAZ,GAAsBu7J,MAAM,CAACj6J,IAAP,CAAYtB,KAAZ,EAAmB,CAAnB,CAAtB,GAA8CA,KAAK,GAAG,CAACA,KAAD,CAAH,GAAa,EAA1O;AIiBF,AHRE,ADRD,AGgBD,A5B1YA,CyBpPA,GzBoPImM,E0BwYE6F,CAAC,GAAGoI,CnBxjBCi/H,KmBwjBK,CAAC,CAAD,CnBxjBGwC,AmBkjBjB,C1BlYkB,GAAG,IAAvB,KOhLgC/nI;AsB2jBhC,AHTE,ADtnBF,AG+nBA,IHhBIooJ,ECcEjqJ,CAAC,GAAGmI,CDdC,GAAG,ECcE,CAAC,CAAD,CAPd,IDPqB8hJ,OAAT,CAAiBlqJ,CAAjB,EAAoB;AlB5jBS,AsB6kB3C,AHVE,ADNA,AGgBF,A5B3YA,E8BmW+BgvK,E9BnW3B50K,E0ByYE8F,CAAC,EDdEF,CCcCoI,ADdA,CAAC8/B,IAAF,CCcO,ADdA,CCcC,CAAD,CARd,M1BjYuB,GyB2XG,AzB3XA,CAA5B;A6B4YA,AHXE,ADLE,AGgBJ,MFFMngC,CAAC,GAAGK,CDdC,KCcK,ADdAva,CCcC,CAAD,CATd,CDLkB,CAAC2P,MAAL,EAAZ;AIiBJ,AHZE,ADJC,AGgBH,A5B5YA,A8B+bA,GLrES,CAAP,AzB1XEnD,A8B+bEi1K,EJrDAlmK,EAAE,EIqDI,CJrDDhB,EIqDI,IJrDE,AIqDEijK,CJrDD,CAAD,CAVf,GI+Da,C9B/bS,A8B+bE,G9B/bC,CAA3B,O8B+be,CAAf;AvB3mBAp6I,AsByjBA,AHbE,ADHD,AGgBD,AEoDA,CLvrBA,GKurBMs+I,CvB7mBNt+I,CAAM+4G,AmBujBA3gI,EAAE,GAAGjB,AIsDE,GAAG,GJtDC,CAAC,AIsDE4lK,CJtDH,CnBvjBjB/8I,AmB4iBE,GnB5iBqB,IuB6mBP,CAAc,KvB7mBEe,KAAT,EAAgB63G,EuB6mBvB,CAAhB,MvB7mBuB,EAA2BC,iBAA3B,EAA8C;AsB0jBrE,AHdE,ADtnBF,AGooBA,A5B5YA,A8BicA,ILrEI,AzB5XAxvI,A8BicEk1K,EvB9mBAx9I,AmBujBAu2I,KnBvjBAv2I,AuB8mBO,CvB9mBDq1G,EuB8mBI,GJvDC,A1B1YA,C8BicG6mC,CvB9mBdl8I,CAAc+3G,AmBujBA3/G,A1B1YA,CAApB,IO7KM4H,CmBujBoB,CAACi8B,GnBvjBG,EmBujBV,CAAa,GAAb,AIuDJ,CvB9mBqB,AmB2iBnC,AImEqC,eAAvB,CAAhB;ADpDA,AHfE,ADDF,AGgBA,AEsDA,IAAMwhH,EJxDAxH,InBvjBI5gC,CuB+mBG,EJxDA,CIwDG,EJxDAv1G,EnBvjBE+3G,AuB+mBEwkC,QJxDM,CAAC9F,InBvjBIp+B,OmBujBO,CAAC,AIwDvB,CvB/mBeA,AmBujBO,AIwDI,CvB/mBNC,AmBujBV,CAAV,IAA8B,CAb5C,YnB1iB6BD,AuB+mBf,CvB/mBuCn4G,AuB+mBvD,KvB/mBuDA,CAAMq1G,OAANr1G,CAAcP,GAAtC04G,EAA2CL,iBAA3CK;AAD7B,AsB2jBF,AHhBE,ADAFggB,AGgBA,A5B7YA,A8BocA,I9BpcI5vJ,A8BocEm1K,EJzDAvH,GnBvjBG,CkByiBC,CKuEG,EvBhnBAn2I,AmBujBA,ADdA,CKuEG,EJzDAF,C1B3YC,CO5KJE,AuBgnBOg9I,CvBhnBD3nC,CP4KC,EyB6XE8iB,EzB7XtB,EO5Kan4H,AmBujBa,CnBvjBC+3G,AmBujBAw+B,KnBvjBdv2I,AkByiBA,CAAoBlwB,AKuEjB,CLvEH,AKuEuB,ELvEA,ClBziBC,CmBujBC,CAAC,CAAD,CAAZ,CnBvjBjB,AmBujBO,EnBvjB4B,EmBujBE,CAd5C,MIuEc,CAAhB;ADtDA,AHjBE,ADCA,AGgBF,AEwDA,IAAM6tK,EJ1DAjL,ADdA9kB,KlBziBKvV,AuBinBE,CJzEX,EIyEc,GLxEC,ClBziBCr4G,AkByiBAlwB,AKwEEstK,CLxEH,CAAf,EAAoB,ClBziBJp9I,CAAMq1G,SAAS8C,CuBinBjB,CAAqB,OvBjnBJA,CAAKG,UAALH,CAAgBn4G,EuBinBjC,CAAhB,EvBjnBiDA,CAAMq1G,OAANr1G,CAAc9pB,CAA9BiiI,EAAiCn4G,KAAAA,CAAMq1G,OAANr1G,CAAc7vB,CAA/CgoI,EAAkDn4G,KAAAA,CAAMq1G,OAANr1G,CAAclwB,CAAhEqoI;AADxB,AsB2jBT,AHlBE,ADEE,AGgBJ,A5B9YA,GO7KS,CP6KL3vI,E0B4YEsN,GnBvjBG,EkByiBEhG,CAAP,KCFF,G1B5XkB,GAAG,IAAvB;A6B+YA,AHnBE,ADGC,AGgBH,MFFM1T,CAjBJ,GnBtiBQ,IAAIqT,KAAJ,CAAU,uBAAV;AsB0jBV,AHpBE,AEoBF,A5B/YA,IAAIhH,E0B6YEiE,CAlBJ,e1B3XoB,GAAG,IAAzB;AOjLA,AsBikBA,AJhBE,AGgBF,CrBjkBAuyB,KkBijBMoyH,IAAI,GAAGtD,SAAS,CAACj+I,CAAD,CAAT,GAAeA,CAAf,GAAmB;AIiBhC,AHFE,ADdE8lI,AGgBJ,A5BhZA,IyBgYIA,AzBhYAltI,E0B8YE,CAACktK,CDdC,EAAE9lK,YzBhYY,C0B8YpB,EAAuB,A1B9YA,IAAzB;AOxKAmvB,AsByjBA,AHFIyzI,ADhB4B,AGkBhC,GHlBE,CCgBEA,CnBvjBJzzI,CAAMi5G,ImBujBI,GAAGu6B,OnBvjBbxzI,CmBujBqB,CAACpiC,CnBvjBC,KmBujBF,CAAjB,InBvjB4BmjC,KAAT,EAAgB;AsB0jBvC,AHFIi2I,ADjBF,AGmBF,A5BjZA,I0B+YIA,A1B/YAttK,EOxKI0lE,AkByiBF,KCcK,CnBvjBHA,EmBujBMqkG,CnBvjBGv6B,KmBujBG,CAAC/7I,CAAP,EnBvjBG+7I,CAAKI,CmBujBI,A1B/YA,C0B+YCg+B,E1B/YE,KAA7B,COxKiBp+B,CAAgBn4G,EmBujBK,CAAC,CAAD,CnBvjBLA,AmBujBN,CnBvjBY9oB,AmBujBG7M,CnBvjBzB8tI,EAAyBn4G,ImBujBf,CnBvjBeA,AmBujBQ,CnBvjBF/pB,CAA/BkiI,CmBujBU,CnBvjBwBn4G,AmBujBzB,GAA+Bi2I,EnBvjBNj2I,CAAM/xB,CAAxCkqI,GmBujB+C,GAAG,GAAV,GAAgBu6B,MAAM,CAACl6J,KAAtD,GAA8Dy9J,OAA1E,CAAV;AGGJ,AHFIE,ADdF/d,AGgBF,EHhBEA,ECcE+d,EDdE,GlBxiBG99B,AkBwiBAggB,ECcE,GAAGqa,EnBtjBE1yI,GkBwiBG,CCcC,ADdAqxH,ClBxiBJrxH,AmBsjBKtzB,CnBtjBC2oI,AmBsjBR,EDdU,CAAC+iB,CCcC,CAAC,CAACme,CDdT,CAJjB,ClBniBE,QmBqjBmC,CAAC,CAAD,CAAX,IAAkBA,WAAW,CAAC,CAAD,CAA9B,EAAmClsK,OAAnC,CAA2C,GAA3C,CAAD,GAAmD8rK,OAAO,GAAG,GAAV,GAAgBzD,MAAM,CAACj6J,MAA1E,GAAmF09J,OAA/F,CAAV;AGGJ,AHFG,ADnBD,AGqBF,A5BlZA,G0B4YE,C1B5YEvtK,EyBkYE6+F,ClBviBGp5B,EmBqjBA,CDdC,GlBviBDA,AmBqjBIj4D,ADdAi7I,ClBviBGlhJ,CADZ,EkBwiBa,CAACs3F,CCcC,GDdN,ECcWwtE,EDdE,AzBlYA,CyB6XxB,EzB7X2B,KAA7B,O0BgZa,KAAiCn/J,WAAW,GAAG9H,CAAC,GAAG+H,CAAJ,GAAQ9H,CAAC,GAAGC,CAA3D,CAAJ,EAAmE;AGG5E,AHFI,ADpBF,AGsBF,MHhBM62F,ClBviBG12B,GkBuiBC,GlBviBDA,AkBuiBIvuC,ClBviBGhwB,SkBuiBO,CAACuhJ,IAAI,CAACtsD,IAAN,CAAV,IAAyB,CANpC;AlBniBE,AsB0jBJ,AHFI3oG,ADrBF,AGuBF,A5BnZA,I0BiZIA,A1BjZAyM,C0BiZC,CDdCmpB,ECcEikJ,GDdG,GAAG,CCcC,CDrBb,GCqBiBlgK,A1BjZA,C0BiZC,E1BjZE,C0BiZCD,G1BjZvB,Q0BiZe,CAAP,GAA8BqgK,OAAO,IAAI,CAACjoK,CAAD,GAAK4H,WAAT,CAArC,GAA6D,CAAC5H,CAAC,GAAGmJ,EAAJ,GAAStB,CAAC,GAAGqB,EAAd,IAAoBtB,WAArF;AGGJ,AHFIpJ,ADtBF,AGwBF,IFFIA,CAAC,CDdC4rJ,ECcE2d,OAAO,ADdA,GAAGxuE,CCcC,CAACx5F,CAAD,CDdG,ECcE6H,CDdC,CAAP,IAAY2xF,IAAI,CCcnB,CAAP,CDd6B,CARnC,CCsBqC0uE,OAAO,IAAInoK,CAAC,GAAG8H,WAAR,CAAtC,GAA6D,CAAC9H,CAAC,GAAGqJ,EAAJ,GAASpJ,CAAC,GAAGmJ,EAAd,IAAoBtB,WAArF;AGGJ,AHFImgK,ADvBF,AGyBF,A5BnZA,I0BiZIA,A1BjZAntK,EOnKE,AkBsiBAyvJ,ClBtiBC/4G,ImBojBI,CDdC,ClBtiBLA,CAAO7Q,AmBojBAvyC,CAAV,ADdWuyC,IlBtiBR6Q,CAAa6uB,AkBsiBA,AzBnYA,CyBmYCo5B,EzBnYE,EyBmYH,ClBtiBAp5B,AkBsiBL,AzBnYf,COnK2Bn4D,CAApBspC,EkBsiBuB84G,ClBtiBC,QkB6hB7B;AI0BF,AHFI6d,ADxBF,AG0BF,IFFIA,EDdEz1J,IlBtiBI20H,AkBsiBA,CCcC,EDdEgc,CCcC3kJ,CAAV,EDda,ClBtiBCwJ,AkBsiBAwK,IlBtiBI2tD,AkB4hBpB,MlB5hBoBA,CAAOn4D;AAD3B,AsBwjBF,AHFG,ADzBD,AG2BF,A5BpZA,IAAInN,EyBoYEyvJ,GlBtiBG,GkBsiBG,ClBtiBCh5G,EkBsiBEioD,IlBtiBFjoD,AkB2hBX,AzBzXiB,COlKCu2F,EPkKE,GAAtB,MOlKav2F,CAAmBxf,KAAAA,CAAMq1G,OAANr1G,CAAc9pB,CAAjCspC,CAAJ,EAAyC;AsBujBlD,AJ5BE,AG4BF,MHhBMi5G,IlBtiBIpjB,EkBsiBE,GAAG5tC,GlBtiBGvxF,CkB0hBhB,GlB1hBoB;AsBujBtB,AHFE,AEEF,A5BrZA,IAAIlN,E0BmZE6sK,MAAM,IAAIA,I1BnZI,E0BmZE,C1BnZC,GAAvB,C0BmZ2B,KAAX,IAAoB7jJ,KAAK,CAAC6jJ,MAAxC,EAAgD;AnBlkBlD,AsBqkBA,AHFIz+J,ADdF,AGgBF,CrBrkBA6nB,GmBmkBI7nB,EAAE,ADdAu2I,GCcGsoB,MDdM,CCcC,ADdAxuE,GCcGuuE,CDdJ,CAAb,EAAqB,MCcnB;AGGJ,AHFI3+J,ADdAmhJ,AGgBJ,A5BtZA,I0BoZInhJ,ADdAmhJ,AzBtYAvvJ,E0BoZE,GAAGktK,CDdC,GAAG1d,GCcG,GAAGyd,ADdA,GAAG,EzBtYE,GAAG,E0BoZvB,C1BpZJ;AO/JAj3I,AsBsjBA,AHFIjN,ADdE9e,AGgBN,IFFI8e,CnBpjBJiN,CAAMu5G,AkBsiBAtlI,GCcG,CAACqsE,EDdE,EAAE,ElBtiBdtgD,AkBqiBsB,CCelB,EnBpjBe,CAAC,AmBojBAm3I,GnBpjBD,EAAM,GAAN,EAAW,AmBojBA,GnBpjBX,CmBojBeh/J,CnBpjBC,CmBojBC,EnBpjBjB,CmBojBoBpJ,CnBpjBC,AmBojBN,GnBpjBf,AmBojBwBqJ,EnBpjBE,AmBojBA,GnBpjB1B,AmBojB6BnJ,CAAlB,CnBpjBoB,AmBojB9B,GAAiCkJ,EnBpjBlC,AmBojBf,EnBpjBqD,GAAtC,CAAnB6nB;AAEA24G,AsBqjBA,AHFI5lH,ADdE4hE,AGgBN,A5BvZA,I0BqZI5hE,A1BrZA9oB,EyBuYE0qF,GCcG,CAAC0iF,CDdC,EAAE,EAFS,ECgBlB,CnBnjBJ1+B,CAAmB34G,CmBmjBCo3I,E1BrZE,EO9JHp3I,CAAM3iC,AP8JA,GAAzB,E0BqZ8B,InBnjB9Bs7I,AmBmjBkCxgI,EnBnjBE,AmBmjBA,GnBnjBpCwgI,AmBmjBuC3pI,CAAL,CnBnjBO,CAAzC2pI,CAAAA,AmBmjB2CvgI,EAAE,GAAGtB,CAAlB,CAAV,GAAiCsB,EAAjD;AnBljBJugI,AsBqjBA,AHFG,ADdG37G,AGgBN,GFPE,GDTIA,GCcG,ADdA,EAAE,OlBriBX27G,CAAmB34G,KAAAA,CAAM3iC,SAAzBs7I,EAAoC,GAApCA,EAAyC,CAAzCA,CAAAA;AACAA,AsBqjBA,AHFI5lH,ADlBkB,AGoBtB,A5BxZA,I0BsZIA,A1BtZA7oB,EyBwYEs+F,GCcG,CAACloB,ADlBY,KAIP,CAJX,CCkBA,CnBnjBJq4D,CAAmB34G,CmBmjBCjN,G1BtZG,CO7JJiN,CAAM3iC,AmBmjBA,CAACg6K,A1BtZA,GAA1B,I0BsZoB,CnBnjBpB1+B,EAAoC,AmBmjBA,CAAhC,EnBnjBJA,EAAyC,CAAzCA,CAAAA;AAEAK,AsBojBA,AHFG,ADdA,AGgBH,GHtBE,MAMO,IAAI,CAACqgB,IlBpiBdrgB,CAAmBh5G,IkBoiBN,ClBpiBMA,CAAM3iC,EkBoiBEi8J,MAAlB,ClBpiBTtgB,CkBoiBmC,ClBpiBC,GAApCA,CAAAA;AACAA,AsBojBA,AJhBIugB,AGgBJ,A5BzZA,IyByYIA,AzBzYApvJ,MyByYM,GAAGq+F,IAAI,ClBpiBjBwwC,AkBoiBkB,ClBpiBCh5G,AkBoiBF,CAAb,IlBpiBeA,CAAM3iC,EP2JE,GAAG,GAA9B,CO3JA27I,EAAoC,GAApCA,CAAAA;AACAA,AsBojBA,AHFEjmH,ADdEymI,AGgBJ,EFFEzmI,EDdEymI,GCcG,CAACwd,EDdE,GAAGxuE,ECcX,EDde,ClBpiBjBwwC,AmBkjBkBg+B,ADdA,ClBpiBCh3I,AkBoiBF,CAAb,IlBpiBeA,CAAM3iC,AmBkjBvB,SnBljBF27I,EAAoC,GAApCA,CAAAA;AAEA17I,AsBmjBA,AHFEy1B,ADdC,AGgBH,A5B1ZA,E0BwZEA,E1BxZE3oB,EOzJJ9M,CAAOC,AmBijBA,CAAC25K,OAAN,GAAgBA,GnBjjBlB55K,APyJqB,COzJC0iC,EPyJE,C0BwZtB,EnBjjBoBA,APyJtB,COzJ4B3iC,SAA5BC,EAAuC,GAAvCA,EAA4C;AsBojB5C,AHFEy1B,AEEF,EFFEA,KnBjjBK,AmBijBA,CAAC6jJ,MAAN,EnBjjBK,CmBijBU,CAAC,CAACA,GnBjjBZ,GAAW,AmBijBhB;AGGF,AHFE7jJ,ADdA,AGgBF,A5B1ZA,E0BwZEA,E1BxZE1oB,G0BwZG,CAAC8uB,CDdC,ElBniBE,GmBijBT,EnBjjBci9G,CmBijBCj9G,EDdErtB,AzB1YA,CyB0YV,EAAalO,AzB1YA,COzJX,AmBijBT,CnBjjBsBmR,GPyJxB,CyB0YS,EAAqBA,CAArB,EAAwB;AlBriBW,AsBsjB5C,AHFEgkB,ADdE,AGgBJ,EFFEA,CnBpjB0C,ImBojBrC,CAAC4jJ,ADdA5qK,CAAC,GAAG,CAACgD,CAAC,IAAIqjJ,IAAN,ECcV,ADdsBn0J,GCcG,CAAC,CAAC04K,CDdzB,eCcF;AGGF,AHFE/4K,ADfE,AGiBJ,A5B3ZA,E0ByZEA,E1BzZE0M,GOvJG,CmBgjBC,ADdAmvJ,CCcC/4H,KAAP,CAAaoxI,CnBhjBR,CkBkiBU,GAAG/+I,AzB3YA,EOvJb,CAASliB,APuJO,COvJhB,CkBkiBkB,ClBliBN,AkBkiBO9E,CAAD,CADrB,AzB1YJ,O0ByZE,IAAqC,SAArC,CA/C6H,CA+C7E;AGGlD,AJlBI,AGkBJ,QHhBQ2tJ,ClBliBCtjB,MkBgiBL,ElBhiBarnI,IAAI8B;AsBmjBrB,AHFE,ADjBE,AGmBJ,A5B5ZA,IAAItG,E0B0ZEusK,EDdEnd,OAHJ,IzBzYe,GAAG,KAAtB,E0B0ZE,EAA6B;AnBvjBa,AsB0jB5C,AHFIma,ADlBA,AGoBJ,CrB1jBAx2K,GmBwjBIw2K,IDdI32K,CAJJ,YCkBiB,CAAC25K,uBAAD,EAA0B/jJ,KAA1B,EAAiC,SAAjC,EAA4CgkJ,UAA5C,EAAwDC,OAAxD,CAAjB;AnB9iBJ15K,AsBijBA,AJrBI,AGqBJ,A5B7ZA,IAAIkN,EOpJJlN,CAAOC,CkBiiBCkQ,CALJ,UzBxYe,EOpJnBnQ,CAAsB0iC,APoJA,KOpJAA,APoJtB,COpJ4B3iC,SAA5BC,EAAuC,KAAvCA,EAA8C;AsBkjB9C,AHFIw2K,ADpBA,AGsBJ,IFFIA,GnB/iBG,CkBiiBCh9J,CANJ,OlB3hBG,KmB+iBc,CnB/iBd,AmB+iBeggK,GnB/iBJ,oBmB+iBG,EAA0B/jJ,KAA1B,EAAiC,SAAjC,EAA4CkkJ,UAA5C,EAAwDC,OAAxD,CAAjB;AGGJ,AJvBI,AGuBJ,A5B9ZA,IAAIzsK,IOnJI,AkBiiBAstB,ClBjiBC,AkB0hBL,KlB1hBUq+G,MPmJM,COnJX,CAAa0C,CPmJC,IOnJf,CPmJR,IOnJgC,OAAO;AsBkjBvC,AHFIg7B,ADtBA,AGwBJ,IFFIA,IDdI/mK,GlBjiBGqpI,AkByhBP,QlBzhBe51G,EmB+iBE,CAACs2I,GnB/iBG59B,SAAAA,CAAKM,UAALN,AmB+iBJ,CnB/iBoB,CmB+iBMnmH,InB/iBD9a,CAArBihI,AmB+iBJ,EnB/iB4B,AmB+iBK,KnB/iBAliI,CAA7BkiI,EAAgC,CmB+iBpC,EAA4Ci+B,EnB/iBHnoK,CAArCkqI,OmB+iBJ,EAAwDnmH,KAAK,CAACutD,OAA9D,CAAjB;AGGJ,AJzBI,AGyBJ,A5B/ZA,IAAI51E,IyB+YIoC,GATJ,QzBtYe,GAAG,KAAtB;A6BgaA,AHFIgnK,ADxBA,AG0BJ,IFFIA,IDdIla,MAVJ,OCwBiB,CAACkd,uBAAD,EAA0B/jJ,KAA1B,EAAiC,SAAjC,EAA4CqkJ,UAA5C,EAAwDrkJ,KAAK,CAACskJ,OAA9D,CAAjB;AGGJ,AHFG,AEEH,A5BhaA,IAAI1sK,OOjJO,KAAKyrI,GPiJG,GAAG,COjJX,CAAa51G,GPiJxB;AOvJ8C,AsBwjB9C,AJhBI,AGgBJ,GrBxjB8C,KkBwiBtC,CAACi5H,SAAL,EAAgB;AIiBpB,AHFE77J,ADdIg8J,AGgBN,A5BjaA,E0B+ZEh8J,E1B/ZEgN,EyBiZEgvJ,ClBhiBC,CmB8iBC,CAACtrH,GDdG,GAAG8jH,ClBhiBR,GkBgiBY,CAACrtD,AzBjZA,C0B+ZlB,CnB9iBK,AmB8iBe,CnB9iBNl0F,AP+IO,CO/IhB,AkBgiBQ,ElBhiBI,EP+InB,CyBiZ6B,MAAd,GAAuB,CCcpC,ADda,ECc0BmmK,CDdC,CAAC5kB,IAAI,CCcC,ADdArtD,GCcG,CDdR,ECcF,EDde,CCcCmyE,ADdA,CAAD,EAAIhpB,ICc1D,GDdsD,CAAd,EAA4B,CAA5B,CAApC;AIiBN,AHFC,AEED,CFprBA,QnBoIS9X,QAAQ0C,QAAQ;AsBijBzB,AHrrBA,ADqqBM,AGgBN,A5BlaA,I0BgaIi8B,A1BhaAlqK,KO9IKurI,CkBgiBC,CAACwjB,MlBhiBMp5H,AkBgiBX,ECca,ADdA,AzBlZA,G0BgaG,A1BhaA,CO9IC3vB,IP8IvB,I0Bga+BkkK,eAAT,CAAyBn3K,MAAzB,EAAiC+6H,OAAjC,EAA0C;AGGhE,AHFE,ADdM5rH,AGgBR,A5BjaA,M0B+ZMgmB,EDdEhmB,GCcG,ADdA,GCcGnP,ADdA,CAACswJ,KCcK,CAACmD,CDdb,ICcM,IAAgB,IAAIG,iBAAJ,CAAY5zJ,MAAZ,CAA5B;AnB1jB4C,AsB6jB9C,ADAA,CrB7jBAN;AsB8jBA,AHFE,ADdM,AGgBR,MFFM,OAAOy1B,EDdEhmB,GCcT,ADdY,ICcI,ADdAA,CCcC4rH,EDdE,GAAG5pH,CAAC,CCcvB,ADdwB6qJ,ICcI,CAAC7mI,CDdC,EAAP,CAAD,CCcY,ADdAktH,CCcCtnB,OAAvC,EAAgD,WDdtB,GAAoCxtG,IAA9C,CAAH,IAA0DyuI,MAAM,GAAG7tJ,CAA1E,EAA6E,CAAE;AIiBvF,AHFI,AEEJ,IpBprBM0tI,OkBkrBK1mH,GlBlrBL0mH,EkBkrBF,ClBlrBEA,YAAAA;AqBqrBN,AHFG,ADdKmgB,AGgBR,QHhBQA,MAAM,QjBpqBArpI,QAAQupB,UAAU;AqBqrBhC,AJhBO,AGgBP;ACCA,AHFE,AEEF,A5BnaA,M0BiaMpZ,GlBnrBGg5G,ARkRA5uI,E0BiaE,GAAGlN,MAAM,CAAC8iC,GlBnrBGnQ,ARkRxB,E0BiaE,C1BjayB,CAAE,EQlRLA,CAAOupB,QAAPvpB;AqBsrBxB,AHHE,ADbIkpI,AGgBN,MFFM8d,ADdA9d,GjBhqBGh3E,MiBgqBM,GAAG1vD,ECcE,ElB9qBE1Z,CkB8qBC0Z,ADdA,CAAChnB,CAAD,CAAL,ECcU,CAAC0b,ADdA,CjBhqBPpO,CAASsgI,AiBgqBzB,ICciB,GAAe,CADpC,KlB7qBoBtgI,CAAuB,KAAvBA;AqBirBtB,AHJE,ADZIqgJ,AGgBN,A5BnaAp8J,M0BiaM0/F,ADdA08D,AzBnZA,CAAC/7J,C0BiaC,ClBzqBC4yB,EkByqBE,EDdE,AzBnZb,CAAezlB,C0B+Zb,CDZcwuJ,EjB3pBE/oI,IiB2pBI,GAAG3zB,IAAI,AzBnZC,CyBmZAkQ,AzBnZCzP,GyBmZN,CAASu8J,KzBnZlC,CyBmZyB,CzBnZiB,CyBmZA7tJ,CAAjB,IAAsBwtJ,MAAtB,GAA+B,EAAlC,GAAuC/wD,IAAI,GAAGoxD,MAA9D;AIiBN,AHLE,ADXID,AGgBN,A5BlaC5uJ,EAAAA,I0BgaKmpK,ADdAva,GjBtpBG7/G,AkBoqBA,GAAG,CDdC,GAAGw/G,CCWd,C1B7Ze,EQpQGx/G,ARoQD,EyBkZG,GAAG/tC,CAAC,GAAGytJ,CzBlZCxuJ,IAAX,CyBkZM,CzBlZWC,EyBkZE2uJ,MAAb,AzBlZN,EAA4B,CyBkZA,EAAzB,GAA8BpxD,IAAI,GAAGoxD,MAAP,GAAgB,CAA9D;AIiBN,AHNE,ADVI7sJ,AGgBN,A5BjaE,M0B+ZIosB,ADdApsB,EzBjZC,CQ/PE6sI,AiBgpBA,GCcG,ADdA,CAAN,AzBjZM1uI,E0B+ZGgnK,OlB9pBOv1K,CR+Pf,KAAoBA,O0B+ZQ,CAACiB,C1B/ZlC,EAAqC,G0B+ZJ,EAASk0K,A1B/ZA5mK,UAAL,GAAkB,EAAlB,K0B+ZJ,CAApB,IAAsD,GAJnE;AGOF,AHPE,ADTI4B,AGgBN,A5BhaE,M0B8ZI3P,ADdA2P,CCSJ,C1BzZI3B,CQ1PG0uI,AiB0oBA,GAAGqU,KzBhZG,EyBgZT,CzBhZY,KAAKhjJ,GQ1PKvO,OR0P1B;A6BiaF,AHRE,AEQF,MFFM8Q,CANJ;AGSF,AHTE,ADPI,AGgBN,A5BhaE,M0B8ZI+O,CAPJ,C1BvZKrR,GyBgZI4sB,CAAC,GAAG,CAAT,CzBhZU,CyBgZEA,AzBhZA/sB,CyBgZC,GAAGe,AzBhZN,CyBgZV,AzBhZC,EyBgZkBgsB,CAAC,EAApB,AzBhZuBp7B,EyBgZC,OzBhZ5B,EAAuC;A6BiazC,AHVE,ADNMQ,AGgBR,A5B/ZGgO,M0B6ZGsc,A1B7ZHtc,EyB+YKhO,CAAC,GCMP,ADNU46B,CAAC,EzB/YD,CyB+YI6hI,AzB/YF5uJ,IAAF,CAAT,CyB+YS,EzB/YW,CyB+YE0uJ,CzB/YtB,MyB+YK;AIiBR,AHXE,ADLMjsJ,AGgBR,A5B9ZG,M0B4ZGia,EDdEja,CAAC,GCKP,ADLUksJ,OAAO,IAAI5hI,CAAC,GAAG6hI,MAAJ,GAAa,CAAjB,CAAX;AIiBR,AHZE,ADJMH,AGgBR,MFFMlhJ,EDdEkhJ,MCIN,GDJe,CAAC1hI,CAAD,CAAT,GAAejhB,CAAC,GAAG,CAAC2K,CjBpoBjB01H,GiBooBgB,EjBpoBX,CiBooBmBoX,KAAK,CAACpxJ,CAAC,GAAGA,CAAJ,GAAQsQ,CAAC,GAAGA,CAAb,CAAb,GAA+B7Q,IAAI,CAAC8V,GAAL,CAAS+O,IAAI,KAAK,GAAT,GAAehU,CAAf,GAAmBtQ,CAA5B,CAAlD;AIiBR,AHbE,AEaF,A5B9ZE,M0B4ZIq6K,E1B5ZCrsK,GQtPEyuI,IkBuoBP,E1BjZc,CAAE5uI,IAAF,CAAT,CQtPemsI,ARsPG/rI,OAAlB,CAA2BH,QAA3B,MAA0C,CAAE,CAAjD,EAAqD;A6B+ZvD,AHdE,ADFM,AGgBR,A5B7ZGE,M0B2ZGssK,A1B3ZHtsK,MyB6YS2L,CjBpoBD,AiBooBE,ECEX,A1B/YU,CyB6YI/J,AzB7YF/B,GyB6YN,CzB7YI,CyB6YS,AzB7YlB,CAAkBK,IAAlB,CAAwBJ,QAAxB;A6B8ZH,AHfE,ADDQ8B,AGgBV,A5B5ZG,M0B0ZG2qK,IDdI3qK,CCCR,EDDW,GAAG+J,CAAN;AIiBV,AHhBE,ADAO,AGgBT,A5B3ZE,GApBwC,G0B6apC6gK,KAdJ;AGiBF,AHjBE,AEiBF,A5B1ZCrsK,EAAAA,I0BwZKssK,WAfJ,C1BzYe,EAAE,UAAW5sK,IAAX,EAAiBC,QAAjB,EAA4B;A6B2Z/C,AHlBE,ADEM,AGgBR,A5BzZE,M0BuZI+rK,E1BvZC,IyByYKlgK,CCFV,ADEW,AzBzYD5L,GyByYI4B,GAAR,EAAa,EzBzYd,KAAoBnQ,OQnPVw6I,ERmPf,EAAqC,CQnPjB,MRmPwB,KAAP;A6B0ZvC,AHnBE,ADGQrqI,AGgBV,A5BxZE,M0BsZIoqK,E1BtZA/rK,EyBwYI2B,CjB5nBD+sI,EkBynBP,ADGW,GAAG/iI,CAAN,AzBxYK,GAAG,KAAK5L,KQpPKisI,KRoP1B;A6ByZF,AHpBE,ADIO,AGgBT,A5BvZE,M0BqZIhgI,K1BrZGhM,C0BmYP,ClBxnBS,ORqPO,CAAEH,IAAF,CAAT,KAAsBrO,SAAtB,IAAmCwO,SAAS,CAAEH,IAAF,CAAT,CAAkBI,OAAlB,CAA2BH,QAA3B,MAA0C,CAAE,CAAtF;A6BwZF,AHrBE,ADKK,AGgBP,A5BtZE,GA9BwC,G0BkbpC2H,KAnBJ;AGsBF,AHtBE,AEsBF,A5BrZCrH,EAAAA,I0BmZK4D,GApBJ,Y1B/XkB,EAAE,UAAWnE,IAAX,EAAiBC,QAAjB,EAA4B;A6BsZlD,AHvBE,ADOIu9F,AGgBN,A5BpZE,M0BkZIp5F,ADdAo5F,EzBpYC,C0B6XL,CDOQ,GzBpYEt9F,EyBoYG,QAAT,AzBpYC,IyBoYoB+tJ,CzBpYAt8J,MyBoYO,CAAC88J,EzBpYjC,EAAqC,KyBoYL,CAA5B;AIiBN,AHxBE,ADQIA,AGgBN,A5BnZE,M0BiZI1qJ,ADdA0qJ,CCRJ,C1B3XItuJ,OyBmYS,CAAC4B,CzBnYD,EyBmYT,CzBnYY,EyBmYIA,GAAG,AzBnYF7B,GyBmYK4B,CjBxnBjBy4B,EiBwnBL,IzBnYJ,IQrPmB;AqByoBrB,AHzBE,ADSIk0H,AGgBN,A5BnZE,M0BiZIzqJ,ADdAyqJ,CCTJ,C1B1XIjuJ,GQrPG+kB,IiBwnBM,CAACzjB,EjBxnBA,CiBwnBV,EzBnYa,CyBmYGA,CjBxnBDgtC,CRqPC3uC,CyBmYhB,QzBnYyB,CAAEH,CQrPAu6B,GRqPF,CAA7B;A6BoZF,AH1BE,ADUIk0H,AGgBN,MFFMxqJ,ADdAwqJ,CCVJ,QDUa,CAAC5oJ,CAAV,GAAc9E,CAAC,GAAG,CAAC80B,UAAU,CAACuxH,IAAI,CAAChzD,MAAN,CAAV,IAA2Bv+D,UAAU,CAACuxH,IAAI,CAACzb,IAAN,CAAV,IAAyBijB,MAAM,GAAG7tJ,CAAT,GAAaA,CAAC,GAAG,CAAjB,GAAqB,CAAC0V,IAAD,GAAQ7kB,IAAI,CAACmQ,GAAL,CAAS6sJ,MAAT,EAAiB7tJ,CAAC,GAAG6tJ,MAArB,CAAR,GAAuCn4I,IAAI,KAAK,GAAT,GAAe1V,CAAC,GAAG6tJ,MAAnB,GAA4BA,MAAjH,CAA3B,IAAuJ,CAAxJ,KAA8JpxD,IAAI,KAAK,OAAT,GAAmB,CAAC,CAApB,GAAwB,CAAtL,CAAlB;AIiBN,AH3BE,ADWIixD,AGgBN,A5BnZE,M0BiZI3iJ,ADdA2iJ,CCXJ,C1BxXKjuJ,EQtPC,KAAKouI,AiBynBE,CAAC5qI,CAAV,GAAcjD,CAAC,AzBnYD,GyBmYI,CAAJ,CzBnYKpP,CQtPA,CiBynBGmpG,IAAI,GAAG/5F,AzBnYjC,CyBmYkB,CzBnYiB,EyBmYE+5F,IAAjC;AIiBN,AH5BE,ADYI2zD,AGgBN,A5BlZG,M0BgZG7jJ,ADdA6jJ,GCZJ,C1BtXK17J,GQvPI67I,EiBynBI,AzBlYH,CyBkYIn7G,CAAV,CzBlYSjzB,EyBkYK6sJ,IjBznBEh6J,GiBynBK,CAAC+zJ,CjBznBD,ERuPC,CyBkYI,AzBlYHhnJ,CyBkYIg0F,EjBznBA75D,IiBynBL,AzBlYb,CAAuBt6B,GyBkYKmnJ,IAAI,CAACzb,AzBlYjC,CAAZ,GyBkYwB,CAAP,IAAqC,CAAnD,CApCc,CAoCwC;AIiB5D,AH7BE,AE6BF,MFFM5gI,GA3BJ;AG8BF,AH9BE,ADcIojJ,AGgBN,A5BlZG,M0BgZGz+H,ADdAy+H,ECdJ,EDcQ,AzBlYFp7J,GyBkYKo7J,EzBlYA,EyBkYI,GzBlYC,CyBkYGptJ,AzBlYD,CyBkYE,AzBlYnB,EAAqB,CyBkYC,CAAZ,GAAgB8tJ,WAAW,CAACV,IAAD,CAA3B,GAAoCA,IAA3C;AIiBN,AH/BE,ADeG,AGgBL,A5BjZI3tJ,M0B+YEmtG,EA7BJ,A1BlXEntG,GQxPKsuI,URwPQ,CAACruI,MAAd,CAAsB1N,KAAtB,EAA6B,CAA7B;A6BkZJ,AHhCE,AEgCF,A5BhZI,M0B8YE88G,EA9BJ,KlBzmBS;AqB0oBX,AHjCE,ADiBE9uG,AGgBJ,A5B/YG,IyB+XCA,CAAC,CCcC8J,EDdE,CCjBN,ADiBO4jJ,SAAS,CAAC3tJ,CAAD,CAAT,GAAe2tJ,SAAS,CAAC3sJ,GAA1B,IAAiC2sJ,SAAS,CAAC1sJ,GAA3C,IAAkD,CAAtD;AIiBJ,AHlCE,ADkBE,AGgBJ,A5B9YE,GAnDwC,G0B+bpCiJ,GAhCJ,EDkBS67I,MAAM,CAAC4H,SAAS,CAACzqJ,CAAV,GAAc,CAACmqJ,IAAI,GAAGA,IAAI,CAACptJ,CAAD,CAAP,GAAaA,CAAlB,IAAuB0tJ,SAAS,CAAC5oJ,CAAhD,CAAN,GAA2D4oJ,SAAS,CAACh7H,CAA5E,CAvD6B,CAuDkD;AIiBnF,AHnCE,ADmBC,AGgBH,A5B7YC/yB,EAAAA,CyBqUC,GCsEIyK,GAjCJ,M1B1WY,EAAE,UAAWxK,KAAX,EAAmB;A6B8YnC,AHpCE,ADoBD,AGgBD,A5B5YE,CyBjVF,KC2tBMqd,E1B1YC,C0BwWL,I1BxWU9d,UAAL,KAAoBvO,GQzPd,MRyPX,EAAqC;A6B6YvC,AHrCE,ADzrBF,AG8tBA,A5B3YE,IyB2XEm9J,ECcE7wI,E1BzYA9d,C0BsWJ,IlBhmBS,IR0PI,CQ1PColB,AiBqnBE,EzB3XA,CyB2XG,GjBrnBV,CAAY,AR0PArlB,KQ1PK4uC,AiBqnBEggH,KzB3X5B,GQ1PS,MiBqnBU,CAAwBjpJ,CAAxB,EAA2B;AIiBhD,AHtCE,ADsBA,AGgBF,A5B3YE,M0ByYIqF,E1BzYA1K,C0BqWJ,Y1BrWiB,GAAGL,SAAS,CAAEQ,KAAK,CAACX,IAAR,CAA7B;A6B4YF,AHFE7N,ADdA,AGgBF,EFFEA,CAAC,GAAGsQ,ADdA6U,CCcC,ADdA,GCcG9F,ADdA3L,CCcC,ADdA,GCcG0H,ADdA,CAAJ,GAAQ3b,ICcI,ADdA,CAACC,ECcE26K,CDdP,CAAS,EAAT,EAAa,CAAC3mK,CAAC,CCcC,EDdE,CCcC4mK,CDdN,EAASx5K,MCcM,ADdf,GCckBy5K,ADdA,CAA/B,CAAR,GCc4C,ADdA,CAApD,CAF8C,CCgBSC,ADdA,KCcK,GAAGC,WAAW,GAAG,CAA7E;AGGF,AHFEnwJ,AEEF,A5B3YE,E0ByYAA,MAAM,A1BzYDjc,G0ByYIkc,MAAM,GAAG,CAAlB,A1BzYkB,KAAK/qB,SAAvB,EAAmC;A6B4YrC,AHFEo2B,ADdA,AGgBF,A5B1YGpnB,E0BwYDonB,I1BxYCpnB,C0BwYI,CAACinK,CDdC,ECcP,A1BxYM,CAACh1K,E0BwYK,CAAC,EAAEA,C1BxYd,CyB0XgBm8J,EzB1XD,CyB0XT,CCcc,CAAC4Z,ADdA,CzB1XrB,K0BwYc,IAAiBD,ElB/nBhB,IkB+nBsB,CAAC91K,MAAD,CAAzB,CAAb;AGGF,AHFEuZ,ADdE,AGgBJ,A5BzYG,E0BuYDA,MAAM,E1BvYDvL,C0BuYIyqK,ADdA,CAAC,CjBjnBD,CiBinBGz5K,CzBzXF,GyByXM,AzBzXH4O,CyByXI0G,ECcE,CAACtU,EDdR,CAAWijC,GCcJ,EAAS9N,C1BvYF,CAAClnB,G0BuYM,ADdA,CCcC+mK,ADdA7Y,CzBzXrB,CAAqB,C0BuYf,ADdc,AzBzXpB,C0BuYb,ADduB,AzBzXtB,GyByXwClpJ,CAA7B,IAAkCA,CAAlC,GAAsCyR,CAAxC,CAAD,GAA8CA,CAA9C,IAAmDssI,SAAS,CAACmL,GAAD,CAAT,GAAiB,CAAjB,GAAqB1B,OAAO,CAAC0B,GAAD,CAA/E,CAAP;AIiBJ,AJhBG,AGgBH,GHlBE;AImBF,AHFE,ADdD,AGgBD,A5BzYG,CyB5VH,KCmuBMhnI,KAAK,A1BvYF,C0BuYG6/I,GAAV,A1BvYW9mK,CAAC,C0BuYG,E1BvYA,CAAR,EAAWC,CAAC,GAAGH,KAAK,CAAC3N,MAA3B,EAAmC6N,CAAC,GAAGC,CAAvC,EAA0CD,CAAC,EAA3C,EAAiD;A6B0YpD,AHFI4uB,ADpuBJ,AGsuBA,A5BxYI9uB,I0BsYA8uB,ADdAs/H,ECcE,EDdE,AzBxXJpuJ,C0BsYK,CAACmnB,CDdC,EzBxXF,CAAEjnB,C0BsYI,A1BtYN,C0BsYO6sH,A1BtYZ,CAAWt6H,GyBwXK27J,CzBxXhB,CAAiB,C0BsYZ,CDdE,CAAcC,CzBxXrB,C0BsYuBr8J,C1BtYA+N,GyBwXhB,ECcsB,ADdA5O,AzBxX7B,C0BsY8BsxC,IDdvB,EAA6B,MCcb,CAAoB,iBAApB,CAAvB;AGGJ,AJhBE,AGgBF,A5BvYI,MyBuXElyB,OAAO,GAAG+yI,QAAQ,CAAC+K,MAAD,CAAtB,CjB/mBa;AqBgoBf,AHFIyc,ADfF,AGiBF,A5BtYG,I0BoYCA,EDdEzwJ,MADJ,CjB9mBS,KAAKyzH,CkB6nBG,CAAC97I,MAAD,EAAS88B,ElB7nBjB,AkB6nBmB,IAAIvB,ClB7nBD,KAAKg5F,AkB6nBnB,EAAuB,CAAC,CAACz3F,EAAF,ElB7nBT,EkB6nBiB3H,KAAK,CAAC4jJ,gBAArC,EAAuD5jJ,KAAK,CAAC6jJ,MAAN,KAAiB,KAAxE,EAA+Ez/J,MAA/E,CAAf;AGGJ,AHFG,ADhBD,AGkBF,A5BrYE,MyBqXI+iJ,IAFJ;AImBF,ADAA,A5Bhd0C,CAA1C;A6BidA,AHFE8c,ADdA,AGgBF,A5BnYA,E0BiYEA,IDdI,CAAC76J,ECcE,GAAG4W,EDdN,GCcW,CAACikJ,ADdAloB,OCcN,EDde,CAACmL,CCcC,CAA3B,IDdyB,CAAzB,EAAmC;AIiBrC,AHFEid,ADdEjxJ,AGgBJ,CpBxuBMwzH,CkBsuBJy9B,EDdEjxJ,KCcK,CDdC,ECcE8M,CDdC5W,ICcI,CAAC+6J,EDdE,GAAGjd,ECcX,IAAiB,ADdA,CCc3B,ADd4Bh0I,MAAP,IAAiBioI,OAApC;AIiBJ,ADAA;AnB7uBA,AoB8uBA,AHFE,ADdE,AGgBJ,InB9uBMnU,EiB4uBA5iI,EDdE8iJ,ICcI,CjB5uBNlgB,CgB8tBQ,CAAC/mH,ChB9tBG,CiB4uBDgjJ,IDdb,EAAmB,WCcrB,EAAkC;AGGpC,AHFIjnK,ADdEkrJ,AGgBN,IFFIlrJ,CAAC,CDdCkrJ,ECcE9iJ,IDdI,EhB9tBE,AiB4uBA,CjB5uBC,AiB4uBA,ADdAxD,CCcD,CAAV,CADgC,CACjB,GDdG,ChB9tBR,AgB8tBSsmJ,ChB/tBL,KgB+tBW,CAACjnI,MAAR,CAAhB;AIiBN,ADAA,enB9uBe,CAAC,OAAD,EAAU,WAAV,EAAuB,WAAvB,EAAoC,SAApC,EAA+C,WAA/C,CAFG;AoBivBlB,AHFIhkB,ADdE,ICcFA,CAAC,GAAGmI,EDdE+iJ,ICcI,ADdA,CCcC,CAAD,CAAV,ADda,ChB9tBC,AiByuBkB,ADXlBtL,ChB9tBC,AiB4uBA,QDdQ,ChB9tBT,AgB8tBUqL,MAAM,CAAC,CAAD,CAAP,CAArB,EAAkC;AhBjuBtB,AoBkvBlB,AJhBQh0I,AzBnXR,CS/WA,GT+WIja,IyBmXIia,AzBnXA,GAAG,EAAX,CyBmXc,IAAIA,MAAV,CADgC,CACd;AhB5tB1B,AoB6uBA,AHFIhX,ADdG,IhB7tBD+qI,AiB2uBF/qI,CAAC,GAAGkI,MAAM,CAAC,CAAD,CjB3uBR6iI,AiB2uBF,CALgC,CAKjB,CjB3uBG,EAAtB;AACAz5F,AoB6uBA,AJhBK,AzBnXL,KyB6WI,AzB7WE,CS1WNA,CAAOo2F,ET0WG7qI,CAAC,CS1WXy0C,AgB6tBW,ChB7tBCw5F,CT0WE,CAAd,EAAiBjuI,CAAC,GAAG,CS1WrBy0C,EAAuB,AT0WvB,EAA0Bz0C,CAAC,EAA3B,EAAiC,GS1WD+E,CAAT,EAAYqlC,CAAZ,EAAe;AoB8uBtC,AHFIp/B,ADdEmjJ,AzBlXLjuJ,EAAAA,E0BgYG8K,CAAC,CDdCmjJ,AzBlXD,CAAEnuJ,C0BgYCqL,A1BhYH,CS3WIw/H,AT2WR,GyBkXW,AzBlXC,CAAE7qI,CS3WD+E,AiB2uBA,A1BhYE,C0BgYD,ADdAipJ,CCcD,CjB3uBG,AiB2uBb,A1BhYe,C0ByXiB,CAOjB,A1BhYJ,GAAS,GAAT,ES3WWloJ,CAAT,AT2Wa,CyBkXD,ChB7tBA,AgB6tBCqoJ,AzBlXjB,IAA0BnuJ,CAAF,CyBkXD,AzBlXOrO,CyBkXN08J,OzBlXA,CAAgB,CyBkXxB,CAAvB,AzBlX+B,CAApC;A6BmYD,AJhBK,AzBjXJ,kBS5WiBvoJ,KAAKskC;AADrB,AoB+uBF,AHFI/4C,ADdD,ICcCA,CAAC,GAAGyY,GAAG,GAAGuB,MAAM,CAAC,CAAD,CAAhB;AjB9uBJ,AoBivBA,AHFI1J,A1B/XJ,CShXA8yC,GiB+uBI9yC,A1B/XAxB,C0B+XC,GAAG8J,GAAG,E1B/XE,C0B+XCoB,E1B/XE,I0B+XI,CAAC,CAAD,CAAhB,CAVgC,CAUX;AjBzuBzB,AoB4uBA,AJhBE,AzBhXDjL,EAAAA,ES5WK+tI,KgB4tBGme,AzBhXD,EAAEx7J,IAAI,CAACuP,EAAL,ES5WJ8tI,CT4Wc,ES5WK,CT0WT,GyBkXW,CAACl9I,KAAD,EAAQ,CAACof,IhB5tBpC,GgB4tBmC,GAAW29I,cAAc,CAACG,MAAD,CAAzB,GAAoCtL,WAAW,CAACsL,MAAD,CAAX,GAAsB,UAAUF,GAAV,EAAe;AIiB5G,AHFI,ADdAG,AzBhXH9tJ,EAAAA,EyBgXG8tJ,ICcI/iJ,ADdA,CzBhXA,EyBgXG8iJ,AzBhXD,G0B8XI,CAACh8J,EDdE,AzBhXDrB,CyBgXEm9J,GCcV,ADdS,AzBhXG,CyBgXhB,AzBhXiB5tJ,EAHL,E0BiYU,CAAtB,EAAyB;AjBzuB7B,AoB4uBA,AHFMsb,ADdF,AzB/WHpb,EAAAA,I0B6XKob,GjB1uBGyyH,EgB4tBEt9I,CCcC,E1B7XC,C0B6XEA,ADdA,CAAC8V,AzB/WD,G0B6XI,ADdR,CCcSF,ADdA0nJ,ICcL,ADdS,ChB5tBxB,AiB0uByBnrJ,CjB1uBCorI,AiB0uBA,CDdC4f,CzB/WA,CS7W3B,AiB0uB6BhrJ,CAAJ,ADdd,ChB5tBoB,EiB0uBEC,CAAC,CDdCiX,ECcEjX,CAAtB,CAAT,EDdK,GAAiCkrJ,IAAjC,GAAwCH,GAA/C;AIiBJ,AHFMryI,ADdH,AzB9WD,GyB2WqE,GhBztBjEyyH,AiB0uBAzyH,ADdA,GhB5tBAyyH,GiB0uBM,EjB1uBE,CiB0uBCv9I,CDdCm9J,ChB5tBV5f,EiB0uBa,ADdb,CCcc3nI,CjB1uBC+tC,AgB4tBA,GCcN,CAAUzpC,CAAC,CjB1uBLypC,CAAOu2F,CiB0uBChgI,CAAJ,GAAQ7H,CAAC,GAAGA,CAAtB,CjB1uBMsxC,AiB0uBf,CjB1uBkC45F,GAAnB55F,GAAyB;AoB6uB9C,AHFMhoC,ADdF,AzB7WF,M0B2XIA,EDdEpb,AzB7WFmP,CyB6WG,CzB7WD,CS/WG,CgB4tBCu0B,CzB7WDjkC,C0B2XG,GAAGmS,A1B3XF,C0B2XG,A1B3XFxC,I0B2XMyC,ADdA,CCcL,ADdMkrJ,CzB7WZ,E0B2XeuW,CDdC,EzB7WA,CyB6WG1W,ECcE,CAAC/qJ,ADdA,CCcD,ADdE7R,CAAP,CCcS4R,CAAJ,CAAN,ADdYgrJ,CzB7W3B,E0B2X8BwW,ADdnB,CAAlB,AzB7WoC,CAAtC,M0B2Xe,GAAmC,CAA9C,CAHuB,CAG0B;AGGvD,AJjBI,AzB5WF,QyB6WM9iK,AzB7WFjB,CyB6WG,CzB7WD,EyB6WIq0B,CzB7WDjkC,IAAI,CAAC2P,IyB6WM,CAAC2tJ,CzB7WZ,GyB6WgB,EzB7WA,CyB6WGH,GAAG,CAACtsJ,CAAP,GAAW,CAAhB,AzB7WX,CyB4WP,EzB5WoC,CAAtC;A6B8XF,AHFMiqK,ADhBF,AzB3WF,M0B2XIA,EDdE5qK,AzB7WFL,EAAE,C0B2XG,ADdA,EzB7WA7P,C0B2XGqS,ADdAi/I,CCcC,E1B3XA,CAAC3hJ,C0B2XGuK,CAAL,CDhBV,ECgBmB25J,C1B3XZ,K0B2XkB,A1B3XF,C0B2XGxhK,CAAD,EAAI6H,CAAJ,CAAN,GAAey5J,C1B3X3B,GAA6B,CAAtC,G0B2XqB,GAA0Bh4J,QAAnC,GAA8C,CAAtD;AGGN,AHFMm/J,ADjBF,AzB1WF,MS/WMh6K,AiB0uBFg6K,EDdEtd,AzB7WF1tJ,EAAE,CS/WAhP,AiB0uBG,E1B3XAd,CS/WKu9I,CgB4tBD,CCcCzyH,CjB1uBAyyH,AT+WD,CS/WKz8I,AgB4tBF,AzB7WF6O,CyB0WZ,GCiBkB,CjB1uBN4tI,CAAUF,AT+Wf,E0B2Xer9I,G1B3XC,C0B2XG,CAACuS,GAAL,CAASuoK,I1B3XxB,CS/WKv9B,AiB0uBwB,E1B3XA,C0B2XGq2B,A1B3XzC,Q0B2XwB,CAAf,CAAL;AGGN,AJpBI,AzBzWF,QyB6WM1kK,AzB7WFa,CyB6WG,GAAGstJ,AzB7WF,GAAGjuJ,GyB6WK,CAAC/N,AzB7WF,CAAEqO,EAAE,GyByWjB,AzBzWoB,IAAP,CAAJ,GAAoBN,IAAI,CAAEM,EAAE,IAAI,CAAN,GAAU,IAAZ,CAAxB,GAA6CN,IAAI,CAAEM,EAAE,IAAI,EAAN,GAAW,IAAb,CAAjD,GAAuEN,IAAI,CAAEM,EAAE,IAAI,EAAN,GAAW,IAAb,CAA3E,GAAiG,GAAjG,GACVN,IAAI,CAAEQ,EAAE,GAAG,IAAP,CADM,GACUR,IAAI,CAAEQ,EAAE,IAAI,CAAN,GAAU,IAAZ,CADd,GACmC,GADnC,GACyCR,IAAI,CAAEQ,EAAE,IAAI,EAAN,GAAW,IAAX,GAAkB,IAApB,CAD7C,GAC0ER,IAAI,CAAEQ,EAAE,IAAI,EAAN,GAAW,IAAb,CAD9E,GACoG,GADpG,GAEVR,IAAI,CAAES,EAAE,GAAG,IAAL,GAAY,IAAd,CAFM,GAEiBT,IAAI,CAAES,EAAE,IAAI,CAAN,GAAU,IAAZ,CAFrB,GAE0C,GAF1C,GAEgDT,IAAI,CAAES,EAAE,IAAI,EAAN,GAAW,IAAb,CAFpD,GAE0ET,IAAI,CAAES,EAAE,IAAI,EAAN,GAAW,IAAb,CAF9E,GAGVT,IAAI,CAAEU,EAAE,GAAG,IAAP,CAHM,GAGUV,IAAI,CAAEU,EAAE,IAAI,CAAN,GAAU,IAAZ,CAHd,GAGmCV,IAAI,CAAEU,EAAE,IAAI,EAAN,GAAW,IAAb,CAHvC,GAG6DV,IAAI,CAAEU,EAAE,IAAI,EAAN,GAAW,IAAb,CAH5E,CARyB,CAazB;A6ByXF,AHFM,ADnBF,MhBvtBE,CAAC6zC,CgB4tBCvtC,ECcE+f,ADnBN,GhBvtBGwtB,CAAO65F,CiB0uBC,CAACw4B,GAAV,CjB1uBCryH,CAAc7iD,AiB0uBA,KjB1uBd6iD,GAAsB;AoB6uB7B,AHFQpjD,ADpBJ,AzBnWF,Q0BuXMA,ADdA8V,CCcC,CDpBL,ChBttBO4tB,ATmXFl0B,E0BuXIqqK,E1BvXA,CAACpqK,I0BuXM,CjB1uBTi0B,CAAWnjC,EiB0uBEs5K,GjB1uBFt5K,ATmXb,CSnXmB,CAANA,ATmXpB,CSnXSmjC,CiB0uBoB,GAAG9xB,CAAV,GAAcmoK,OAAO,GAAGjoK,CAA5B,CAAZ;AGGR,AHFQxB,A1BtXN,GArBc,K0B2YRA,CAAC,IAAIypK,OAAO,IAAIF,OAAO,GAAGhoK,CAAV,GAAckoK,OAAO,GAAGpgK,CAA5B,CAAZ;AGGR,AHFO,ADdH,AzBvWHjK,EAAAA,K0B0W4B,A1B1WvB,C0BqXE,C1BrXA,EyBuWGf,CAAC,EAAR,EAAY,GzBvWG/O,KAAX,EAAkB+P,GAAlB,EAAuBC,GAAvB,EAA6B;A6BwXrC,AJhBM,AzBtWJ,SSpXO,CgB0tBCmtJ,CzBtWDt9J,GyBsWH,CzBtWO,CyBsWG,AzBtWFmQ,GAAL,CAAUD,GAAV,EAAelQ,IAAI,CAACkQ,GAAL,CAAUC,GAAV,EAAehQ,KAAf,CAAf,CAAP;A6BuXF,AHFK,ADdGiW,AzBrWN,GA3Bc,E0BiYZ,GDDIA,EAAE,CCcC,EDdEinJ,MAAM,CAACnuJ,CAAD,CAAN,CAAU3O,CAAV,GAAcA,CAAnB;AIiBR,AHFM+Y,ADdEjD,AzBpWP,M0BkXKiD,EDdEjD,CCcC,CDdC,ECcEkE,CDdC8iJ,KCcK,CAAC,ADdA,CCcD,ADdEnuJ,CCcd,ADda,CAAN,CAAU2B,CAAV,GAAcA,CAAnB;AhBrtBR,AoBsuBA,AHFMub,ADdEhW,AzBpWP,ISlXKqnI,EiBouBArxH,CjBpuBAqxH,CgBstBErnI,CCcC,CjBpuBG,AgBstBF,ECcEmE,CDdCnE,EAAE,GCcG,ADdAA,CCcC,CAAD,ADdL,CCcP,EDdiBC,EAAE,GAAGA,EAApB;AIiBR,AHFM4C,ADdC,AzBnWN7I,EAAAA,I0BiXK6I,CDlBA,ECkBG,GAAGsB,CDdC,IzBnWG,CS7WE,AiB8tBA,CAAC,A1BjXD,C0BiXA,CAAZ,MjB9tBY,ET6WWlK,CAAX,EAAcC,CAAd,EAAkB,MS7WlB,CAASotI,IAAT,EAAeC,UAAf,EAA2B;AoBiuB7C,AHFMvkI,ADdEhD,AzBlWN,M0BgXIgD,EjB9tBEskI,AgBgtBAtnI,CCcC,CDdC,CzBlWD,CS9WDsnI,AiB8tBInjI,A1BhXClK,CyBkWArQ,AzBlWC,GAAGsQ,CS9WAvQ,AgBgtBA,AzBlWN,C0BgXO,ADdA+V,CCcC,CAAD,A1BhXKxF,C0BgXjB,ADdO,AzBlWJ,CyBkWa+sJ,GzBlWO/sJ,CS9WrBotI,AT8WN,EyBkW0B,CAACxuI,ChBhtBCwuI,AgBgtBF,CAAN,GhBhtBQA,AgBgtBIn9I,ChBhtBCujC,AgBgtBtB,CAAL,IhBhtBsB45G,KAAe39I,WAAW;AoBiuBxD,AHFMwZ,ADdC,AzBjWL,GApCc,G0BmZVA,GjB7tBGqkI,AiB6tBA,GAAGrjI,MAAM,CAAC,EAAD,CAAZ,GjB7tBmBojI,UAAAA,GAAa,YAAW;AoBguBjD,AHFMtxH,A1B9WL,M0B8WKA,GAAG,GAAG9R,CjB7tBC,KiB6tBK,CAAC,EAAD,CAAZ;AjB9tBmB,AoBiuBzB,AHFMha,ADdA,AzB/VLgQ,EAAAA,GSlXwBotI,CiB+tBnBp9I,CAAC,CjB7tBC,EiB6tBEga,ADdAnE,CzB/VA,CyB+VE,CzB/VA,EyB+VGlG,CCcC,CAAC,CDdX,CCcU,CjB7tBG,AiB6tBb,ADdc,ChBjtBhB,ETkXmB3P,CAAX,EAAciQ,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA+B;A6BgX3C,AHFME,ADdEX,AzB9VN,M0B4WIW,CAAC,CDdCX,ChB7sBC4zB,CiB2tBCvpB,CDdC,AzB9VF7J,EAAE,CyB8VG0F,ChB7sBCynI,CiB2tBC,ADdR,AzB9VM,C0B4WG,A1B5WDt9I,CAAC,C0B4WD,CAAV,C1B5WciQ,EAAN,KAAeG,EAAE,CS/WAgtI,ET+WGjtI,EAApB,KAA6BD,CS/WZktI,CT+Wc,ES/WD,CT+WIntI,EAAlC,CAAZ,ES/W6BmtI,GAAsB;AoB8tBrD,AHFM/9H,ADdE49I,AzB7VN,GA5Cc,G0BuZV59I,CAAC,CDdC49I,ChB7sBC15H,CiB2tBCvpB,KjB3tBKujI,AgB6sBA,CCcC,CAAC,CDdC5uI,CCcF,ADdR,CCcF,ajB3tB2ByuI,UAAAA,GAAa,MAAbA,GAAsB;AoB8tBvD,AHFM3nI,ADdC,AzB5VN,M0B0WKA,GjB3tBG+nI,EiB2tBE,GAAG81B,MAAM,CAACv6J,GjB3tBGqkI,AiB2tBJ,EAAMpkI,GAAN,CAAd,IjB3tBkBokI,GAAa,IAAbA,GAAoB;AAjBhC,AoB+uBZ,AHFMi9B,ADdD,AzB3VJhqK,EAAAA,CSpYW,GiB6uBNgqK,A1BzWD,EAAE,O0ByWQ,GAAG5kK,A1BzWAzV,CAAX,EAAcsQ,CAAd,C0ByWgB,C1BzWCC,CAAjB,C0ByWmB6iK,C1BzWE,O0ByWtB,CAXK,CAWyB;AGGpC,A7B1WE,WAAO,CAAE,IAAI7iK,CAAN,CS5WS,GT4WGvQ,CAAZ,GAAgBuQ,CAAC,CS5WR,ET4WWD,CAA3B,WS5WgB,CAAS6sI,IAAT,EAAeM,GAAf,EAAoBv6C,IAApB,EAA0B;AoButB5C,AHFM,ADdF+5D,AzBzVF,GApDc,CyB6YZA,IhBtsBIvf,EiBotBEjoI,CDdC,GAAG,CCcR,ADdSqT,ChBtsBP40H,CiBotBS,EjBptBEx6C,EgBssBL,IAAWvzF,GAAG,IAAImZ,MAAlB,GAA2Bg0I,MAAM,CAACG,OAAD,CAAjC,GAA6CL,GAAvD;AIiBJ,AHFQ5qJ,ADdJ,AzBxVH,QS9WO2rI,AiBotBA3rI,GAAG,ADdA+qJ,GCcGt9J,CDdC,GhBtsBPk+I,AiBotBU,CAAC3rI,ADdAirJ,EhBtsBExf,CiBotBP,CAAS,CAAChoI,EDdE,GCcZ,CAAN,CDduBmnJ,GAApB,IAA2BnL,SAAS,CAACmL,GAAD,CAApC,GAA4CK,OAA5C,GAAsDA,OAAO,GAAG/B,OAAO,CAAC0B,GAAD,CAA9E;AIiBJ,AHFQ3qJ,ADdL,AzBvVFzB,EAAAA,CyB0T0B,CAAzB,IC2CMyB,GAAG,C1BrWA,E0BqWGxS,A1BrWD,I0BqWK,CAACwS,GAAL,CAAS,CAACwD,A1BrWAzV,CAAX,EAAc2P,E0BqWb,CAAN,A1BrWK,EAAmBC,GAAnB,EAAyB;A6BwWtC,AHFQ2tB,ADdP,AzBtVC,CyBjbF,OhBiEQ6lB,AiBotBA7lB,A1BpWDv9B,CAAC,C0BoWE,GAAGyY,A1BpWD9I,CShXJyzC,CAAOu2F,CiBotBC,A1BpWd,EAAgB,C0BoWC3nI,GAAN,GAAY0G,A1BpWA,CShXjB0qC,ATgXU,CShXSu6F,CiBotBC,GAAG1rI,GAAvB,GjBptBAmxC,GAAgC;AoButBxC,AHFQo4D,ADtxBR,AzBkbE,IyBsVEpsG,ICcIosG,A1BpWDx7G,CAAC,C0BoWE,ADdA,GCcG4Y,ADdA,AzBtVDhJ,G0BoWI,A1BpWd,EAAgB,CShXC,AiBotBAoC,GAAN,ADdS5C,GCcGyJ,A1BpWA,CAAP,E0BoWU,ADdf,CAAgBlJ,ECcEsC,CDdlB,ECcL,ADd0BrC,GAArB,EAA0BstJ,iBAA1B,EAA6CC,cAA7C,EAA6D;AIiB1E,AHFQz/C,ADdN,AzBrVA19G,IAAAA,CAAC,G0BmWK09G,A1BnWF,CyBqVGu9C,AzBrVDj7J,C0BmWE,A1BnWD,G0BmWI+Y,A1BnWDpJ,G0BmWI,A1BnWV,G0BmWaqC,E1BnWGpC,C0BmWT,E1BnWY,C0BmWAoJ,EDdE,AzBrVCrJ,C0BmWA,ADdAoiJ,EzBrVtB,C0BmWyB9/I,A1BnW7B,G0BmWM,EDd4B,CAACtC,GAAD,CAAR,GAAgB,CAACC,GAAjB,GAAuBstJ,iBAAiB,KAAK,IAAtB,GAA6B,CAAC,EAAEA,iBAAiB,GAAG,CAAtB,CAA9B,GAAyD,CAACC,cAAlF,EAAkG,YAAY;AIiBzI,AHFQzkJ,ADdJ,AzBpVF,Q0BkWMA,GAAG,ADdAq5I,AzBpVF/xJ,CAAC,E0BkWIyY,C1BlWDzY,CAAJ,C0BkWQ,EDdE,CCcC,ADdA2P,AzBpVD,C0BkWEsC,EDdF,CCcL,ADdH,AzBpVY,G0BkWIyG,ADdA/I,CzBpVA3P,CAAlB,C0BkWqB,ADdA,AzBpV5B,CyBoV6B,CAAC,CCcCgS,CDdCvS,ECc1B,EDd8B,CAAC2P,MAAL,KAAgBO,GAAG,CAAC7O,MAAtB,CAAF,CAAnB,GAAsD,CAACo8J,iBAAiB,GAAGA,iBAAiB,IAAI,IAA1C,MAAoDC,cAAc,GAAGD,iBAAiB,GAAG,CAApB,GAAwBz9J,IAAI,CAACC,GAAL,CAAS,EAAT,EAAa,CAACw9J,iBAAiB,GAAG,EAArB,EAAyBp8J,MAAzB,GAAkC,CAA/C,CAAxB,GAA4E,CAAjJ,KAAuJ,CAAC,EAAErB,IAAI,CAACsV,KAAL,CAAW,CAACpF,GAAG,GAAGlQ,IAAI,CAAC2P,MAAL,MAAiBQ,GAAG,GAAGD,GAAvB,CAAP,IAAsCutJ,iBAAjD,IAAsEA,iBAAtE,GAA0FC,cAA5F,CAAD,GAA+GA,cAAnU;AIiBJ,AHFQtkJ,ADdL,AzBnVD,GyBiVyB,AzBlZX,CyBkZd,IhBpsBMuqC,AiBotBAvqC,GAAG,GjBptBHuqC,AiBotBMxqC,CjBptBC+gI,EiBotBE,GAAG,CAAC1nI,GAAP,EjBptBNmxC,CAAmBs6F,AiBotBA7kI,GAAG,GAAG7G,EjBptBzBoxC,CiBotBA,EjBptB8B;AoButBtC,AHFQpqC,ADdP,AzBlVAvI,CyB1bD,CzB0bCA,M0BgWOuI,GAAG,GAAGD,A1BhWD,EAAE,CSpXE,AiBotBA,GAAG,CAAC9G,GAAP,E1BhWYjS,C0BgWCgZ,A1BhWZ,EAAcrJ,C0BgWC,E1BhWf,C0BgWkBqC,C1BhWCpC,E0BgW1B,C1BhWO,EAAyB;A6BmWxC,AHFQkc,AD3xBR,AzB4bE,IyBiVEsxI,ICcItxI,ADdA,AzBjVD9rB,CAAC,E0B+VG,ADdA,EzBjVC2P,C0B+VEkc,E1B/VZ,C0B+Ve,C1B/VC,E0B+VE,ADdAuxI,CCcCnrJ,GAAP,ADdH,CzBjVc,CAAP,C0B+VS6Z,ADdA,GCcG,GAAG9Z,GAAzB;AGGR,AHFQyG,ADdN,AzBjVA,OyBiVK,CCcCA,A1B/VDzY,CAAC,E0B+VG,ADdAq9J,EzBjVCztJ,C0B+VE2tB,CDdC,CCcP,A1B/VN,EyBiVgB18B,AzBjVA,OAAO,CAAP,CyBiVS,CAACC,MAArB,EAA6Bw8J,SAAS,GAAG,IAAIv+I,KAAJ,CAAUs+I,IAAV,CAAzC,EAA0DE,IAAI,GAAG,CAAtE,EAAyEA,IAAI,GAAGF,IAAhF,EAAsFE,IAAI,EAA1F,EAA8F;AIiBhG,AHFQ3kJ,ADdJ0kJ,AzBhVFt9J,IyBgVEs9J,AzBhVFt9J,CAAC,G0B8VK4Y,A1B9VF,CStXG2qB,ATsXDvjC,CAAC,C0B8VE,EDdE,AzBhVD2P,C0B8VE6rG,ADdA+hD,ChBtsBCnwI,CiBotBP,A1B9VF,EyBgVO,CAAT,EzBhVkBxd,CyBgVA/O,EzBhVG,EStXC,CTsXE8O,GAAtB,CyBgVyB,AzBhV7B,CyBgV8B4tJ,IAAD,CAA3B;AIiBJ,AHFQxkJ,ADdL,AzB/UD,Q0B6VMA,GAAG,A1B7VF/Y,CAAC,E0B6VI09G,C1B7VD19G,C0B6VL,A1B7VC,GAAQA,CAAR,IAAcA,CAAC,IAAKA,CAAC,GAAG,CAAJ,GAAQ,EAAb,CAAD,GAAqB,EAAnC,CAAP;A6BgWF,AHFO,A1B5VL,GA5Ec,I0B8YL,CjB1rBH29I,AiBotBA,YjBptBY;AoButBpB,AJhBE,AzB7UD,SyB6UQ,EhBtsBEp6G,MAAMvV,EgBssBEpuB,KhBtsBK,AgBssBf,EAAiB;AIiB1B,AJhBI,AzB5UH8Q,EAAAA,OAAO,ES1XG6yB,AgBssBA+5H,AzB5UD,MS1XOrvI,GgBssBG,CAACuvI,AzB5UA7sJ,GAAX,CS1Xe,CT0XCC,CyB4Uf,CAAiB,EzB5UlB,EAAuB,MyB4UK8C,CAAV,EAAakG,CAAb,EAAgB;AIiB5C,AHFMnE,ADdA,AzB3UJ,M0ByVIA,KAAK,A1BzVF9E,EyB2UIiJ,CCcC05J,ADdA,AzB3UF,CyB2UG5/J,CAAD,CAAR,AzB3USjU,G0ByVK,CAAC,A1BzVF,C0ByVGqS,A1BzVFhS,C0ByVA,EAAKkZ,E1BzVV,C0ByVK,A1BzVOvZ,C0ByVrB,G1BzVyB,CAAC2P,MAAL,MAAkBwB,IAAI,GAAGD,GAAP,GAAa,CAA/B,CAAZ,CAAb;A6B4VF,AHFM2pK,ADdD,AzB1UH,GApFc,EyB4ZL,CCgBLA,CDdC16K,KAFI,CAAP,ECgBW,GAAG6V,KAAK,GAAG29J,QAApB;AGGN,AJhBG,AzBzUF,GyBqUC,KhBnsBM11B,UAAU;AoBwtBlB,AHFM,ADdL,AzBxUA7sI,CyB/cD,CzB+cCA,Q0BsVS4E,CjBrtBC8tB,AT+XD,EAAE,E0BsVN,EjBrtBWrV,AiBqtBA,MjBrtBM,AT+XAvd,GAAX,EAAgBC,IAAhB,EAAuB;A6ByVnC,AHFQoB,ADtyBR,AzBidE,IyBuUEyrJ,ICcIzrJ,GjBrtBGuxB,AiBqtBA,ADdA,AzBvUF5yB,G0BqVKlR,ADdA,AzBvUF,GShYK0uB,ATgYF1uB,C0BqVG,CAACuS,E1BrVA,C0BqVL,A1BrVM5C,C0BqVG,ADdAquJ,CCcChoJ,EjBrtBE,ETgYX,C0BqVD,CAAN,ADdM,CAAiBmiF,GzBvUEhnF,CyBuUnB,EAAuB8qD,CzBvUA,GyBuUvB,AzBvU0B/qD,EyBuUG,CzBvU5B,CAAb;A6BwVF,AHFQsB,ADdN,AzBtUA,GA5Fc,K0BgbRA,CDdC,ECcE,GAAGxS,IAAI,CAACwS,ADdArS,GCcL,CAAS,CAAC6V,ADdf,EAAiB,GCcZ,CAAN;AjBpwBI,AoBuwBZ,AHFQ8nB,ADdJ,AzBrUH,GSlbW,KiBqwBJA,EAAE,CDdCq6D,ECcEhmF,CAAC,CDdC,CAAC8xB,CCcC1xB,GAAJ,GAAU0G,GAAG,ADdA,CAAC9Y,ECcEqS,GAArB,ADdkB,CAAX,CAAJ,IAA2BypD,IAAI,IAAIw/F,OAAO,CAACt7J,KAAD,CAA1C,CAAP;AIiBJ,AHFQ47G,ADdL,AzBpUF1qG,EAAAA,CyBkUC,KCgBM0qG,EAAE,GjB9sBG,AiB8sBA3pG,CAAC,GAAGG,A1BlVD,EAAE,C0BkVL,EjB9sBA,CiB8sBU6G,GAAG,GAAG5G,A1BlVAlB,ES5XhB,CAASosI,AiB8sBd,E1BlVU,ES5XL,AT4XwB,ES5XTS,SAAf,EAA0B5sE,IAA1B,EAAgC6sE,GAAhC,EAAqC;AoBitBlD,AHFQngC,ADdP,AzBnUC,CyBzdF,OhB4FUpoB,AiB8sBFooB,EAAE,C1BjVD3sG,E0BiVIe,CjB9sBHwjF,AiB8sBI,E1BjVA,CS7XKtkB,AiB8sBFh/D,GAAJ,A1BjVM,CS7XAg/D,EiB8sBIh4D,EjB9sBI,CiB8sBD,A1BjVDvZ,G0BiVIwS,C1BjVA,CAAC7C,C0BiVtB,K1BjViB,EAAX,CAAZ;A6BoVF,AHFQ0c,AD3yBR,AzB2dE,GApGc,CyBsaZtW,IhBhsBMsoI,AiB8sBFhyH,GAAG,EDdE,CCcCnS,CAAC,CDdC,ChBhsBNmkI,CiB8sBQ7rI,EjB9sBI4qI,CiB8sBR,GAAU/wH,CDdCtW,ECcE,GAAGxD,GjB9sBR6qI,AiB8sBd,CjB9sB4Be,AgBgsBpB,CAAmBjuI,GAAnB,EAAwBC,GhBhsBlBitI,AgBgsBN,EAA6Bj9I,KAA7B,EAAoC;AIiBpD,AHFQgS,ADdN,AzBjUDZ,EAAAA,M0B+UOY,CAAC,ADdA8rJ,CzBjUA,E0B+UGngI,A1B/UD,E0B+UH,GDdS,CAAC5tB,GAAD,CzBjUKsB,CyBiUCrB,GAAN,EAAW,CAAX,AzBjUN,EyBiUoB,AzBjUC,CyBiUf,EAAiBhQ,KAAjB,CAAf;AIiBF,AHFQiS,ADdP,AzBhUC,CyB/dF,OhB8FQ,AiB+sBAA,CjB/sBCisI,AiB+sBA,E1B9UA7sI,C0B8UGuqG,EAAJ,I1B9UQ,ESjYI,CTiYD1sG,SAAS,CAACC,OAA3B;A6BiVF,AHFQ+C,AD9yBR,AzBieE,GA1Gc,CyByaZ6rJ,ICcI7rJ,CAAC,GjB/sBG,AiB+sBA4rG,EAAJ,ADdM,EhBjsBErqG,CgBisBC,IhBjsBL,CAAU,IgBisBIsqJ,UAAT,CAAoB/rJ,ChBjsBCgsI,AgBisBrB,EAAuBggB,OhBjsBlB,AgBisBL,EAAgCh+J,ChBjsBC,IgBisBjC,EAAuC,WhBjsB5C;AoBktBZ,AHFO,ADdL,AzB9TDsR,EAAAA,K0BkSU,CA0CH,CDdC+pJ,CzB9TA,EAAE,UAAW9pJ,KyB8TK,CAACvR,CzB9TjB,EAAqB,EyB8TL,EAAQ,UAAUgB,KAAV,EAAiB;AIiBpD,AJhBI,AzB7TF,WyB6TSgR,AzB7TFT,CyB6TG,CAAC,CAAC,CAACysJ,GzB7TC,GAAG9uJ,CyB6TG,CAAClO,KAAD,CAAV,CAAR,AzB7TwB,CAACqO,OAA3B;A6B8UF,AJhBG,AzB5TD,GyB0TyB,AzB1aX,CyB0ad,IhBhsBQ8uI,GAAAA,GAAM7hI,QAAAA,CAAS8hI,WAAT9hI,CAAqB4hI,SAArB5hI;AoBmtBhB,AHFMzG,ADdL,AzB3TArE,CyBzeD,CzByeCA,I0ByUKqE,KAAK,GAAG69J,A1BzUD,EAAE,I0ByUK,CAACzhK,CAAD,EAAID,CAAJ,CAAd,A1BzUoBhS,KAAX,EAAmB;A6B4UlC,AHFMwb,ADnzBN,AzB2eE,IyB0TEwD,ECcExD,EDdE,GAAG,AzB1TF,CSzYG0iI,ATyYDl+I,E0BwUG,GAAG6V,A1BxUD,GyB0TImJ,AzB1TChf,E0BwUC,EDdX,CCccwzK,ADdAzjK,AzB1TC,GyB0Tf,AzB1TkB,CAApB,CyB0TqBC,GCcxB,ADdK,EAAwBhQ,AzB1TI,CAA9B,IyB0TE,AzB1TiCA,EyB0TF,GzB1TO,KAAK,CAApD;A6B2UF,AJhBE,AzBzTA,GAtHc,QSpRL;AoBotBX,AHFM,ADdJ,AzBxTDyR,EAAAA,IyBwTKN,ICcI0E,CDdC,GAAG7F,CCcR,C1BtUS,C0BsUE,ADdA,CzBxTA,EyBwTGD,GAAlB,KzBxT0B/P,KAAX,EAAmB;A6ByUpC,AHFQoS,ADdN,AzBvTA,Q0BqUMA,CDdC+/I,ECcE,A1BrUFtyJ,GS5YOw+I,AiBitBFx+I,C1BrUD,CAACC,CyBuTG,CCcC,ADdAiQ,CCcCqC,A1BrUV,CAAU,CS5YHisI,AgBmsBC,AzBvTR,C0BqUK,ADdL,CCccxoI,A1BrUDhW,CS5YI61F,CgBmsBDqoE,EzBvTC,C0BqUZ,A1BrUarsJ,C0BqUnB,CjBjtBkBgkF,CAAOt1F,CAAPs1F,AT4YJ,CAAW71F,EyBuTE,ChBnsBG61F,AgBmsBF3lF,CzBvTC,CAAC4B,CyBuTH,EAAMqN,AzBvTR,CS5YK02E,AT4YK11F,CS5YEq+I,EgBmsBA,CAAC,CAAD,AzBvTZ,EyBuTgBtuI,ChBnsBvB2lF,CT4Y2B71F,CyBuTD,CAACqB,ChBnsBG,CT4YC,CAAC0Q,GyBuTb,AzBvTvB,CyBuTa,AzBvT1B,CAAP,CyBuT4D5B,GAA3B,CAA1B,GAA4DqrJ,kBAAkB,CAACr7J,KAAD,EAAQ,UAAUA,KAAV,EAAiB;AIiBhH,AHFQqS,ADdJ,AzBtTF,GA5Hc,K0BgcRA,GAAG,ADdA,CAAClB,EhBnsBImtI,AiBitBFz+I,GDdG,CCcC,CAACwS,CDdC,ChBnsBJisI,AgBmsBKt+I,CCcP,CAAS6V,CjBjtBG6/E,EgBmsBA,ECcZ,CAAN,ADdqB3lF,ChBnsBH2lF,CAAOhlF,CAAPglF,AgBmsBN,IhBnsBkBA,AgBmsBFvkF,KAAzB,ChBnsB2BukF,CAAO4oD,EgBmsBAntI,KhBnsBnBukF,AgBmsBf,GAA0C3lF,ChBnsBG,EgBmsBpD;AIiBJ,AHFQ4tB,ADdL,AzBrTF9rB,EAAAA,CyBmTsF,CAArF,ICgBM8rB,EAAE,GAAG3rB,CjBjtBCusI,AiBitBA,GAAGnsI,A1BnUD,EAAE,C0BmUL,GAAUH,CAAC,GAAGI,EjBjtBE2rI,AT8YAh+I,C0BmUrB,I1BnUU,EAAmB,IS9YG01F,MAAAA,CAAO8oD,OAAP9oD,IAAkB,OAC9CA,MAAAA,CAAO+oD,UAAP/oD,IAAqB,MAAMpJ,QAAQoJ,MAAAA,CAAOgpD,UAAPhpD,IAAqB,GACxD,+BAIO,OAAO,OAAO,OAAO,GAAG;AoB8sB3C,AHFQkmB,ADdP,AzBpTC,CyBvfF,OCyzBQA,EAAE,C1BlUD/7G,E0BkUIgZ,E1BlUA,C0BkUG,A1BlUF/Y,G0BkUKsS,A1BlUV,CAAU,CAAV,C0BkUI,C1BlUSvS,E0BkUGmZ,E1BlUC,C0BkUE,A1BlUD9Y,G0BkUImS,E1BlUT,C0BkUd,A1BlU0BxS,IAAI,CAAC8R,GAAL,CAAU3R,KAAV,IAAoBH,IAAI,CAAC+R,GAArC,CAAb,CAAP;A6BqUF,AHFQK,AD1zBR,AzByfE,GAlIc,CyBqbZgsJ,ICcIhsJ,CAAC,GAAGA,ADdA,CCcC,EDdE,CCcCG,GAAJ,GAAUJ,CAAC,CDdCisJ,ECcE5rJ,GAAlB,GDdO,CAAkBtC,GAAlB,EAAuBC,GAAvB,EAA4BhQ,KAA5B,EAAmC;AIiBlD,AHFQgZ,ADdN,AzBlTDlH,EAAAA,IyBkTKX,ECcE6H,GAAG,ADdA,GCcGA,ADdAhJ,GCcG,ADdA,GCcGoC,ADdArC,GCcN,ADdZ,GCcwB8I,GAAG,C1BhUA,E0BgUGxG,A1BhUD,G0BgUvB,O1BhUkCN,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAoBC,CAApB,EAAuBC,KAAvB,EAA+B;A6BmU9D,AHFQH,ADfN,AzBhTA,MyBiTI4oH,ECcE5oH,CAAC,EjB5sBE,AgB8rBA,CCcC2rB,EAAJ,ADdMxsB,KAAK,GAAG,CADpB;AIkBF,AHFQ0H,ADdN,AzBhTA,Q0B8TMA,CDdCs5I,ECcE,GAAGv2C,EAAN,CDdS,CAAC7rG,GAAD,CAAR,GAAgBguJ,UAAU,CAAChuJ,GAAD,EAAMkuJ,QAAQ,CAAC,CAAD,EAAIluJ,GAAG,CAAC7O,MAAJ,GAAa,CAAjB,CAAd,EAAmC8O,GAAnC,CAA1B,GAAoEqrJ,kBAAkB,CAACr7J,KAAD,EAAQ,UAAUA,KAAV,EAAiB;AIiBxH,AHFO,ADdHA,AzBhTF,IyBgTEA,KAAK,GAAG,CAAC46H,ChB9rBG7kE,IAAAA,AgB8rBE,GhB9rBKooF,AgB8rBF,CAACn+I,EhB9rBCm+I,CAAIQ,EgB8rBA,GAAG5uI,GAAT,IAAgB6qH,KhB9rBdujB,AgB8rBX,IhB9rBoCA,AgB8rBFvjB,GhB9rBEujB,CAAIS,CgB8rBhD;AIiBJ,AJhBI,AzBhTF,WyBgTS7uI,GAAG,GhB9rBG8uI,CgB8rBC7+I,KAAK,GhB9rBG01F,AgB8rBAvkF,KAAR,GhB9rBgB,AgB8rBAypH,KAAK,GAAG56H,KAAxB,GAAgCA,KAApC,CAAV;AIiBJ,AHFM,ADdH,AzB/SD,GyB4S6F,CAA7F,IzB5SIoS,E0B6TIqoK,C1B7TD,GAAG56K,IAAI,C0B6TG,A1B7TFuS,GAAf,C0B6TqBvS,CjB5sBC,GiB4sBG,CjB7sBO,AiB6sBN8V,GAAL,CAAS8kK,SAAT,IAAsB56K,IAAI,CAAC8V,GAAL,CAAS6F,QAAT,CAAtB,GAA2C,KAA5D,EAAmE;AGGzE,AHFQ,ADdP,AzB/SC,CyBpgBF,OzBogBMnJ,GAAG,GAAGxS,IAAI,CAACwS,ES/YI,CT+YnB,ISjZgC;AoBitBlC,AHFQooK,ADl0BR,AzBsgBE,IyB8SEvc,ICcIuc,A1B5TFnoK,EAAE,GAAGF,GAAG,C0B4TG,A1B5TDH,CyB8SE,AzB9SD,EShZG,AiB4sBAuJ,CDdC,AzB9SD,CAAN,CAAZ,ESnZgC,GiB+sBN,EDdE0iJ,CCcC,CAAvB,YDda,CAAwBl+J,KAAxB,EAA+B;AIiBpD,AHFQ06K,ADdN,AzB9SA,Q0B4TMA,A1B5TFnoK,EAAE,GAAGF,GAAG,C0B4TG,A1B5TDJ,CAAC,E0B4TG,C1B5TA,CShZE,ATgZR,CAAZ,G0B4TwByoK,CjBhtBQ,QiBgtB1B;AGGR,AHFO,ADdL,AzB7SA,MyB6SI19E,EzB7SAxqF,EyB6SI,CzB7SD,EyB6SI,CAAX,AzB7SUJ,GAAG,CAAE,CAAEJ,CAAC,CSjZC,ETiZEE,CAAN,EStZiB,ETsZL,CAAd,CAAb;A6B8TF,AJjBE,AzB5SA,MyB6SIiC,CAAC,CzB7SD1B,EyB6SI,CzB7SD,CyB4SP,EzB5SUJ,GAAG,CAAE,CAAEL,CAAC,CSjZCpS,ETiZEsS,CAAN,IAAY,CAAd,CSvZmB,ATuZhC;A6B8TF,AHFMwY,ADhBJ,AzB1SA,M0B0TIA,ADdA3b,CAFJ,CzB1SI2D,I0B0TM,A1B1TF,G0B0TK,A1B1TFN,GAAG,CAAE,CAAEJ,CAAC,CSlZCpS,ETkZEsS,CAAN,IAAY,CAAd,CAAd,M0B0ToBrS,IAAI,CAAC4V,IAAL,CAAUzD,CAAC,GAAGA,CAAJ,GAAQC,CAAC,GAAGA,CAAZ,GAAgBC,CAAC,GAAGA,CAA9B,CAAP,CAAT;AjBntB4B,AoBstBlC,AHFMyY,ADjBJ,AzBzSA,M0B0TIA,ADdAwzI,EzB5SAxrJ,EyBySJ,ECiBU,A1B1TF,G0B0TK,A1B1TFN,GAAG,CAAE,CAAEL,CAAC,GAAGE,CAAN,IAAY,CAAd,CAAd,M0B0ToBrS,IAAI,CAAC4V,IAAL,CAAUuD,GAAG,GAAGA,GAAN,GAAYG,GAAG,GAAGA,GAA5B,CAAP,CAAT;AGGN,AHFMtD,ADlBJ,AzBvSA,M0ByTIA,ADdAoqB,EzB3SArtB,CyBuSJ,ECkBS,C1BzTD,E0ByTI8gK,CjB5sBC11B,ATmZF5rI,GAAG,CAAE,C0ByTE,A1BzTAF,C0ByTC2G,A1BzTA,G0ByTD,A1BzTI7G,CAAN,CSnZQ0jF,AiB4sBA18E,GAAN,A1BzTU,C0ByTxB,A1BzTU,CAAd,CSnZwB08E,CAAO8oD,OAAP9oD,IAAkB,OAChCA,MAAAA,CAAO+oD,YAAYnyD,QACnBoJ,MAAAA,CAAOopD,SAASppD,MAAAA,CAAOqpD,QACvBrpD,MAAAA,CAAOspD,UAAUtpD,MAAAA,CAAOupD,SACxBvpD,MAAAA,CAAOwpD,SAASxpD,MAAAA,CAAOypD;AoB2sBnC,AHFMw7B,ADnBJ,AzBtSA,M0ByTIA,ADdAv7J,EzB3SAvM,G0ByTK,C1BzTD,CyBsSR,CCmBYhT,C1BzTDwS,G0ByTK,A1BzTF,C0ByTGsD,A1BzTD,CAAEzD,CAAC,C0ByTP,CAAS2D,C1BzTC7D,CAAN,G0ByTJ,C1BzTgB,CAAd,CAAd,C0ByT8B,MAAlB,GAA2B6D,KAAK,GAAG29J,QAAnC,GAA8C,CAAtD;AGGN,AHFMqH,MAAAA,WAAW,GAAG3uJ,GAAG,GAAG,KAAKA,GAAG,GAAG,CAAN,GAAU,CAACA,GAAX,GAAiBA,GAAtB,CAAH,GAAgC,CAAjD;AGGN,AHFK,ADdH,AzB3SA,QAAK/Z,CyB2SE,EAAEpD,CAAC,CzB3SA,EyB2SG/O,GzB3SE,EyB2SG,CAACqO,EzB3SnB,EAAuB,GyB2SV,CAAc,SAAd,EAAyB2uF,IAAzB,CAAN,CAAP,EAA8C;AIiBhD,AJhBI/8D,AzB1SDluB,IyB0SCkuB,EzB1SDluB,CyB0SI,AzB1SH,CAACe,EyB0SK9S,CzB1SP,CAAOsS,EAAE,CyB0SG,CAACjE,CzB1SDoE,GAAZ,EAAiBF,CyB0SV,CAAc,AzB1SF,GyB0SZ,AzB1SeG,EyB0SI3D,CAAnB,CAAN,AzB1SD,EAA4BwD,EAAE,GAAGI,IAAjC,EAAuCL,EAAE,GAAGE,GAA5C;A6B2TH,AHFI,ADdA4M,AzBzSD,IyBySCA,CzB7SF,G0B2TM4W,GDdG,AzBzSF,E0BuTI,CAAC6/I,ADdA71K,CzBzSAmS,E0BuTV,EAAe,ADdA,CAACgyB,AzBzSD,KAAK,CyBySV,CAAap1B,CAAC,EzBzSnB,CyBySsB,CAAjB,AzBzSkB,MyBySM,GAAlC;AIiBJ,AHFM,ADdFovJ,AzBxSDpsJ,IyBwSCosJ,EzBxSDpsJ,CAAC,CyBwSI,AzBxSHe,GyBwSM9S,AzBxSR,CAAOuS,ESnZI6sI,ATmZF,EyBwSI,CAACnlC,AzBxSFtnG,IAAZ,EyBwSQ,AzBxSUL,CSnZG0rI,AgB2rBAjvI,CAAC,AzBxSF,GyBwSK,AzBxSF0D,CyBwSf,EAAoBwtB,AzBxS5B,EAA4B1tB,CyBwSG,ChB3rBCmjF,ATmZF,EyBwSI3mF,CAAN,AzBxSK2D,GSnZDgjF,AgB2rBM,ChB3rBC8oD,AgB2rB/B,AzBxSR,EyBwSyC79I,AzBxSF2R,EAAE,GSnZTojF,AgB2rBxB,AzBxSoCljF,CyBwSG4M,EzBxS/C,CSnZkD,IgB2rBI,GhB3rBGs2E,AgB2rBAg9D,MhB3rBAh9D,CAAO+oD,UAAP/oD,CgB2rBH,GhB3rBwB,AgB2rBA08D,aAAtE,CAAP;AIiBJ,AHFMh4I,ADdFjG,AzBvSD,IyBuSCA,CAAC,AzB3SI,C0ByTHiG,GDdGpa,EzBvSA,C0BqTG,EDdE,CCcCa,ADdAo5G,AzBvSD9nG,KAAK,C0BqTE,ADdZ,CCcam/B,ADdA0rD,GzBvSE,CyBuSf,EAAmBjuF,CAAC,CzBvSpB,EyBuSuBiuF,AzBvSA,E0BqTjB,CAAoB,CDd1B,IAA+BxtF,MCczB,ADd+B,CCcxC,ADdyC4P,OAAO,GAAG++I,IAAH,GAAU,CAACA,IAAI,CAAC,CAAD,CAAvB,EAA4B,CAACA,IAAI,CAAC,CAAD,CAAjC,EAAsC,CAACA,IAAI,CAAC,CAAD,CAAL,IAAY,IAAlD,CAA1C;AIiBJ,AHFMnoI,ADdFgnE,AzBtSDjrF,IyBsSCirF,ECcEhnE,A1BpTHjkB,CAAC,CyBsSI,AzBtSHe,G0BoTM,ADdAmtB,AzBtSR,C0BoTS66I,A1BpTFvoK,EyBsSI,AzBtSF,GyBsSK,AzBtSFG,CyBsSX,ECcE,C1BpTH,E0BoToB7R,A1BpTF0R,EAAE,GAAGI,C0BoTG,CAAC4+B,E1BpT3B,EAA6Bj/B,EAAE,GAAGG,G0BoTd,A1BpTpB,C0BoTwC,C1BpTDH,EAAE,GAAGE,GAA5C,E0BoToB,EAAiC,EAAjC,KAAwC,CAAC2mK,gBAAgB,CAAChE,oBAAoB,CAACt0K,MAAD,EAASi0K,cAAT,CAArB,CAA1E;AGGN,AHFM16J,ADdH,AzBrSA,KAJM,C0BuTHA,K1BnTG,C0BmTG,G1BnTEjI,C0BmTEtR,I1BnTG,E0BmTG,CAAC0wC,E1BnTC,KAAf,EAAuB,G0BmThB,CAAoB,WAApB,EAAiCn3B,MAAjC,CAAV;AGGN,AHFK,A1BlTFrI,MAAAA,CAAC,CAACe,GAAF,CAAOR,EAAE,GAAGG,GAAZ,EAAiBF,EAAE,GAAGM,IAAtB,EAA4BN,EAAE,GAAGK,IAAjC,EAAuCN,EAAE,GAAGE,GAA5C;A6BqTH,AHFG,ADdD,AzBnSC,KAJM,IyBuSA2B,CAAC,ChB5rBC0qI,ATyZF,EyBmSI7+I,EzBnSCmS,GyBmSI,CAAC8nG,ChB5rBCkkC,ATyZD,KSzZMF,AgB4rBZ,AzBnSW,CyBmSEjhD,IAAb,AzBnSJ,EyBmSuBh9F,AzBnSA,KyBmSK,CAACkB,MAAN,GAAe87F,IAAlC,CAAX;AIiBF,AJhBC,AzBlSEjrF,CyBpiBH,KzBoiBGA,CAAC,CAACe,CS1ZInE,ET0ZN,CAAO4D,EAAE,GAAGK,IAAZ,ES1ZoBurI,AT0ZF7rI,EAAE,GAAGG,GAAvB,EAA4BF,EAAE,GAAGM,IAAjC,EAAuCP,EAAE,GAAGE,GAA5C;ASjgBS,AoBozBZ,AHFE,ADr1BF,AzBsiBG,GSngBS,CgBoyBRsrJ,CzBrSK,C0BmTHj+J,IAAI,CAAC8V,A1B/SF,CyBiSG,ECcN,CAASglK,ADdA,AzBjSDxoK,K0B+SR,A1B/Sa,I0B+SK,ADdA2rJ,CzBjSA,C0B+SlB,IAAwBj+J,A1B/SrB,EyBiSM,AzBjSiB,CyBiSCu+J,CCcC,CAACzoJ,GAAL,ADdf,CCcwBglK,CDdCtc,ICcV,CDdf,EAAgCC,CCcC,GAA9C,EAAmD,ADdtC,EAAwCC,MAAxC,EAAgDv+J,KAAhD,EAAuD;AIiBtE,AHFI,ADdF,AzBhSC+R,MyBgSGysJ,AzBhSHzsJ,CAAC,CSpZI,AiBksBAyoK,A1B9SH1nK,GAAF,CAAOP,CyBgSG,CzBhSD,EyBgSI8rJ,ChBprBR,AToZOxrJ,ISpZP,AgBorBa,AzBhSlB,CSpZc0qI,AiBksBb,C1B9SiBhrI,C0B8SG,ADdA6rJ,CzBhSD,CSpZf,EAAexvJ,AToZGgE,CyBgSxB,GzBhSC,CSpZK,CToZwBN,CSpZF0lF,CToZI,GSpZ1B,AToZ6BvlF,ESpZD4sI,CToZjC,EAAuC/sI,EAAE,ESpZpC,CToZuCE,CSpZF,EToZ1C;A6BiTH,AHFMkY,ADfJ,AzB9RC,KAJM,C0BiTHA,ADdA+zI,EhBprBInf,GTqZD,CSrZCA,AiBksBE,EDdE,ChBprBGD,CiBksBD,CAAC,ADdAkf,CCcX,IjBlsBWlf,CgBorBM,GhBprBK,AgBorBFif,MADxB;AIkBF,AHFMqc,ADdJ,AzB9RC5nK,M0B4SG4nK,A1B5SH5nK,GyB8RMsoJ,ECcE,E1B5SD,CAACroJ,C0B4SIwI,G1B5SZ,CAAc,I0B4SM,IAAI,ADdA,CCcZ,ADdaxb,GCcG,EDdJ,CCcZ,CDdoB,ECcE,CAAC,GAAhC,IDduCA,KAAV,EAAiB,+CzB9RjD;A6B+SH,AHFMwb,ADdF,AzB7RD,M0B2SGA,EjBnsBE+hI,GgBqrBG+gB,ChBrrBH/gB,CAAKvvI,CiBmsBC,GDdG,CCcCwN,EDdE,CAACxb,KCcK,ADdA,GAAGo+J,CCcC,CjBnsBC,AiBmsBb,GAAgB,ADdd,GCcF,CDdoBI,ECcE,CAAC,GAAnC,CDdc,GAA4BC,QAA5C;AIiBJ,AHFK,ADdF,AzB5RD,GyB0RyB,CAAzB,CCYE,MjB/rBOzwJ,AiBmsBA,iBjBnsBiBY,OAAOopF,MAAMsnD;AADrC,AoBusBJ,AHFM30H,ADdL,AzBtde,CyBvXhB,AzBuXA,K0BoeMA,KjBnsBK,CiBmsBC,GjBnsBG4yH,CiBmsBC,CAAC,CAAX,CjBnsBSA,CAAKgC,WAAT,EAAsB;AoBssBjC,AHFMo7B,AD51BN,AzBojBA,IyB0RIjc,ECcEic,KjBnsBKp7B,AiBmsBA,IAAIo7B,ADdA,GAAG,ECcE,GjBnsBG,CiBmsBC,CAAT,EDdYjc,CCcC,EjBnsBE9vJ,CiBmsBf,GAAmB,CAAC,EjBnsBEopF,CiBmsB/B,ADdY,CAAqBn4D,KAArB,EAA4BI,GAA5B,EAAiC0+H,QAAjC,EAA2CC,MAA3C,EAAmD;AIiBrE,AHFK,ADdH,MAAI5mE,IAAI,GAAGrlD,KAAK,CAAC9S,KAAK,GAAGI,GAAT,CAAL,GAAqB,CAArB,GAAyB,UAAU1a,CAAV,EAAa;AIiBnD,AHFG,ADdC,WAAO,CAAC,IAAIA,CAAL,IAAUsa,KAAV,GAAkBta,CAAC,GAAG0a,GAA7B;AIiBJ,AJhBG,GAFD,QhBprBSq9G;AAxHC,AoB+zBZ,AHFEtnH,EAAAA,CjB7zBU,IiB6zBL,CAAC51B,CAAN,GAAU,CAAC,CAAC41B,KAAK,CAAC+kJ,QAAN,GAAiB36K,CAAC,IAAIP,IAAI,CAACsV,KAAL,CAAWtU,MAAM,CAACm6K,WAAP,GAAqB,CAAhC,MAAuCn7K,IAAI,CAACsV,KAAL,CAAW,CAAC/U,CAAZ,CAA5C,GAA6D,CAAC,EAA9D,GAAmE,CAArF,IAA0F,CAA1F,GAA8FA,CAA/F,IAAoG6/F,EAA9G;AGGF,AHFEjqE,ADdA,ECcAA,IDdI,CCcC,ADdAgiE,CCcCtnF,CAAN,CjB5rBQ,CgB8qBR,CCcU,CAAC,ADdA,CCcCslB,KjB5rBJ,AiB4rBS,CAACilJ,KjB5rBV,CAAS19B,EiB4rBL,EjB5rBJ,CiB4rBqB7sI,CjB5rBN9B,AiB4rBO,IAAI/O,CjB5rB1B,EAAsBm4F,CiB4rBQ,CAAC7iF,EjB5rB/B,EAA4BkqI,CiB4rBF,CAAWx+I,KjB5rBrC,CiB4rB2C,CjB5rBN,AiB4rBOqrJ,YAAP,GAAsB,CAAjC,MAAwCrsJ,IAAI,CAACsV,KAAL,CAAW,CAACzE,CAAZ,CAA7C,GAA8D,CAAC,EAA/D,GAAoE,CAAtF,IAA2F,CAA3F,GAA+FA,CAAhG,IAAqGuvF,EAA/G;AGGF,AHFEjqE,ADdE,ECcFA,KAAK,CjB5rBGspH,AiB4rBF7/H,ADdAi7H,CCcN,GjB5rBQ4E,AiB4rBE7/H,CAAC,EjB5rBI4/H,CiB4rBDp/C,ADdA,ECcd,CDdiB0xD,GhB9qBFtS,IAAW,EgB8qBA,CAACx/G,KAAD,CAAxB;AIiBJ,AHFE7J,ADfE,ECeFA,KAAK,CAACtL,ADdAm0I,MCcN,ADdY,GCcG,ADdA,EADb,oBCeoBn0I,MAAP,CAAf;AGGF,AHFEsL,ADhBE,ECgBFA,KAAK,CjB7rBCunH,AiB6rBA5yH,ADdApF,CAFJ,GhB7qBIg4H,CAAK/uI,CiB6rBX,GAAe,iBjB7rBiB,KiB6rBVmc,MAAP,CAAf;AGGF,AHFEqL,ADjBE,AzBzRJ,E0B0SEA,KAAK,CAACxa,ADdAzM,CAHJ,AzBzRKkE,ESnZEzE,KiB6rBT,A1B1SF,CAAkBpO,CAAlB,C0B0SmB,C1B1SEsQ,CAArB,EAAyB,QSnZM9B,OAAOopF,GiB6rBZx8E,GjB7rBkB8jI,KiB6rBzB,IAAmB63B,GAApC;AjB9rBE,AoBisBJ,AHFEnhJ,ADlBE,AzBvRH,E0BySCA,KAAK,A1BzSD51B,C0BySEq6K,ADdA3b,AzB3RP,GSpZU,AToZD1+J,CAAC,GSpZIm9I,CToZA,C0BySb,A1BzSD,ESpZcA,CAAKiC,AiB6rBA,CDlBhB,UhB3qBO,EAAsB,SiB6rBNi7B,SAAP,IAAoBtD,GAAtC;AGGF,AHFEnhJ,ADnBE,AzBtRH,E0BySCA,KAAK,A1BzSDtlB,C0BySEgqK,ADdA1rK,AzB3RP,CyBsRG,EhB1qBOwwI,AToZD9uI,CAAC,IAAI,C0BySb,A1BzSD,G0BySmB,GjB7rBG,OAAO9B,OAAOopF,KiB6rBV0iF,SAAP,IAAoBvD,GAAtC;AGGF,AHFEnhJ,ADpBE,AzBpRH,E0BwSCA,KAAK,CAAC2kJ,ADdAhiJ,EANJ,GCoBF,GAAcgiJ,KAAK,GAAGxD,GAAtB;AGGF,AHFEnhJ,EAAAA,KAAK,CAAC4kJ,KAAN,GAAcA,KAAK,GAAGzD,GAAtB;AGGF,AHFEnhJ,ADdE2oI,AzB1RJp+J,E0BwSEy1B,EDdE2oI,EzB1RE,C0BwSC,A1BxSAzrJ,C0BwSCgoK,GjB9rBG59B,CgBgrBC,KAAK,IAAb,EzB1RJ,CAAyBrqI,EyB0RC2rJ,ECcxB,GAA6Bic,A1BxSC,CyB0RA,AzB1RCv6K,GyB0RE,CAA/B,KzB1RJ,C0BwS0C,ADdAq+J,CzB1RE,E0BwSC1+D,EAA3C,GDdgD,GAAG,IAAjD;AhBzzBQ,AoB00BZ,A7BzSC,GSjiBW,QTiiBF;A6B0SV,AHFE,ADdE,AzBxRFx/F,IAAAA,E0BsSIu1B,C1BtSD,CyBwRG0kH,CzBxRD,E0BsSI,CjBxrBC,AiBwrBAw9B,IDdR,EAAc,CCcZ,EjBxrBM,ATkZO,C0BsSGp0I,OjBxrBV,CAASy5G,EiBwrBW,CAACnhH,CjBxrBrB,EAAe8hH,GiBwrBY,CAACj+E,KjBxrB5B,AiBwrBqB,CAAa,CjBxrBR,EiBwrBL,EAAkB,CAAlB,CAAD,CAAV,IAAoC,CAAxD,EAA2D;AGG7D,AHFIt8B,ADdE9D,AzBvRH,I0BqSC8D,EDdE9D,EhB1qBE09G,CiBwrBC,CAACw3B,CDdC,ChB1qBHx3B,CAAKW,ATmZH,CyBuRI,IzBvRC99I,CAAZ,GSnZKm9I,KAAmB39I,GiBwrBlB,CAAL,GAA8Bq4K,IjBxrBI,SiBwrBS,CAAC77I,MAAD,CAA3C;AGGJ,AHFG,ADdK7W,AzBtRL,KANO,GyB4RFA,CAAC,EhB1qBE24H,AgB0qBAr+G,YhB1qBYq+G;AADnB,AoB4rBJ,AJlBc,AzBnRZprI,IAAAA,GyBmRI,AzBnRD,EAAE,ESrZI,IAAIyqI,IAAAA,ATqZGv9I,CSrZEk+I,ITqZb,EAAmB,GSrZXX,KAAmBW,SAAvB,EAAkC;AoB2rB7C,AHFEloH,ADdIiK,AzBpRH,E0BkSDjK,IDdIiK,CCcC,CAACsjD,CDdC,ChB1qBGk8D,CTsZJr/I,CyBoRI,AzBpRT,G0BkSD,A1BlSUJ,EStZAy/I,CiBwrBMzpH,EjBxrBIunH,ATsZnB,G0BkSoB,CjBxrBDA,AiBwrBE+8B,CjBxrBGp8B,MiBwrBT,GjBxrBIX,AiBwrBY,CjBxrBGt9E,AiBwrBnC,KjBxrBoBs9E,CAAqB,IAArBA;AoB2rBtB,AHFEvnH,ADdMzQ,AzBnRL,E0BiSDyQ,KAAK,CAAC86H,ADdAvrI,CAAC,EAAE0a,ICcT,GAAgB2wH,kBAAQE,OAAxB;AGGF,AHFE96H,ADhBU,AzB9RF,E0B8SRA,C1BhT0C,I0BgTrC,ADhBD,CCgBE4+I,EjBzrBEn1B,OAAAA,CAAQpxI,KiByrBhB,EjBzrBQoxI,CAAgBvB,AiByrBAloH,KAAK,CAAC6/I,GjBzrBtBp2B,AiByrBgB,GAAY07B,GjBzrBG,CAAC,GAAG,aiByrBnB,GAAmCnG,WAAW,GAAGoG,oBAAH,GAA0BC,sBAAhG;AGGF,AHFErlJ,ADdG,AzBjRJ,E0B+RCA,GDrBE,ECqBG,CAAC4lG,GDdG,CzBjRA,G0B+RT,ADdau2B,ChB3qBC7jJ,EiByrBE,CAAhB,EjBzrBmB4vI,EgB2qBE,CAACr+G,KAAD,CAAR,IAAmB,CAACsyH,QAAQ,CAAClyH,GAAD,CAAhC,EAAuC;AIiBlD,AHFE,ADdI6+H,AzBhRJr+J,IAAAA,EyBgRIq+J,CzBhRD,E0B8RI9oI,A1B9RF,IS3ZMkoH,CiByrBX,KDdiB,EzBhRA,CyBgRG,EAAhB,ChB3qBmBuB,OAAAA,CAAQj+F,IAARi+F,CAAa,GAAbA,EAAkBx9E,OAAlBw9E,CAA0B,MAA1BA,EAAkC,EAAlCA,EAAsCx9E,OAAtCw9E,CAA8C,MAA9CA,EAAsD,EAAtDA;AoB4rBzB,AHFC,ADdKzwI,AzB/QH,C0BzlBH,KDw2BMA,CAAC,GAAG6wB,GzB/QA,EyB+QK,CAAC3+B,EzB/QDwP,CAAZ,GyB+QG;AIiBN,AHz3BA,ADy2BMioB,AzB9QH,I0B4RCs/I,C1BlSO,CyBoRLt/I,EAAE,GAAG3pB,CAAC,GAAG,CAAT,CCcW,GAAG,SAASipK,aAAT,CAAuBj4K,KAAvB,EAA8B;AGGlD,AHFE,A1B3RA8S,IAAAA,GAAG,E0B2RI,A1B3RF,C0B2RG9S,KAAK,GAAGA,C1B3RAA,I0B2RK,CAACigE,A1B3RjB,EAAmB,G0B2RR,CAAY,GAAZ,CAAT,EAA2B,CAA3B,IAAgC,GAAhC,GAAsCjgE,KAAK,CAAC,CAAD,CAAlD;AGGF,AHFC,ADdK,AzB5QH,C0B/lBH,UjB+LWs9I,AgB4qBAvuI,AzB5QH2B,CyB4QI,AzB5QT,GyB4QY,AzB5QH1Q,CyB4QN,EAAY+O,CAAC,CzB5QhB,EyB4QmBC,CAAhB,EAAmBD,CAAC,EAApB,EAAwB;AhBv0BlB,AoBw1BZ,AH53BA,AD42BQ+vJ,AzB3QL,GS7jBS,CiBs1BR,IDdIA,aAAa,CAACxwJ,IAAd,CAAmBowJ,WAAW,CAAC7+H,KAAK,CAAC9wB,CAAC,GAAG,CAAL,CAAN,EAAe8wB,KAAK,CAAC9wB,CAAD,CAApB,CAA9B,EADsB,CACmC;AIiBjE,AHFAusK,ADdO,AzBxRI,eS9YI,AiBorBA,GAAG,MjBprBH,GiBorBYA,QjBprBZ,CAAS/9B,IAAT,EAAeW,AiBorBZ,CAAyBr9I,MAAzB,EjBprBH,AiBorBoCg/B,EjBprBV,GiBorBvB,EAAwC7/B,KAAxC,EAA+C;AGGjE,AHFE,A1BzT0C,CAA5C,K0ByTM87D,EjBprBEoiF,EiBorBE,GAAG,MjBprBM,iBiBorBEr+G,KAAR,CAAX;AGGF,AHFE,ADdI7wB,AzBxQNzO,MyBwQMyO,AzBxQA,CyBwQC,AzBxQApO,E0BsRE,CjBprBC28I,GT8ZV,CS9ZUA,AT8ZKtqI,CS9ZAirI,MT8ZO,CAAC59I,ES9Zbi9I,KAAmBW,EiBorBbp6G,A1BtRhB,EAAkC,OS9ZM,CiBorBd,CAACjE,KAAD,CAAV,GAAoBiE,UAAU,CAACwzI,cAAc,CAACz2K,MAAD,EAAS,GAAT,EAAcb,KAAK,GAAG,IAAtB,EAA4B87D,IAA5B,CAAf,CAArC,IAA0FA,IAAjG;AGGF,AHFC,A1BrRA3oD,C0BzmBD,C1BymBCA,SAAS,ES/ZG4iI,AT+ZD,IAFsB,YS7ZL;AADvB,AoBwrBN,AHj4BA,ADi3BM/9C,AzBtQLllF,EAAAA,E0BoRGuoK,C1BpRA,CyBsQErjF,CzBtQA,GyBsQI,GhBtqBG,AgBsqBA,IzBtQI53F,CAAX,EAAcsQ,CAAd,CyBsQgBsnF,CzBtQE,G0BoRE,ADdb,CAAczyE,CAAd,CCcgB,CDdC,QCcQ81J,sBAAT,CAAgCxhB,KAAhC,EAAuC7jI,KAAvC,EAA8C;AGG3E,AHFEA,ADdMzQ,AzBrQN,E0BmRAyQ,KAAK,CAACvW,ADdA8F,CCcN,ADdO,AzBrQFnlB,CAAL,ESjaYq/I,AiBorBF,CDdCzwI,AzBrQF5O,CyBqQH,AzBrQN,G0BmRA,EjBprBYq/I,GAAUlC,IAAAA,CAAKW,SAALX,CAAet9E,KAAfs9E,CAAqB,IAArBA;AoBurBxB,AHFEvnH,ADdM,AzBrQN,E0BmRAA,KAAK,CAAC0kJ,C1BnRDhqK,CAAL,ESjaY1P,AgBsqBF+N,CAAC,AzBrQF2B,CAAT,EyBqQc7Q,ChBtqBFmB,AiBorBZ,GjBprBoBy+I,AiBorBFzpH,ADdA,CAACjmB,GAAL,CCcS,ADdA4oB,CCcC8hJ,CjBprBJh7B,AgBsqBN,ChBtqBcpxI,CgBsqBD,CAAC,CAACkX,CAAf,CAAR,EhBtqBck6H,AiBorBF,CjBprBkBvB,EiBorBA,MAApC,CjBprBoBuB;AoBurBtB,AHFEzpH,ADdM,AzBpQN,E0BkRAA,KAAK,CAAC86H,G1BlRC,I0BkRP,ADdagO,AzBpQb,G0BkRgB,CAAhB,SDd0B,CAAC/vJ,CAAD,CAAb,CAAiBwW,CAAC,GAAGxW,CAArB,CAAP;AIiBR,AJhBO,AzBnQL,GAXgC,IyB0Q5B,KhBnqBM/N,KAAAA,KAAU,CAAC,GAAG;AoBwrB1B,AHFEo6K,A1BhRDhoK,E0BgRCgoK,A1BhRDhoK,SAAS,EAAE,KSraM1E,IiBqrBI,CAACmrJ,A1BhRAxmJ,ESraErS,GiBqrBH,C1BhRV,C0BgRkBg1B,C1BhRE,CSraA,GiBqrBV,CAApB;AGGF,AHFC,ADdK2oI,AzBjQJ,C0BtnBF,KDu3BMA,GzBjQCv+J,CAAL,GAASiT,CyBiQG,ChBvqBC6qI,EgBuqBEj+G,EzBjQf,CyBiQI,OhBvqBqBw/G,OAAAA,CAAQj+F,IAARi+F,CAAa,GAAbA;AoBwrB3B,AHx4BA,ADw3BK,AzBjQH,I0B+QE87B,CDhCO,IzB/OJ7qK,CAAL,CyBiQS,CCcC,C1B/QD2C,E0B+QI,ADdA,CAACurJ,GzBjQd,E0BvnBF,CDw3BW,EAAa;AIiBxB,AHz4BA,ADy3BM/+H,AzBhQJ,I0B8QE27I,EDdE37I,KCcK,ADdA,AzBhQF,G0B8QK,ADdAszH,CzBhQZ,I0BznBF,CDy3BoB,CAAChB,QAAQ,CAACtyH,KAAD,CAAR,GAAkB,EAAlB,GAAuB,EAAxB,EAA4BA,KAA5B,CAAd;AhBjrBF,AoBksBJ,AH14BA,AD03BK,AzB/PH,GApBgC,C0BiS9B47I,OjBrrBO,QiBqrBQ,GAAG,IAx4BtB;AG24BA,AH34BA,A1B6nBCnoK,EAAAA,E0B4QG8nK,E1B5QC,EAAE,GSzaIl9B,OTyaO99I,CAAX,EAAe,ESzaCR,CiBqrBC,GAAG,SAASw7K,oBAAT,CAA8BvhB,KAA9B,EAAqC7jI,KAArC,EAA4C;AGGvE,AHFE,ADdE,AzB7PF,M0B2QI66I,EDdE,CAAC/R,AzB7PF1+J,C0B2QG,A1B3QR,G0B2QW41B,A1B3QF51B,CAAT,I0B2QgB,IAAI,ADdlB,EAAoB,ECctB;AGGF,AHHE,ADbI,AzB5PJ,M0B0QI26K,KDdKx1J,AzB5PF,CyB4PH,ECcQ,C1B1QZ,CyB4Pc0a,CCcC4wI,EDdX,ECce,ADdA,CCcCkK,QADpB;AGIF,AHJE,ADZMhc,AzB3PN,GA5BgC,G0BqS5Bkc,EDdElc,GhBxqBGzhB,GiBsrBG,GAAGuzB,IAAI,ADdA,CCcCoK,ADdA35K,IAAd,CAAmBu9J,GCYzB,GDZM,EAA2Bh/H,KAA3B,EAAkCta,CAAlC,EAAqC,KAArC,EAA4C0a,GAAG,CAAC1a,CAAD,CAA/C;AhB11BI,AoB22BZ,AHLE,ADXK,AzB1PNhS,EAAAA,CSjmBW,GiBy2BNnT,A1BxQD,C0BwQE,C1BxQA,E0BwQGywK,IAAI,CAACzwK,CAHb,E1BrQgBsQ,CAAX,EAAe;A6B2QtB,AHNE,A1BnQA,M0BuQIA,CAAC,E1BvQAA,C0BuQGmgK,A1BvQR,ES9aU,CT8aDngK,C0BuQG,A1BvQZ,C0BuQaA,CAJb,KjBjrBU,QAAA,CAAS6sI,IAAT,EAAeW,SAAf,EAA0B;AoBwrBtC,AHPE,ADTIlmD,AzBxPJ,M0BsQIv4E,ADdAu4E,CCcC,GAAG64E,ADdA,ChBvqBC,AT+aF,EyBwPI,CCcC,CjBrrBCr7C,AiBqrBA/1G,A1BtQb,C0BiQA,KjBhrBS,CAAW,AgBuqBAu4E,IAAT,CAAczyE,CAAd,EAAiB,OhBvqBO24H,SAAf,GAA2B,YAAtC,EAAoDluH,IAApD,CAAyDutH,IAAAA,CAAKW,SAA9D,KAA4E;AAtL3E,AoB82BZ,AHRE,ADRM,AzBvPN,GSvmBU,ATmkBsB,G0ByS5B1iI,QAAQ,CDdCwjJ,ECcE6R,IAAI,CAACr1J,QANpB,EDR8B,CAAC+J,CAAD,EAAIs5I,MAAJ,CAAjB,KAAiCnkB,QAAQ,GAAG76G,KAAK,CAACta,CAAT,GAAasa,KAAtD,CAAP;AIiBR,AHTE,ADPK,AzBtPNrsB,EAAAA,I0BoQKknK,CDhBA,KhBhqBM,ET4aC,C0BoQE,C1BpQA,E0BoQG7J,GjBhrBN,CiBgrBU,CAAC6J,G1BpQG15K,GS5ad,CAASu8I,CT4aN,C0B6Pb,C1B7P+Bv9I,CS5arB,EAAe,ET4aZ,EAA0B;A6BuQzC,AHVE,ADNG,AzBrPH,M0BmQIy6K,EjBhrBI92I,IT6aC3iC,CS7aD2iC,EiBgrBK,CjBhrBG+7G,CT6ahB,C0BmQgBmxB,IAAI,CAAC4J,SjBhrBL/6B,AiBwqBhB,CjBxqBiCnC,IAAjBmC;AoBmrBlB,AHXE,ADLC,AzBpPA,M0BkQGi7B,KjB/qBKx9B,AiB+qBA,A1BlQH,CAAL,E0BkQW0zB,IAAI,CAAC8J,KATjB,GjBtqBSx9B,CAAiBx5G,KAAAA,CAAM,mBAANA,CAAjBw5G,CAAAA,GACLA,gBAAAA,CAAiBx5G,KAAAA,CAAM,oBAANA,CAAjBw5G,CADKA,GAELA,gBAAAA,CAAiBx5G,KAAAA,CAAM,cAANA,CAAjBw5G,CAFKA,GAGLA,gBAAAA,CAAiBx5G,KAAAA,CAAM,eAANA,CAAjBw5G,CAHKA,GAILA,gBAAAA,CAAiBx5G,KAAAA,CAAMnnB,KAAvB2gI;AApMM,AoBk3BZ,AHZE,A1BzPS,GS7mBC,GiBg3BNy9B,KAAK,E1BnQKx6K,C0BmQFywK,A1BnQH,GAAS7wK,C0BmQF,CAAC46K,G1BnQR,E0ByPT;AGaF,AHbE,ADHA,AzBtPyB,M0BoQrBlwJ,GDdG2wI,GCcG,CjBtqBC,EiBsqBEwV,IAAI,CAACnmJ,EjBtqBP,IiB2pBX,CDHyB,CAACi0I,GhBxpBf,CAASphB,IAAT,AgBwpBc,EhBxpBC,AgBwpBUvlD,IAAX,CAAzB;AIiBF,AHdE,ADFD,CAv4BD,KCq5BMrtE,EjBtqBIgZ,IiBsqBE,CjBtqBFA,EiBsqBKktI,CjBtqBGnxB,GiBsqBC,CAAC/0H,MAZlB,MjB1pBgB+0H,CAAiBnC,IAAjBmC;AoByqBlB,AHfE,ADz4BF,AzBipBG,IyBuPCuf,ECcEic,KjBrqBK/9B,ATgaH,CAAL,YyBuPqB,ECcE,CjBrqBfA,AgBupBgB,ChBvpBCx5G,CiBqqBCktI,IjBrqBDltI,AiBqqBK,CjBrqBC,AiBqqBAu3I,EDdEjc,gBhBvpBRt7H,CAAjBw5G,CAAAA,AiBwpBT,EDDyB,ChBtpBrBA,AgBspBmDsb,QAA9B,EAAwCyG,MhBtpB7D/hB,CAAiBx5G,CgBspBI,EAAkDw7H,EhBtpBtDx7H,CAAM,KgBspBF,EAA4D,chBtpBhEA,CAAjBw5G,CADKA,GAELA,gBAAAA,CAAiBx5G,KAAAA,CAAM,aAANA,CAAjBw5G,CAFKA,GAGLA,gBAAAA,CAAiBx5G,KAAAA,CAAM,gBAANA,CAAjBw5G,CAHKA,GAILA,gBAAAA,CAAiBx5G,KAAAA,CAAMlnB,MAAvB0gI;AAlNM,AoBs3BZ,AHhBE,ADAA,AzBxPS,GS9mBC,GiBo3BN2T,OAAO,A1BtQGpgJ,CAAL,E0BsQKmgK,C1BtQI7wK,G0BsQA,CAAC8wJ,C1BtQV,M0BwPT;AGiBF,AHjBE,ADCA,AzBzPyB,M0BuQrBjwJ,ADdAq6J,MCcM,ADdA,ChB9oBC,EiB4pBE2V,ADdApY,ICcI,CAAC53J,EjB5pBP,CgB8oBU,CAACq6J,ECDtB,IDCA,ChB9oBW,CAASvb,EAAT,EAAa;AoB+pB1B,AHlBE,ADCA,MCeIu4B,ADdAnoK,EhB9oBEwtI,CgB8oBC,GhB9oBDA,AgB8oBI4T,CCcC,EjB5pBExR,CiB4pBCkxB,GDfd,CCekB,CAACqH,OAhBnB;AGmBF,AHnBE,ADCA,AzBxPC,M0BwQGwD,ADdAn2J,CAFJ,ChB5oBQ5O,MAAAA,EiB4pBM,CjB5pBG,EiB4pBA,EAjBjB;AjB3oBmByX,AoB+pBrB,AHpBE,ADCA,AzBxPU,MSpZSA,AiB6pBfutJ,ADdA7oJ,IhB/oBe1E,CiB6pBV,CjB7pBgB,CAAR,CiB6pBL0iI,ADjBZ,AzBxPgB,IAAIr9I,G0ByQD,E1BzQH,CAAW,E0ByQH,MAAZ,IAAsBomJ,KAAtB,IAA+BA,KAAK,E1BzQO74J,G0ByQF,CAAzC,C1BzQI,CAAN,E0ByQgD8vJ,OAAO,KAAK,IAlBtE,CADqE,CAmBO;AjB7pBhDxiI,AoBgqB9B,AJpBE,AzB5PA,MShZ4BA,AgBgpBxB8wI,GhBhpBwB9wI,EAAK,AgB4oBjC;AhB5oBiB,AoBiqBnB;AACA,AHFE,ADdA,AzB1PA,M0BwQI4pJ,CDdC3yJ,CAAL,GzB1PO,CyB0PG21I,CCcC,E1BxQX,G0BwQgBuf,ADdhB,EAAkB,OCcO,KAAKc,QAAd,IAA0Bb,SAAS,KAAKa,QAA7C,CAAX,EAAmE;AGGrE,AHFI,ADdAzoJ,AzBzPF,GAlDgC,CyB2S9BA,IhBlpBIyqH,AiBgqBA1nI,IjBhqBA0nI,AgBkpBI,ChBlpBCqC,AiBgqBA,EDdEsb,CCcCp3H,KDdK,CAACve,CAAD,CAAN,ECcW,CjBhqBC,AiBgqBAm1J,ADdAxb,QAAvB,CCcsB,CAAV,GAAwBuU,QAApC;AGGJ,AHHI,A1BrQH//J,EAAAA,M0BsQOoF,CjBhqBC,EiBgqBE,GAAGjZ,A1BtQD,EAAE,E0BsQG,CAACwS,GAAL,CAASwD,G1BtQG7U,E0BsQZ,CADV,E1BrQW,EAAmB;A6ByQlC,AHJI,ADZA,AzBvPF,Q0BqQMoY,ADdA0Z,GCcG,C1BrQA9xB,E0BqQGnB,CjBhqBCuuB,CgBkpBC,CzBvPd,C0BqQgB,CAAChc,ADdA,CAAX,ECcM,CjBhqBSmrI,AiBgqBA1nI,EDdE,CAAC,ChBlpBH0nI,AgBkpBI4hB,ChBlpBCtf,AiBgqBd,CAFV,MDZI,IAA+B/sH,QAA/B,IAA2C/iB,GAAG,IAAI+iB,QAAQ,GAAGjzB,IAAI,CAAC8V,GAAL,CAASmd,QAAT,CAAf,CAAlD,EAAsF;AIiB1F,AHLI,ADXEssI,AzBtPH,MyBsPGA,ECcEhtJ,GAHJ,ADXO,AzBtPH,CAAL,EyBsPWmT,ChBlpBC+I,AgBkpBT,OhBlpBgBivH,IAAAA,CAAKuC;AoBmqB3B,AJhBM/vI,AzBvPK,MyBuPLA,GAAG,GAAG+iB,GhBlpBGyqH,AT2ZG,IS3ZHA,CAAKqC,AgBkpBd,AzBvPiBx/I,CAAZ;AS9ZL,AoBsqBN,AHFIyV,ADdC,ICcDA,KAAK,GAAGiuB,GjBhqBGy5G,OiBgqBO,CAACk9B,SAAD,CAAV,GAAwBhH,QAAhC;AGGJ,AHFIrhK,ADdD,AzBxPA,I0BsQCA,GAAG,GAAGvS,C1BtQF,CAAL,E0BsQW,CAACuS,GAAL,CAASyD,KAAT,CAAN;AGGJ,AHFIzV,A1BvQO,I0BuQPA,CAAC,GAAGk7K,O1BvQU,KAAK5qK,CAAZ,E0BuQY,CAAC7P,MAAD,EAAST,CAAT,EAAY0Y,GAAG,GAAG1G,GAAN,GAAY,CAAC8lK,OAAzB,CAAnB;AGGJ,AHFIxnK,ADdF,ICcEA,CAAC,GAAG4qK,CDdClc,EhBnpBEzoJ,GgBmpBT,SCcqB,CAAC9V,MAAD,EAAS6P,CAAT,EAAY,CAAC7Q,IAAI,CAACwS,GAAL,CAASwD,KAAT,CAAD,GAAmB,CAACqiK,OAAhC,CAAnB;AjBp4BQ,AoBu4BZ,AHFIz4J,ADdH,AzB1PE,CyBhqBH,EhBmCY,CiBq4BRA,CAAC,GAAG67J,eAAe,CAACz6K,MAAD,EAAS4e,CAAT,EAAYrG,GAAG,GAAGhH,GAAN,GAAY,CAAC8lK,OAAb,GAAuBA,OAAnC,CAAnB;AGGJ,AHFG,ADz6BH,AzBgqBY,IyB2PR9d,QhB7oBQ,CgB6oBC,CzB3PK,EyB2PF,EzB3PM3mJ,GSlZV,ETkZM,CAAW,CyB2PJ2mJ,IhB7oBb,CAAS7c,IAAT,AgB6oBI,CAAmB77D,ChB7oBR,QgB6oBX,EAA8BzzE,IAA9B,EAAoCoxJ,AzB3PKr+J,KAAvC,CAAN,UyB2PI,EAAsD;AIiBtE,AJhBE,AzBhQA,MyBgQI8S,CAAC,GAAG4tE,ChB7oBC67D,IAAAA,IgB6oBQ,ChB7oBCjhI,AgB6oBA+4I,IAAlB,IhB7oBkB/4I,CAASyjI,aAAlBxC,KAAoCA,IAAAA,CAAKtvI,IAALsvI,IAAaA,IAAAA,CAAKyC,IAAtDzC;AoB8pBX,AHFE,ADfA,AzBxPA,GA9DgC,G0BqU5B29B,ADdA10J,QAAQ,GAAG1S,CAAC,CAAC7F,IAAD,CADhB,ECewB,KAAKutK,OAA7B,EAAsC;AjBx4B5B,AoB24BZ,AHFIE,ADhBF,AzBtPD/nK,CSnoBD,CTmoBCA,E0BsQG+nK,EDdEhmF,CzBxPA,EAAE,GyBsPN,ECgBY,IAAI,G1BtQE,c0BsQewlF,oBAAjB,GAAwCO,eAAtD;AGGJ,AHFG,ADjBD,AzBpPA,MyBuPIjkI,KAHJ,AzBpPO,IAAI,KAAK5jC,WAAT,CAAsB,KAAKxT,CAA3B,EAA8B,KAAKsQ,CAAnC,CAAP;A6BwQF,A7BtQE,GApEgC,CU7lB5BuvI,iBAAAA,GAAAA,UAAAA,WAAAA,EAAAA;AmBw6BN,AHFE,ADdA,AzBrPDpsI,EAAAA,I0BmQKknK,ADdA,AzBrPD,CyBqPEv0J,CzBrPA,M0BmQO,CDdZ,EAAe,CCcCy0J,A1BnQAnnK,CAAX,EAAe,K0BmQpB,EAA0B;AGG5B,AHFI4nK,ADdA,AzBpPF,I0BkQEA,K1BlQGt7K,CAAL,GAAS0T,C0BkQG,A1BlQF,CAAC1T,CAAX,E0BkQgB,eAAe26K,QAAf,GAA0B,KAA1B,GAAkCE,QAAlC,GAA6C,KAA3D;AGGJ,AHFG,ADdA,AzBpPD,SAAKvqK,CAAL,GAASoD,CAAC,CAACpD,CAAX,aUrqBY8iB,QAAQupB,UAAU;AmB06BhC,A7BnQE,WAAO,IAAP;A6BoQF,AHFE,ADdA24C,AzBlPA,EyBkPAA,CzB/TgC,G0B6U5BimF,EDdE,GCcG,ADdA7nK,CAAC,CAAC7F,ECcE7N,CAAC,CDdC,GAAG,CCcCo7K,OAAf,ADdM,CAAV,GCc8B9qK,CAAC,KAAK8qK,OAAhC,IAA2C/7J,CAAC,KAAK+7J,OAArD,EAA8D;AGGhE,AHFIE,ADdFlkI,AzBjPDzjC,EyBiPCyjC,AzBjPDzjC,E0B+PG2nK,C1B/PA,EyBiPG,AzBjPD,GyBiPI5nK,CAAC,CAACwrJ,ECcE,G1B/PGxrJ,C0B+PC2L,A1B/PZ,C0B+Pa,C1B/PCzL,CAAd,EAAkB,C0B+PAwnK,CDdd,IAAmB95F,ECcX,IAAiBi6F,GDdjC,ECcgB,GAAyB,iBAAiBv7K,CAAjB,GAAqB,IAArB,GAA4BsQ,CAA5B,GAAgC,IAAhC,GAAuC+O,CAAvC,GAA2C,IAApE,GAA2E,eAAerf,CAAf,GAAmB,IAAnB,GAA0BsQ,CAA1B,GAA8B+qK,WhBz6BjHjoJ,IgBy6BN,IhBz6BcupB;AmB46BlB,AHFG,ADdDsiH,AzBhPA,EyBgPAA,MzBhPKrrJ,CAAC,KAAKpU,IyBgPK,IAAI+zJ,CzBhPpB,EAAuB,QyBgPQ,CAACzyJ,MAAhC,IAA0Cw0J,WAAW,EAArD,CAZoE,CAYX;AIiB3D,A7B/PG3iJ,MAAAA,EU5qBO+yE,KAAAA,AV4qBA,CAAC9yE,EU5qBD8yE,EV4qBP,CAAc,uFAAd;A6BgQH,AHFE,ADdA,AzB/OC,M0B6PGtqE,GDdGk6E,Ef35BAwqD,EV4qBC,C0B6PI,CDdC,GAAG15H,AzB/OHvS,C0B6PIsnK,ChBz6BD,MAAA,Ae25BQ,Cf35BHnmD,AgBy6BrB,ADdyBt8C,CzB/OjB,C0B6PmB,A1B7PFhlE,CAAjB,EyB+OQ,AzB/OYE,CyB+OGwjC,AzB/OvB,CAAP,CU5qBe,Ge25BA,EAAsBk+C,MAAtB,CAAH,GAAmClvE,QAAQ,CAACllB,IAAT,CAAck2C,KAAd,CAAhD;AIiBF,AHFIkkI,ADdH,AzB9OE,CyB5rBH,GCw7BIA,OhBx6BKv7B,GgBw6BK,IAAI,MhBx6BI7jI,MgBw6BQd,EhBx6BRc,CAASsgI,KgBw6Bb,GAAuB6+B,KhBx6BnBn/J,CAAuB,OAAvBA,EgBw6BlB;AGGJ,AHFG,ADz7BH,IA26BIijJ,UAAU,GAAG,SAASA,UAAT,CAAoB79E,SAApB,EAA+B;AIiBhD,AJhBEw1E,AzB9OA,EyB8OAA,OzB9OK92J,CAAL,CU7qBO+/I,GV6qBGrsI,CAAC,CAAC1T,CAAZ,EyB8OiB,CAACshF,Ef35BAnwC,Oe25BD,CAAjB,Kf35B+B,QAAQ;AmB46BzC,AHFE,A1B5PA,M0B4PImpI,G1B5PChqK,CAAL,IAAUoD,C0B4PG,A1B5PF,CAACpD,CAAZ,G0B4PkB6qK,QAAlB,EAA4B;AGG9B,AHFIG,ADdF,AzB7OA,I0B2PEA,EDdEh6F,KzB7OG,EU9qBI0+D,CgBy6BC,CDdC,AzB7Ob,CyB6Ocue,ECcE,MhBz6BM,Ae25BlB,KAAuB,CAA3B,CCc6B+b,CDdC,QCcd,GAAyBe,eAAvC;AGGJ,AHFG,ADdCrhB,AzB5OF,GA7FgC,CyByU9BA,Qf35BQlhG,Ce25BC,CAACwoB,Of35BO,CAACoE,Ce25BT,EAAY,Ef35BHA,CAAMo6D,Ue25Bf,CAAT;AIiBJ,AJhBG,AzB3OFhsI,EAAAA,SAAS,EAAE,UAAWC,CAAX,EAAe;A6B4P3B,AHFE,A1BxPA,M0BwPIsmK,G1BxPCr6K,CAAL,IAAU+T,C0BwPG,A1BxPb,K0BwPkBonK,QAAlB,EAA4B;AGG9B,AHFIG,ADdF,AzB1OA,I0BwPEA,IhBz6BIhoF,Ce25BChS,AzB1OFhxE,CAAL,GUjrBW,CgBy6BC,A1BxPFyD,CAAV,G0BwPgB,ADdhB,Cf35BW,CAAKgsI,WgBy6Bas6B,ChBz6BD,QgBy6BZ,EhBz6BsBr6B,CgBy6BGq7B,ShBz6BO,MgBy6B9C;AGGJ,AHFG,ADdF,AzBzOC,CyB1sBF,UzB0sBS,IAAP;A6B0PF,AJp8BA,AzB4sBE,GAtGgC,CyB8U9Bjc,Of35BK95E,IezBT,OfyBoB26D,YAAY,MAAA,CAAKF;AmB46BrC,AHFE,ADn8BF,AzB8sBClsI,EAAAA,EyBuOGwrJ,ECcEkb,KAAK,C1BrPA,EAAE,E0BqPGY,CDdC,GAAG,ICcd,A1BrPkBvpK,CAAX,EAAcC,C0BqPC2oK,A1BrPf,CyBuOgBnb,CzBvOE,G0BqPE,KAAK8b,IDdlB,CAAuB7b,GCczC,EAA8C,CDd5B,EAA+B;AIiBnD,AHFIgc,ADdFhc,AzBtOA,EyBsOAA,ECcEgc,IDdI,CzBtODt7K,CAAL,CUprBO28I,Ae05BE,CAAC2iB,CzBtOD1tJ,C0BoPG,A1BpPF,CAAC5R,CAAF,E0BoPO,ADdA,CAACsd,AzBtOFzL,CAAC,CAAC7R,CAAjB,CyBsOS,IAAgBs/J,CCcCib,KAAV,ADde,CAAC,ECcE,IAAlB,GAAyBC,ADdV,CAAtB,ICcO,ADd8Blb,GCcG+b,GDdjD,CADiD,CACK,UCcpD;AGGJ,AHFG,A1BpPD,SAAK/qK,CAAL,GAASsB,CAAC,CAACtB,CAAF,GAAMuB,CAAC,CAACvB,CAAjB;A6BuPF,AJhBE,AzBrOA,MyBqOIgN,IAAI,CzBrOD,EyBqOIgiJ,EzBrOX,IyBqOiB,CAAChiJ,IAAlB;AIiBF,AHFE,ADfA,AzBnOA,GA/GgC,G0BiW5BgN,ADdAi1I,MCcM,ADdA,GAAG/N,ECcE,CAAX,IAAgBjnI,IDdI,CAAC+0I,CCcC,KAAK,ADdP,CCcxB,ADfA,ECekC;AGGpC,AHFIgc,ADhBF,AzBjODtnK,EAAAA,E0BiPGsnK,EDdE9b,MAAM,ECcE,CDdCliJ,EzBnOC,C0BiPE,CDdC,AzBnOD,IyBmOK,CAACiiJ,KCcKj1I,A1BjPA5W,CyBmOd,AzBnOG,EAAcK,CAAd,CyBmOgBurJ,CCchB,A1BjPkB,G0BiPE,EDdE,CAAC3pG,CCcvB,GAA2BprC,ADd9B,GAAiC,GCc9B,GAAoC8wJ,MDdM,SCcxD;AGGJ,AHFG,ADdC,AzBlOF,SyBkOO5b,AzBlOFz/J,CAAL,IAAU0T,CyBkOR,AzBlOS,CAAC1T,CAAF,CyBkOM,EAAd,AzBlOc+T,CAAhB;A6BmPF,AJhBG,AzBlOD,GyBgOa,GAETurJ,GzBlOChvJ,CAAL,EyB8NA,EzB9NUoD,CAAC,CAACpD,CAAF,GAAMyD,CAAhB;A6BmPF,AHFEtT,ADnBA,AzB5NA,E0B+OAA,IDdI,ECcE,CAAC8iC,E1B/OA,G0B+OP,CAAamxI,A1B/Ob,cU7rBShhK,AgB46BT,GhB56BY,CgB46BmB4nK,UAAU,IAAI,iBAA7C;AGGF,AHFC,ADdC5b,AzBhOA,C0B/tBF,CD+7BEA,CzBxVgC,OUtkBxBjlB,QAAAA,Ae85BQ,Gf95BRA,Ae85BW,Gf95BXA,CAAAA,iBAAAA,CAAAA,SAAAA,CAAAA,SAAAA,IAAAA,MAAAA,CAAAA,cAAAA,CAAAA,iBAAAA,CAAAA,SAAAA,CAAAA,EAAAA,UAAAA,EAAAA,IAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAA0B/mI,CAA1B+mI;AmB+6BV,AHh9BA,ADg8BI9kF,AzB/NH1hD,EAAAA,E0B6OG8mK,ADdAplH,CzB/NA,EAAE,CyB+NE,EAAE09F,OzB/NO3/I,CAAX,EyB8Ne,AzB9NDE,CAAd,EAAkB,C0B6OA,GAAG,SAASmnK,oBAAT,CAA8BthB,KAA9B,EAAqC7jI,KAArC,EAA4C;AGGvE,AHFE,ADdEgrB,AzB9NF,IyB8NEA,ECcE46H,E1B5OC5nK,CAAC,CUjsBA,Ae+5BE,CCcC,CDdCgrJ,ECcEhpI,A1B5ODp2B,CUjsBAk9I,IgB66BM,IAAI,A1B5OrB,EAAuB,E0B4OvB,EDhBmB,If75BU;AmBg7B/B,AHHE,ADbE/oI,AzB7NDhB,IyB6NCgB,ECcEgnK,A1B3OHhoK,CyB6NI,EAAEgsJ,If/5BEjiB,AVksBD,C0B2OI,A1B3OH9pI,G0B2OM4oK,C1B3Od,CAAc,G0B2OK,ADjBD,CCiBEb,OhB76BKz5K,CgB46B1B,IhB56B+B,MAAM,KAAK8zH,QAAL,oDVksBpC;A6B8OH,AHJE,ADZE2qC,AzB7ND,IyB6NCA,ECcEkb,EDdE,EAAEjb,GzB7NA,C0B2OI,GAAG4b,C1B3OFtnK,I0B2OO,CAAC2mK,IDlBF,CzBzNX,CAAiBnnK,CAAjB,C0ByOR,C1BzO4BE,CAApB,CAAP;A6B8OH,AHLE,ADXEisJ,AzB5ND,IyB4NCA,ECcE7/J,CAAC,GAAGw7K,EDdE,EAAE1b,CCcC,CAAC9/J,CAHd,eDhBmB;AIsBrB,AHNE,ADVE+/J,IAAAA,ECcEzvJ,CAAC,GAAGkrK,ChB96BD17B,Aeg6BE,EAAE,ECcE,CAACxvI,CAJd,GhB16BgB,KAAK0kH,QAAL;AmBi7BlB,AHPE,ADhBmB,AzBrNnB,GyB+MA,GC2BI55G,G1B1OCpb,CAAL,GUpsBSy6I,CgB86BG,A1B1OF/mI,CAAC,CAAC1T,C0B0OGw7K,A1B1Of,K0B0OoB,CAACpgK,QALrB;AGQF,AHRE,ADtBA,AzB9MA,M0B0OIm/J,ADdAva,GzB5NC1vJ,CAAL,C0B0OS,EDdE,CCcCkrK,A1B1OF9nK,CAAC,CyB4NG,AzB5NFpD,CAAZ,E0B0OiB,CAACiqK,KANlB;AGSF,AHTE,ADPEnmB,AzB3NF,IyB2NEA,ECcEomB,KAAK,A1BzOF,G0ByOKgB,ADdA,CzB3NZ,CyB2Nc,CADA,ECeG,CAAChB,KAPlB;AGUF,AHVE,ADNEn6K,AzB1NF,GAxIgC,CyBkW9BA,ECcEiqB,CDdC,EAAE,CAFO,ECgBJ,GAAGkxJ,KAAK,CAAClxJ,MARnB;AGWF,AHXE,ADLE21I,AzBzNH9rJ,EAAAA,EyByNG8rJ,ECcE11I,K1BvOI,C0BuOE,CDdC,AzBzND,E0BuOGixJ,ADdAtb,KCcK,CAAC31I,E1BvOExW,CAAX,CyBsNI,CzBtNW,C0B8NzB,ShBt6BgB;AmBk7BlB,AHZE,ADJEosJ,AzBxNF,IyBwNEA,ECcE1/J,G1BtOCT,CUzsBC,AVysBN,CyBwNS,CCcC,CDdC,CzBxND+T,CUzsBCihH,AgB+6BEwmD,ADlBC,AzBpNd,K0BsOkB,CAAC/6K,EhB/6Bb,IgBq6BN,GhBr6B0B,MAAM;AmBk7BlC,AHbE,ADHE2/J,AzBxNF,IyBwNEA,ECcEyZ,G1BtOCvpK,CAAL,EyBwNU,Cfj6BDyvI,AgB+6BE,CDdC,AzBxNFhsI,CAAV,C0BsOcynK,KAAK,CAAC3B,EhB/6BA1oI,KgBo6BpB,QhBp6BiC,WAAW;AmBk7B9C,AHdE,ADRc,AzBjNd,GyBmMA,GCkCI4oI,K1BrOG,E0BqOI,E1BrOX,C0BqOcyB,KAAK,CAACzB,OAZpB;AGeF,AHfE,A1BvNA,GAjJgC,G0BqX5B52F,OhBh7BK48D,AgBg7BE,GAAGy7B,KAAK,CAACr4F,EhBh7BA+8D,KgBm6BpB,KhBn6B8B;AmBm7BhC,AHhBE,ADAA0b,AzBrND1nJ,EyBqNC0nJ,AzBrND1nJ,I0BmOKgmK,CDdC,KzBrNI,CU7sBAp6B,AgBg7BE,C1BnOA,E0BmOG07B,KAAK,ChBh7BD,AgBg7BEtB,E1BnOEtoK,CAAX,EAAcC,CAAd,C0BqNX,C1BrN6B;AUhtB3B,AmBs7BJ,AHjBE,A1BnNA,M0BkOI6oK,G1BlOC16K,CAAL,GU9sBS,AV8sBA4R,C0BkOG,A1BlOF,CAAC5R,CAAF,C0BkOMw7K,E1BlOA3pK,CAAC,CAAC7R,C0BkOG,A1BlOpB,C0BkOqB06K,QAfrB;AGkBF,AHlBE,ADEA,AzBpNA,M0BkOI1/J,ADdAskJ,ECcE,C1BlODhvJ,CAAL,C0BkOSozB,CDdC,Cfl6BDq8G,AV8sBAnuI,CAAC,CAACtB,CAAF,CyBoNMkvJ,EzBpNA3tJ,CAAC,C0BkOG,A1BlOFvB,C0BkOGtQ,A1BlOpB,C0BkOmB,ADdnB,Cfl6BoBkgJ,AgBg6BpB,CDEuB,Sfl6BO;AmBm7BhC,AHnBE,ADGE,AzBnNF,M0BiOIjlI,EAAE,ADdAy4I,GCcGhwH,A1BjOF,EU/sBEo8G,EV+sBT,CyBmNc,CAACxiI,ICcI,ADdL,Cfl6BI,AgBg7BEhN,ADdlB,CCciB,CAjBnB,ADGsB;AIiBxB,AHpBE,ADII,AzBlNJ,GA1JgC,G0B0X5BkI,GAlBJ;AGqBF,AHrBE,ADKG,AzBjNJpE,EAAAA,I0B+NKuE,GAnBJ,C1B5MO,EAAE,UAAWjF,CAAX,EAAe;A6BkO1B,AHtBE,A1B1MA,M0B8NI+E,GApBJ,A1B1MKzY,CAAL,IAAU0T,CAAC,CAAC1T,CAAZ;A6BiOF,AHvBE,ADOE61J,AzBhNF,IyBgNEA,ECcEj9I,GArBJ,A1BzMKtI,CAAL,IAAUoD,CAAC,CyBgNG,AzBhNFpD,CyBgNGkvJ,AzBhNf,MyBgNc,EAAS3J,YAAY,CAACI,cAAc,CAACqJ,MAAD,EAASI,gBAAT,CAAf,EAA2CM,OAA3C,CAArB,CAAZ,CALqB,CAKkE;AIiB3F,AHxBE,A1BvMA,M0B6NI6R,IAtBJ,C1BvMO,IAAP;A6BgOF,A7B9NE,GAnKgC;A6BkYlC,AHFEz2J,ADdE23I,AzB7MH1+I,CUlwBKwrI,CAA0BvD,AgB69B9BlhI,A1B3ND/G,EyB6MG0+I,MCcM,ADdA,CAACyM,Cf/8BL3f,CgB69BOn8G,G1B3NE,CyB6ME,CAACxjC,AzB7MD,K0B2NM,CAACkb,GDdd,CzB7MkBnI,CyB6MC8/I,GCcN,CAArB,C1B3Ne,CyB6MkB,CAAC2M,AzB7MC,gByB6MF,EAAmBzJ,cAAc,CAACqJ,MAAD,EAASU,OAAT,CAAjC,CAAzB,CAAN,CARqB,CAQgE;AIiBzF,AHFEua,A1B1NA,E0B0NAA,KAAK,E1B1NAv6K,C0B0NG0jC,A1B1NR,IAAUzwB,M0B0NQ,A1B1NlB,C0B0NmBsnK,KAAD,CAAlB;AGGF,AHFEC,A1B1NA,E0B0NAA,Ef39BIr6B,Ge29BC,E1B1NA7vI,C0B0NGozB,A1B1NR,IAAUzwB,MWjwBNktI,Ae29Bc,A1B1NlB,C0B0NmBq6B,Ef39Bfr6B,Ge29Bc,CAAlB,Mf39BIA,WAAAA,EAAAA;AkB89BN,AJhBIuT,AzB3MF,IyB2MEA,OzB3MK,CyB2MG,CAAC8L,EzB3MX,IyB2MiB,CAACa,IAAP,GAAc/iJ,IAAf,CAAR,GAA+BkiJ,MAA/B;AIiBJ,AHFE,A1BxNA,GA5KgC,G0BoY5Bgb,KAAJ,EAAW;AGGb,AHFI,ADdA,AzBzMHlmK,EAAAA,MyByMOgrJ,AzBzMD,EAAE,IyByMK,CAAClL,KzBzMK1gJ,CAAX,EAAe,EyByMpB,EAAuB,Cd/8Bb0f,QAAQupB,UAAUyjG,MAAM;AkBg+BtC,AHFIo6B,ADdE3mB,AzBxMJ,I0BsNE2mB,EDdE3mB,GCcG,A1BtNF7zJ,CAAL,E0BsNU0jC,E1BtNAhwB,CAAC,CAAC1T,CAAZ,IyBwMmB,CCcC,ADdAkO,CCcCssK,GDdjB,CAAqBhb,CCcL,CAAlB,IDdE;AIiBN,AHFI+a,A1BtNF,I0BsNEA,KAAK,A1BtNFjqK,CAAL,G0BsNWkqK,C1BtND9mK,CAAC,CAACpD,CAAZ,C0BsNE;AGGJ,AHFI8K,ADdEk4I,AzBvMJ,I0BqNEl4I,EDdEk4I,KzBvMG,C0BqNG,G1BrNV,C0BqNcknB,IDdI,CCchB,ADdiBl9J,IAAD,CAAd,GAAuB,CAAvB,sGdj9BI8V,QAAQupB;AkBk+BlB,AHFG,ADdE,AzBtMH,GArLgC;A6B4YlC,A7BrNCpoC,EAAAA,MW5wBO0M,MX4wBK,CW5wBLA,CX4wBO,EW5wBGm/H,QX4wBQntI,MAAX,EAAoB;A6BsNnC,AHFE,ADdEqK,AzBpMF,IyBoMEA,ECcElC,Ef99BIsqE,Acg9BF,GAAG,AzBpMF,CyBoMGpoE,Cdh9BFooE,Ce89BI,Ef99BJA,Acg9BM,AzBpMFrxE,E0BkNIkmK,GDdG,ECcnB,EAAuB,CDdb,GAAiB,CzBpMpB,CAAqB,GyBoMlB,CzBpMsBtnK,EyBoMGqK,IAAI,AzBpMhC,CyBoMiCymB,AzBpMxC,MyBoMmC,CAAY,CAAZ,EAAet0B,WAAf,KAA+B6N,IAAI,CAACu8F,MAAL,CAAY,CAAZ,CAAzD,IAA2E,QAAlF,CAnBqB,CAmBuE;AIiBhG,AHFIz+F,ADdD,AzBnMD,GA3LgC,C0B4Y9BA,Ofz9BKilI,Cey9BG,IAAIgzB,Mfz9BIn3J,Eey9BhB,Mfz9BgBA,CAASsgI,aAATtgI,CAAuB,QAAvBA;AkB49BpB,AHFIq+J,A1BhNH/lK,EAAAA,E0BgNG+lK,KAAK,IAAIlH,C1BhNA,EAAE,K0BgNX,K1BhNsBtjK,CAAX,EAAe;A6BmN9B,AHFIyI,ADdF46I,AzBjMA,EyBiMAA,ECcE56I,GAAG,Cfz9BC4qC,AX0wBFpjD,CAAC,C0B+MGP,EDdE,AzBjMF,CyBiMG6d,Cd38BL8lC,Aey9BM,Cfz9BCpkC,Aey9BAhN,EDdH,AzBjMGhS,C0B+ML,A1B/MR,C0B+MiBob,ADdAokJ,Gd38BXp8G,CAAeniC,Ec28BX,CAAV,CCcQ,Gfz9BFmiC,Cey9BuB94B,Efz9BE,Iey9B7B;AGGJ,AHFI3R,A1BhNF,I0BgNEA,GAAG,C1BhNWrI,CAAC,CWzwBP44B,Aey9BFzpC,E1BhNY,CWzwBVypC,Cey9BE,CAACj3B,Cfz9BG,CXywBS3B,C0BgNjB,A1BhNR,C0BgNiB8K,QAAT,IAAqBkP,MAA3B;AGGJ,AHFI7R,ADdF,AzBlMA,I0BgNEA,EDdE6mJ,CCcC,C1BhND7qJ,CAAC,C0BgNGhV,EDdE,AzBlMFsQ,CWzwBGypI,Ac28BA4mB,AzBlMF,C0BgNG,A1BhNF1rJ,C0BgNGzC,Gfz9BGgP,Aey9BR,CAAS7F,EDdjB,CzBlMA,CyBkMqB,Id38BI,Aey9BA,GAAGm/J,KAApB,Efz9B0BrlJ,Eey9BG,CAAC3K,Ifz9Bb,EAAkB,Aey9BzC;AGGJ,AHFI3R,ADdA0mJ,AzBjMF,I0B+ME1mJ,ADdA0mJ,GCcG,E1B/MAt/J,C0B+MGP,ADdA,AzBjMR,CyBiMS2gK,Cd38BClrI,CX0wBDzgB,C0B+MG,A1B/MF,C0B+MGzC,A1B/MD,CAAF,CAAD,C0B+MD,CAASoJ,ADdf,CAAgB43I,AzBjMAhzJ,CAAT,EW1wBYk1B,Cc28BnB,AzBjMoBzgB,CAAC,CyBiMC+qJ,AzBjMC,C0B+MA,A1B/MF,CAAD,E0B+MM+a,C1B/MGjqK,CyBiM7B,AzBjMO,EyBiMuBgwJ,CCcxB,A1B/M2B7rJ,CAAC,CAAE,CAAF,C0B+MC8V,A1B/MrC,IyBiME,ECcA;Af19BE,AkB69BN,AJhBG,AzBjMD,SAAKja,CAAL,GAASmE,CAAC,CAAE,CAAF,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAApC;A6BkNF,AHFI,ADdH,AzBhMC,CyB3yBF,OCy/BQ8lK,G1B9MC,E0B8ML,EAAW,A1B9Mb,CW3wBcrxI;AkB49BhB,AHFMsxI,A1B7MJ,GAvMgC,G0BoZ5BA,KAAK,IAAInH,QAAT;AGGN,AHFMxB,ADdN,AzB9LCliK,EAAAA,GAAG,C0B4MEkiK,C1B5MA,G0B4MI,GAAGpyK,IAAI,A1B5MAiU,C0B4MCyrC,A1B5MZ,EAAe,C0B4MR,CAASo7H,KAAK,GAAGC,KAAjB,CAAP;AGGN,AHFM3I,A1B3MJ,M0B2MIA,G1B3MC7xK,C0B2MG,A1B3MR,CW9wBSw5I,Eey9BE/5I,A1B3MFA,GW9wBKwhB,Cey9BC,A1B3MF,C0B2MG5L,A1B3MF1F,GAAL,C0B2ME,A1B3MQ,C0B2ME,Efz9BE,Eey9BEkiK,A1B3MD7xK,CAAf,EAAkB0T,C0B2ME,A1B3MD,CAAC1T,CAApB,C0B2MuB6xK,A1B3MhC,CW9wBgCjyK,Gey9BrB,CAAP,Cfz9BmB,EAAgBk2B,GAAhB,EAAqB;AkB49B9C,AHFMrd,A1B3MJ,M0B2MIA,GAAG,A1B3MFnI,CW9wBKgwI,AX8wBV,GW9wBUA,Aey9BCuxB,A1B3MFpyK,GW9wBOyc,Cey9BZ,A1B3MS,CAACvM,GAAL,CAAU,EW9wBHuM,CAASsgI,EX8wBDlsI,CAAf,EAAkBoD,CAAC,CAACpD,CAApB,CAAT,IW9wBgB4L,CAAuB,QAAvBA;AkB49BlB,AHFMtD,A1B1MJ,M0B0MIA,GAAG,Cfz9BC2nI,CX+wBD,E0B0MIsxB,E1B1MX,E0B0MI,Kfz9BgB/7I;AkB49BtB,A7B3ME,GAhNgC,OWhkBxBqb,aAAa,SAASvxC;AkB49BhC,AHFM,ADdN2gK,AzB1LC3wJ,EAAAA,EyB0LG,CzB1LA,EyB0LG,AzB1LD,G0BwMI4qK,ADhgCV,KCggCM,EAAW,A1BxMA9mK,CAAX,EAAe;A6B2MrB,AHFQm+J,ADjgCR,AzB0zBE,IyByLErR,ICcIqR,C1BvMD7xK,CAAL,EWnxBUqgJ,Ae09BA,C1BvMD5gJ,E0BuMIA,CDdC,CzBzLD,CAACmQ,C0BuMG,ADdA,CCcCuvC,Cf19BC8gG,AXmxBV,CAAU,C0BuMN,CAASu6B,G1BvMEx6K,CAAf,C0BuMI,CAAP,A1BvMqB0T,CAAC,CAAC1T,CWnxBEsgJ,AXmxBtB,CAAT;AWvxBE,AkBi+BJ,AHFQuxB,ADdNpR,AzBzLA,EyByLAA,IAAI,ECcEoR,ADdA,CAAC,AzBzLFvhK,CyByLC,AzBzLN,E0BuMU,ADdAiwJ,CzBzLD9gK,E0BuMIA,CDdP,CzBzLO,CyByLG8gK,AzBzLF3wJ,C0BuMG,CAACyF,C1BvMT,CyByLH,AzBzLa,CyBwLF,CCeJ,CAAU,E1BvMC/E,CAAf,C0BuMkBuhK,C1BvMAn+J,CAAC,CAACpD,C0BuME,A1BvMtB,CAAT,E0BuMkCuhK,IAArB,CAAP;AGGR,AHFQr5J,ADdNkoJ,AzBxLA,EyBwLAA,IAAI,ECcEloJ,ADdA,CAAC,CAAD,CCcG,A1BtMF,CyBwLG+nJ,GCcGsR,A1BtMb,CyBwLM,EAAU,CCcV,ADdA,CAFW;AImBnB,AHFQl5J,ADdNgoJ,AzBvLA,EyBuLAA,CzBhZgC,K0B8Z1BhoJ,ADdA,EAAE,Cd38BDgkI,Aey9BE,ADdA,GAAD,CCcKk1B,CDdC,GCcR,ADdE,EAAW,GAAX,CAHS;AIoBnB,AHFO,ADdLjR,AzBtLDlxJ,EyBsLCkxJ,AzBtLDlxJ,KyBsLM,AzBtLD,EyBsLG,AzBtLD,CyBsLE,CAAD,EAAI,CAAJ,EAAO,CAAP,CAJU,CzBlLAC,GAAX,EAAgBC,GAAhB,EAAsB;A6BuM9B,AHFK,ADdHixJ,AzBrLA,EyBqLAA,Md38BMvtE,Ac28BA,EAAE,CAAC,Ed38BE,Cc28BH,EAAM,CAAN,Ed38BG,Ac28BM,Cd38BD+sD,Ac28BR,CALS,Sdt8BS,UAAU,YAAW;AkB49BjD,AJhBEygB,AzBpLA,EyBoLAA,IAAI,EAAE,CAAC,AzBpLF9gK,CWvxBKwgJ,Ac28BJ,AzBpLN,EyBoLU,CzBpLD/gJ,EyBoLH,EAAS,AzBpLF,CAACmQ,EyBoLR,CANW,AzB9KR,CWvxBC4wI,AXuxBS7wI,GWvxBM,AXuxBH,CAAC3P,CAAd,EAAiBP,CWvxBIwhB,GXuxBA,CAACtR,GWvxBN,AXuxBC,CWvxBY,AXuxBFC,GAAG,CAAC5P,CWvxBGygJ,AXuxBjB,EAAiB,KAAKzgJ,CAAtB,CAAjB,CAAT,GWvxByB,EAAiCJ;AkB49B5D,AHFI4Y,ADdFuoJ,AzBpLA,EyBoLAA,ECcEvoJ,EDdE,CCcC,CDdC,CAAC,AzBpLFlI,C0BkMG,ADdF,AzBpLN,EyBoLU,CAAJ,AzBpLG7Q,EyBoLI8gK,EzBpLA,CAAC3wJ,CyBoLR,CAPW,CzB7KR,CAAUD,GAAG,CAACW,CAAd,EAAiB7Q,G0BkMX+Y,C1BlMe,CAAC7I,C0BkMvB,CAAN,C1BlMwB,CAAUC,GAAG,CAACU,CAAd,EAAiB,KAAKA,CAAtB,CAAjB,CAAT;A6BqMF,AHFIqI,ADdFqoJ,AzBnLA,EyBmLAA,ECcEroJ,EDdE,CCcC,CDdC,CAAC,CCcC,ADdF,CzBnLC,CWzxBGmgD,Ac48BA,CAAJ,EAAO,AzBnLb,GyBmLM,CARW,Edp8BE0nF,We09BJ7nI,GAAP,CAAN;Af59BA,AkB+9BJ,AHFIF,ADdFwoJ,AzBlLA,EyBkLAA,CzBtZgC,C0Boa9BxoJ,GAAG,ADdA,EAAE,CCcC,ADdA8nJ,IAAD,EAAOA,IAAP,EAAaA,IAAb,CATU,KCuBF9nJ,GAAP,CAAN;AGGJ,AHFIG,ADdFsoJ,AzBjLDvsJ,EyBiLCusJ,AzBjLDvsJ,E0B+LGiE,GAAG,ADdA,EAAE,CCcC,ADdA,GAAD,AzBjLG,EyBiLG,AzBjLD,GyBiLL,EAAW,CAAX,CAVU,GzBvKMhE,MAAX,C0B+LGgE,C1B/LgB/D,E0B+LvB,CAAN,G1B/LU,EAA4B;A6BkM1C,AHFG,ADdDssJ,AzBhLA,EyBgLAA,CCbA,KDaM,CCcC,A1B9LFnhK,CyBgLG,AzBhLR,CW5xBOslF,Ac48BEi7E,EzBhLA9gK,EyBgLD,EAAO8gK,AzBhLF,CAAC3wJ,GyBgLN,AzBhLC,CW5xBSqwI,AX4xBCrrI,CyBgLE,CAAb,CAXS,GzBrKR,EAAkBnV,IW5xBG,AX4xBC,CAACkQ,GAAL,CAAUkF,CW5xBP,CAAKwrI,IX4xBR,EAAkB,KAAKrgJ,CAAvB,CAAlB,CAAT;A6BiMF,AHFIwY,ADdF4oJ,AzBhLA,EyBgLAA,ECcE5oJ,GAAG,CDdC,CzBhLDlI,C0B8LGga,ADdA,AzBhLR,CyBgLSi2I,EzBhLA9gK,EyBgLD,CCcN,CDda,AzBhLF,CAACmQ,EyBgLN,CzBhLC,CyBgLW,AzBhLDgF,CyBgLX,CAZS,IzBpKR,EAAkBnV,IAAI,CAACkQ,GAAL,CAAUkF,MAAV,EAAkB,KAAKvE,CAAvB,CAAlB,CAAT;A6BiMF,AHFIsI,ADdFyoJ,AzB/KA,EyB+KAA,ECcEzoJ,EDdE,CCcC,CDdC,CAAC,CCcC2R,C1B7LD,CyB+KD,EAAM,CzB/KZ,C0B6LE,CDdI,EAAW,GAAX,CAbW;AI8BnB,AHFI5R,ADdF2oJ,AzB9KA,EyB8KAA,CzB3ZgC,C0Bya9B3oJ,GAAG,CDdC,ECcEF,ADdA,CAAC,ECcE,CDdH,ECcM,ADdA,CCcZ,ADdM,EAAS,GAAT,CAdS;AI+BnB,AHFG,ADdD8oJ,AzB7KDzsJ,EyB6KCysJ,AzB7KDzsJ,KyB6KM,EAAE,CAAC,CAAD,EAAI,AzB7KD,EAAE,CyB6KL,EAAS,CAAT,CAfU,KzB9JMnF,GAAX,EAAgBC,GAAhB,EAAsB;A6B8LpC,AJhBE4xJ,AzB5KA,EyB4KAA,GAAG,EAAE,CAACjB,AzB5KFz/J,IyB4KC,EAAO,AzB5KF,CyB4KL,EAAU,AzB5KF,CyB4KR,CAhBY,GzB5JCA,MAAL,EAAb;A6B6LF,AHFE,ADdA2gK,AzB3KA,EyB2KAA,ICcIzmJ,ADdA,ECcE,ADdA,CAACulJ,EzB3KA,C0ByLG,CAAC,ADdL,CCcM,CAACvgK,ADdA,CCcC,A1BzLFuU,EyB2KN,CCcW,CDdC,CCcN,EAAStG,ADdf,CAjBW,IzB1JV,CAAmBnN,C0ByLd,CAAiB,IAAjB,A1BzLoB,C0ByL5B,G1BzLgC,C0ByLEma,A1BzL/B,E0ByLiC,A1BzLA5G,I0ByLI,CAAC,CAAC,CAAC/D,CAAC,GAAG,EAAL,C1BzLvC,C0ByLgDrC,A1BzLCxO,IAAI,CAACmQ,E0ByLf,CAAiB,A1BzLP,CAAUD,G0ByLpB,A1BzLU,C0ByLxD,C1BzLuElQ,C0ByLD,G1BzLK,CAACkQ,GAAL,CAAUC,GAAV,EAAe9O,MAAf,CAAf,CAAjD,CAAP;A6B4LF,AHFIka,ADdF0mJ,AzB1KA,EyB0KAA,CzB/ZgC,C0B6a9B1mJ,EAAE,ADdA,EAAE,CCcCk8J,ADdA,CAAD,EAAI3W,IAAJ,EAAUA,IAAV,CCce,ADhCJ,CCgCK9/J,Kf99BbiT,Ce89BY,Ef99BT,Ae89BkB,GAAT,EAAc1T,CAAd,EAAiB,IAAjB,CAAnB;AGGJ,AHFIib,ADdFirB,AzBzKDpmC,EyByKComC,AzBzKDpmC,E0BuLGmb,EAAE,C1BvLA,E0BuLGi8J,A1BvLD,CWvyBEz8B,Gcg9BG,EAAE,CAAC8lB,Edh9BN9lB,Ecg9BK,Cdh9BLA,AXuyBU,CyByKE8lB,CCcC,Cf99Bb9lB,Ae89Bch6I,Cf99Bdg6I,Ccg9BK,EAAa8lB,ECcL,EAAS,ADdjB,EAAmB,CCcX,ADdR,ECcsBjwJ,CAAd,EAAiB,Cf99B9BmqI,CAAAA,Ee89Ba,CAAnB,Mf99BMA,CAAAA,SAAAA,IAAAA,MAAAA,CAAAA,cAAAA,CAAAA,gBAAAA,CAAAA,SAAAA,CAAAA,EAAAA,UAAAA,EAAAA,IAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAA0B/mI,CAA1B+mI;AkBi+BV,AHFG,ADlCgB,AzBpJjB,CyB/1BF,QzB+1BOz6I,CAAL,GAASP,IAAI,CAACK,KAAL,CAAY,KAAKE,CAAjB,CAAT;A6ByLF,AJxhCA,AzBg2BE,IyBwKE2hK,IAAI,CzBxKDrxJ,CWxyBC,AXwyBN,CyBwKS,EzBxKA7Q,EWxyBEi9I,EXwyBE,CAAC58I,EyBwKI6hK,GzBxKT,CyBwKA,AzBxKY,CyBwKE7nJ,CAAd,EAAiB8nJ,CzBxKAtxJ,CyBwKjB,AzBxKA,CAAT,CyBwK8BuxJ,Cdh9BD,Ccg9BpB,EAAyB;AIiBpC,AHFE,ADdA/nJ,AzBvKA,EyBuKAA,CAAC,GCcG+/J,ADdA//J,CAAC,GAAG,CAAJ,AzBvKG,EWzyBE4iI,Ae89BE,CDdC5iI,CAAC,AzBvKb,E0BqLeigK,CDdC,CAAZ,GAAgBjgK,CAAC,CCcjB,EDdoB,CAAJ,CCcMqpE,Ef99BAjiF,Acg9BE4Y,CAAC,GAAG,Cdh9BD,Ae89B3B,ADdgB,GAAgBA,CCcCogK,ADdrC,Edh9BqC,KAAKllD,Ae89B1C,EAA8C,Mf99BT;AkBi+BvC,AHFIh6G,ADdF,AzBtKA,GA9PgC,C0Bkb9BA,EAAE,GAAG,ADdA,CAAClB,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAY8nJ,EAAE,GAAG,CAACC,EAAE,CCcd7mJ,EAAE,ADde4mJ,EAAN,CCcNiY,GDdkB//J,CAAZ,GCcX,ADd2B,CAAjC,GCcsB+/J,ADde//J,CAAC,GAAG,EAAJ,CCcR,EDdiB+nJ,CCcdrpJ,CDdK,ECcf,CDd6BsB,CAAC,CCcdigK,EDdiB,CAAJ,GAAQ,CCcd,ADdM,GCcHthK,ADdempJ,EAAE,CCc3D,EDd8D,CAACC,CCcd1+E,CDdgB,GAAGy+E,EAAN,CCcrE,CAAL,GDduF,IAAI,CAAJ,GAAQ9nJ,CAArB,IAA0B,CAA3C,GAA+C8nJ,EAAnG,IAAyGrB,IAAzG,GAAgH,EAAhH,GAAqH,CAA5H;AIiBF,AHFItlJ,ADdH,AzBrKA3J,CyBt2BD,CzBs2BCA,E0BmLG2J,EAAE,A1BnLD,EAAE,C0BmLE,W1BnLU,W0BmLHA,EAAE,GAAG8+J,OAAL,IAAgBF,OAAO,GAAGlhK,GAAV,GAAgBohK,OAAO,GAAGnhK,GAA1C,IAAiDshK,OAAxD,CAAL;AGGJ,AHFG,AD1hCH,AzBw2BE,IyBoKEpY,KzBpKG9hK,CAAL,GW7yBSy6I,AX6yBAh7I,CyBoKG,GAAG,AzBpKF,CAAC6R,IAAL,CAAW,GyBoKIwwJ,EzBpKC9hK,CAAhB,CAAT,MyBoKe,CAAoB0T,CAApB,EAAuBquJ,KAAvB,EAA8BC,UAA9B,EAA0C;AIiB3D,AJhBE,AzBpKA,MyBoKIpwJ,CAAC,EzBpKAtB,CyBoKG,AzBpKR,CyBoKSoD,CAAD,CzBpKCjU,EyBoKI+gK,EzBpKA,CAAClvJ,IAAL,CAAW,IyBoKK,CAACsvJ,AzBpKDtwJ,CAAhB,CAAT,GyBoKQ,GAA0BmhJ,SAAS,CAAC/9I,CAAD,CAAT,GAAe,CAACA,CAAC,IAAI,EAAN,EAAUA,CAAC,IAAI,CAAL,GAAS6sJ,IAAnB,EAAyB7sJ,CAAC,GAAG6sJ,IAA7B,CAAf,GAAoD,CAAtF;AIiBF,AHFE,ADfA,AzBlKA,M0BiLIoa,ADdA7/J,CADJ,IzBlKO,G0BiLK,C1BjLZ,G0BiLgB+/J,QAAhB,EAA0B;AGG5B,AHFI,ADhBF,AzBhKA,GAvQgC,GyBya5BhhK,CAFJ;AImBF,AHFIg4J,ADjBF,AzB9JD98J,EAAAA,E0B+KG88J,EDdEhgK,CAHJ,AzB9JI,C0B+KE,C1B/KA,E0B+KGpR,MAAM,CAACu1K,G1B/KE,I0B+KT,EAAP,Sfh+Bc;AkBm+BlB,AHFIh7J,ADlBF,AzB5JA,I0B8KEA,EAAE,ADdAlB,CAJJ,ECkBO,A1B9KF9Z,CWlzBCk9I,AXkzBN,GWlzBMA,AXkzBGz9I,CWlzBCihJ,GXkzBG,CAAC3rI,IWlzBRmoI,CAAa,AXkzBV,CAAY,IWlzBGmD,CXkzBErgJ,CAAjB,C0B8KKgb,A1B9Kd,E0B8KgB,Gfh+BVkiI,Aeg+Bay9B,Gfh+BgB,Keg+BR,Efh+Be,Ceg+BZ,Gfh+BK,Aeg+BhB,GAAiB9I,IAAI,CAACz1J,KAAlC,CAAL;AGGJ,AHFInB,ADnBF,AzB3JA,I0B8KEA,EAAE,ADdAlH,CALJ,ECmBO,A1B9KFzD,CAAL,CWlzBO+vI,EXkzBE5gJ,IAAI,CAACsV,EWlzBEnV,GXkzBP,CAAY,IWlzBG,CXkzBE0Q,CAAjB,C0B8KK2K,A1B9Kd,EWlzB6B+5G,Aeg+Bb,GAAG6lD,Kfh+BK,Geg+BG,GAAG,GAAX,GAAiBhJ,IAAI,CAACx1J,MAAlC,CAAL;AGGJ,AHFG,ADpBD,AzBzJA,MyB+JIzN,CANJ,IzBzJO,IAAP;A6BgLF,AJvBE,AzBvJA,GAhRgC,GyB8a5BgB,GAPJ;AIwBF,AHFEiiK,ADtBA,AzBrJD78J,E0B2KC68J,A1B3KD78J,I0B2KK,ADdArF,GCcG,ADtBP,IzBrJU,EAAE,M0B2KO6I,GAAZ,GAAkB,A1B3KD,G0B2KjB,GAAwBG,GAAxB,GAA8B,GAA9B,GAAoCF,GAApC,GAA0C,GAA1C,GAAgDG,GAAhD,GAAsD,GAAtD,GAA4DoC,EAA5D,GAAiE,GAAjE,GAAuEC,EAAvE,GAA4E,GAAnF;AGGF,AHFExa,ADvBA,AzBnJA,E0B0KAA,IDdIkZ,CATJ,CCuBM,CAACw3B,A1B1KFnxC,CAAL,GAAW,KAAKA,CAAL,E0B0KX,CAAoB,A1B1KA,CAAX,GAAiBP,IAAI,CAAC6R,E0B0K/B,EAAiCugK,A1B1KP,CAAW,G0B0KrC,E1B1K0C7xK,CAAhB,CAAjB,GAAuCP,IAAI,CAACK,KAAL,CAAY,KAAKE,CAAjB,CAAhD;A6B6KF,AJ1BE,AzBlJA,CW92BImgJ,CAAyB7D,Ic0gCzB2lB,GzB5JC3xJ,CAAL,EW92BI6vI,AcggCJ,CzBlJW,KAAK7vI,CAAL,GAAS,CAAX,GAAiB7Q,IAAI,CAAC6R,IAAL,CAAW,KAAKhB,CAAhB,CAAjB,GAAuC7Q,IAAI,CAACK,KAAL,CAAY,KAAKwQ,CAAjB,CAAhD;A6B6KF,AHFE,A1BzKA,M0ByKIoqK,K1BzKG,G0ByKP,C1BzKA,C0ByKc;AGGhB,AHFI,ADdF,AzB1JA,GAzRgC,CY7lB5B/5B,EaghCA,CAAC/uI,CAAL,EAAQ,UbhhCJ+uI,GAAAA,UAAAA,WAAAA,EAAAA;AiBiiCN,AHFIlgJ,ADdA,AzBzJHwU,EAAAA,E0BuKGxU,IDdIiT,AzBzJD,CyByJE,CCcC,ADdAmmG,AzBzJD,C0BuKEt2E,KAAP,ADdI,CCcSmxI,ADdA,CAAC,CAAV,GzBzJa,GyByJI,GAArB,EAA0B,CCc1B,IAA+B7C,IAA/B;AGGJ,AHFG,ADdG,AzBxJJ,SAAK7xK,CAAL,GAAS,CAAE,KAAKA,CAAhB;A6ByKF,AHFC,ADdK0T,AzBxJJ,C0Br4BF,KD6hCMA,CAAC,EzBxJApD,CyBwJGoD,AzBxJR,CyBwJS,CAACmmG,CzBxJD,CAAE,IyBwJH,CAAS,AzBxJDvpG,CyBwJR,AzBxJR,EyBwJoBoD,CAAC,CAAC5S,IblhCVsyB,EakhCQ,GAAW,CAAvB,CAAJ,CblhCgBupB,UAAU;AiBmiChC,AH9iCA,AD8hCK,AzBvJH,I0BqKE8+H,O1BrKK,IAAP,Y0BqKyB,GAAG,SAASA,uBAAT,CAAiChP,MAAjC,EAAyChsK,MAAzC,EAAiDk8C,QAAjD,EAA2DkvH,QAA3D,EAAqEsM,QAArE,EAA+EG,QAA/E,EAAyF;AGGvH,AHFE,A1BpKA,GAlSgC,G0Bsc5BoD,GAAG,GAAG,GAAV;AGGF,AHHE,ADbE,AzBrJHxmK,EAAAA,GAAG,C0BmKEolI,C1BnKA,CyBqJEkmB,MCcM,GAAG,A1BnKA9sJ,CAAX,EyBqJc,AzBrJC,CyBqJAA,CAAD,CAAhB,EAAqB,iBCcEykK,QAAV,CADf,iFdjiCQ/kJ,QAAQupB;AiBqiClB,AHJE,ADZI/qC,AzBpJJ,M0BkKI+5J,ADdA/5J,CAAC,GAAG4uJ,CzBpJD,C0BkKG,GAAG98H,C1BlKD1jC,CAAL,GAAS0T,CAAC,CyBoJG,AzBpJF1T,CyBoJG0T,AzBpJd,CyBoJa,CCcG,ADdnB,CCcoBykK,A1BlKF,KAAK7nK,CAAL,E0BkKC,CAAV,A1BlKkBoD,CAAC,CAACpD,CAAjC,C0BkKqCgqI,QAAQ,IAAI,CAAC69B,QAAQ,CAAClqK,OAAT,CAAiB,KAAjB,CAAb,GAAuCmlK,QAAvC,GAAkD,CAA1E,CAFb;AGKF,AHLE,ADXG,AzBnJH,GAxSgC,EyByb9B,CCgBE1D,EdliCIhqF,GaohCC,CCcC,CdliCFA,EckiCK4yF,ADdA5kK,CbphCLgyE,AaohCM,CAAC3hD,MCcM,ADdR,CAAS,CAAT,CCcW4nI,KDdK,CCcC,EDdrB,CCcwB2M,CDdC,OCcb,GAAuB3M,MAAM,GAAGE,QAHrD;AGMF,AHNE,ADVI,AzBlJL12J,EAAAA,I0BgKKwmK,C1BhKA,EAAE,CyBkJEjoK,CAAC,CAAC5S,ICcI,EDdN,CCcS+qK,A1BhKAn4J,CAAX,EAAe,CyBkJA,CAAjB,EAAoB,CCcC,GAAGg8J,MAAX,GAAoB,KAJrC;AGOF,AHPE,ADTM,AzBjJN,M0B+JIzzI,K1B/JG,EYn4BI+jH,Ec6hCX,C1B1JYhgJ,CAAL,GAAS0T,CAAC,CAACpD,CAAX,CYn4Be,EZm4BA,KAAKA,CAAL,GAASoD,CAAC,CAAC1T,CAAjC;A6BkKF,AHRE,ADRM8a,AzBhJN,GA9SgC,G0B4c5BioF,EANJ,ADRMjoF,CAAC,GbphCGg+C,AaohCAplD,CAAC,CAACqwB,MAAF,CbphCS2hD,AaohCA,CAAT,CAAJ,GbphCaA,CAAMk7D,OAANl7D,CAAc9lF;AiBqiCnC,AJhBQia,AzB/IPzE,EAAAA,MyB+IOyE,CAAC,CzB/IA,EyB+IGnG,AzB/ID,CyB+IE,CAACqwB,MAAF,CAAS,CAAT,CAAJ,CzB/Ie;A6BgKvB,AHFE,ADdMlyB,AzB9IN,M0B4JIyoI,EDdEzoI,CAAC,EzB9IA,CyB8IG6B,CAAC,CCcX,ADdYqwB,ECcE,A1B5JF/jC,CAAL,GyB8IG,AzB9IM,CyB8IG,CAAT,CAAJ,EzB9IeA,CAAd,GAAkB,KAAKsQ,CAAL,GAAS,KAAKA,CAAvC;A6B+JF,AHFI2rB,ADdIvoB,AzB7IN,GApTgC,C0B+c9BuoB,IDdIvoB,CAAC,GAAG,CbphCCmtI,AckiCA,GAAGs3B,EDdEr9J,CAAN,GbphCU,AaohCAA,CAAV,CCcY,CAAC+kD,CDdChmD,CAAd,GCcI,ADdcA,CCcC,ADdnB,GCcI,ADdkBhI,CAAtB,CCcwB,CAApB,CAAZ,ADdkCA,CAA9B;AIiBR,AJhBO,AzB5IN/Q,EAAAA,MAAM,EYx4BG4kF,AZw4BD,KYx4BCA,CAAMg3D,MZw4BK,YYx4Ba;AiBqiClC,AHFI,A1BzJF,Q0ByJMzgH,G1BzJCx8B,GYz4BKi9I,CZy4BD,CAACrnI,C0ByJG,G1BzJR,CAAW,C0ByJE,I1BzJGrV,CAAL,E0ByJhB,C1BzJyB,CYz4BEkB,AckiCA,I1BzJGlB,CYz4BE0lF,AZy4BhB,GAAkB,IYz4BKA,CZy4BAp1E,CAAL,GYz4BKo1E,AZy4BI,CYz4BEsvC,IZy4BG1kH,CAA3C,CAAP,EYz4ByCo1E;AiBqiC3C,AHFMgqF,ADdAh8J,AzB1IJ,GA1TgC,G0Bkd5Bg8J,ADdAh8J,CAAC,GAAGowB,ECcE,IAAI43I,EDdE,CCcZ,ADdahoK,CAAC,CAACmmG,MAAF,CAAS,CAAT,CAAD,EAAc,EAAd,CAAZ;AIiBN,AJhBMjoG,AzBzIL0D,EAAAA,IyByIK1D,CAAC,GAAG,CAAC8B,CAAC,IAAI,CzBzIA,CyByIN,CzBzIQ,CyByIEA,CAAC,IAAI,CAAL,GAAS6sJ,EzBzIC,EyByIpB,EAAyB7sJ,CAAC,GAAG6sJ,IAA7B,CAAJ;AIiBN,AHFM,ADdD,AzBxIH,KyB6HS,KCyBDmP,CDdC,AzBxIFjwK,IyBwIMiU,AzBxIF,C0BsJG,ADdA,AzBxIF6B,CyBwIGskG,EzBxIR,CAAU,C0BsJE61D,EDdN,CAAS,CAAT,AzBxIS1vK,CAAf,C0BsJkB,ADdA,CAAZ,EzBxIeP,C0BsJCi8K,GAAG,ADdA,AzBxIA,CAACnmK,E0BsJE,CAAV,A1BtJG,C0BsJxB,ADdK,AzBxI6B,E0BsJC,ADdA,GzBxIIjF,CAAf,CAA5B;A6ByJF,AHFQo/J,ADdF99J,AzBvIJ,GAhUgC,GyBuc5BA,CAAC,CCcC89J,EDdEzN,CbphCDrhB,GckiCK,EDdE,ECcE8uB,CDdCh8J,CAAC,CbphCDwI,AaohCE3b,GCcG,EDdL,CCcQ,ADdAyxJ,CCcT,CdliCC91I,CAASsgI,CckiCGk/B,GAAb,GAAmB,CAACA,EDdnB,CCcX,ADdF,EbphCax/J,CAAuB,OAAvBA;AiBqiCnB,AHFO,A1BpJN1G,EAAAA,SAAS,EAAE,YAAY;A6BuJxB,AHFK,ADdC,AzBrIJ,UyBqIQ,CbrhCDorI,AaqhCEmhB,AzBrIF,KyBqIH,AzBrIQxtJ,EyBqII,CbrhCD48B,SZg5BR,CAAmB,GYh5BE,EZg5BGrwC,MYh5BK,AZg5BV,MAAiB,CAApC,CAAP;A6BsJF,AJhBQgZ,AzBpIN,GAtUgC,KyB0c1BA,CAAC,GAAG,CAAClI,CAAC,CAAC,CAAD,CAAF,GAAQ,GAAR,GAAc,GAAlB;AIiBR,AHFI,ADdImC,AzBnIP0B,EAAAA,KAAK,CYl5BE69E,AcmiCAr3D,ADdAloB,CAAC,AzBnID,GyBmII,CbrhCC,AaqhCAnC,CAAC,CAAC,CAAD,CCcG,ADdL,EbrhCC,CAAKgvI,AaqhCE,CzBnIA,C0BiJE,CDdd,GCcA,GdniCmB,CcmiCG8uB,MAAM,EdniCA1vB,CcmiCG,CAAnC,EAAsC;AGG1C,AHFM0vB,ADdE9gK,AzBlIN,M0BgJI8gK,EdniCEp8E,AaqhCA1kF,CAAC,GCcG,ADdA,CbrhCC,AaqhCAgD,CAAC,CCcC,ADdA,CCcC89J,ADdF,CAAF,EbrhCC,CAAK9uB,AaqhCE,ECcE,CDdd,ECciB86B,GAAG,CdniCD,EcmiCI3qB,OAAhB,CdniCsB/Q,GcmiCK07B,GAA3B,GAAiC,CAAC,EAAEhM,MAAM,GAAGgM,GAAX,CAAD,GAAmBA,GAA7D;AGGN,AHFK,ADdG7hK,AzBjIN,K0B6IE,GdjiCIy5E,AaqhCAz5E,AzBjIFpE,CyBiIG,ECcE,CDdC7G,CbrhCC,AaqhCA,AzBjIF,E0B+IIqtB,C1B/IDx8B,CyBiIG,EbrhCJ,AaqhCD,CbrhCMmhJ,AZo5BA,CAAClrI,CyBiIG9G,CAAC,CCcC,E1B/IV,CyBiIamF,AzBjID,CyBiIE,AzBjIA,CYp5BD,AcmiCE,EDdE,CAAR,CAAX,AzBjIqBzD,C0B+IlB,A1B/ID,EyBiIsB1B,AzBjIA,CYp5BDiyI,AaqhCE,AzBjIC,C0B+IA6uB,EDdE37J,CAAJ,CzBjIO/T,CAA7B,C0B+I8B,ADdA4O,CAAC,ECcE,A1B/IEnP,C0B+ItC,ADdqCsU,CAAxC,CCc0C,C1B/IG,CAAC/E,EAApD;A6BkJF,AHFM0gK,ADdE50J,AzBhIN,M0B8II40J,EdniCEp8E,AaqhCAx4E,CAAC,EzBhIArF,C0B8IG,ADdA7G,CbrhCC,AaqhCA,ECcE,CAAC8gK,ADdA,AzBhId,CyBgIU,EbrhCC,CAAK9uB,AaqhCE/mI,CAAZ,CCcc,GAAG6hK,GAAG,CdniCD,EcmiCI3qB,OAAhB,EdniCuB,EcmiCI2qB,GAA3B,GAAiC,CAAC,CdniCFjnK,CAAT,AcmiCai7J,EdniCD,IcmiCO,GAAGgM,GAAX,CAAD,GAAmBA,GAA7D;AGGN,AHFK,A1B7IH,GAhVgC,OYtkBxBjnK,CAAAA,CAAEqqI,OAAFrqI,KAAc,IAAI;AiBsiC5B,AHFG,ADdK,AzB9HPkB,EAAAA,UyB8HW/D,AzB9HD,CYv5BEkvI,AaqhCA,CAAChgJ,AzB9HD,MyB8HD,GAAW,CAAf,AzB9HgB4S,CAAX,CyB8Ha,CzB9HE;A6B+I5B,AJhBU9B,AzB7HR,UyB6HQA,CAAC,AzB7HFnS,CyB6HG,CAAD,CAAD,CzB7HG,CAAC4V,EyB6HI,CAAR,CADgB,AzB5HjB,CyB6HY,AzB7HD,KAAKO,iBAAL,CAAwBlC,CAAxB,CAAX,CAAP;AY35BE,AiByiCJ,AHFE+4J,ADdO,AzB5HP,E0B0IAA,C1BhegC,K0Bge1B,CAACrT,GAAP,GAAar2D,EAAE,GAAG,IAAIu9D,mBAAJ,CAAcmM,MAAM,CAACrT,GAArB,EAA0B34J,MAA1B,EAAkCk8C,QAAlC,EAA4CkvH,QAA5C,EAAsD6D,MAAtD,EAA8DmE,kBAA9D,CAAlB;AGGF,AHFE9wE,A1BzIDntF,E0ByICmtF,A1BzIDntF,E0ByIG,CAACnB,CAAH,GAAOknK,UAAP,A1BzIgB,EAAE,UAAWjoK,CAAX,EAAe;A6B4InC,AHFEqvF,ADdMnxF,AzB1HN,E0BwIAmxF,EAAE,CAACzhE,CAAH,EDdM1vB,AzB1HFiE,C0BwIG,ADdA,CAAC,AzB1HF,CY35BC8mI,AaqhCA,CAAD,CzB1HG,C0BwIT,CDdaglB,GzB1HC3hK,CyB0HG,AzB1HR,CyB0HS8Z,CAAC,CzB1HDpG,CAAC,CyB0HG,AzB1HF1T,CAApB,GyB0H0B,CAAT,EAAY8a,CAAZ,EAAejB,CAAf,CAAX;AIiBR,AJhBQjI,AzB3HN,QyB2HMA,AzB3HiBkE,CyB2HhB,CAAC,AzB3HiB,CyB2HlB,CAAD,CzB3HsB,EyB2Hf6rJ,GzB3HoBrxJ,CyB2HhB,AzB3HW,CyB2HVwJ,CAAD,CzB3HoBpG,CyB2HhBoH,AzB3HiB,CyB2HrB,AzB3HsBxK,CAAvC,CyB2HwBuJ,CAAP,CAAX;AIiBR,AHFE4yJ,ADdM76J,AzB3HN,E0ByIA66J,MAAM,ADdA76J,CCcC6tJ,ADdA,CAAC,CbrhCDn6E,AaqhCA,AzB3HAzvE,CyB2HD,CzB3HG,E0ByIT,ADda8rJ,CCcCzzJ,A1BzIF2H,EAAL,CyB2HU,CCcjB,ADdkBiE,CCcC6iC,ADdA,AzB3HF7mC,CY15BCmqI,CZ05BC,CyB2HG,EzB3HAnqI,EyB2HI,AzB3H1B,C0ByIA,ADdiB,EAAYgF,CAAZ,EbrhCa,AaqhCEjB,CAAf,CAAX,IbrhCwB,CAAK+mI;AiBsiCrC,AJhBO,AzB1HL,GA7VgC,IyByc5B,MAcO,IAAI,CAACltI,CAAC,CAACzF,OAAF,CAAU,GAAV,CAAL,EAAqB;AIiBlC,AHFE,ADdM,AzBzHP8H,EAAAA,O0BuIQgtF,EAAP,U1BvIkB,EAAE,UAAWrvF,CAAX,EAAe;A6B0IrC,AHFC,ADdO9B,AzBxHN,C0Bx8BF,ODgkCQA,CAAC,EzBxHAnS,CyBwHGiU,CAAC,CAACnT,CzBxHD,CAACgV,GyBwHF,AzBxHH,CyBwHW08I,AzBxHD,KAAKjyJ,CAAL,CyBwHP,CAAJ,CzBxHoB0T,CAAC,CAAC1T,CAArB,IAA2BP,IAAI,CAAC8V,GAAL,CAAU,KAAKjF,CAAL,GAASoD,CAAC,CAACpD,CAArB,CAAlC;A6ByIF,AHjlCA,ADikCQ0xJ,AzBvHN,GAnWgC,C0Bwe9B4Z,IDdI5Z,UAAU,IAAIpwJ,CCcC,ADdA,CAAC9Q,ECcE,IDdJ,GAAW,CAAzB,CCc2B86K,IDdIhqK,CAAC,CAAC,CAAD,CAAD,GAAO,CAAtC,OCckB,CAA6B66J,MAA7B,EAAqC6O,UAArC,EAAiD76K,MAAjD,EAAyD;AGGnF,AHFE,ADdM,AzBtHPuV,EAAAA,SAAS,EAAE,EyBsHGpE,CAAP,OzBtHe9Q,MAAX,EAAoB;A6BuIhC,AHFE,ADdK,AzBrHL,M0BmIIyiC,KAAK,A1BnIF,G0BmIK0vI,E1BnIAz9J,SAAL,G0BmImB,A1BnIFnB,C0BmIGkvB,KAA3B,Q1BnIO,CAAiCziC,MAAjC,CAAP;A6BsIF,AHHE,ADbG,AzBpHH,GAzWgC,EyBscvB,CCqCL+6K,KDdK,KCcK,GAAGp7K,MAAM,CAACyzJ,KADxB,KdtiCgB;AiB0iClB,AHJE,ADZItiJ,AzBnHLvB,EAAAA,I0BiIKyrK,ADdAlqK,AzBnHD,CyBmHE,CzBnHA,EYp6BC,AauhCE8B,CbvhCDwpI,AauhCE,CAAC38I,CCcC,CdriCJ28I,CAAIwD,CcqiCG,CDdN,CAAQsR,AzBnHAt+I,CAAX,EAAcuC,EYp6BZinI,CAAa,EZo6Bf,EAAsB,CYp6BF0D,EauhCjB,KbvhCD1D,AauhC2BsjB,GbvhCC,SauhCW,CAACt6H,WAA3C,GCYJ;AGKF,AHLE,ADXG,AzBlHH,M0BgII61I,G1BhIC/7K,CAAL,GYr6BS4gJ,CckiCT,A1B7HU,CAAEltI,CAAC,CAAC1T,CAAF,GYr6BKJ,AZq6BC,KAAKI,CAAb,EYr6Be,EZq6BIiW,GYr6BC++G,EZq6B9B,MYr6ByB;AiBwiC3B,AHNE,A1B5HA,M0BgII7vG,CAJJ,E1B5HK7U,CAAL,IAAU,CAAEoD,CAAC,CAACpD,CAAF,GAAM,KAAKA,CAAb,IAAmB2F,KAA7B;A6BmIF,AHPE,ADTErE,AzBjHF,IyBiHEA,CAAC,CCcCsmK,EDdEtmK,CAAC,CAACs3B,CzBjHD,EyBiHD,CAAM5pC,CzBjHZ,C0B0HA,IDTM,CAAJ;AIiBJ,AHRE,ADRC,AzBhHD,GAlXgC,G0Bgf5B64K,QANJ;AGSF,AHTE,A1BtHDjiK,EAAAA,I0B6HK21J,O1B7HM,C0BsHV,C1BtHY,UAAW11J,EAAX,EAAeC,EAAf,EAAmBH,KAAnB,EAA2B;A6BgIzC,AHVE,ADNA,AzB9GA,M0B4HI01J,ADdA5J,KAAK,AzB9GF,C0BoHP,GDNa,CAACE,AzB9GF/tJ,MyB8GZ,EAAsB,EzB9Gf,CAAiBkC,EAAjB,EAAqBD,EAArB,EAA0B9B,cAA1B,CAA0C4B,KAA1C,EAAkDtC,GAAlD,CAAuDwC,EAAvD,CAAP;A6B+HF,AHXE,ADLE2E,AzB7GF,GAxXgC,CyBqe9BA,CAAC,CCcCu9J,EDdEzmK,CAAC,CAAC,CAAD,CAAD,GCKN,ADLa2uJ,IAAX;AIiBJ,AHZE,ADJE1mJ,AzB5GHxD,CYv9BKsqI,CAAyBrE,AZu9B9BjmI,EyB4GGwD,CAAC,CCcCu+J,EDdExmK,AzB5GD,CyB4GE,CAAC,AzB5GD,CyB4GA,CbnkCH+uI,AamkCE,CCIN,EDJa4f,IAAX,CzB5GgB7sJ,CAAX,EAAe;A6B6HxB,AHFE6vB,ADdE1xB,AzB3GF,E0ByHA0xB,EDdE1xB,CAAC,ECcE,CAACszI,ADdAvzI,CAAC,CAAC,CAAD,AzB3GI8B,CyB2GL,AzB3GM,CAAC1T,CAAF,C0ByHX,ADdaugK,GCcGjhB,CDdd,AzB3GiB,KAAKt/I,CAAf,IAAwB0T,CAAC,CAACpD,CAAF,E0ByHD,CAAC7P,E1BzHQ,I0ByHT,CAAhB,A1BzH8B6P,C0ByHL60I,A1BzHzC,O0ByHgB,GAAmC,mCAAnD,CAbiF,CAaO;Ab1lC1F,AgB6lCA,AJhBIv1I,AzB1GF,GA9XgC,CyBwe9BA,GAAG,EZ7kCEmxI,CY6kCCthJ,IAAI,CAACmQ,GAAL,CAASkL,CZ7kCnB,AY6kCU,CZ7kCW9a,CAArB,AY6kCsB6Z,CAAZ,CZ7kCc,CY6kCChI,CAAf,CAAN;AIiBJ,AHFE0xB,ADdE5zB,AzBzGH2G,E0BuHCitB,A1BvHDjtB,EyByGG3G,EZ7kCIoS,Ca2lCD,ADdA,CZ7kCCA,Aa2lCA2yJ,EDdEj1K,CZ7kCGO,Abo+BH,Cap+BGA,CAAEM,Abo+BH,CyByGE,CAACqP,GAAL,CAASmL,CAAT,CZ7kCG9a,Ca2lCN,ADde6Z,CCcpB,ADdQ,AzBzGapL,EyByGEoD,CCcCypK,ADdhB,CAAN,CzBzGQ,EAAkB/kK,M0BuH5B,A1BvHU,EAA2B;A6B0HvC,AJhBI3H,AzBxGF,IyBwGEA,CAAC,GAAG,AzBxGD2H,CyBwGE3G,GAAG,EzBxGC,CyBwGED,GAAP,CzBxGUnQ,GyBwGI,CAAlB,KzBxGF,EAA4B+W,MAAM,GAAG,CAAT;A6ByH9B,AHFEm8I,A1BrHA,E0BqHAA,Ib5lCI3wI,Aa4lCA,CAAC0kI,Cb5lCD1kI,CAAG9T,Abu+BFjO,CAAL,C0BqHA,CAAUigJ,C1BrHDxxI,Gav+BLsT,CAAW,Cbu+BD,CAAExL,Cav+BZwL,Ga4lCJ,Cb5lCsB,Aa4lCAkxJ,Cb5lCC,Abu+BT,CAAd,Eav+B0B,Ua4lC1B;AGGF,AJhBI,AzBvGF,QyBuGMrjK,CzBvGDU,CAAL,Cav+BSyR,AY8kCA,EZ9kCAA,Abu+BAtT,Cav+BG3N,EY8kCE6O,EzBvGA,CyBuGZ,AzBvGc4G,Cav+BPwL,CY8kCU,EZ9kCEA,EAAAA,Abu+BC,Cav+BE9T,Ebu+BC,CAAX,CAAd,Gav+BqB8T,CAAW,GAAXA,CAAZA,GAA8B;AgB+lCzC,AHFEg6J,ADdIjiK,AzBtGJ,E0BoHAiiK,IDdIjiK,CAAC,GCcG,ADdA/F,CAAC,AzBtGF,E0BoHI6jK,CDdC,CAAR,AzBtGJ,a0BoH0B,CAAC3E,cAAD,EAAiB,CAAjB,CAA1B;AGGF,AJhBK,AzBrGH,GAzYgC,EyB4e9B,MAEO;AIiBX,AHFE,ADdIt5J,AzBpGLnD,EAAAA,IyBoGKmD,CCcCwL,ADdA,CCcL,Cb5lCO,Ab0+BD,CyBoGEvV,CzBpGA,C0BkHEujK,CDdC,GAAGxjK,GAAV,EzBpGelB,KAAX,C0BkHR,C1BlH0B8H,C0BkHC,K1BlHnB,EAA2B;A6BqHrC,AHFI2hK,ADdEnkK,AzBnGJ,I0BiHEmkK,EDdEnkK,CAAC,CzBnGAtF,EyBmGGG,CAAC,EzBnGC,C0BiHE,ADdA,GCcGitK,ADdP,CzBnGOr8K,EyBmGGma,CAAC,IAAI,ECcE,A1BjHzB,C0BiH0BwL,CAAD,ADdEvV,AzBnGAnB,C0BiHzB,EDdqB,EzBnGS,CyBmGCkB,EzBnGE,CyBmGhB,CAAX,AzBnGmB,GyBmGagK,CAAC,IAAI/J,GAAG,GAAGD,GAAV,CAArC;AIiBN,AHFIwoK,ADdEr+J,AzBnGJ,I0BiHEq+J,EDdEr+J,CAAC,CzBnGAvD,EyBmGG3G,ECcE,CDdC,CzBnGA,C0BiHEmsK,GDdGjhK,CAAR,AzBnGQtb,GyBmGI,CCcC,ADdAqa,CCcCsL,ADdA,CCcD,CAAnB,CDduBtT,CAAL,AzBnGpB,EAA4B0E,EyBmGEoD,CAAV,GzBnGc,CyBmGCE,CAAC,CzBnGC,CAAT,CyBmGWhI,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAZ,GAA4CjC,GAAG,KAAKiK,CAAR,GAAY,CAAChI,CAAC,GAAGiJ,CAAL,IAAUnB,CAAV,GAAc,CAA1B,GAA8B,CAACmB,CAAC,GAAGjB,CAAL,IAAUF,CAAV,GAAc,CAA5F;AIiBN,AJhBMG,AzBlGJrL,Iah+BIuyI,Abg+BJvyI,EyBkGIqL,CAAC,EzBlGA,CAAEvD,CyBkGE,EAAL,GzBlGC,CAAL,Gah+BIyqI,Abg+Bc,Gah+BdA,Ebg+BmBhhJ,CAAvB,Oah+BIghJ,WAAAA,EAAAA;AgBmlCN,AHFI,ADdC,AzBlGHvyI,IAAAA,I0BgHMypK,C1BhHD,CAAE3hK,MAAM,E0BgHG,C1BhHA,CAAX,CAAL,E0BgHqB4hK,C1BhHC,KAAK7nK,CAA3B,C0BgHM,IAA2BwrK,OAAO,CAAC7tK,OAAR,CAAgBkX,CAAhB,IAAqB,CAApD,EAAuD;AGG3D,AHFM,A1B/GJ,WAAO1W,KAAP;A6BkHF,AHFM4pK,ADdFzmK,AzBhGF,GArZgC,CyBqf9BA,CAAC,CCcCymK,ADdA,CAAD,CAAD,GAAO,CAAC,EAAEv+J,CCcC,ADdA,GCcG,ADdA,EAAN,CAAR,OZpkCUsZ,QAAQupB,KaklCIu7H,KbllCM5iF,KaklCd,CAAZ,EbllCkC;AgBqlCxC,AHFM8iF,ADdFxmK,AzB/FH6E,EAAAA,EyB+FG7E,CAAC,CCcCwmK,ADdA,CAAD,CAAD,GAAO,CAAC,CCcC,CDdCrkK,CAAC,CCcC,EDdE,GAAJ,AzB/FM,EAAE,CyB+FE,EAAZ,CAAR,MzB/F6B2C,M0B6GTyhK,G1B7GF,EAAsBv3K,G0B6G5B,CAAV,C1B7GgB,EAA6B2V,MAA7B,EAAsC;A6BgH5D,AHFMs1J,ADdFj6J,AzB9FF,IyB8FEA,CAAC,CCcCi6J,ADdA,CAAD,CAAD,AzB9FGt1J,GyB8FI,CAAC,ECcE,ADdA3H,AzB9FD,CyB8FE,ECcEypK,CDdC,CzB9FA74K,EyB8FJ,GAAU,ECcE,ADdd,CAAR,CzB9FF,EAA4B,C0B4GC44K,OAAd,GAAwBlB,cAAc,CAACz2K,MAAD,EAAS0kB,CAAT,EAAY+yJ,UAAZ,EAAwBE,OAAxB,CAAtC,GAAyE10I,UAAU,CAACw0I,UAAD,CAA9F;AGGN,AHFMvM,ADdH,AzB7FAh5J,M0B2GGg5J,A1B3GHh5J,M0B2GS,C1B3GF,CAACC,C0B2GI8wB,G1B3GZ,CAAc,M0B2GQ,CAACy0I,QAAD,CAAnB,qD1B3GH,2Caz+BO/kJ,QAAQupB;AgBulClB,AHFM8vH,A1B1GH,M0B0GGA,MAAM,CAACrT,GAAP,GAAa,IAAIkH,mBAAJ,CAAcmM,MAAM,CAACrT,GAArB,EAA0ByiB,UAA1B,EAAsC12J,CAAtC,EAAyC0mJ,QAAzC,EAAmDF,MAAM,GAAGE,QAA5D,EAAsE+H,cAAtE,CAAb;AGGN,AHFMnH,ADdJzK,EAAAA,ICcIyK,EbplCIxrB,IaolCE,ADdA,CCcCmY,EbplCHnY,CaolCJ,ADdUrvI,CCcC0vB,ADdA,CZtkCGg0D,AaolCd,ADdYx0F,GCcGs3K,GbplCD9iF,AYskCJ,GAAW,CZtkCG,AaolCF,ADd1B,ICc8B,CAA1B,ADd2B1jF,CAAC,CAAC,CAAD,CAAD,GAAO,CAAtC;AIiBF,AJhBE,AzB5FA,SyB4FOA,AzB5FF5R,CyB4FL,AzB5FA,GAAS0W,SAAS,CAACC,IAAV,CAAgB/V,KAAhB,CAAT;A6B6GF,AHFM6rK,ADdL,AzB5FC,CyBtgCF,KCgnCMA,G1B1GCn8J,Ca1+BE4wI,Ab0+BP,E0B0GU,CAACue,A1B1GF/oJ,Ka1+BMuqI,CaolCX,CAAc/yI,E1B1GA,CAAC0I,C0B0Gf,CbplCWqqI,AaolCQ97H,CbplCAxV,AaolCnB,C1B1GK,CAAgB/O,KAAhB,CAAT;A6B6GF,AHFK,ADjnCL,AzBwgCE,IyB2FEshK,MZtkCK/gB,Cb2+BA,IAAP,Ga3+BeF,CYskCE,GAAG,GZtkCLA,CAAQrxI,KYskCMsyJ,eAAT,CAAyBxuJ,CAAzB,EAA4B;AIiBlD,AHFG,ADdD,AzB1FA,GApagC,OaxkBzB0tI,SAASH,OAAAA,CAAQj8H;AgBulC1B,AJhBE,AzBzFDnO,EAAAA,IyByFKgf,MAAM,EzBzFC,CyByFE,CzBzFA,CyByFb,SzBzFwB/e,MAAX,EAAmBrB,KAAnB,EAA2B;A6B0G1C,AHFEi9I,ADfA,AzBvFA,E0BsGAA,IAAI,ADdA5gJ,CCcC20I,ADdA,CZtkCCrjG,Ab8+BFtxC,CAAC,CyBwFG,CCcR,CAAUo5I,ADfV,AzBvFQzrJ,Ea9+BF2jD,CAAOu2F,Cb8+BD,CAAC3nI,GAAL,CAAUyD,E0BsGlB,CAAsBw9J,EbplChB7vH,Ab8+BE,Ca9+BiB,Ab8+BzB,Ka9+ByB,CAAKg+F,KaolC9B,CbplCMh+F,GAAiC;AgBulCzC,AHFC,ADhBC,AzBvFA,C0B/gCF,EAsnCG,GDdGz0C,CAAC,CzBzFsBoF,CAAC,Ca7+BpB,AYskCA,CAAC,CAFT,AzBvF+BtU,Ga7+BvB,CAAK88I,Ab6+BsB,CAACtqI,GAAL,CAAUwD,KAAV,CAA/B,Ca7+BQ,KAAsB,GAAG;AgBulCnC,AJhBE/B,AzBxFA,EyBwFAA,CAAC,CAACmsD,IzBxFE7/D,CyBwFJ,AzBxFK,CyBwFGmiK,EzBxFA,Ea9+BG9gB,Gb8+BErhJ,CAAL,CyBwFR,EAAmBohF,AzBxFFtqE,MAAM,CyBwFvB,AzBxFwB9W,CyBwFG,AzBxF3B,Ca9+B2B,SYskCU0T,CAAV,EAAa;AZvkCpC,AgBwlCN,AJhBI,AzBxFF,QyBwFM9B,AzBxFFtB,CyBwFG,AzBxFF,GyBwFKoD,AzBxFF,Ca9+BG,AYskCA,CAACnT,GzBxFC+P,CAAL,CyBwFE,CAAQ4hJ,CzBxFDp7I,MAAM,CAACxG,CAAxB,MyBwFU,KAA4B,EAApC;AIiBJ,AJhBIulB,AzBvFF,IyBuFEA,KzBvFG71B,CyBuFG,AzBvFR,CyBuFSkO,EzBvFAlO,Ca9+BEqhJ,Ab8+BD,CyBuFR,CAAY3oE,CzBvFD5mE,CAAJ,GyBuFP,AzBvFexB,CyBuFGulB,AzBvFF,GAAG9hB,CAAZ,EyBuFP,CzBvFuB+C,Ca9+BErX,AYqkCCmS,CAA1B,GZrkCyBnS,CAAKC,Ab8+BD,CAACM,CAAhC,Ca9+B2BP,CAAS,EAATA,EAAaA,IAAAA,CAAKK,KAALL,CAAWA,IAAAA,CAAK8R,GAAL9R,CAASA,IAAAA,CAAK8V,GAAL9V,CAAS,KAAA,CAAK88I,YAAd98I,CAATA,IAAwCA,IAAAA,CAAK6hJ,IAAxD7hJ,CAAbA,IAA8E;AgBslC3G,AJhBIqS,AzBvFF,IyBuFEA,CAAC,CAAC5D,GzBvFCoC,CyBuFH,AzBvFF,CyBuFS3B,CAAC,CzBvFD3O,CAAC,EyBuFI4R,CAAC,AzBvFFmC,CyBuFGjT,AzBvFP,GAAQwP,CAAC,EyBuFJ,CzBvFOwB,CAAZ,CyBuFgB,CAAvB,CzBvFuBgF,MAAM,CAACxG,CAAhC;Aap/BE,AgB4lCJ,AJhBG,AzBtFD,GyBkFA,QZjkCS,Ab++BF,IAAP;A6BuGF,AHLA,ADXEulB,AzBrFA,EyBqFAA,MAAM,CAAC/jB,CAAP,EZrkCSuvI,CYqkCEvvI,CAAX,cZrkCyB,AaglCd,KbhlCc,CAAKsvI,uBaglChC,EAA4C,UAAU9jI,IAAV,EAAgB1c,KAAhB,EAAuB;AGMnE,AHLE,ADXA,AzBxgBgC,CAAlC,K0BmhBM2P,CAAC,EDXEslB,CCWC,KAAR,ADXA;AIiBF,AHNE,ADVD,AzBnFD,CyB5hCA,KC0nCM/a,CAAC,GAAG,OADR;AGOF,AHPE,ADznCF,IAgnCIsnJ,ECWEvwJ,CAAC,GbhlCE0vI,AaglCC,ODXO,CCSf,EDTkB,IZrkCGR,KYqkCMqhB,MZrkCNrhB,CAAY,KAAA,CAAKM,AYqkCpB,CAAuBttI,CAAvB,EAA0BguJ,KAA1B,EAAiCM,EZrkC9BthB,YYqkCH,EAAiD;AIiBrE,AHRE,ADRA,MCWInyI,ADXAqjE,CCWC,GAAG,EDXE,GAAG,CCQb,CDRA;AIiBF,AHTE,ADRA,MCYI43F,ADXAr9H,KCWK,CDXC,ECWE,CAAC5rC,ADXA,CAACmT,CAAC,GCWG,ADXAk+D,GCWG,CAAR,EDXA,CCWY,CAAC1hE,ADXAhQ,CCWD,EAAIua,CAAJ,CDXZ,CCWmBjJ,ADXAswJ,CCWP,EAAUvzJ,CAAV,CAAZ,GAA2B,CAAC2B,ADX5B,CCW6B,ADZ1C,GCY6C3B,CAAL,EAAQ2B,CAAC,GAAGuK,CAAZ,EAAejJ,CAAC,GAAGiJ,CAAnB,EAAsBjJ,CAAC,GAAGjD,CAA1B,CAA5B,EAA0Ds6B,GAA1D,CAA8D,UAAUnD,IAAV,EAAgB;AGM5F,AHLI,ADbF,MAEIl4B,IAAI,CCWCjN,EDXEmhK,GCWG,EDXE,CCWC,CAAR,CDXU,ECWEzkJ,IAAI,CDXT,ECWYyoB,CDXC,GCWpB,GAA0B,CDbnC,UCa8CA,IAAX,GAAkBzoB,IAAnD;AGMJ,AHLG,ADdD,GCYY,CAJZ,EDLI3O,CAAC,GAAG,CAHR;AIoBF,AJpBE,MAIImD,CAJJ;AIqBF,AHLEimK,ADhBA,AzB9EF,E0B8FEA,IDXIzV,GzBnFGvrJ,EyB8EP,ICgBa,CAACnW,A1B9FhB,GAAmB,E0B8FE,GAAG,CAAR,GAAY,CbnlCjB8S,GAAG,OamlCyB4J,IAAvB,GAA8BA,IAA/B,CAAb,GAAoD,UAAUmvJ,MAAV,EAAkBhsK,MAAlB,EAA0Bk8C,QAA1B,EAAoCw7H,QAApC,EAA8C5iB,KAA9C,EAAqD;AGM3G,AHLI,ADjBF,AzB5ED,MyBkFK57I,CANJ,AzB5EIjF,C0B6FE9C,CAAJ,CbnlCI4vI,CamlCGyT,CbnlCHzT,GAAK9tI,AamlCT,A1B7FH,GAAgB,CAEf,CAFe,EAEZ,CAFY,EAET,CAFS,EAGf,CAHe,EAGZ,CAHY,EAGT,CAHS,EAIf,CAJe,EAIZ,CAJY,EAIT,CAJS,CAAhB;A6BmGD,AJvBE,MAOI9E,CAPJ;AIwBF,AHLI,A1BvFH,MAAK/N,E0BuFEA,EbnlCA,KAAKqgJ,Ab4/BE,CAACpgJ,C0BuFC,CAACA,EbnlCV,Eb4/BF,E0BuFE,CbnlCetB,Ab4/BE,CAAxB,C0BuF0B,CAAvB,A1BvFyB,E0BuFC,IbnlCtB,IAA4BgiJ,EAAAA,GAAK,KAAKN,OAAO;AgBylCrD,AHLM,ADXJ,AzB3EAvuI,IAAAA,EyB2EI,CAAC65B,IzB3EE,CAACx1B,Ca7/BC,AYwkCT,EAAa,EzB3Eb,Ca7/BckqI,Ab6/BC,+EAAf;Aa9/BE,AgB0lCJ,AHLMtvI,ADXF,AzB1EF,M0BqFIA,CAAC,GAAGi4J,CDXC91J,CAAP,CZxkCO,EamlCI,CAACm1B,CbnlCD,EamlCL,CAAU,EbnlCAi4G,KAAL,GamlCekf,EbnlCA7gK,EamlCV,EAAgB,KbnlCrB,IAA4BgiJ,EAAAA,GAAK,KAAKL,KAA1C,EAAiD;AgBylC5D,AHLQ,ADXL,AzBzEF,aa//BU,EamlCIw2B,GbnlCCx2B,CamlCG,CAACsrB,MAAD,EAASpM,IAAT,EAAe1jH,QAAf,CAAX;AGMR,AHLO,OAFG,CAAJ;AGQN,AHLMs4G,ADXJzoH,AzBzEFrsC,EyByEEqsC,ICWIyoH,A1BpFA,CAACz0J,CyByEC,ECWE,CDXCgsC,ECWE56B,A1BpFb,C0BoFc,A1BpFCmF,C0BoFAqqC,EDXE,CAAClY,CCWL,CAAO,CDXT,AzBzEW,CyByEA,AzBzEChpC,C0BoFV,CAAP,O1BpFN,CyByEgC0jC,CzBzEE,IyByEZ,EAAiB;AIiBvC,AHLM,ADXF,AzBxEH3sB,EAAAA,QahgCO,CYwkCG,AzBxED,CyBwEE2sB,CCWCqxH,A1BnFD,EahgCC7T,EamlCI,ADXA,AzB1EiB,C0BqFhBvhF,EDXEiiG,CZxkCZ,EamlCK,CAAWlwJ,CAAC,CbnlCDpS,AamlCE,CAAD,CAAZ,EAAiBsB,ADXA,CAAC8iC,IZxkCvB,CamlCK,ADXiB,EAAQm+H,CZxkCDvgB,EAAAA,AamlCI,CAA5B,CDXiB,CZxkCY,CamlCG5vI,ADXA,CCWC,ADXhB,CCWiB,ADXpC,CCWmC,CbnlCCwvI,AamlClC,GAAuC6T,ADXApnJ,GZxkCf2zI,CamlC/B,ADXkD,IZxkCE,AYwkCEugB,GZxkCC,EYwkCI,GAAGn+H,KAAK,CAAC,CAAD,CAAL,GAAW,GAAX,GAAiBA,KAAK,CAAC,CAAD,CAAtB,GAA4B,IAA5B,GAAmCA,KAAK,CAAC,CAAD,CAAxC,GAA8C,IAA9C,GAAqDA,KAAK,CAAC,CAAD,CAA7D,GAAmEA,KAAK,CAACwd,IAAN,CAAW,GAAX,CAA5E,CAAJ,GAAmG,GAAnJ;AIiBJ,AHLK,ADXF,AzBvEF1uC,EAAAA,CyBqEU,CAAT,CzBrEE,EAAE,MajgCKjT,IAAAA,AbigCMyX,CajgCDnC,EbigCV,EAAgBoC,CajgCX1X,CAAW+hJ,CbigChB,CajgCgBA,CbigCKpqI,EajgCA,CbigCrB,EAA0BC,EajgCA+pI,CbigC1B,EAA+B9pI,GajgC1B7X,AbigCL,EAAoC8X,EajgCA,CbigCpC,EAAyCC,EajgCA4pI,CbigCzC,EAA8C3pI,GAA9C,EAAmDC,GAAnD,EAAyD;A6BwF/D,A7BtFE,QAAIC,EAAE,GAAG,KAAKjD,QAAd;A6BuFF,AHLI9C,ADXF,AzBrEA+F,I0BgFE/F,A1BhFF+F,C0BgFG,CDXC0qJ,AzBrEF,CAAE,C0BgFE,A1BhFJ,C0BgFK8V,A1BhFP,GAAUjhK,GAAV,E0BgFe,GAAG,ADXlB,ECWM,ADXc,ECWE2oD,KAAhB,CAAsB,GAAtB,CAAJ;AGMJ,AHLIo1F,ADXAt7I,AzBtEahC,I0BiFbs9I,ADXAt7I,AzBtEahC,CyBsEZ,CzBtEc,CAAE,C0BiFb,ADXAuqJ,AzBtEW,CAAF,E0BiFN,C1BjFgB7qJ,C0BiFvB,E1BjFa,QyBsEM,CAACtD,CAAD,CAAnB,+GZxkCsBytI;AgBylC1B,AHLIqoB,ADXA/3J,AzBvE4B6F,I0BkF5BkyJ,ADXA/3J,AzBvE4B6F,CyBuE3B,CzBvE6B,CAAE,CyBuE5B0qJ,AzBvE0B,C0BkFzB,A1BlFuB,C0BkFtBjhF,E1BlFgC5pE,GAAV,E0BkF5B,CAAc,IDXI,CAAC1F,CAAnB,ICWwBuuJ,IAAV,EAAgB1xJ,CAAhB,EAAmB;AGMrC,AHLM,A1BlFJgJ,IAAAA,EAAE,CAAE,CAAF,CAAF,GAAUR,C0BkFC89I,E1BlFX,E0BkFe,CAACoL,IAAD,CAAJ,GAAazuJ,CAAC,CAACjD,CAAD,CAAD,GAAOiD,CAAC,CAACjD,CAAD,CAAD,IAAQiD,CAAC,CAAC,CAACjD,CAAC,GAAG,CAAL,IAAU,CAAV,GAAc,CAAf,CAApC;AGMN,AHLK,ADXD,AzBxEagJ,IAAAA,C0BiFb,C1BjFe,CAAE,CyBwEb7F,AzBxEW,CyBwEV,AzBxEQ,CyBwEPsvC,EzBxEiB9pC,EyBwEnB,CAAO26D,AzBxEE,MyBwET,MAAmBt4D,CAAC,CAAC7H,CAAF,CAAIsvC,IAAJ,CAAS6wB,MAAT,CAAvB,EAAyC;AIiB7C,AHLIw6F,ADXEnK,AzBzE0B3qJ,I0BoF5B80J,A1BpF4B90J,EyByE1B2qJ,AzBzE4B,CAAE,CAAF,CAAF,C0BoFtB,CAAC3sG,ADXA,CzBzE+Bl+C,EyByE5B1D,CCWV,ADXW,AzBzEiB,C0BoFhBtT,ADXAohE,MCWZ,CDXU,CZlkCR4/E,Aa6kCkBwT,ADXAkN,ICWpB,EAA0B5M,GDXhB,CZlkCE,Ca6kCZ,ADX+B,GAArB,EAA0B11F,KAA1B,CAAgCqyF,eAAhC,CAAR;AIiBN,AHLG,ADXGtjJ,AzBzEJ+I,G0BkEA,C1BlEAA,EyByEI/I,AzBzEF,CyByEG,AzBzED,CAAF,CAAF,CyByEQ0zJ,CZlkCDphB,Cby/BG9pI,GyByEG,AzBzEb,CyByEctW,GZlkCC2gJ,GYkkCP,GAAe,CAAnB;AIiBN,AHLC,A1BrFgB9pI,C0ByDjB,G1BzDiBA,EAAE,CAAE,CAAF,CAAF,GAAUJ,Cax/BhB,Ebw/BM;A6B2FjB,AHJO,ADZD,AzB3E0BI,I0BuFrBqkK,A1BvFqBrkK,EAAE,CAAE,CAAF,CAAF,GAAUD,C0BuFtB,ADZP/I,CAAC,CzB3EkB,C0BuFT,CDZNC,CAAX,EAAcD,CAAC,EAAf,EAAmB;AIiBzB,AHJE2O,ADZM20D,AzB1EN,E0BsFA30D,IAAI,EAAE,ADZA20D,GzB1EC,E0BqFc,CDXT,CzB1EZ,GyB0EgBqwF,KAAK,CAAC3zJ,CAAD,CAAL,IAAY,CAACmD,CAAC,CAAC7D,OAAF,CAAUU,CAAV,CAAD,GAAgB69B,MAAM,CAACygE,KAAP,MAAkBp/F,IAAI,GAAG,UAAzC,GAAsD,CAAC8L,CAAC,CAAC7Y,MAAF,GAAW6Y,CAAX,GAAe6yB,MAAM,CAAC1rC,MAAP,GAAgB0rC,MAAhB,GAAyB61H,cAAzC,EAAyDp1D,KAAzD,EAAlE,CAAV;AIiBR,AHJEmzD,ADZK,AzBzEL,E0BqFAA,C1BnGgC,O0BmGxB,EAAEiV,SAFW;AGOvB,AHJEjhB,ADZG,AzBxEJx8I,E0BoFCw8I,A1BpFDx8I,QAAQ,E0BoFG,A1BpFD,E0BoFG,SAASw8I,CbxkCjB1S,Abo/BiB,S0BoFT,CbxkCE,AawkCkBjhJ,MAApB,EAA4B;AGK1C,AHJI,ADZD,AzBvED,SAAKiS,Ear/BEyuI,AawkCE1gJ,C1BnFT,CAEC,CAFD,EAEI,C0BiFW,A1BnFf,C0BmFgB8iC,CbxkCDm+G,Abu/BR,CAFP,EAGC,C0BgFQ,A1BnFT,EAGI,CAHJ,C0BmFyBjhJ,C1BhFlB,CAHP,EAIC,CAJD,C0BmF+B,CAAC66J,A1B/E5B,CAJJ,EAIO,CAJP,I0BmFE;AGKJ,AHJG,A1B5ED,G0BuEqB,Q1BvEd,Ea5/BE,Eb4/BT;A6BiFF,AHJE3lG,ADZA,AzB/DA,E0B2EAA,C1BvGgC,G0BuG5B,ADZA,CAAC2sG,CCYC,IDZN,EAAY,GCYG3sG,IAAT,CAAcl1D,MAAd,EAAsBw0J,IAAtB,EAA4BM,KAA5B,EAAmC30J,KAAnC,EAA0CozJ,OAA1C,EAAmD;AGK3D,AHJI,ADZAsO,AzB9DH/uJ,EAAAA,EyB8DG+uJ,GzB9DE,C0B0EEuH,CDZC,AzB9DD,GyB8DI91J,CCYC,ADZA,CAAC8rD,ECYE,GDZJ,CAAQsiG,CCYC1C,A1B1ED,M0B0EhB,EDZQ,CAAR;AIiBJ,AHLI,ADXA7wJ,AzB7DF,IyB6DEA,CAAC,GCYG20B,ADZA++H,GzB7DC,E0ByEI,ADZA,CAACxhK,CzB7DD,C0ByEGL,IDZR,AzB7DU+S,E0ByEI,CAAC+vB,ADZA,CAAnB,ICWA,G1BxEK,GAAuBjtB,SAAvB,CAAkC,KAAK5B,QAAvC,CAAP;A6B8EF,AHNI,A1BtEF,GAlCgC,K0B0G1BwjK,UAFJ,Ob7jCGv2B,WAAW;AgBokClB,AHPI,ADTA,AzB3DHluI,EAAAA,IAAI,E0BuEG0kK,A1BvED,Gax/BE/2B,AYmjCEzyI,CAAC,GAAGC,CCSX,ADTA,EAAcD,AzB3DAoB,CyB2DC,AzB3DZ,Cax/BW4xI,CYmjCd,AzB3DkB,EyB2DC;AIiBvB,AHRI,ADRE1vE,AzB1DJ,MyB0DIA,ECYE05F,A1BtEFh0J,EAAE,Caz/BC0pI,CYmjCG,CzB1DD,C0BkEP,EDRYihB,EzB1DA5tJ,GyB0DK,CAAC/F,CAAD,CAAL,EzB1Dd,Caz/BuBgzI,AYmjCEn1G,MAAM,CAAC79B,CAAD,CAA3B;AIiBN,AHTI,ADPC,AzB1DH,Q0BsEMk9J,A1BtEFh0J,EAAE,Caz/BC0pI,Eby/BExxI,CAAC,CAAC2E,C0BiET,O1BjEF,Eaz/BqBqsI,WAAAA,CAAYY,SAAZZ;AgBokCvB,AHVI,ADND,AzBzDDppI,IAAAA,EAAE,CAAE,C0BqEE9J,A1BrEJ,CAAF,G0B+DE,A1B/DQgK,Ca1/BD,Cb0/BG,CAAE,CAAF,CAAZ;A6B0EF,AHXI,A1B/DiBF,IAAAA,EAAE,CAAE,C0BsEjBskK,A1BtEe,CAAF,GAAUpkK,EAAE,CAAE,CAAF,CAAZ,E0B+DjB;AGYJ,AHZI,ADJF,AzB3DsCF,IAAAA,EAAE,CAAE,C0BuEpCwN,A1BvEkC,C0B+DtC,ADJK8sD,AzB3D+B,GAAUp6D,EAAE,CyB2DrC,AzB3DuC,CAAF,CAAZ,CyB2DtByqJ,KAAK,CAAC1zJ,CAAD,CAArB;AIiBF,AHbI,ADHH,AzB3DC+I,CyB/lCF,GzB+lCEA,EAAE,CAAE,C0BuEE0gK,A1BvEJ,CAAF,GAAUxgK,EAAE,CAAE,CAAF,C0B8DV,A1B9DF;A6B4EF,AHdI,AD7pCJ,AzB+lCqBF,CazkCfqpI,CAAyB1E,EYqoC3B6lB,AzB5DiBxqJ,EAAE,CAAE,C0BwEjBygK,A1BxEe,CAAF,GazkCfp3B,AbykCyBnpI,CyB4DlB,CzB5DoB,C0B8D7B,A1B9D+B,CyB4DnB,AzB5DiB,CAAZ,WyB4DO;AIiB5B,AHfI,ADDF,AzB7DsCF,IAAAA,EyB6DlC5D,AzB7DoC,CyB6DnC,AzB7DqC,C0ByEpCukK,A1BzEkC,CAAF,CyB6D9B,EzB7DwCzgK,EAAE,CAAE,C0B8DlD,A1B9DgD,CAAZ,+DyB6DtC;AX1pCF,Ae2qCA,AHhBI,ADDF,AzB5DAF,IAAAA,EyB6DI,AzB7DF,CAAE,C0ByEEukK,A1BzEJ,Cc9lCKt6B,Ad8lCP,GAAU/pI,EAAE,CAAE,CAAF,CAAZ,Mc9lCF,CAAwBjY,EY2pCpB,GZ3pCJ,EAA+BiiJ,QAA/B,EAAyC;Ae4qCzC,AHjBI,ADCF18H,AzB9DmBxN,EyB8DnBwN,CAFA,CzB5DmBxN,Ec7lCbmqI,Ad6lCe,CAAE,C0B0EjBq6B,A1B1Ee,CAAF,Ec7lCbr6B,Cd6lCuBjqI,Ec7lCfpY,Ad6lCiB,CAAE,CAAF,CAAZ,Cc7lCLA,CAAKC,GAALD,CAAS,EAATA,CY0pCZ,CZ1pCyBoiJ,QAAbpiJ;Ae4qChB,AHlBI,A1B7DoCkY,IAAAA,EAAE,CAAE,C0B2EpCie,A1B3EkC,Cc5lCjCn2B,Ad4lC+B,GAAUoY,Cc5lCzCpY,AYypCL,CZzpCUsV,Ad4lCsC,CAAE,CAAF,CAAZ,Ec5lC/BtV,CAAWG,KAAAA,GAAQkiJ,KAAnBriJ,IAA4BqiJ;Ae4qCrC,AHnBI,ADGF,AzB9DA,OyB8DK38H,CCYCs0J,ADZN,GzB9DO,CyB8DGjZ,ECHR,C1B3DF,SyB8DA,EAAwB;AIiB1B,AHpBI,ADIAzsJ,AzB7DF,GA/CgC,CyB4G9BA,CAAC,GCYGq5J,CDZC,MAAMjoJ,CAAN,GCJL,ADIe,KAAf;AIiBJ,AJhBG,AzB5DFrN,EAAAA,EcjlCKiqI,UdilCO,EAAE,OcjlCTA,GAAAA,AdilCoBhqI,KAAX,EAAkBC,GcjlC3B+pI,EdilCS,EAAyB9pI,KAAzB,EAAiC,McjlC1C8pI,EAAAA;Ae8pCN,AHJI,A1BvEFhqI,IAAAA,I0BuEM,CAACg7J,A1BvEF,CAAC76J,a0BuEJ,EAAqB,K1BvEvB,CAA4B,IAA5B,EAAkC,CAAlC;A6B4EF,AHJMm9J,ADZJ,AzB3DAr9J,IAAAA,E0BuEIq9J,GDZG,AzB3DF,CAACn9J,GyB2DKk9G,ECYE,IDZN,CAAWrhH,CAAC,GAAG,GAAf,EAAoB,CzB3D3B,CAA4B,EyB2DrB,CAAP,CzB3DA,EAAkC,CAAlC;A6B4EF,AHJK,ADZJ,AzB3DCkE,CyBiDc,EA3pChB,CzB0mCEA,KAAK,CAACC,oBAAN,CcplCYkb,AdolCgB,IAA5B,EAAkC,CAAlC,CcplCoBupB,UAAU24C,QAAQ;AegqCxC,AJtrCA,AzB4mCE,IyB0DEitE,OAAO,AzB1DF,GyB0DK,CzB1DZ,UyB5mCF;AIurCA,AHJI,ADnrCJ,AzB8mCE,GAzDgC,CyBkH9BC,KCYKr9I,CAAL,IAAU8vI,IAAV,EAAgB,EDZE,GAAG,SAASuN,kBAAT,CAA4B5wJ,CAA5B,EAA+B;AIiBxD,AHJM,ADZJ,AzBxDDuG,EAAAA,IyBwDKsqJ,ICYIt9I,CAAC,GDZG,ECYE,A1BpED,CyBwDEvT,CAAC,AzBxDD,CyBwDEwvC,IAAF,CAAO,GCYlB,ADZW,CAAf,AzBxD0BrxC,C0BoEC,A1BpEZ,EAAe,2GczlCtBqjB,QAAQupB,UAAU24C;AekqC5B,AHJQ,ADbN,AzBtDA,MyBuDIysE,EzBvDAlqJ,EAAE,CyBsDN,EzBtDS9H,CAAC,CAAC2E,QAAX;A6BwEF,AHJO,ADZLytJ,AzBtDA,EyBsDAA,OzBtDKzvJ,Ec3lCEsvI,AWipCE,CAACrjF,AzBtDV,CAEC9mD,EAAE,CAAE,CAAF,CAFH,EAEUA,CyBoDV,CzBpDY,CAAE,CyBoDQ,AzBpDV,CyBoDZ,AzBtDA,EAEmBA,EAAE,CAAE,CAAF,CAFrB,EAGCA,Cc9lC8B,Cd8lC5B,CAAE,CAAF,CAHH,EAGUA,EAAE,CAAE,CAAF,CAHZ,EAGmBA,EAAE,CAAE,CAAF,CAHrB,EAICA,EAAE,CAAE,CAAF,CAJH,EAIUA,EAAE,CAAE,CAAF,CAJZ,EAImBA,EAAE,CAAE,EAAF,CAJrB;A6BuEF,A7B/DE,QcjmCQ6tE,GdimCD,EcjmCCA,EdimCR,CcjmCQA;AeiqCV,AHJMyyF,ADZJ,AzB9CA,GAzEgC,G0BmI5BA,ADZAhW,EX3oCElgB,KAAAA,CYupCM,CDZC,CX3oCPA,AW2oCQryH,CCYCqlI,GDZX,CX3oCEhT,AYupCa,ADZAwgB,CCYCt9I,CAAD,CAAf,KDZA,CAAJ,EAA8B;AIiBhC,AJhBI48I,AzB7CH3tJ,EAAAA,EyB6CG2tJ,KAAK,CzB7CA,EyB6CGQ,AzB7CD,OyB6CQ,CAAC3yI,EzB7CE7f,CAAX,CyB6CC,CAAa0yJ,AzB7CC,QyB6Cd,CAAR;AIiBJ,AHJM,ADZF7wJ,AzB5CF,IyB4CEA,CAAC,CAAC,CAAD,CAAD,ECYM8hJ,CDZC0O,AzB5CF,Ec/lCIpiB,Gd+lCC5nI,Qc/lCU,AW2oCA,CAACxG,CAAC,CAAC,CAAD,CCYPuT,ADZK,CCYd,CDZqB48I,CzB5CtB,CAAuB,E0BwDP,CDZD,CAApB,AzB5CK,EAA6BhyJ,CAA7B,CAAP,sB0BwDoCoV,CAAb,EAAgB8vI,IAAhB,EAAsBM,KAAtB,EAA6B30J,KAA7B,EAAoCH,MAApC,EAA4CuzJ,OAA5C,CAAnB,EAAyE;AGK/E,AHJQ,ADZJpiJ,AzB3CF,GA/EgC,CyB0H9BA,CAAC,CAAC,CAAD,CAAD,EX3oCQswI,CW2oCDkgB,QX3oCClgB,GAAYx+G,EW2oCA,CAAC9xB,CAAC,CAAC,CAAD,CAAF,EAAOmwJ,CX3oCPr+H,CAAWgiD,GW2oCX,EX3oCWA,AW2oCGw8E,CX3oCGthB,OAANl7D,CAAc9lF,KAAzB8jC,CW2oC6B,CAAC9xB,CAAC,CAAC,CAAD,CAAF,CAA7B,CAApB,CAH4B,CAG8B;AIiB9D,AHJQ,A1BtDPyG,EAAAA,WAAW,EAAE,UAAWtI,CAAX,EAAe;A6B2D7B,AHJO,ADZH,AzBzCF,UcnmCQ,CAACqzC,AW4oCA,AzBzCF,IyByCL,CzBzCUhrC,CcnmCHgrC,CAAO7Q,KAAP6Q,CAAa8+F,QdmmCf,CcnmCE9+F,AdmmCqBrzC,CAAvB,EcnmC2B,AdmmCD,IAA1B,CAAP;A6B0DF,AJhBG,AzBxCD,GArFgC,Wc/gCpB+oD,SAASopF;Ae6pCvB,AHJMr0I,ADZL,AzBvCAuK,CyB5oCD,CzB4oCCA,I0BmDKvK,IAAI,GAAG,K1BnDI,E0BmDGsqK,A1BnDD,Q0BmDb,E1BnDwBvmK,CAAX,EAAcC,CAAd,EAAkB;A6BwDrC,AHJMoqK,A1BlDJ,M0BkDIA,E1BlDA3jK,EAAE,GAAG1G,CAAC,CAAC8C,E0BkDI,GAAGqjK,G1BlDlB,U0BkD+B,CAAC5yJ,CAAD,CAA3B;AGKN,AJhBA,AzBtCE,QAAI5M,EAAE,GAAG1G,CAAC,CAAC6C,QAAX;A6BuDF,AHJM,A1BlDJ,QAAIiD,E0BkDI9J,A1BlDF,GctmCKs0I,AdsmCF,C0BkDG,I1BlDEztI,C0BkDG,KZxpCK,EdsmCtB,G0BkDI,EAAyB;AGK/B,AHJQyjK,A1BjDN,Q0BiDMA,A1BjDF3/J,EcvmCIktE,CdumCD,GAAGptE,CcvmCFotE,CAAMg3D,AYwpCA,A1BjDF,CAAE,CAAF,C0BiDKy7B,A1BjDjB,Q0BiDyB,CAACj3K,IAAT,CAAcq0J,CZxpCC,IYwpCf,EAAqB30J,KAArB,EAA4BH,MAA5B,EAAoCuzJ,OAApC,CAAX;AGKR,AHJQnmJ,A1BlDN,Q0BkDMA,A1BlDa4K,GAAG,C0BkDZ,EZxpCEikI,AdsmCapkI,C0BkDZ,C1BlDc,CAAE,CAAF,CAA3B,G0BkDoB6/J,QAAd,CZxpCuBj3K,KAAKwkF,OAAOA,KAAAA,CAAMsvC,QAANtvC;Ae6pC3C,AHJO,A1BnDL,QAAkChtE,GAAG,GAAGJ,EAAE,CAAE,CAAF,CAA1C;A6BwDF,AJhBAoqJ,AzBvCE,QAAI/pJ,GAAG,EyBnpCT,CzBmpCYL,EAAE,CAAE,CAAF,CAAZ;A6BwDF,AHJM,ADvsCN,AzBmpCE,IyBwCEghJ,IzBxCiB1gJ,E0BoDX/K,CDZC,AzBxCa,G0BoDV,ADZA,AzBxCayK,EAAE,CAAE,CAAF,C0BoDV,A1BpDjB,OyBwCwB,CCYhB,IAAqB,CAAC6/J,QAAQ,CAAClqK,OAAT,CAAiB,SAAjB,CAA1B,EAAuD;AGK7D,AHJQkqK,ADZN,AzBzCA,MyByCIxV,ECYEwV,A1BrD4Bt/J,GAAG,EcnmC1BgoI,CW4oCC,AzBzC4BvoI,E0BqD1B,A1BrD4B,CyByC3By0G,AzBzC6B,CAAF,C0BqDzB,A1BrDjB,EyByCmB,CX5oCC,AW4oCAC,GAApB,wBCYgCmrD,QAAf,CAAX;AGKR,AHJO,ADbL,AzBxCA,MyByCIvV,EzBzCA9pJ,GAAG,GAAGR,EAAE,CAAE,CAAF,CyByCK,AzBzCjB,GyByCoB,GADpB;AIkBF,AJlBE,AzBxCA,MyB0CIuqJ,EzB1Ce9pJ,GAAG,GAAGT,EAAE,CAAE,CyB0Cb,AzB1CW,CAA3B,EyB0CmB,EAFnB;AImBF,AHJM,ADfJ,AzBxCA,MyB2CI2kH,EzB3C8BjkH,E0BuD1BijK,C1BvD6B,GAAG3jK,EyB2C1B,AzB3C4B,CAAE,CAAF,CyB2CzBqqJ,AzB3CjB,E0BuDI,EAAiB,IDZI,EAHzB;AIoBF,AHJQ,ADhBN,AzBtCA,MyB0CIG,EzB1CA7pJ,GAAG,C0BsDGgjK,CZxpCC75B,CdkmCD7pI,EAAE,CyB0CG,AzB1CD,CAAF,CAAZ,CyB0CkB0kH,GCYG,CAAC,CZxpCCxoH,GAAG,AYwpCL,EAAOhU,ADhB5B,MCgBqB,EAAe0kB,CAAf,EAAkBgzJ,QAAlB,EAA4B5iB,KAA5B,CAAf,EAAmD;AGK3D,AHJU6X,ADjBR,AzBtCA,MyB2CIrK,EzB3Ce7pJ,EcjmCTwgC,AYwpCF0zH,ADZA,CzB3Cc,EyB2CX,CX5oCD1zH,AdimCenhC,EAAE,CcjmCV0pI,AW4oCF,AzB3Cc,CAAF,CAA3B,CyBsCA,CCiBmB,CZxpCFA,EYwpCK,CZxpCGxtI,AYwpCjB,CZxpCiBA,CAAEypI;Ae6pC7B,AHJS,ADlBP,AzBtCA,MyB4CI8kB,EzB5C8B7pJ,GAAG,GAAGZ,CyB4C3B,CzB5C6B,CAAE,CyB4C5BwqJ,AzB5C0B,CAA1C,GyBsCA;AIuBF,AHJO,ADnBL,AzBrCA,MyB4CIh1J,CCQA,C1BpDAqL,GAAG,CcjmCG0/C,CYypCC,C1BxDDvgD,EyB4CI,AzB5CF,C0BwDG4M,A1BxDD,C0BwDE,A1BxDJ,C0BwDK00F,ADZA,AzB5CjB,EcjmCmBn0B,AWsoCnB,ICmBe,CZzpCIA,AYypCK,CZzpCCsvC,AYypCV,EAAY,CAAZ,KZzpCItvC,CYypCe,IZzpCIhsC,AYypC3B,EAA6B,EZzpCFA,GAAOgsC,KAAAA,CAAM27D;Ae8pCrD,AHJQ,ADpBN,AzBrCA,MyB6CIznG,EzB7CevgC,CyBqCnB,EzBrCsB,GAAGd,EAAE,CAAE,CAAF,CAA3B;A6B8DF,AHJQ,ADrBN,AzBrCA,MyB8CI0qJ,EzB9C8B3pJ,EyBqClC,CzBrCqC,E0B0D1B3F,CZzpCCc,Ad+lC4B8D,Cc/lC5B9D,CAAEypI,AYypCR,A1B1DoC,C0B0D3B36G,A1B1D6B,CAAF,CAA1C,G0B0DM,EAAgB,aAAhB,EAA+B+7G,gBAAgB,CAAC7+I,MAAD,CAAhB,CAAyBw0K,gBAAzB,CAA0C9vJ,CAA1C,IAA+C,EAA9E,EAAkFgzJ,QAAQ,GAAG,EAA7F,EAAiGv3K,KAAjG,EAAwGozJ,OAAxG,EAAiH,CAAjH,EAAoH,CAApH,EAAuH7uI,CAAvH;AGKR,AHJO,ADtBL,AzBpCA,MyB8CI+9I,CCSO,C1BvDP3pJ,EyBoCJ,CzBpCO,E0B0DI,C1B1DDhB,EAAE,CAAE,CAAF,CAAZ;A6B+DF,AHJQ2/J,ADvBN,AzBpCA,MyB+CI/U,ECYE+U,A1B3Da1+J,GyBoCnB,AzBpCsB,GAAGjB,EAAE,CAAE,C0B2Db,A1B3DW,CAA3B,E0B2DmBo/J,IAAI,CAACl3K,MAAD,EAAS0kB,CAAT,CAAjB;AGKR,AHJQ0mJ,ADxBN,AzBpCA,MyBgDIzI,ECYEyI,A1B5D4BpyJ,GyBgDzB,AzBhD4B,Ec7lC1B4oI,CW6oCC,AzBhD4B9pI,E0B4D1B,A1B5D4B,CAAE,CAAF,C0B4DzBmrB,A1B5DjB,IyBgDqB0/H,EX7oCE,GW6oCX,CCYe,ADZA1vJ,CCYCwkK,ADZhB,EAAkB,QCYH,CAArB;AGKR,AHJQI,ADZJ,AzB/CF3gK,IAAAA,EAAE,CAAE,C0B2DE2gK,ADZAjV,AzB/CJ,CAAF,Cc9lCQ5sC,Ed8lCEj+G,GyB+CG,AzB/CA,C0B2DC,CZzpCC0zE,CW6oCCy2E,AzB/CA1pJ,C0B2DCpL,E1B3DP,E0B2DW,C1B3DC4K,Cc9lCC,CW6oCC,CzB/CC,C0B2DC,E1B3DEW,CyB+CC0pJ,EzB/CnB,G0B2DO,A1B3DiBpqJ,Ec9lCE0pI,Cd8lCC,C0B2DC+1B,EDZpC,AzB/CsC5+J,GAAxC,G0B2D8C,CAACwqB,MAAT,CAAgB,CAAhB,MAAuB,GAA5C,GAAkD,EAAEo0I,QAAQ,CAACp0I,MAAT,CAAgB,CAAhB,IAAqB,GAAvB,CAAlD,GAAgF,CAA3F;AGKR,AJjBI,AzB9CFpsB,IAAAA,EAAE,CAAE,CyB+CE2rJ,AzB/CJ,CAAF,Cc9lCQ7sC,Ed8lCEj+G,EyB+CE,CzB/CC,Ec9lCE0zE,AW6oCAx4E,CAAC,AzB/CAwF,GAAN,EyB+CW,CzB/CCT,Cc9lCC,EW4oCrB,AzB9CuB,GAAGY,GAAlB,Gc9lCwBgpI,Ad8lCA3pI,GAAG,GAAGc,GAAxC;A6BgEF,AHJQ,ADdJ,AzB7CF7B,IAAAA,EAAE,CAAE,CyB+CE4rJ,AzB/CJ,CAAF,G0B2DU+U,A1B3DA9/J,GyB6CR,AzB7CW,GAAGW,E0B2DV,C1B3DI,C0B2DU,E1B3DEV,GAAG,GAAGa,GAAlB,GAAwBZ,GAAG,GAAGe,GAAxC;A6BgEF,AHJU0+J,ADfN,AzB3CFxgK,IAAAA,EAAE,CAAE,CyB8CE6rJ,AzB9CJ,CAAF,C0B0DQ2U,E1B1DEx/J,GAAG,CyB2CX,ECec,A1B1DAM,G0B0DGk/J,A1B1DT,GAAYv/J,GAAG,E0B0DE,CAACihG,A1B1DAzgG,GAAlB,G0B0DS,A1B1DeP,C0B0DC,CAAhB,CAAX,A1B1D6B,GAAGU,GAAxC;A6B+DF,AHJS,A1B1DP5B,IAAAA,EAAE,CAAE,CAAF,CAAF,GAAUgB,GAAG,GAAGO,GAAN,GAAYN,GAAG,GAAGS,GAAlB,GAAwBR,GAAG,GAAGW,GAAxC;A6B+DF,AJhBI,AzB9CF7B,IAAAA,EAAE,CAAE,CyB8CE0rJ,AzB9CJ,CAAF,GAAU1qJ,Cc/lCC2pI,EW6oCE,AzB9CA,GyB8CGsgB,AzB9CAzpJ,GAAN,GAAYP,Cc/lCCnE,Ed+lCE,Cc/lCC,Ed+lCE6E,CyB8C1B,EAA6B,AzB9CrB,GAAwBT,GAAG,GAAGY,GAAxC;A6B+DF,AHJQkyJ,ADZF1uC,AzB7CJtlH,IAAAA,EyB6CIslH,AzB7CF,CAAE,C0ByDE0uC,A1BzDJ,CAAF,CchmCQr4E,EdgmCEx6E,E0ByDE,CZzpCCozE,AdgmCA,CyB6CC,CCYCxoD,C1BzDCzqB,EyB6CEoqJ,CzB7CR,EchmCW,CdgmCCtqJ,G0ByDG,ADZA,AzB7CA,C0ByDCo/J,EDZEtV,AzB7CAzpJ,GAAlB,GchmCwBgpI,AYypCT,A1BzDSppI,C0ByD5B,E1BzD+B,GyB6CjC,AzB7CoCO,GAAxC;A6B8DF,AJhBK,AzB7CH5B,IAAAA,EAAE,CAAE,CAAF,CAAF,CchmCQ27E,EdgmCEx6E,GchmCGozE,AdgmCA,GAAGhzE,GAAN,EchmCW,CdgmCCH,GAAG,GAAGM,GAAlB,CchmCsBgpI,EdgmCErpI,GAAG,GAAGQ,GAAxC;A6B8DF,AHJQ,A1BzDN7B,IAAAA,EAAE,CAAE,CAAF,CAAF,G0ByDUwN,A1BzDArM,C0ByDC,CZzpCCrE,CAAAA,AdgmCC,CchmCCypI,CYypCCw1B,C1BzDCv6J,GAAN,GAAYJ,GAAG,GAAGO,G0ByDtB,A1BzDI,E0ByDuB,C1BzDCN,GAAG,GAAGS,GAAxC;A6B8DF,AHJU,ADZNqpJ,AzB5CF,IyB4CEA,OzB5CK,G0BwDK39I,CAAC,ADZA,AzB5Cb,IyB4CiBk+I,CCYC,MDZhB,KCYM,EAAuB;AGKjC,AHJY,ADZRF,AzB3CF,GAnHgC,CyB8J9BA,KAAK,CAAC38G,IAAN,GAAa,CAACs8G,WAAW,GAAG7lC,UAAf,IAA6B,IAA1C;AIiBJ,AHJY,ADZRsmC,AzB1CHlvJ,EAAAA,EyB0CGkvJ,OX7oCK3iB,AW6oCE,GAAGuiB,ECYE0I,A1BtDD,EAAE,CyB0CE,CAACrlH,CX7oCDtqC,GYypCK,ADZV,GAAa8mJ,CzB1CCjvJ,CcnmCTmI,AYypCU,A1BtDZ,CcnmCWsgI,AYypCZ,C1BtDgB,G0BsDEm7B,EDZ9B,ECYkC,CAACl3K,IZzpCpByb,CAAuB,CYypCJ,EAAS,IZzpC5BA,QYypCmB,CAAJ,KAA+B,QAAjD,IAA6DyvJ,MAAjE,EAAyE;AGKrF,AHJc,A1BrDZ,QAAIh0J,EAAE,GAAG,KAAKjD,QAAd;A6B0DF,AHJcm3J,ADZV,AzBxCFl0J,IAAAA,EAAE,CAAE,CyBwCE4rJ,AzBxCJ,CAAF,EctmCO3iB,EdsmCI7sI,C0BoDC83J,A1BpDZ,CyBwCa,GAAG,CX9oCD16H,AW8oCT,GCYc,CDZCmyH,ECYE,CAAX,GDZV,EAA2B,CX9oCD,QAAQ;Ae+pCtC,AHJa,ADZPH,AzBzCUxrJ,IAAAA,EyByCVwrJ,AzBzCY,CAAE,CAAF,CAAF,EyByCL,CAAC18G,CzBzCe1yC,CAAX,GyByCV;AIiBN,AJhBMivJ,AzB1CwBrrJ,IAAAA,EyB0CxBqrJ,AzB1C0B,CAAE,CclmC1B1vE,AdkmCwB,CAAF,IclmCjB,AdkmC4Bv/E,CAAX,CyB0Cf,IX5oCF,AW4oCMwvJ,CX5oCD3iB,MW4oCQ,GX5oCC,CW4oCG2iB,OAAO,EX5oCAvjB,EW4oCI+iB,IAAX,GAAkB,KAAlB,GAA0BA,IAAI,GAAGQ,OAArC,CAApB;AIiBN,AHJYoT,ADZNnT,AzB1CJ7rJ,IAAAA,EyB0CI6rJ,AzB1CF,CAAE,CclmCElwE,AdkmCJ,CAAF,G0BsDUqjF,CZxpCC,AdkmCA5iK,CyB0CC,AzB1CZ,GyB0Ce,CAAX,CX5oCO,CAAK6sI,SAAS,AYwpCE,CAAC,IAAD,EAAOr9G,CZxpCDs9G,IYwpCN,EAAc,YAAd,EAA4BgrB,QAAQ,GAAG,SAAH,GAAe,QAAnD,EAA6DF,MAAM,GAAG,SAAH,GAAe,QAAlF,EAA4F,CAACA,MAA7F,CAAjB;AGKZ,AHJW,ADZN,AzB3CWh0J,IAAAA,EAAE,CAAE,CcjmCZ27E,AdimCU,CAAF,IcjmCH,AdimCcv/E,CAAX,KcjmCH,CAAK6sI,SAAS,aAAa0B;Ae6pCxC,A7B5D8B3qI,IAAAA,EAAE,CAAE,CchmC1B27E,AdgmCwB,CAAF,IchmCjB,AdgmC4Bv/E,CAAX,KchmCjB,CAAK6sI,SAAS,WAAW,UAASnsI,CAAT,EAAY;Ae6pClD,AHJU,ADZN,AzB5CFkD,IAAAA,EAAE,CAAE,CyB4CE,AzB5CJ,CyB4CK2rJ,AzB5CP,Cc/lCQ7uJ,CAAAA,CAAEqqI,Cd+lCC/qI,C0BwDCoR,A1BxDZ,C0BwDa,ADZX,EAAa,EX3oCP1Q,CYupCU,IZvpCI,GYupCV,CZvpCc,GYupCG0Q,CAAC,KAAK,WAA3B,EAAwC;AGKlD,AHJYA,ADZN,AzB7CUxN,IAAAA,EAAE,CAAE,CAAF,CAAF,G0ByDJwN,CAAC,A1BzDcpR,Cc9lCbiuI,Ad8lCE,E0ByDA0xB,gBAAgB,CAACvuJ,CAAD,CAApB,GZvpC0B;Ae4pCtC,AJhBMy0B,AzB9CwBjiC,IAAAA,EyB8CxBiiC,AzB9C0B,CAAE,CAAF,CyB8CvB,AzB9CqB,GyB8ClBqpH,CX3oCCniB,Ad6lC4B/sI,CAAX,EyB8Cd,CAACqvJ,KAAD,CAAV;AIiBN,AHJY,ADZP,AzB7CH,WAAO,Gc9lCKphB,Cd8lCZ,C0ByDc,CAAC78H,CAAC,CAAClX,OAAF,CAAU,GAAV,CAAL,EAAqB,KZvpCK;Ae4pCtC,AHJckX,A1BxDZ,GA/HgC,W0BuLpBA,CAAC,GAAGA,CAAC,CAAC06C,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAJ;AGKd,AHJa,ADZT,AzB3CHnmD,EAAAA,MyB2CO8pJ,KzB3CI,EAAE,CyB2CV,EAAc,SzB3CQ;AcvmCtB,AemqCJ,AHJW,ADZLz1J,AzB1CJ,MyB0CIA,EzB1CA4J,EAAE,GAAG,GyB0CK,CAACypE,CzB1CD1sE,MyB0CV,CAAmB,CzB1CvB,SyB0CiC9F,CAAV,EAAa;AIiBtC,AHJS,ADZD,AzBzCN,QAAIgD,CAAC,GAAG+F,EAAE,CyByCG/I,AzBzCD,CyByCE,AzBzCJ,CyByCKu0J,AzBzCf,KyByCoB,CAAC38G,IAAP,EAAa68G,OAAb,EAAsBF,KAAK,CAAC18G,KAA5B,EAAmC/yC,CAAnC,CAAR;AIiBR,AJhBO,AzB1CL,OyBwCI,CzBxCa7B,CAAC,EcjmCX8qI,CdimCchlI,EAAE,CAAE,CAAF,CAAvB;A6B2DF,AHJQukK,ADZH,AzB3CH,Q0BuDMA,A1BvDwBpqK,CAAC,GAAG6F,EAAE,CAAE,CAAF,CAApC,S0BuDwB,GAAGwN,CAAC,IAAIguJ,eAA1B,CA/BK,CA+BsC;AGKnD,AJhBG,AzB5CD,GyBEA,KzBDCx5J,CAAC,EchmCK2rE,CdgmCF3tE,EAAE,CAAE,CAAF,CADP,Kc/lCkBsoI,YAAY,MAAA,CAAKW;Ae4pCrC,AHJQ,A1BzDN,QACcnsI,CAAC,G0BwDLynK,A1BxDQvkK,EAAE,CAAE,CAAF,CADpB,a0ByDM,EAAwB;AGKhC,AHJU,ADZRwrJ,AzB9CA,EyB8CAA,KAAK,CzB7CsBvpJ,CAAC,CyB6CpB,EzB7CuBjC,E0ByDnB,A1BzDqB,C0ByDpBwkK,A1BzDsB,CAAF,CADjC,gB0B0DQ,EAAyB;AGKnC,AHJYvmJ,ADZR4wB,AzB/CF,IyB+CEA,IAAI,AzB7CL3sC,CAAC,CyB6CM,CADA,CCaE+b,A1BzDLje,EAAE,CAAE,CAAF,C0ByDQ,A1B3Df,G0B2DkBlX,MAAM,CAACyzJ,KAAf;AGKZ,AHJYt+H,ADZR6wB,AzBhDF,IyBgDEA,IzB9CY3sC,CyB8CP,AzB9CQ,EyB8CN,CCYC8b,ADdF,AzB5CUje,EAAE,CAAE,CAAF,C0B0DL,A1B5Df,C0B4DgB68J,eAAN,IAAyBoD,eAAe,CAACn3K,MAAD,CAAxC,CAFuB,CAE2B;AGK9D,AJhBIgjK,AzBjDF,IyBiDEA,IAAI,AzB/CqB90J,CAAC,CyB+CpB,EzB/CuBgJ,EAAE,CAAE,CAAF,CAFjC,EyBiDiB8rJ,IAAT,GAAgB;AIiB1B,AHJYgW,ADZNrW,AzB9CJ,MyB8CIA,KAAK,AzB9CFxxJ,C0B0DG6nK,ADZA,AzB9CF,GAAGhlK,CyB8CF,AzB9CF,CyB8CH,CCYY,C1B1DD9F,CAAR,C0B0DYsmJ,E1B1DArjJ,CAAC,C0B0DG,CAACwqK,C1B1DDxiK,CAAJ,GAAQE,CAApB,GAAwBjI,CAAC,E0B0Db,C1B1DgB8H,CAAJ,G0B0DU,A1B1DFhL,CAAhC,GAAoCkD,C0B0DxB,A1B1DyB,GAAG+H,C0B0DGgc,A1B1DP,GAAQ/b,CAA5C,C0B0DgD,CAAC4/J,C1B1DD3nK,CAAC,GAAG6H,C0B0DjD,A1B1D6C,GAAQG,CAAxD,GAA4DhI,CAAC,GAAG2C,CAAJ,GAAQoF,CAA3E;A6B+DF,AHJYsiK,ADZP,AzB7CH,GA3IgC,EyBmLxB,OCiBEA,kBAAkB,GAAG,GZ3pCf,EY2pCoB/iB,GAAL,GAAW,IAAIkH,mBAAJ,CAAc,KAAKlH,GAAnB,EAAwB71H,KAAxB,EAA+BmxI,cAA/B,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD9+I,KAAK,CAAC4+I,eAA3D,EAA4E5+I,KAA5E,EAAmF,CAAnF,EAAsF,CAAC,CAAvF,CAAhC,CALuB,CAKoG;AGKvI,AJhBI8tI,AzB5CH3pJ,EAAAA,EyB4CG2pJ,IAAI,EAAE,CX/oCD9iB,CdmmCE,EAAE,KcnmCIhhJ,AW+oCE8jK,IAAT,CzB5Cc1pJ,EyB4CE,CX/oCD,GdmmCZ,EcnmCiBgoI,AdmmCE/nI,iBAAnB,EAAuC,EcnmC3B,GAA6B,KAAK+6G,QAAL,EAA7B,GAA+C4sB,cAAAA,CAAe,KAAK5sB,QAAL,EAAf4sB,EAAgC,KAAKL,WAArCK;AegqCxE,AHJYu6B,ADZN,AzB3CJ,QAAKniK,EyB2CG64I,ECYEspB,E1BvDC,IAAIniK,EyB2CX,EAAgB,EzB3CC,CAACE,K0BuDM,CAACk1J,GAAnB,A1BvDV,EAAkC,C0BuDC,CAAzB,CAPuB,CAOK;AGKxC,AHJW,ADZH,AzB1CLz8J,MAAAA,MyB0CS,CAAC8/I,AzB1CH,CAACz7I,KAAR,CAAe,KyB0CN,IAAiB66I,aAAa,EAAlC,EAAsC,wCzB1C3C;A6B2DH,AJhBUW,AzBzCP,UyByCOA,IAAI,GAAGC,YAAY,GAAGvmE,MAAtB;AIiBV,AHJU,ADZAwmE,UAAAA,ICYIvtI,ADZA,CCYC,EDZEqtI,GCYG,CDZC,CAACt2I,KCYZ,EAAmB,CDZZ,IAAiB,EAAxB;AIiBV,AHJY,ADZFy2I,AzBzCR,CcrrCI5Q,CAA4Bf,MdqrC5BnpI,EyByCI86I,AzBzCF,GAAG34I,I0BqDMo/I,CZ1uCXrX,AW8tCY,CAACiR,AzBzCF,C0BqDL,A1BrDMt+I,G0BqDK,ADZb,GAAgBs+I,CCYCsN,C1BrDzB,EyByCQ,gBCYa,CAAc,KAAKlH,GAAnB,EAAwBxjI,KAAxB,EAA+B,QAA/B,EAAyCA,KAAK,CAACrL,MAA/C,EAAuD+tJ,QAAQ,GAAGA,QAAQ,GAAG3M,MAAd,GAAuBA,MAAM,GAAG/1I,KAAK,CAACrL,MAArG,CAAX;AGKZ,AHJYs/I,ADZF,AzB1CR,QACClyJ,EAAE,CyByCM66I,CCYCqX,C1BrDJ,EyByCO,CAAClG,CCYC,CAACz1J,A1BrDLwG,I0BqDD,CAAW,G1BtDrB,EyB0CS,GCYC,EAAqByQ,ADZAqtI,CCYrB,GDZyB,CAACmR,YAAL,GAAoB,EAA1C,CAAD,EAAgDz1J,IAAhD,CAAqD8kJ,IAAI,CAAC/0I,OAA1D;AVnvCV,AcowCA,AHJYkH,A1BvDV,QAGCjO,Ce5sCMgyB,Ef4sCH,Ce5sCN,AWgwCY/jB,CXhwCCzR,AWgwCA,CXhwCb,Af4sCSmE,Ee5sCOkqB,Af4sCL,C0BoDM,A1BpDJ,Ce5sCb,Af4sCW,CAHT,CezsCkBC,AWgwCR,EXhwCZ,EAAwBstE,EAAxB,EAA4BizC,EAA5B,EAAgC;AcqwChC,AHJW,ADZDuQ,AzB5CR,QAGgBz7I,Ce3sCTi4F,CUovCCwjD,CVpvCDxjD,AW4vCC,A1BjDW,Ge3sCP,Af2sCUz3F,Ce3sCT0qI,Cf2sCW,Ce3sCXA,AWgwCE,A1BrDW,CyByCV,AzBzCQ,CyByCPqQ,AzB5CjB,CexsCkBtjD,CWgwCCnqF,CXhwCP,AWgwCQ,KXhwCK,AWgwCA,CXhwCCzR,CAAAA,GAAIquB,AUovCA,EVpvCL,EUovCSywH,GVpvCGxwH,CUovCC,CVpvCDA,AUovCE4hI,GVpvCG7hI,AWgwC3B,EXhwCU,AWgwCmB,CXhwChC,UUovCK,IAA0C,CAACywH,IAAI,CAACQ,IAAN,IAAcR,IAAxD,IAAgE,EAAjE,CAAR;AIiBV,AHJY2lB,A1BzDV,QAG+B3gK,GAAG,C0BsDxB2gK,E1BtD2BtgK,EAAE,CAAE,CAAF,CAHvC,C0ByDkB,GAAG4gK,6BAA6B,CAACN,QAAD,CAAxC,CADkC,CACkB;AGKhE,AJhBUjV,AzB9CR,QAIC/rJ,EyB0CO+rJ,CzB1CJ,GyB0CQ,AzB1CLrrJ,EAAE,CyB0CM26I,AzB1CJ,CAAF,CAJT,EyB8CmB,CAAC9rG,qBAAZ;AIiBV,AHJY,ADZH,AzB/CP,IerrCI87F,IfyrCYlrI,GAAG,GAAGO,E0BuDR+d,A1BvDU,CAAE,CAAF,CAJxB,E0B2DmB,CAAC6/I,GAAV,CXhvCNjzB,CWgvCqB,EXhvCrBA,UAAAA,iBAAAA,EAAAA;AcqvCN,AHJc+2B,A1B5DZ,QAI+B9hK,GAAG,G0BwDtB8hK,A1BxDyB1hK,EAAE,CAAE,CAAF,CAJvC,U0B4D2B,CAACpX,MAAD,EAAS03K,QAAT,EAAmB,CAAnB,EAAsBsB,MAAtB,EAA8B,CAA9B,EAAiC,IAAjC,CAAf;AGKd,AHJa,ADZL7/H,AzBjDN,QyBiDMA,AzB5CLxiC,GyB4CQ,AzB5CL,E0BsDM,C1BtDHS,CyB4CMsrJ,CzB5CJ,CAAE,CAAF,C0BwDQ,A1B7DjB,CyBiDkB,CAACU,KAAN,EAAP;AIiBR,AHJcuU,A1B9DZ,QAKgB7gK,GAAG,G0ByDP6gK,A1BzDUvgK,EAAE,CAAE,CAAF,CALxB,E0B8DmB,GAAG6rB,UXlvCVtQ,AWkvCoB,CAAC+kJ,OXlvCbx7H,CWkvCqB,CAACkjB,KAAT,CAAe,EXlvClBlwD,CWkvCG,EAAoB,CAApB,CXlvCEC,AWkvCH,CAAV,IXlvCkBoV,AWkvCoB,CAAhD,CADK,CAC8C,GXlvCjB;AcuvChD,AJhBQi+I,AzBnDN,QyBmDMA,AzB9CyBvrJ,GAAG,CyB8CxB,EzB9C2BG,CyB8CxBqrJ,CzB9C0B,CAAE,CAAF,CyB8CtB,AzBnDjB,IyBmDqB,UAAUtpJ,CAAV,EAAa;AIiBpC,AHJc,ADZJ,AzBpDR,QAOCO,GAAG,GAAGzC,GyB6CQ4/F,AzB7CL,C0ByDM8gE,E1BzDH9gK,GAAN,E0ByDgB,C1BzDJG,CyB6CM,CAACmC,CAAD,AzB7CH,C0ByDMgc,CDZC,CAACotI,AzB7CLzrJ,G0ByDQ,A1BhEjC,C0BgEkCugK,KDZK,ECY3B,CDZ8B3U,CCYC,IDZI,CAAC38G,IAAnB,IAA2B,IAA3B,GAAkC,CAAlC,GAAsC,CAA1C,CAAjB;AIiBV,AHJgBmwH,ADZP,AzBrDP,QAQCv8J,CyB2CK,EzB3CF,GAAG3C,E0ByDOk/J,C1BzDJ,GAAGv/J,GAAN,GAAYM,GAAG,GAAGP,C0ByDM,CAAC,C1BjEhC,G0BiE+B,EAAOye,KAAP,EAAc,SAAd,EAAyBA,KAAK,CAACkiJ,OAA/B,EAAwCM,OAAxC,CAAjB,+DXpvCNhlJ,QAAQupB,UAAU;AAAEhtC,AcyvC9B,AHJe,A1BlEb,MenrC4BA,Ef4rC3B0K,Ce5rC2B1K,EAAKA,Af4rC7B,Ge5rCsB,Af4rCnB4H,GAAG,GAAGJ,GAAN,GAAYG,GAAG,GAAGF,GATzB;AenrCsCxH,Ac0vCxC,AJhBQ8yJ,AzBvDN,MenrCsC9yJ,EU0uChC8yJ,AzB5CLpoJ,Ce9rCqC1K,EAAKA,Af8rCvC,Ge9rCsB,Af8rCnBsH,GAAG,GAAGiD,CyB4CM,EzB5CZ,CyB4Ce,CAAhB,CzB5Ca9C,GAAG,GAAG+C,GAAlB,GAAwB5C,GAAG,GAAG6C,GAXrC;AenrCgD2K,Ac2vClD,AHJc2xJ,MXvvCoC3xJ,IAAAA,EAAMA,EWuvC1C2xJ,iBAAiB,CAAC,IAAD,EAAOpzI,KAAP,EAAcpe,CAAd,EAAiB0yJ,aAAa,CAACK,UAAD,CAA9B,EAA4CL,aAAa,CAACM,QAAD,CAAzD,CAAjB;AXvvCc,Ac4vC5B,AHJa,ADZL/U,AzB5CN,QyB4CMA,AzB5CD9oJ,GAAG,EyB4CG,CAAC,CAAD,CAAL,AzB5CO,CAAb,EAAiB;A6B6DnB,AJhBO,AzB3CJ,UAAIC,GAAG,GAAG,oEAAV;A6B4DH,AHJY,ADZP,KA7BK,GV/sCAmrE,KAAAA,GAAAA;Ac6vCV,AHJW,ADZPm+E,AzB3CD,IyB2CCA,KAAK,CzB3CD5pJ,CehsCCwoI,AWuuCQ,ADIN,MCYM,GDZGohB,CCYC1+I,CAAC,GDZX,CV3uCajJ,CWuvCG,A1BvDF,CyB2CG,IzB3CE,EehsCNA,CAASsgI,CfgsC9B,E0BuDc,A1BvDoB,E0BuDG,QXvvChBtgI,CAAuB,KAAvBA;Ac4vCxB,AHJYq9J,ADZN,AzB1CF,OyB0CGrW,IV3uCExgB,AU2uCE,CCYC62B,EDZE/mB,AzB1CJ,IyB0CQ,AzB1CJn/I,CyB0CKywJ,IzB1CT,CAAWvpJ,EejsCG2B,CWuvCG,A1BtDjB,C0BsDkBzb,A1BtDxB,MejsCoByb,AWuvCG,CXvvCMsgI,CWuvCG27B,GDZzB,GAA+BpU,ECYf,EAAmB,CAAnB,CXvvCH7nJ,CAAuB,AWuvCEu9J,KXvvCzBv9J,AU2uClB,CCYqB,CDZ6B09B,CCYC,CAA9B,CDZrB,CCYsD,IAAjC,CAAf;AGKZ,AJhBM8oH,AzBzCF,MyByCEA,CzB7CH,Ce7rCKpvE,KAAK,AfisCH,MejsCG,AU0uCM,CV1uCDmvD,EU0uCI,CAAhB,WV1uC0B,aAAaH;Ac2vC7C,AHJY,ADZN2gB,AzBxCFtwJ,MyBwCEswJ,EV1uCE3vE,AfksCJ3gF,EyBwCM,GV1uCG,AU0uCA0gJ,EzBxCF,CAACzgJ,GelsCC,CAAK6vI,AfksCd,CAAcloI,EyBwCZ,CzBxCF,UelsC4B,cAAcooI;Ac2vC9C,AHJW,ADZN,AzBvCD,KyBKM,GVvsCFC,GWivCS,MXjvCA,AWqvCA,IAAIz9H,CAAC,CXrvCL,CAAKs9H,EWqvCIq2B,YXrvCU,SWqvCnB,EAAgC;AGKjD,AHJY2C,ADZRzX,IAAAA,IVzuCIphB,IWqvCI64B,IDZI,CVzuCC,CUyuCC,KVzuCD,CAAK/4B,GUyuCKshB,QCYQ,CAAC,EXrvCA,CUyuClB,CCYiB,ADZK3uE,ECYEz/D,KAAP,EAAczQ,ADZ/B,CCYiB,CDZgB8+I,CCYC4H,QAAjB,EAA2BsM,ADZ5C,EAA8C,MCY7B,EAAqCG,QAArC,CAAvB;AGKZ,AJhBM1V,AzBvCH,MyBuCGA,OzBvCI,KAAKhrJ,CyBuCI,GAAGy9E,IzBvCZ,EAAP,GyBuC4B,IAAI,IAAI27D,QAAjC,CAD0D,CACf;AIiBjD,AHJY,A1BlDT,aensCU1O,YAAY7tI,GAAG;Ac0vC5B,AHJW,ADZLouJ,MAAAA,KCQW,IXjvCFljB,EWqvCE,CDZC,GCYGx6H,ADZA1lB,CCYC,GDZG,CAACkQ,CCYC,EXrvCEmxI,AUyuCR,CAASmjB,WCYb,ADZI,ECYsB,ADZArB,aAAtB,EAAqC,CAArC,CAAf;AIiBN,AHJY+T,ADZP,AzBtCH,KyBDQ,GzBCJn8J,EelsCI84E,EWovCEqjF,E1BlDA,CelsCGzqF,EfksCA,IAAI5xE,EelsCI,CfksCrB,K0BkD2B,CAAC,IAAD,EXpvCO8nI,AWovCAxsH,KAAP,EAAc,QAAd,EAAwBA,KAAK,CAAC6jJ,MAA9B,EAAsCtB,QAAtC,CAAjB;AGKZ,AJhBIzrE,AzBrCF/0F,IyBqCE+0F,AzBrCF/0F,EAAE,CyBqCG,AzBrCD,CAAF,CyBqCK,AzBrCP,CensCQ27E,EfmsCEn5E,GensCG+xE,AfmsCA,GyBqCGwgB,AzBrCAlyF,GyBqCT,CAAa0pJ,CVxuCC,CfmsCrB,EyBqCO,EAAmB,MVxuCM7hB;AcyvClC,AHJY,ADZN0gB,AzBrCJprJ,IAAAA,EyBqCIorJ,AzBrCF,CAAE,CAAF,CAAF,CyBqCQ,EzBrCE,CyBqCC,AzBrCCvrJ,GAAG,EelsCC/C,AUuuCAyvJ,CzBrCE3sJ,GyBqCE,AzBrCR,GAAYG,CyBqCA,EzBrCG,CyBqChB,CAAP,CzBrC0BL,GAApB,IAA4BmD,MAAtC;A6BsDF,AHJW,ADZLwoJ,AzBrCJrrJ,IAAAA,EyBqCIqrJ,AzBrCF,CAAE,CAAF,CAAF,E0B6Ce,C1B7CL,CAAEvrJ,EyBqCC,CzBrCE,C0BiDA,CDZC0rJ,CzBrCE9rJ,E0BiDC8N,CAAC,A1BjDR,CyBqCS,CAACqhC,CzBrCEhvC,E0BiDC,CDZT,AzBrCW,GyBqCEurJ,AzBrCCzrJ,GAApB,CyBqCN,CCYW,EAAqB,A1BjDEkD,MAAtC;A6BsDF,AHJYob,ADZP,AzBpCHje,IAAAA,CyBPQ,CzBON,CAAE,CAAF,CAAF,G0BgDUie,A1BhDAxb,GAAG,E0BgDE,CAAC+K,A1BhDA3K,C0BgDD,CAAL,GAAW29J,C1BhDrB,O0BgDU;AGKZ,AHJY,ADZRxkK,AzBpCFgE,IyBoCEhE,AzBpCFgE,EAAE,CyBoCG,AzBpCD,CAAF,CyBoCK,AzBpCP,GAAU,CensCCyqI,AfmsCC1qI,GAAG,EyBoCC/D,CzBpCEuD,EyBoCX,CAAakP,AzBpCR,GensCW3R,AfmsCC+C,GensCE,AfmsCC,EyBoCpB,CzBpCuBJ,CyBoCA,EzBpCpB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oBnjB,IAAI,CAAConB,SAAL,KAAmB,KAAvC,IAAgD,CAACH,kBAAjD,GAAsEnI,qBAAtE,GAA8FH,cAAzN,CAAX;AGKV,AHJU,A1B9CTj5J,EAAAA,a0B8Ccy+I,E1B9CC,C0B8CN,CAAS93H,A1B9CD,C0B8CR,GAAa82I,M1B9CMx9J,C0B8CC,IAAI,CAAxB,C1B9CQ,EAAqB;A6BmDvC,A7BjDE,WAAO,KAAKzC,cAAL,CAAqByC,OAArB,EAA+Bb,UAA/B,CAA2C,IAA3C,EAAkDU,SAAlD,EAAP;A6BkDF,AHJU,ADZV0pJ,AzBhCE,GAtNgC,KyBsP1B,GAAG,EA3yCX,CCuzCckU,SAAS,KAAKD,OAAlB,EAA2B;AGKrC,AHJY,ADxzCZ,AzB6wCCv9J,EAAAA,EyB+BGupJ,MVzuCM9wE,KAAKpH,GUyuCG,EzB/BC,CyB+BE,CzB/BA,Ce1sCE,Sf0sCSpxE,CAAX,EAAe,Ce1sCAkoI,MUnEpC;AI6zCA,AHJY,ADzzCZ,AzB+wCE,IyB8BEqhB,IzB9BEt0J,CAAC,Ce3sCGujF,Ef2sCA,EyB8BI,CVzuCCpH,EWqvCEktE,ADZA,AzB9BF1kJ,G0B0CH,CAAS7C,CAAT,CXrvCW,CUpEvB,CCyzCyBqmK,A1B1CvB,Ue3sCiCj1B,AWqvCvB;AGKZ,AHJY,AD1zCZ,AzBixCEnoI,IyB6BEwpJ,AzB7BFxpJ,CAAC,CAAE,CAAF,CAAD,GAAS/K,CAAC,CAAE,CAAF,CAAV,E0ByCeqpJ,CXrvCC3kJ,EWqvCN,CAASqG,CAAT,EDZY,CCYCg5J,EDZE,SAASxP,gBCYxB,IDZe,CAA8B1kK,KAA9B,EAAqC;AIiBhE,AHJW,ADZT,AzB7BAkb,IAAAA,CAAC,CAAE,CAAF,CAAD,GAAS/K,CAAC,CAAE,CAAF,CAAV;A6B8CF,AHJS,ADZP,AzB7BA+K,IAAAA,CAAC,CyB6BG2+H,AzB7BD,CAAF,CAAD,C0BuBM,ADMC,EzB7BE1pI,CyB6BC,AzB7BA,CAAE,CyB6BZ,AzB7BU,C0ByCG,A1BzCb,I0ByCiB,EAAEoV,CAAC,IAAIoe,KAAP,CAAJ,EAAmB;AGKlC,AHJU,ADbR,AzB5BAzoB,IAAAA,CAAC,CyB6BG+kD,AzB7BD,CAAF,CAAD,GyB6BS,AzB7BA9vD,CAAC,Ce5sCCizI,Af4sCC,C0ByCA79H,ADZAvlB,AzB7BF,C0ByCG,A1BzCb,I0ByCiBa,ADZA,CAACo5G,KVzuCKplG,AWqvCf,CDZI,CCYa,ADZA,CVzuCC,AUyuCd,EAAgB7U,KAAK,CAACkB,MAAN,GAAe,CAA/B,EAAkC++D,KAAlC,CAAwC,GAAxC,CADZ;AIkBF,AHJY,ADdV,AzB3BA/kD,IAAAA,CAAC,CyB6BGgb,AzB7BD,CAAF,CAAD,CyB6BO,CVzuCGmoH,Cf4sCDluI,CyB6BC8vD,AzB7BA,CAAE,CAAF,CAAV,Ee5sCUo+E,AUyuCK,CAAC,CAAD,CVzuCKxpI,AUuuCpB,CVvuCoBA,CAAEsuI,OAAFtuI,CAAU,CAAVA,EAAawpI;Ac0vCnC,AHJY,ADfV,AzB1BAnjI,IAAAA,CAAC,CyB6BGnM,AzB7BD,CyB6BE,AzB7BJ,CAAD,EyB6BQ,CAHR,AzB1BSoB,CAAC,CAAE,CAAF,CAAV,E0ByCe4D,GAAL,CAASlT,MAAT,EAAiB0kB,CAAjB,EAAoB1kB,MAAM,CAAC0kB,CAAD,CAA1B,EAA+BgzJ,QAA/B,EAAyCv3K,KAAzC,EAAgDozJ,OAAhD;AGKZ,AHJW,ADhBT,AzBzBAl5I,IAAAA,CAAC,CyB6BGlM,AzB7BD,CyB6BE,AzB7BJ,CAAD,Ee7sCUi0I,AU0uCFhjF,CCSA,A1BtCC9vD,CAAC,CAAE,CAAF,CyB6BG,AzB7Bb,Ce7sCU8yI,AU0uCI/hJ,CCYC,EXtvCI4kF,GUsuCnB,EVtuCmBA,CAAM+8D,YAAN/8D,CAAmBo9D,qBAAnBp9D;Ac2vCrB,AHJY,ADjBV,AzBxBA5qE,IAAAA,CAAC,CyB6BGla,AzB7BD,CAAF,CAAD,GyBwBA,AzBxBSmP,CAAC,CAAE,CAAF,CAAV,2B0ByCyBoV,CAAf,EAAkBgzJ,QAAlB;AGKZ,AHHY,ADnBV,AzBvBAr9J,IAAAA,CAAC,CyB6BGkiI,AzB7BD,CAAF,CAAD,CyBuBA,EzBvBSjtI,Ce7sCC+oD,Af6sCA,CAAE,CAAF,CAAV,Me5sCM5vB,GAAAA,CAAI+0G,OAAJ/0G,EAAa25G,MAAAA,CAAO70H,IAApBkb,EAA0B25G,MAAAA,CAAO50H,KAAjCib,EAAwCw8C,KAAAA,CAAMw7D,KAA9Ch4G,EAAqDw8C,KAAAA,CAAMy7D,KAA3Dj4G;Ac0vCR,AHHW,ADpBT,AzBrBA,MyB4BIq7H,KzB5BG,IyBqBP,AzBrBA;A6B6CF,AHHS,A1BxCP,GAxOgC,M0BuQnB,MASA;AGIf,AHHUyT,ADbR,AzB1BDj9J,EAAAA,OyB0BQpM,CCaCqpK,ADbA,GVxuCG/0B,AUwuCAr0I,CAAX,EAAcD,AzB1BD,CyB0BE,CzB1BA,CyB0Bf,EAAmB,KVxuCK,Ef8sCEqM,EAAX,E0BuCe,A1BvCAC,C0BuCC/Z,C1BvChB,EAAmBga,C0BuC1B,CAA4B,A1BvCrB,EAAuBC,E0BuC9B,A1BvCO,E0BuC2B1a,A1BvCA2a,M0BuClC,EAA0C+J,A1BvCnC,C0BuCP,C1BvC4C9J,C0BuCC68J,C1BvCtC,EAAyC58J,EAAzC,EAA8C,G0BuCrD,EAAyD68J,QAAzD;AGIV,AHHS,ADbLn7B,AzBzBF,IyByBEA,GAAG,CzBzBDlrI,CAAC,Ce/sCG2kH,AUwuCA52D,EzBzBApgE,GyByBK,CAACkP,AzBzBF,Ce/sCGu9E,AUwuCF,AzBzBAl6E,CyByBX,EzBzBM,CAAUoJ,Ie/sCK,If+sCf,CAAR,Qe/sCoC4nI;AcyvCtC,AJhBIpiJ,AzBzBF,IyByBEA,IzBzBEmT,CyByBG,AzBzBF,Ce/sCG0iH,EUwuCE9nH,AzBzBFlP,CyByBG,GzBzBC,Ce/sCGysF,Af+sCFj6E,CyByBGrD,CAAC,CzBzBT,CAAUwM,CyByBE,CAAV,EVxuCa,CUwuCC4hI,GAAG,AzBzBnB,CyByBoB34B,AzBzB5B,Oe/sCmC4+B,IUwuCX,CAAgB,GAAhB,CAAd,GAAqCjG,GAAG,CAACl8I,MAAjD;AIiBJ,AHHQ+oK,ADbJtF,AzBxBF,IyBwBEA,ICaIsF,C1BrCDn3J,GAAL,C0BqCW,ADbA,AzBvBVwI,C0BoCWhN,C1BpCT,CyBuBW8uI,ECaR,A1BpCAlrI,C0BoCWqT,ADbA,AzBxBjB,C0BqCM,ADbY00F,CzBvBT3+F,EAAE,GyBuBG,AzBvBAnH,CyBuBW,AzBxBzB,CyBwBc,Cz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B;Aam2ClB,AHDI,ADfJ,AzBboDhlC,IAAAA,EAAE,CAAE,C0B4BhDkoD,A1B5B8C,CAAF,I0B4BvC,A1B5BkD7kD,EAAE,C0B4BjDsC,E1B5BoD3F,E0B4BhD,A1B5BkD,C0B4BjDkoD,A1B5BmD,CAAF,CAAlB,G0B4BpC,CAAW,GAAX,CAAZ;AGEJ,AHDI6zG,ADfJ,AzBbE/7J,I0B4BE+7J,A1B5BF/7J,EAAE,CAAE,CgBr0CI+tE,AhBq0CN,CAAF,IgBr0CQA,AhBq0CGzqE,EAAE,CgBr0CLyqE,EhBq0CQ/tE,E0B4BE,A1B5BA,C0B4BCkoD,A1B5BC,CAAF,CAAlB,G0B4BwB,CAAC,CAAD,CAAN,CAAhB,GAA6B48G,GAAG,CAAC58G,KAAK,CAAC,CAAD,CAAN,CAAhC;AGEJ,AHDG,ADfH,AzBd2BloD,G0B0BzB,C1B1ByBA,EAAE,CAAE,CAAF,CAAF,EgBn0ClByrI,EhBm0C6BnoI,EAAE,GAAGtD,EAAE,CAAE,CgBn0C3BuE,AhBm0CyB,CAAlB,OgBn0CPA,CAASsgI,aAATtgI,CAAuB,KAAvBA;Aak2CpB,AHDC,ADfD+/I,AzBfoDtkJ,C0BcpD,EAgBG,C1B9BiDA,EAAE,CAAE,CAAF,CAAF,CyBe1C,CTj1CDyrI,ESi1CI,AzBfkDnoI,EAAE,GAAGtD,EgBl0ClD4oI,AhBk0CoD,CAAE,CyBelD0b,AzBfgD,CAAlB,SgBl0CtBj1D,ASi1CjB,CAAoBg1D,GTj1CHh1D,CSi1CjB,EAA0B09D,ETj1CAllK,OUg1CvC,EVh1C8BwnG,AUg2CoB,ADfrC,EAAuC,CTj1CD,MAArBA,GAA8BA,8BUg1C5D,EAgB8F,+EAhB9F,EAgB+K,4FAhB/K;AGkBA,AJhBE,AzBdA,QgBl0CM1T,CSg1CC,CAAC0oE,CzBdD,EgBl0CI,CSg1CJ,CzBdP,EyBce0I,ETh1CJ,CAAKthB,QSg1CT,ETh1CmB,CSg1CG,CAACoO,OTh1CK,ISg1CM,CAACwK,IAAD,CTh1CGvnJ,ASg1Cd,CTh1CK,EAAY,ASg1CGunJ,IAApB,GAA2BmI,QAAQ,CAACnI,IAAD,CAAR,IAAkBwI,qBAAqB,CAACxI,IAAD,CAAnE,KAA8E0I,WAA3G;AIiBF,AHDA,ADfC,AzBbC,CyBt1CF,EzBqjCkC,KgBliC1Bt7E,oBU+1CK,8EAAb,EAA6F,UAAU9rE,IAAV,EAAgB;AGE7G,AHDEkzI,ADn3CF,AzBw1CCn6I,EAAAA,EyBYGsuJ,IzBZG,EAAE,KyBYM,GAAG,ECeRhnG,A1B3BU3jD,K0B2BlB,CAAcsD,A1B3BP,CyBYkBqnJ,CzBZE,E0B2B3B,IAAsB,IAAtB,ADfgB,CAAqBlQ,KAArB,EAA4BmQ,MAA5B,EAAoCC,OAApC,EAA6CC,SAA7C,EAAwD;AIiB1E,AHDC,ADfC,AzBXA,C0BwBF,KDbMD,EzBXAltJ,EAAE,EgBt0CI0rI,CSi1CC,AzBXF,KyBWO,AzBXF3uI,KyBWO,CAArB,EAAwB,AzBXxB;A6B4BF,AJhBImwJ,AzBXF,IyBWEA,IzBXEhtJ,EAAE,CyBWG,EzBXAmC,CyBWG,KzBXG,CAACtF,GyBWKmwJ,KzBXrB,EyBWY,CAAiB1/I,CAAjB,EAAoB;AIiBlC,AHDA6tI,ADfM,aTl1CO,ASk1CA,ECeRgd,EDfYpL,MAAM,CAAC,IAAIz/I,CCe5B,ADfuB,CCeH62J,ADfd,SCeN;AVp2CI,Aas2CJ,AJhBK,AzBXH,KyBSE,IzBTI,IAAIrtK,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG,CAArB,EAAwBA,CAAC,EAAzB,EAA+B;A6B4BjC,AJhBG,AzBVA,QgBv0CKi0I,EhBu0CAjrI,EAAE,CAAEhJ,CAAF,CAAF,EgBv0CS,GhBu0CGkJ,EAAE,CgBv0CL,AhBu0COlJ,CgBv0CFy0I,AhBu0CA,CAAnB,EAA2B,OgBv0CE,AhBu0CK,KAAP;A6B2B9B,A7BzBG;A6B0BH,AJhBE,MAAI0hB,KTj1CGx/E,ISi1CM,KAAK,ETj1CA26D,GSi1CK,CAAvB,EAA0B,MTj1CI,MAAA,CAAKmD;Aak2CrC,AJhBI0hB,AzBTF,IyBSEA,OzBTK,EyBSI,EzBTX,CyBSc,SAASA,SAAT,CAAmB3/I,CAAnB,EAAsB;AIiBtC,AJhBM,AzBRJ,GAhTgC,UyBwTrBA,CAAC,GAAG,EAAJ,GAASy/I,MAAM,CAACz/I,CAAC,GAAG,CAAL,CAAN,GAAgB,CAAzB,GAA6B,IAAIy/I,MAAM,CAAC,CAAC,IAAIz/I,CAAL,IAAU,CAAX,CAAN,GAAsB,CAA9D;AIiBN,AJhBK,AzBPJ7O,EAAAA,GyBKG,MzBLM,EAAE,UAAW7H,KAAX,EAAkB8H,MAAlB,EAA2B;A6BwBvC,AJhBG,AzBND,QAAKA,MAAM,KAAK/W,SAAhB,EAA4B+W,MAAM,GAAG,CAAT;A6BuB9B;AACA,AJhBE,AzBNA,MyBMIylJ,GzBNE,CyBME,GAAG,AzBNDrtJ,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG,CAArB,EAAwBA,CAAC,EAAzB,EAA+B;A6BuBjC,AJhBIi2J,AzBLD,IyBKCA,MAAM,CzBLFlwJ,CyBKIkwJ,MADC,CzBJV,CAAej2J,CAAf,IAAqBF,EgBh1Cf,GhBg1CoB,CAAEE,CAAC,GAAG4H,MAAN,CAA1B;A6BsBH,AJhBIsuJ,AzBJD,IyBICA,MTr1CI,CSq1CG,EAAEA,ETr1CApoB,KSm1CA,OTn1CY;Aas2CzB,AJhBIqoB,IAAAA,STr1COroB,ASq1CE,EAAEqoB,STr1CO5jK,KAAK;Aas2C3B,AJpBa,AzBAX,GyBAA,QzBAO,IAAP;A6BqBF,AJrBE,AzBEA,GA9TgC,GyBiU5B6jK,aALJ;AIsBF,A7BlBCvuJ,EAAAA,OAAO,EgBp1CCw+G,AhBo1CC,UAAWvmH,CgBp1CDvN,IhBo1CV,CgBp1Ce,ChBo1CGqV,IgBp1CE6c,EhBo1CpB,EAA2B;A6BmBrC,AJhBEohI,AzBDA,EyBCAA,MzBDK/lJ,KAAK,CyBCE,CAACgmJ,GzBDEj1J,EyBCH,EAAQ,KzBDpB,EAA2BiP,GyBCG6O,EzBDE,EyBCZ,CzBDe,CyBCC,CzBDT;A6BkB7B,AJhBI6mJ,AzBDF,IyBCEA,IzBDG5tJ,EgBt1CC,ESu1CI,CAAC+G,CzBDA,CgBt1CAo/H,ESu1CD,CAAR,CzBDcl9I,EyBCGmzJ,OzBDnB,CyBC2B,CAACr1I,AzBDA/G,GgBt1CC,CSu1CF,CAAR,CzBDe,EyBCEylJ,CzBDC,CAAT,EyBC1B;AIiBJ,AJhBImI,AzBAF,IyBAEA,IzBAExsJ,EAAE,EyBAI,CTv1CD+kI,ASu1CEqoB,AzBAF,KAAKrwJ,QyBAU,AzBA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,GAAG,ORz3CO,EQy3CEohB,IRz3CF,CAAKv/E,EQy3CZ,CAAiBngE,CAAjB,EAAoB,MRz3CI;AY04CxC,AJhBI,WRx3CKu+H,AQw3CEv+H,CAAC,KAAK,CAAN,GAAU,CAAV,ERx3CWjJ,CQw3CG4e,EAAE,GAAGr7B,ERx3CRyc,CAASsgI,CQw3CG,CAAC98I,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,CRx3CpBwc,CAAuB,CQw3CGiJ,CAAlB,CAAL,ERx3CHjJ,CQw3C+Bo1I,IAAI,CAAC,CAACnsI,CAAC,GAAGqc,EAAL,IAAWzG,EAAZ,CAAhC,GAAkD,CAAvE;AIiBJ,AJhBG,AzBOH,GyBbE,CzBaEnf,OiB/3CK8nI,GjB+3CK,GAAG,KiB/3CG5F,YAAY;AYy4ChC,AJvBE,AzBeDjiI,EAAAA,IyBRKmgJ,IAAI,CRv3CDrY,CjB+3CE,CyBRE91I,CzBQA,GyBRI,KAAK,EzBQEiO,GyBRX,EzBQA,CyBRiB+oJ,CzBQE,CiB/3CF3oJ,KQu3CjB,GRv3CiBA,AQu3CUrO,CRv3CD2uI,GQu3CK,KAAK,IAAT,CRv3CVtgI,CAAuB,CQu3CG,IRv3C1BA,MQu3CoCiJ,CAAV,EAAa;AIiBrE,AJhBI,AzBSF,QAAIpJ,GiBh4CG4nI,AQu3CE,GzBST,CyBTakhB,OAAO,CAAC,IAAI1/I,CAAL,CAAlB,CRv3CwB24H,YAAY;AYw4CxC,AJhBG,GAFqC,GAElCknB,KRt3CGphB,YQs3Cc,CAACihB,ERt3CA3oJ,KQs3CD,CATrB,ER72CsBA,CAASsgI,aAATtgI,CAAuB,KAAvBA;AYu4CxB,A7BPE,QAAK,GiB/3CE0nI,IjB+3CK5nI,SiB/3CQ8hI,QjB+3Cf,IiB/3C2B,AjB+3CC,WAAjC,EAA+C;A6BQjD,AJhBE/iH,AzBUC,EyBVDA,EAAE,GAAGk2H,IRt3CEpN,AQs3CE,EzBUD/nI,CyBVIif,EAAZ,CAZoE,CAYpD,AzBUH,CAAC9e,GAAb,WiBh4C4B;AYu4C/B,A7BLG,KAJD,MiB53CO6nI,AjBg4CA,IAAKhoI,KAAK,IiBh4CGI,QAAAA,AjBg4CSF,CiBh4CAwgI,aAATtgI,CAAuB,EjBg4CpC,EAA0C,CiBh4C7BA;AYs4CtB,AJhBE8/I,AzBYCjgJ,EyBZDigJ,IAAI,AzBYHjgJ,CyBZIujJ,IRr3CExb,CjBi4CA,CyBZP,EzBYUhoI,CyBZI,IzBYb,EiBj4CiBgiI,IQq3CMonB,QRr3CM,CQq3ChB,EAAqBC,MAArB,EAA6B;AIiB7C,AJhBI,AzBaD,KAJM,MiB73CAphB,AQo3CEkhB,AzBaF,ciBj4Cc/oJ,AQo3CE,CAACrO,IAAD,EAAOq3J,CRp3CThpJ,CAASsgI,OQo3CP,EAAkB2oB,IRp3CpBjpJ,CAAuB,CQo3CrB,CAArB,GRp3CmBA;AYq4CvB,AJhBG,AzBcA,GyBhBD,OzBgBMP,CiBl4CCooI,MjBk4CM,KAAKvkJ,CiBl4CCs+I,QjBk4ClB,EAA6BniI,EiBl4CC,KjBk4CM,GAAGO,QAAQ,CAACC,eAAT,CAA0B,8BAA1B,EAA0D,QAA1D,CAAV;A6BGhC,A7BDGR,MAAAA,KiBl4CMilI,EjBk4CC,CAACxkI,KAAR,EiBl4CgBF,CjBk4CAJ,KAAK,CAACM,CiBl4CNF,CAASsgI,GjBk4CzB,UiBl4CgBtgI,CAAuB,OAAvBA;AYo4CnB,AJhBE,AzBeCP,MAAAA,GyBfMqgJ,ERn3CApb,EQm3CP,AzBeQ,CAACvkI,KiBl4CMxO,CjBk4Cd,GAAiBiO,GiBl4CI,EjBk4CC,CAACO,MAAvB;A6BEH,AJhBC,CA35CD,URwCS2nI,qBAAqB;AYo4C9B,AJ56CA,AzB26CG,IyBfCohB,IRl3CI9xE,EjBi4CDh3E,GiBj4CM,EQk3CE,EzBeD,CyBfI,CRl3CL,CAAKskI,AjBi4CDjlI,OyBfUypJ,AzBeH,CAAC7oJ,CiBj4CE,SQk3CT,AzBeD,CyBfsB1O,AzBeF,CiBj4CC,GQk3CpB,AzBeD,CAAd,CyBf0Cw3J,KRl3CE5wJ,CAAT,EAAY,CQk3ChC,EAAsC;AIiBxD,AJhBE,MAAI4wJ,IRl3CI5wJ,CAAAA,CAAEqqI,GQk3CG,IRl3CLrqI,CQk3CU,IRl3CI,CQk3CC,CAAvB,ERl3C0B,AQk3CA;AIiB5B,AJhBI4wJ,AzBeD,IyBfCA,MzBeIvpJ,GyBfK,ERl3CE5a,AjBi4CF,CyBfG,IRl3CI,GQk3ChB,IzBeqBsb,SAAtB,EAAkC;A6BErC,AJhBG,AzBgBCF,QAAAA,OAAO,CAACG,YAAR,CAAsBX,KAAtB,EAA6B,CAA7B,EAAgC,CAAhC;AiBr4CA,AYs4CJ,A7BCI,OAJD,MAIO;A6BAV,AJhBE,AzBkBEQ,MyBlBEuoJ,ERj3CEvxE,AjBm4CJh3E,KiBn4CS,AQi3CA,EzBkBF,CyBlBK,AzBkBJI,GiBn4CC,CAAKkkI,KQi3COikB,AzBkBrB,CAAmB/oJ,GiBn4CI,EjBm4CvB,CyBlBY,CAAiBqJ,AzBkBH,CyBlBd,AzBkBZ,EyBlBgC,AzBkBH,CiBn4CE07H,AjBm4C/B,EAAgC/kI,KAAK,CAACM,KAAtC,EAA6CN,KAAK,CAACO,MAAnD;A6BDJ,AJhBI,AzBmBA,QiBn4CIi3E,GQg3CGnuE,CAAC,CRh3CC,EQg3CE,EAAEA,CAAF,CRh3CF,CAAKu+H,CQg3CGv+H,CAAN,IAAW,CAACkgJ,KRh3CG,IQg3CM,GAAG,CAAb,IAAkBlgJ,CRh3CD,AQg3CjB,GAAsBkgJ,SRh3Ca,AQg3C9C,IAA8C,CAAjD,GAAqD,CAA7D;AIiBJ,AJhBG,GAFD,OR72COziB,SAAS,MAAM,QACftvD,KAAKpH,QAAQ,WAAW,YAAkB;AY+3CnD,AJnBE,AzBsBCnwE,MyBnBGigJ,AzBmBHjgJ,IyBnBO,ER92CIkoI,AjBi4CL,CyBnBIp2I,EzBmBD8N,EyBnBK,KAAK,AzBmBnB,EiBj4CuB+pE,GQ82Cb,ER92CaA,CAAMg+D,AQ82CFmhB,OAAjB,GAA2Bh3J,ER92CI,EQ82CA,KAAK,IAAT,GAAgB,UAAUsX,CAAV,EAAa;ARj3C/D,AYk4CN,AJhBI,AzBoBD,WyBpBQ,IAAI0/I,OAAO,CAAC,IAAI1/I,CAAL,CAAlB;ARn3CA,AYo4CJ,AJhBG,GAFqC,GAElC6/I,iBAAiB,CAACH,OAAD,CALrB;AIsBF,A7BIE,QiBj4CMvxE,AjBi4CDv3E,KiBj4CM,CjBi4CA,CAACK,IiBj4CD,CAAKsnI,AjBi4CX,GAAe,IAAf,IAAuB3nI,CiBj4CA,KjBi4CM,CAACM,MAAP,EiBj4Cc,CjBi4CE,IAA5C,EAAmD,KiBj4CS;AY83C9D,AJhBE2/I,AzBqBC,EyBrBDA,IAAI,CAACsD,GR52CE1c,GQ42CP,AzBqBQ7mI,GyBrBM,GR52CE,AjBi4CF,CAACY,KiBj4CO,CQ42CE0oJ,GzBqBhB,CAAkB,GiBh4CnB/xE,EQ22CO,EAAqB,CR32CvBpH,IjBg4CJ,EAAgC,EiBh4CpB,CjBg4CZ,CAAP,UiBh4C+B,YAAkB;AY43CpD,AJhBI,AzBsBD,KAJD,MyBlBSk5E,AzBsBF,CiBj4CKnhB,UQ22CQ,CAACp2I,CR32CG63E,GQ22CJ,ER32CIA,AQ22CG2/E,CR32CG3hB,QQ22CV,CAAlB,GR32CwC;AAHtC,AY+3CN,AJhBG,AzBuBA,GyBzBD,UzByBQ3nI,MAAM,CAACY,SAAP,CAAkB,WAAlB,CAAP;AiBv4CC,AYi4CJ,A7BQG;A6BPH,AJhBE,AzByBA,QiBn4CQunI,CQ02CD8X,IAAP,KR12CQ9X,GAAahoI,QAAAA,CAASsgI,aAATtgI,CAAuB,KAAvBA;AY23CvB,AJhBC,AzBvBgB,CyBt5CjB,AzBs5CA,EyBuBG,QRz2CQ+/H,OAAO,MAAA,CAAKyH,UAAL,CAAgBngH,OAAO;AY03CzC,AJhBA,AzB2BA,aiBp4Ca,OAD4B;AY23CzC,AJhBA,cRz2Cc,OAF2B;AY43CzC,AJhBA,eRz2Ce,KAH0B;AY63CzC,AJhBA,uBRz2CuB,MAJkB;AY83CzC,AJhBA,iBRz2CiB;AALwB,AY+3CzC,AJhBA;AIiBA,AJhBA,WRx2CW04G,OAAO,MAAA,CAAK2H,YAAL,CAAkBrgH,OAAO;AYy3C3C,AJhBA,AzB0BA,IAAI3mB,SAAS,GiBl4CG,AjBk4CA,CAAhB,SiBn4C2C;AY03C3C,AJhBA,aRx2Ca,MAF8B;AY23C3C,AJhBA,AzB0BA,SAASC,KiBl4CK,EjBk4Cd,CAAkBf,GiBr4CyB,EjBq4C3C,EAAyBgB,OAAzB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,SAAhD,EAA2DC,SAA3D,EAAsEC,MAAtE,EAA8EtP,IAA9E,EAAoFuP,UAApF,EAAgGC,QAAhG,EAA2G;A6BT3G,AJhBA,AzB2BCld,EAAAA,MAAM,CAACC,KiBn4CM,MAAA,CAAKyjJ,EjBm4ClB,CAAuB,I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B6d,QAAzB,GAAoC/R,cAApD;A6BnBD,A7BqBC,OAAK2S,IiBx4CK,GjBw4CV,EiB94CyC,CjB84C1B,CAAf;A6BpBD,A7BqBC,OAAKC,MiBx4CO,EjBw4CZ,GAAgB,IAAhB;AiB/4CyC,AY23C1C,A7BsBC;A6BrBD,gBZl3CgB,MAAA,CAAK6lI;AYm3CrB,A7BsBAlnI,OAAO,CAACU,GiBv4CG0+H,OAAO,GjBu4ClB,GiBv4CkB,AjBu4CMz8I,CiBv4CDohJ,OAAL,CAAar9G,AjBu4C/B,OiBv4CsC;AYk3CtC,A7BsBA1mB,OAAO,CAACY,OiBv4CO,MADuB,EjBw4CtC,GAA0BrY,SAA1B;A6BrBA,AJlDAovJ,AzByEA33I,OAAO,CAAC3c,IyBzEI,CAAC,IR9zCI,AjBu4CjB,GAAoBC,KiB14CkB,CjB04CZ,CAACK,MAAP,CAAeL,MAAM,CAACge,MAAP,CAAexQ,GyBzEtC,EAAyC,UAAU2P,AzByEE,CAACpd,GyBzEb,EAAgByO,CAAhB,EAAmB,CzByErC,CAAf,EAA2D;A6BtB/E,AJlDE,AzB0ED6E,EAAAA,IyB1EKqvG,KAAK,ER5zCE,AjBs4CD,CyB1EEl0G,CAAC,AzB0EDkO,GyB1EI,CRl0CoB,AQk0CxB,GAAQlO,AzBwEyD,CyBxExD,GAAG,CAAZ,GAAgBA,CAA5B;AImDF,A7ByBCyP,EAAAA,SAAS,EAAE,CiBv4CE,CAPwB,EjB04CyC;A6BpB/E,AJlDEumJ,AzB4EDtmJ,EyB5ECsmJ,AzB4EDtmJ,WyB5EY,CAACf,AzB4ED,EAAE,EiBx4CG,AQ4zCA,GAAG,GRp0CiB,IjBg5CX,CyB5Eb,IAAmBulG,KAAK,GAAG,CAA3B,CAAD,EAAgCl0G,CAAC,GAAG,UAAUwW,CAAV,EAAa;AImD9D,AJlDI,AzB6EF,SAAKnL,EyB7EIva,IAAI,AzB6Eb,CyB7EcC,AzB6EFqb,EiBz4CI,CQ4zCP,CAASoK,CAAT,EAAY09F,CR5zCL,CAAKmhC,GQ4zCZ,CAAP,CzB6EF,CAA4B,KAAKztI,MAAL,CiBz4CZ,AjBy4CwBvW,CAAxC,EiBz4C0C,AjBy4CC,KAAKuW,MAAL,CAAYjG,CAAvD,EAA0D,KAAKqN,MAAL,CAAY3d,CAAtE,EAAyE,KAAK2d,MAAL,CAAYrN,CAArF,EAAwF,KAAK8K,QAA7F,EAAuG,KAAKtE,MAAL,CAAY9W,CAAnH,EAAsH,KAAK8W,MAAL,CAAYxG,CAAlI;AiBl5CoC,AYw3CtC,AJlDG,AzB8ED,GyBhF4C,AzBsEiC,GyBpEzE,UAAU6U,CAAV,EAAa;AImDnB,AJlDI,AzB+EH5R,EAAAA,KAAK,CiB14CE+/E,CjB04CA,EyB/EGnuE,CAAP,CR3zCS,MAAA,CAAKw+H,CjB04CE,mBiB14CkB,aAAaQ;AY82CnD,AJlDG,AzBgFD,GyBpFW,EAIR,GR3zCG7wD,GjB24CC,EiB34CI,EQ2zCEnuE,AzBgFF,CyBhFR,EAAa,CR3zCL,CAAKw+H,AjB24CAnwI,WAAT,GAAuBC,IAAvB,CAA6B,CiB34CA,GjB24C7B,CAAP,UiB34CkD0wI;AY82CpD,AJlDI,AzBiFF,GAhB6E,KiB33CvE7wD,GQ0zCG,ER1zCE,EQ0zCE7zF,IR1zCF,AQ0zCM,CR1zCDmkJ,AQ0zCElkJ,GAAL,CAAS,IAAIylB,CAAb,EAAgB09F,GR1zCC,EQ0zCjB,CAAX,UR1zCyCshC;AY62C7C,AJlDG,AzBkFF1wI,EAAAA,CyBxFY,EAMR,CzBkFA,EiB54CG6/E,AjB44CD,KiB54CM,EQ0zCEnuE,CAAV,EAAa,AzBkFApkB,CiB54CL,CAAK6iJ,IjB44CX,EAAoB,QiB54CK,cAAcO;AY62C9C,AJlDI,AzBmFF,QiB54CM7wD,CjB44CDh2E,EyBnFI6H,CAAC,CRzzCC,AjB44CX,EyBnFa,CzBmFDpkB,CyBnFH,ERzzCE,CAAKgjJ,AQyzCEtkJ,EzBmFA,CAAC6d,CyBnFG,CAAC5d,EzBmFvB,CyBnFkB,CAASylB,CAAC,GRzzCC,AQyzCE,CAAb,EAAgB09F,KAAhB,IAAyB,CRzzCDuhC,AQyzCjC,GAAsC,IAAI3kJ,IAAI,CAACC,GAAL,CAAS,CAAC,IAAIylB,CAAL,IAAU,CAAnB,EAAsB09F,KAAtB,IAA+B,CAAhF;AImDJ,AJlDG,AzBoFD,GyB5FW,CAAX,IRjzCMvvB,CjB64CDx3E,IiB74CM,CjB64CX,GAAa/a,EiB74CF,CAAKgjJ,GjB64CG,CAACjoI,KAApB,IiB74C6B,cAAcsoI;AY42C7C,AJlDC,AzBoFC,CyBhGU,CAAZ,OzBgGO5mI,OAAL,GAAezc,MAAM,CAACyc,OAAP,CAAe9O,KAAf,CAAsB,CAAtB,CAAf;A6BjCF,A7BmCE,SAAKoO,IiB94CMqnI,GjB84CX,GAAepjJ,IiB94CM0T,EjB84CA,CiB94CG,AjB84CFqI,OAAtB;A6BlCF,AJlDAqnJ,AzBsFE,QyBtFM,CAACmB,AzBsFFvoJ,GiB/4CKtI,EjB+4CV,CyBtFF,CAAgB8wJ,CzBsFDxkK,MAAM,CyBtFrB,AzBsFsBgc,GyBtFKonJ,EzBsFzB,MyBtFiC,CAACqB,IAAT,GAAgBrB,QAAQ,CAACmB,MAAT,CAAgBV,MAA3D;AImDA,A7BoCE,SAAK5nJ,CiB/4CGs2E,IjB+4CR,CiB/4CapH,EjB+4CAnrF,MiB/4CQ,AjB+4CF,CAACic,KAApB,OiB/4CkCqnI;AY42CpC,AJlDAsgB,AzBuFE,SAAK1nJ,CiBh5CGq2E,CQyzCC,CAAC,GRzzCGpH,GjBg5Cb,GyBvFS,AzBuFQnrF,EiBh5CI,AQyzCAkkK,IzBuFE,CAAChoJ,QiBh5CUonI,CQyzCC,AzBuFnC,CyBvFoC,IAAD,CAA1B,EAAkC4gB,cAAc,CAAC,KAAD,CAAhD,EAAyDA,cAAc,EAAvE,CAAX;AImDA,A7BqCE,SAAK/nJ,CiBh5CGo2E,KAAKpH,GjBg5Cb,GAAiBnrF,EiBh5CI,IjBg5CE,CAACmc,MiBh5CQonI,GjBg5ChC;A6BpCF,AJlDA,AzBwFE,CyBxFD,QzBwFMlnI,CiBj5CGk2E,CQyzCCxjF,CAAV,EAAagC,CRzzCCo6E,AQyzCd,EAAgB,EzBwFf,GAAkBnrF,CiBj5CG,KjBi5CG,CAACqc,MiBj5CQknI,IjBi5CjC;A6BrCF,AJlDE,AzByFA,MyBzFIz7C,EAAE,CzByFD1rF,EyBzFI,IAAIrL,AzByFb,CyBzFA,EzByFc/Q,MAAM,CAACoc,MAArB;A6BtCF,AJnDE,AzB0FA,MyBzFI2rF,EAAE,CzByFDprF,EyBzFI,IAAImrF,EADb,MzB0FA,GAAsB9nG,MAAM,CAAC2c,cAA7B;A6BtCF,AJpDE,AzB2FA,MyBzFI+nJ,EAAE,CzByFD53J,EyBzFI,ERzzCEu2I,AjBk5CX,GAAYrjJ,CyBzFG8nG,EAFf,GzB2FkB,CAACh7F,CiBl5CG4G,GAAG,AjBk5CzB;A6BtCF,AJrDE,AzB6FA,MyB1FIowJ,GzB0FCtuJ,EiBn5CI9B,EQyzCE,EzB0FX,CyB1Fc,AzB0FFhB,IAAZ,CAAkB1S,IyB1FK8jK,EzB0FC,CAACtuJ,IyB1FX,CAAiB4O,CAAjB,AzB0Fd,EyB1FkC;AImDpC,AJlDI,AzB0FF,SAAKxH,CiBn5CG21E,CQyzCCnuE,CAAC,GRzzCG+mE,AQyzCA2c,AzB0Fb,CAAYp1F,CyB1FH,GAAS3D,AzB0FlB,CyB1FmB,AzB0FD/O,EiBn5CG,CQyzCCokB,CAAJ,EzB0FM,CyB1FEA,AzB0FDxH,CyB1FhB,GAAqBwH,CAAC,CzB0F/B,EiBn5CkCo/H,AQyzCAz7C,EAAJ,GAASh5F,CAAC,GAAGrQ,IAAI,CAACC,GAAL,CAASylB,CAAC,GAAG,MAAMrT,CAAnB,EAAsB,CAAtB,CAAJ,GAA+B,GAAxC,GAA8CqT,CAAC,GAAGsgJ,EAAJ,GAAS31J,CAAC,IAAIqV,CAAC,IAAI,OAAOrT,CAAhB,CAAD,GAAsBqT,CAAtB,GAA0B,KAAnC,GAA2CrV,CAAC,GAAGrQ,IAAI,CAACC,GAAL,CAASylB,CAAC,GAAG,QAAQrT,CAArB,EAAwB,CAAxB,CAAJ,GAAiC,OAAtJ;AImDJ,AJlDG,AzB0FD,GyB/FA,MzB+FKgF,CiBn5CGw8E,KAAKpH,AjBm5Cb,CAAYz4E,IAAZ,CAAkB1S,EiBn5CG,IjBm5CG,CAAC+V,MAAzB,EiBn5CkCytI;AY42CpC,A7BwCE,SAAKnpI,CiBn5CGk4E,KAAKpH,EjBm5Cb,GAAgBnrF,GiBn5CK,GjBm5CC,CAACqa,OiBn5CSopI,CjBm5ChC;A6BvCF,AJlDEmgB,AzB2FA,EyB3FAA,OzB2FK/mJ,CiBp5CG01E,GQyzCG,CAAC,CRzzCCpH,OQyzCF,CRzzCU,CQyzCC,CzB2FtB,GAAwBnrF,MyB3FQokB,AzB2FF,CiBp5CGq/H,AQyzCX,AzB2FS5mI,EyB3FI,czB2FnC;A6BxCF,AJlDI,AzB2FF,SAAK5D,EyB3FI,IAAI6qJ,AzB2Fb,CAAYpxJ,IAAZ,CAAkB1S,CyB3FE,CAAC,IAAIokB,AzB2FD,CyB3FJ,AzB2FKnL,CyB3FvB,KzB2FF;A6BxCF,AJlDG,AzB4FD,GyB9FW,EAER6qJ,IzB4FEhnJ,GyB9FM,CAAX,WzB8FA,GAAuB9c,MAAM,CAAC8c,eAA9B;A6BzCF,AJlDC,AzB4FC,CyBvGF,EAWG,MAXH,AzBuGOC,EyB5FI,ERzzCEwmI,EQ8yCb,UR9yCyB,AjBq5CvB,GAAwBvjJ,MAAM,CAAC+c,gBAA/B;A6BzCF,A7B0CE,SAAKC,CiBr5CG04G,IjBq5CR,GiBr5CevqC,AjBq5CFnrF,MAAM,CAACgd,CiBr5CG,IjBq5CvB,SiBr5CoCsmI;AY42CtC,AJlDAsgB,AzB4FE,SAAK3mJ,CiBr5CGy4G,CQyzCC,CAAC,KRzzCKvqC,CQyzCN,EAAS,IzB4FlB,CiBr5CuB,EjBq5CAnrF,GyB5FKokB,CAAV,EAAa,AzB4FF,CAACnH,IiBr5CMqmI,WjBq5CpC;A6BzCF,AJlDE,AzB4FA,SyB5FOl/H,AzB4FF9H,CiBr5CGo5G,AQyzCA,GAAGh3H,IRzzCIysF,AQyzCA,AzB4Ff,CyB5FgBxsF,EzB4FAqB,CyB5FL,CAAS,CAAT,ERzzCY,AQyzCA,CzB4FD,CAACsc,IyB5FM8H,CAAC,GAAG,AzB4FjC,CiBr5CkCm/H,AQyzCX,CAAZ,CAAH,GAA+B,CAAvC;AImDF,AJlDC,AzB6FC,CyB/FS,CAAX,QRvzCU7tB,CjBs5CD,IAAP,EiBt5CevqC,QAAQ,YAAYo4D;AY42CrC,A7B4CE,GAvD6E;A6BY/E,AJlDAqgB,AzB+FCrmJ,EAAAA,MAAM,EAAE,CyB/FE,CAAC,MAAD,EAAS,AzB+FAC,IAAX,EAAkB,IyB/FG4G,CAAV,EAAa;AImDjC,AJlDE,AzBgGA,QAAI3G,CyBhGG,EAAE4yI,KAAK,CAAC,GzBgGC,CyBhGGjsI,CAAC,CzBgGC5G,EyBhGE4G,CAAT,CAAL,AzBgGgB,GyBhGG,CAArB,CAAP,AzBgG8B3lB,SAAT,IAAsB,OAAO+e,IAAP,KAAgB,QAA3D;A6B7CF,AJlDC,CAFU,CAAX,WRvzCaimI,WAAW;AY42CxB,A7B8CE,QAAK,CAAEhmI,CiBz5CCi4G,OAAOvqC,IjBy5CV,IiBz5CkB,AjBy5CA3tE,IAAI,CAACE,QiBz5CQ8lI,AjBy5Cb,CAAe,KAAK/0I,IAApB,MAA+BhQ,SAAtD,EAAkE;A6B7CpE,AJlDAmlK,AzBiGG,UiB15COluC,CQyzCC,CAAC,CzBiGFl4G,IiB15CO2tE,AjB05CH,CyBjGH,AzBiGIztE,EyBjGK,KRzzCK,CjB05Cf,CAAe,GyBjGK0G,CAAV,CzBiGU3V,CyBjGG,GzBiGvB,CAAP,CiB15CmC+0I;AY42CtC,AJlDE,AzBkGC,SyBlGM,CRzzCC9tB,AQyzCA46B,IAAI,CAAClsI,CAAC,CRzzCC+mE,EQyzCEglE,MRzzCM,EQyzCX,CAAL,GAAsB,CAA7B,IRzzCkC1M;AY42CpC,AJlDC,CAFU,CAAX,QRvzCU/tB,OAAOvqC,QAAQ,YAAYs4D;AY42CrC,A7BgDE,QAAI7jJ,MAAM,GAAG;A6B/Cf,AJlDAgkK,AzBmGGjmJ,MAAAA,KyBnGQ,CAAC,EzBmGD,EAAE,EyBnGF,EAAS0mJ,WAAW,CAAC,IAAD,CAApB,EAA4BA,WAAW,CAAC,KAAD,CAAvC,EAAgDA,WAAW,EAA3D,CAAX;AImDA,A7BiDInnJ,QAAAA,OAAO,EAAE,GADA;A6B/Cb,AJlDAkmJ,AzBmGIt2J,QyBnGI,AzBmGJA,CyBnGK63J,GzBmGD,CiB55CK7kB,CjB45CH,MyBnGV,ERzzCsB,CQyzCCsjB,AzBiGV,QyBjGkB,CAAC5iE,KAAT,GAAiBoxD,QAAQ,CAAC+S,WAAT,GAAuB;AImD/D,AJlDEpG,AzBmGE3gJ,EyBnGF2gJ,MAAM,AzBmGJ3gJ,EiB55CQhQ,AQyzCF,CRzzCEA,GAAI+rI,GjB45CH,EyBnGM4kB,AzBmGJ,IiB55CC5kB,CAAU,CQyzChB,CAAgBn5C,GRzzCK3hG,EQyzCrB,EAAuB+lK,CRzzCjBjrB,aQyzCN,EAAuC;AImDjD,AJlDI,AzB+FS,OAFE,CyB7FPn5C,KAAK,KAAK,KAAK,CAAnB,EAAsB;AImD1B,AJlDMA,AzBoGH/xF,MyBpGG+xF,AzBoGH/xF,IiB95COb,AjB85CH,CiB95CGA,AQ0zCC,CzBoGF,EyBpGK,CAAR,CR1zCU,CjB85CFa,IARC,EiBt5CQ;AY62CvB,AJlDK,AzBoGF8N,MAAAA,IAAI,EAAE,EiB95CKimI,GjB85CAjmI,IATC,CiBr5CO27H,UAAUtqI;AY62ChC,A7BmDGmO,MAAAA,OAAO,EAAE,KAAKA,OAXF;A6BvCf,AJlDI,AzBsGDa,MAAAA,EyBtGKmd,EAAE,EzBsGD,CyBtGI,CR3zCCg+B,AjBi6CH,CAAE,EyBtGIyoC,GzBsGC5jF,EyBtGd,CR3zCmB+nE,GjBi6CV,CAAY1lF,CiBj6CF0lF,AjBi6CZ,CiBj6CkB69D,CjBi6CD,KAAK5lI,CiBj6CV+nE,CAAc++D,IjBi6CT,CAAYn0I,CAA7B,CAbI,GiBp5CQo1E;AAFjB,AYg3CN,AJnDI,AzBuGDnvE,MAAAA,EyBtGKwkB,EAAE,EzBsGD,CiBj6CI,AQ2zCAwmE,CzBsGF,CAAE,GyBtGK,EzBsGAhrF,EyBtGIovJ,IzBsGT,CAAY3lK,CAAd,EAAiB,KAAKuW,CyBtGG,GAAG,CAAH,CzBsGR,CAAYjG,CyBtGG,AzBsGhC,CyBtGO,AzBwFH,CyBzFX;AIoDJ,AJpDI,AzBwGDwG,MAAAA,EyBtGK0qB,EAAE,EzBsGD,CiBj6CI5hC,AQ2zCA+lK,CzBsGF,CAAE,KAAK7uJ,CiBj6CG4uE,KAAAA,AjBi6CR,CiBj6Cc69D,AQ2zCA,AzBsGFvjJ,CAAd,EyBtGmB,AzBsGF,CyBtGD,GR3zCN0lF,AQ2zCa,CR3zCCplF,AQyzC/B,AzBwG6BwW,MAAL,CAAYxG,CiBj6CnBo1E,AjBi6CV,CAfI;A6BpCf,AJrDI,AzByGDtqE,MAAAA,EyBtGKxL,GAAG,GAAG,AzBsGH,EAAE,EyBtGKohJ,GzBsGA51I,KyBzGd,GzByFW;A6BnCf,AJlDI,AzBuGDwD,MAAAA,IAAI,CyBvGI,CzBuGF,CAAE,KAAK7B,GyBvGKoI,CAAV,CzBuGF,CyBvGe,CzBuGD,KAAKnI,KAAnB,CAlBM;A6BlCf,AJlDM,AzBwGHG,MAAAA,MAAM,CyBxGI,CAAC,AzBwGH,CyBxGI4d,EAAE,EzBwGD5d,CyBxGIu7I,KzBoFL,CyBpFW,CAAC,CAAD,EAAI9oJ,GAAJ,EAASuV,CAAT,CAAX,GAAyB,CAA1B,IAA+Bqc,EAAhC,IAAsC1G,EAA7C;AImDN,AJlDK,AzBwGFjtB,KyB1GC,CzB0GDA,IAAI,EAAE,CiBn6CIs0I,IjBm6CCt0I,IArBC,GiB94CS;AY82CxB,AJlDG,AzBwGAwP,MAAAA,IiBn6COqoE,IjBm6CC,CiBn6CDA,CAAMg3D,AjBm6CH,KAAKr/H,QAtBH,KiB74CmB;AY82ClC,AJhE+D,AzBuH5DH,CyBvHH,KzBuHGA,QiBp6CWw/H,CjBo6CF,EAAE,KAAKx/H,SiBp6CYhc,AjB44ChB,KiB54CqBwkF,OAAOA,KAAAA,CAAM69D,OAAN79D,CAAc++D,UAAd/+D;AY82C3C,AJlDAmrE,AzByGG5zI,MAAAA,GyBzGM,CAAC++I,IAAV,CzByGY,EyBzGKmI,AzByGH,KAAKlnJ,GyBzGM,CAAC,KzBgFX,KyBhFU,CAAzB;AImDA,A7BuDGG,MAAAA,UAAU,EAAE,KAAKA,UA1BL;A6B5Bf,AJlDAo3I,AzB0GGz2I,MAAAA,KAAK,CyB1GI,CAAC,AzB0GH,KAAKA,KA5BA,0DyB9EH,EAAuE,UAAUT,IAAV,EAAgB;AImDnG,AJlDE,AzB2GCQ,MAAAA,GyB3GMg2I,ER3zCAnQ,WjBs6CU,CyB3GI,CzB2GF,GyB3GMrmI,EzB2GDQ,CiBt6CEmiI,CQ2zCG,GAAG,GAAP,GAAa3iI,ER3zCA4mI,EQ2zCb,CzB6EZ,EyB7EgC,SAA7C;AImDF,AJlDC,AzB2GElmI,CyB7GS,CAAZ,IzB6GGA,eAAe,EAAE,KAAKA;A6BxDzB,AJlDA,AzB2Ee,KAAb,MiBv4CO0lI,WAAWzD,YAAY,MAAA,CAAK2D;AY+2CrC;AACA,A7B0DE,QAAK,GiBz6CEF,EjBy6CG5nI,KAAL,IiBz6CamkI,CjBy6CEzgJ,SAApB,EiBz6C8B,AjBy6CE,MiBz6CF,CAAKmkJ;AYg3CrC,A7B2DG;A6B1DH,A7B4DG,UAAI7nI,CiB56CE4nI,IjB46CG,GAAG,IiB56CKzD,CjB46CAnkI,KAAjB,MiB56C6B,MAAA,CAAKioI;AYi3CrC;AACA,A7B4DG,UAAKjoI,CiB76CCioI,IjB66CI,CAACv0I,IAAN,GiB76CaywI,EjB66CEzgJ,SAApB,CiB76C8B,CjB66CE,KiB76CF,CAAKskJ;AYk3CtC,AJlDO,AzB+GHhoI,IyB/GOu4I,IzB+GPv4I,GyB/Gc,EzB+GT,CyB/GY,AzB+GXtM,IAAN,GAAaV,EyB/GaulJ,OAAT,AzB+GK,CyB/GY5zJ,AzB+GXyO,MyB/GN,EAAyBilJ,IzB+G7B,EAAb,CyB/GiB,AzB6Gc,CAEQ,CyB/GY;AImDvD,AJlDE,AzBgHE,OyBhHG3gI,EAAL,ER/zCO8xD,CQ+zCG6rE,KAAK,EAAf,GR/zCkBlR,YAAY,MAAA,CAAKW;AYk3CrC,AJlDEngJ,EAAAA,MAAM,CAACyzJ,KAAP,GAAe,IAAf;AImDF,AJlDE,AzBgHC,OyBhHIzzJ,GzBgHC,CiBh7CC6kF,AjBg7CC9mE,EyBhHR,GAAc/d,MRh0CIw/I,AQg0ClB,CzBgHM,IAAkB1hI,IAAI,CAACM,EiBh7CC,IjBg7CN,CAAa/C,CiBh7CP,CAAK4nI,GjBg7CO,CAACl0I,IAAnB,MAA8BhQ,SAArD,EAAiE;A6B7DpE,AJlDE,AzBiHE,OyBjHG20J,KzBiHCr1I,EyBjHN,CzBiHE,EyBjHaq1I,OAAf;AImDF,AJlDE,OAAK9zJ,GAAL,CRh0COs8I,EQg0CIwX,OAAO,GAAGA,OAAO,CAAC9zJ,GAAX,GAAiBk0J,YAAnC;AImDF,AJlDE,AzBiHE,OyBjHG7hJ,GAAL,EzBiHOqM,CyBjHIo1I,IzBiHC,CAACn1I,EyBjHK,GAAGm1I,EzBiHd,CAAer4I,IyBjHM,CAACmkJ,AzBiHtB,CAAL,EAA8B,MyBjHd,GAAuBC,UAAzC;AImDF,AJlDC,AzBkHI,CyBzHE,YRzzCM7b,MAAM5vI,GAAG;AYm3CtB,AJlDA,AzBmHKqK,UiBn7CKrK,AjBm7CLqK,CiBn7CKrK,CAAE5G,CjBm7CJ,GiBn7CE4G,AjBm7CC,CiBn7CMxG,CjBm7CZ,MiBn7CKwG,CAAe,OAAfA,MAA4B,CAAC,GAAG;AYm3C1C,UZn3C8C20E;AYo3C9C,A7BiEK,eAAM,IAAIz6E,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGkN,KAAK,CAAChb,MAA3B,EAAmC6N,CAAC,GAAGC,CAAvC,EAA0CD,CAAC,EAA3C,EAAiD;A6BhEtD,A7BkEMmQ,YAAAA,GAAG,CAAC5Q,IAAJ,CAAU0N,UAAU,CAACC,UAAX,CAAuBC,KAAK,CAAEnN,CAAF,CAA5B,CAAV;A6BjEN,A7BmEM,UiBv7CM+1I,SAAAA,GAAYh/D,KAAAA,CAAMi+D,kBAANj+D,CAAyBo9D,qBAAzBp9D;AYq3CxB,A7BoEK,SAZD,MAYO;A6BnEX,A7BqEK,iBiB17C+BjxE,CAAAA,CAAEsuI,OAAFtuI,IAAaA,CAAAA,CAAEsuI,OAAFtuI,CAAU,CAAVA,CAAbA,IAA8BA;AYs3ClE,A7BsEKqK,UiB57CSm/H,AjB47CTn/H,GAAG,GAAGlD,CiBh8CW,GAAA,IAAA,CAIRqiI,CjB47CO,CAACpiI,UAAX,CAAuBC,KAAvB,CAAN;A6BrEL,A7BuEK,UiB97CkBoiI,OAJD,GAAA,IAAA,CAICA;AYw3CvB,AJrDO,IAAI0nB,SAAS,GACpB,aACA,YAAY;AIoDZ,AJnDE,AzB0HErnJ,QAAAA,EiB/7CMxK,CAAAA,AQq0CC6xJ,CzB0HH,CAAC/mJ,CiB/7CK,CAACo/H,IjB+7CX,CyB1HF,AzB0HeniI,CyB1HIm5I,CRr0CNhX,GAAUyG,AQq0CvB,AzB0HoB,CAACl1I,CyB1HIg3C,GzB0HvB,CyB1HF,EAA+B,CRr0CRk+F,AjB+7CO,CiB/7CG12H,IAArB,KAA8B02H,SAAAA,CAAUz2H,KAAVy2H,GAAkBA,SAAAA,CAAU12H,IAA1D;AYy3Cd,AJnDI,AzB0HCxe,QyB1HGohB,ERr0CEld,AjB+7CLlE,CiB/7CKkE,GAAI,AQq0CA,AzB0HL,EAAEoI,CyB1HMm5I,CRr0CC,CAAC/W,EQq0CE,AzB0HL,CyB1HMttH,AzB0HLphB,IiB/7CE0uI,AjB87Ca,EyBzHf,CRr0CYwG,GQq0CG6N,MRr0CH7N,CAAUx2H,GAArB,KAA6Bw2H,AQq0C3C,SRr0C2CA,CAAUv2H,MAAVu2H,GAAmBA,SAAAA,CAAUx2H,GAA1D;AYy3ClB,AJnDI,AzB0HCpP,SyB1HIm2I,CzB0HJn2I,GyB1HD,AzB0HI,EAAEA,CyB1HMm2I,IAAZ;AIoDJ,AJnDI,AzBuH4B,SyBvHvB8D,AzBuHL,CiB57CMrlJ,CAAAA,GAAI,CQq0CV,ERr0Ca,CQq0CC,CAACuhJ,IAAI,CAACtkC,KAAN,IAAe,CAA7B;AIoDJ,A7BwEI,YiBh8CQ;AADN,AY03CN,AJnDI,QAAI,KRr0CK,AQq0CA8mC,IRr0CI/jJ,CAAAA,EQq0CT,CRr0Ca,CAAR,CQq0CUuhJ,CRr0CC,GQq0CG,CAACt3I,MAAL,IAAe,CAAlC,EAAqC;AIoDzC,AJnDM,AzB2HHhd,MAAAA,KyB3HQi3J,CRr0CC,AjBg8CH,CAAC97I,KyB3HJ,AzB2HH,GyB3HkBm5I,AzB2HHn5I,IyB3HO,CAAC49I,AzB2HH,CAAClqJ,IAArB,MyB3HkB,IAAoB,CAAnC;AIoDN,AJnDM,AzB4HH,WyB5HQq2J,KAAL,GAAa,CAAC,CAAC5Q,IAAI,CAAC6Q,IAAP,IAAe,CAAC,CAAC7Q,IAAI,CAAC8Q,QAAnC;AIoDN,AJnDK;AIoDL,A7ByEE,QAAK,CAAEvnJ,CiBj8CCzK,CAAAA,GAAI,GAAG,IjBi8Cf,EAAsB;A6BxExB,AJnDI,AzB6HDwK,MAAAA,GyB7HMg5I,CzB6HF,CAAC94I,CiBl8CI,AQq0CR,GAAW,CAAX,GzB6HD,CAAe,KAAKjP,IAApB,IAA6B7O,MAA7B;AiBn8CG,AY03CN,A7B2EG,aiBn8CU,IAAIoT,CAAAA,GAAI,CAAR,EAAW;AYy3CxB,AJnDIwmJ,IAAAA,QRr0CQ,IQq0CI,CAAC,IAAD,EAAO,CAACtF,IAAI,CAACliD,QAAb,EAAuB,CAAvB,CAAZ;AIoDJ,A7B2EE,WAAOpyG,MAAP;A6B1EF,AJnDI,AzB+HF,GA7J6E,MyB8BtEo1B,IAAL,GAAYk/H,IAAI,CAACl/H,IAAjB;AIoDJ,AJnDI2sI,AzBgIHzjJ,EAAAA,EyBhIGyjJ,KzBgII,EAAE,CiBr8CEnf,KQq0CK,GRr0CG7vI,CQq0CC4lJ,EzBgIC,CiBr8CE5lJ,IQq0CI,CAACgwJ,IAAR,EAAjB;AIoDJ,AJnDI9yI,AzBiIF,IyBjIEA,KzBiIGriB,CyBjIG,ERr0CEg1I,EQq0CEsV,MRr0CM9kJ,EjBs8ClB,CAAoB,CiBt8CEA,IQq0CI,CAAC6c,MAAD,EAAS,IAAT,EAAe41B,IAAI,IAAIA,IAAI,KAAK,CAAjB,GAAqBA,IAArB,GAA4B51B,MAAM,CAAC0nI,KAAlD,EAAyD,CAAzD,CAAxB;AIoDJ,AJnDIrD,AzBgIoBpnJ,IyBhIpBonJ,EzBgIoBpnJ,EyBhIhB,CAACm4J,CzBgImB,EAAE,KyBhI1B,IAAiB,KAAKpjE,OAAL,EAAjB;AIoDJ,AJnDIqyD,AzB+HkB,IyB/HlBA,CzB+HF,GyB/HM,CAAC53B,GRr0CGvkE,GQq0CR,IAAe,ERr0CE4sB,GQq0CG23C,ERr0CH33C,CAAM69D,GQq0CR,CAAY,GRr0CV79D,CAAc++D,AQq0ChB,CAAf,SRr0CiB/+D;AYy3CrB,AJnDG,AzBgID,GAnK6E;A6BuF/E,A7B8ECxmE,EAAAA,WiBr8CY,AjBq8CD,EAAE,UAAWC,EAAX,EAAgB;A6B7E9B,AJnDE,AzBkIA,MyBlII8mJ,EzBkIC,IyBlIK,CzBkIAnpJ,EyBlIG8oJ,KzBkIR,IyBlIiB,CAAC1lK,AzBkIDkF,SyBlItB,AzBkIA,EAAkC,OAAO+Z,EAAP;A6B9EpC,A7BgFEA,IAAAA,EAAE,CAAC3K,YAAH,CAAiB,KAAKwF,MAAtB;A6B/EF,AJnDEisJ,EAAAA,MAAM,CAACt1C,IRp0CI4zB,CQo0CX,GAAe,CRp0CC9vI,GAAG,KQo0CKk8G,KAAT,CAAe/wH,KAAf,EAAsB;AIoDvC,AJnDI,AzBmIF,QyBnIMA,AzBmIDuf,EiBv8CG1K,AjBu8CD,CiBv8CCA,AjBu8CAzU,CiBv8CE6N,AjBu8CL,CyBnIM,EzBmIC,CiBv8CJ4G,AjBu8CH,CiBv8CUxG,AQo0CArO,GzBmIEuf,EyBnIG,AzBmID,CAACnf,CiBv8CZyU,AjBu8CS,CiBv8CM,EQo0CE,AzBmID,CyBnItB,AzBmIF,EyBnI4B,AzBmIA,EiBv8CpBA,MAA4B,CAAC,GAAG;AYw3C1C,AJnDM,AzBoIH,UiBz8C2C20E,CQq0CnCx4D,GzBoIC,GyBpIN,EzBoIW7T,EyBpII,GzBoIlB,EyBpIuB6T,MAAL,CAAYs1I,iBAA3B,IAA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B+9CE,CiB/9CKu2F,AjB+9CJrpI,CAAH,GyBrJa,AzBqJN7Q,CyBrJOmxB,GzBqJH,CAAC9wB,EiB/9CZsjD,AQ00CoB,CR10CDz0C,AQ00CE2pJ,CR10CF3pJ,CAAE8sI,AjB+9Cd,CAAYt8H,EyBrJL,AzBqJO,CAAC7O,CAAf,CAAd,CyBrJqC,ER10CX3B,CAAnBy0C,CAAD,CQ00CoCm0G,GR10CC,AQ00CN,CR10COn0G,EQ00CI,CAAX,GR10COA,AQ00CQ+iH,CR10CDxsB,SQ00CW,ER10ClBv2F,CAAmB,AQ00CE,KR10CGmgG,AQ00CEgU,GAAjC,GAAuC,CR10Cb,AQ00Cc,CR10CDte,AQ00CE,KAAKke,ER10CpB,CAAqB1b,GQ00CN,GAAc,GR10C7B,CAAnBr4F,CAAtC,AQ00C2Fi0G,IRz0C7F1oJ,CAAAA,CAAE8sI,OQy0CsF,ERz0CxF9sI,AQy0C0E,CRz0C1EA,EQy0C+G,GRz0C9F,EQy0CmGspJ,GRz0C9F1U,EQy0CmD,IAAoD4iB,CRz0C5G,CAAaltB,OAAb,CAAqBwC,AQy0CkC,IAAmE,CAAC,IRz0C3H,CQy0CgI8b,ERz0C/F,CQy0CjC,CAAD,CAApB;AIoDN,A7BmGM,uBiB/9Ce;AY63CrB,AJnDMW,MAAAA,OAAO,CAAC,IAAD,CRz0CI,AQy0CX;AIoDN,A7BkGK;AiBn+CC,AYk4CN,AJnDM,AzB6HH,UyB7HO,CRz0CD,AQy0CEtnI,MAAM,CAACumI,MAAZ,EAAoB;AIoD1B,AJnDQ,AzBuJL;A6BnGH,AJnDQD,QAAAA,IRv0CEvS,IQu0CM,CAAC/zH,KRv0CG,CQu0CJ,CAAR;AIoDR,AJnDO,AzBuJL,OyBlKsD,CAWhD,AzBuJD,KAAK7S,IiB99CGk+H,CjB89Cb,EAAkB,IiB99CE,KAAKsH,OAAL,CAAatK,SAAStqI;AY23C5C,A7BqGGwQ,MAAAA,EAAE,CAAC7O,CAAH,GAAO,IAAI6O,EAAE,CAAC7O,CAAd;A6BpGH,A7BsGG;A6BrGH,AJnDM,aAAOsgB,MAAM,CAACA,MAAd,EAAsB;AIoD5B,AJnDQ,AzByJN,WAAOzR,CyBzJGyR,CRv0CDqrH,AjBg+CT,KyBzJgB,CAACrrH,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AL,GAASA,CAAT;AkBj0DF,AW6rDA,AJnDI,AzBwLF,IkBl0DIqlJ,GAAAA,CO0oDE,CzBwLD/0I,CkBl0DK,AlBk0DV,GyBxLW6nJ,AzBwLF7nJ,CAAT,GyBxLM,KAAc1Q,KAAlB,EAAyB;AIoD7B,AJnDM,AzBwLJ,QkBl0DM,ClBk0DDyf,CAAL,GyBxLW,AzBwLFA,CAAT,GkBl0DM,AO0oDF,IP1oDE,CAASP,GAAT,EAAcwmI,KAAd,EAAqB;AW8rD7B,AJnDK,AzBwLH,QkBl0DQC,ClBk0DH3xI,CAAL,CkBl0DQ2xI,ElBk0DC3xI,CkBl0DK0xI,AlBk0Dd,KkBl0DcA,IAASppI;AW8rDzB,A7BsIE,QkBn0DQspI,GlBm0DD,CkBn0DCA,GAAOD,AlBm0Df,GkBn0DeA,CAAI/I,aAAJ+I,CAAkB,MAAlBA;AW8rDjB,AJnDI,AzB0LF,GAbgC,KyB7K1BsS,CP1oDChqJ,IO0oDI,GP1oDG,AO0oDA,KAAK+iB,MAAL,IAAe,KAAK2mI,GAApB,GAA0BQ,uBAAuB,CAAC,KAAKnnI,MAAL,CAAY0nI,KAAb,EAAoB,IAApB,CAAjD,GAA6E,KAAKX,MAA9F,CAT2C,CAS2D;AIoD1G,AJnDI,AzB2LH3kJ,EAAAA,OkBr0DQyyI,ElBq0DC,EAAE,EkBr0DG,QlBq0DQxyI,MAAX,EAAoB;A6BvIhC,A7ByIE,SkBt0DO2sI,AlBs0DF5/I,CAAL,GAASiT,GkBt0DK6L,GlBs0Dd;A6BxIF,AJnDI,AzB4LF,QkBt0DM4mI,CO0oDCyS,AzB4LF7nJ,CAAL,GyB5LE,AzB4LO2C,GyB5LK,CAACrT,EzB4Lf,GyB5Lc,IAAU,CAAtB,EP1oDyB,QAAQ,GAAGqgJ,YAAYuF;AAPxC,AWqsDZ,AJnDI,AzB4LF,GkB90DU,MOkpDH+R,AzB4LFl4I,CAAL,EyB5LE,CzB4LOpM,EyB5LI,IzB4Lb,CyB5LkBqzJ,GAAL,IAAY1mK,KAAK,KAAK,CAACoxJ,QAAvB,GAAkC,CAAlC,GAAsC,KAAKmH,IAAtD,CAb2C,CAaiB;AIoDhE,A7ByIE,SAAKvkJ,CkBr0DG,AlBq0DR,GAASX,MkBr0DD,AlBq0DR,MkBr0DQ,CAAS0yI,UAAT,EAAqBL,KAArB,EAA4B;AW6rDtC,AJnDI,AzB6LF,QkBt0DQC,GAAAA,AOyoDC6R,AzB6LF,GkBt0DO9R,ClBs0Dd,IkBt0DcA,IAASppI,KOyoDG,CAAC,KAAKy8I,SAAL,CAAed,KAAf,EAAsB,IAAtB,CAAD,CAAxB;AIoDJ,AJnDG,AzB8LD,GyB9MA,AzBsLgC,KkB/yDxBjS,QAAAA,GAAW1pI,QAAAA,CAASsgI,aAATtgI,CAAuB,OAAvBA;AW6rDrB,A7B4IChJ,EAAAA,IAAI,EAAE,KkBx0DMrF,KlBw0DK7N,CAAX,CkBx0Da,ClBw0DE;A6B3ItB,AJnDEimK,AzBgMA,EyBhMAA,MAAM,CAAC5oC,AzBgMFr9H,CAAL,GkBz0DWugJ,AlBy0DFvgJ,CAAT,CyBhMA,GAAgB,OPzoDO2lJ,EOyoDEtoB,MAAT,CAAgBz9H,KAAhB,EAAuB;AIoDzC,AJnDI,AzBiMF,QkB10DQimJ,AOyoDF,CAAChlJ,EzBiMA,CkB10DCglJ,GAAON,AlB00Df,GkB10DeA,AOyoDC,CPzoDGG,AOyoDF5kJ,MAAf,EAAuB,YPzoDVykJ,CAAyB,MAAzBA,EAAiC,CAAjCA;AW6rDjB,AJnDM,AzBkMJ,GAhCgC,UyBlKrB,KAAK+gB,GAAZ;AIoDN,AJnDK,AzBmMJnzJ,EAAAA,IAAI,EkB70DG,AlB60DD,UAAW7C,CAAX,EAAe;A6B/ItB,A7BiJE,SAAKA,CAAL,CkB90DS2vI,ElB80DA3vI,CAAT,SkB90DqBs1I;AADnB,AW+rDJ,AJnDI,AzBqMF,MkB/0DI,EO0oDE,GzBqMC,EkB/0DInxI,AO0oDA6xJ,CP1oDP,ClB+0DJ,CkB/0Dc,AO0oDR,KAAa1mK,KAAjB,EAAwB;AIoD5B,AJnDM,AzBsMJ,GAxCgC,QyB9JvB0mK,GAAL,GAAW1mK,KAAX;AP7pDM,AWitDZ,A7BoJC2f,CkBr2DD,ClBq2DCA,IAAI,EAAE,UAAWF,CAAX,EAAe;AmBl3DtB,AU+tDA,AJnDM,AzBwMJ,ImBp3DIymI,KnBo3DCzmI,CyBxMGzf,AzBwMR,GAASyf,CAAT,CyBxMI,EAAW,KN5qDXymI,GAAAA,sqBAAN;AUguDA,AJnDQ,AzByMN,WAAO,EyBzMIsgB,EzByMX,IyBzMM,GAAc,KAAKzO,MAAL,IAAel4J,IAAI,CAACmQ,GAAL,CAAS,CAAC,KAAKmpJ,MAAf,EAAuB,KAAKN,OAAL,EAAvB,CAA7B,CADS,CAC4D;ALxpD7E,AS4sDA,A7BuJE,GAhDgC,CoBnzD5B1S,iBAAAA,GAAoB,SAApBA,iBAAoB,CAAS3yH,MAAT,EAAiBupB,QAAjB,EAA2B;AS6sDrD,AJnDQ,AzB2MPn9B,EAAAA,IoBp2DO+8H,ApBo2DH,EAAE,KyB3MMgb,GAAL,ELzpDAhb,ApBo2DU3oI,CyB3MC,AzB2MZ,EoBp2DgBwf,ApBo2DD,GyB3ME6jI,GLzpDD7jI,CAAOupB,AKypDX,GAAY,CAAvB,CAHS,CAGiB,ELzpDXvpB;AS6sDvB,AJnDO,AzB4ML,OyBhNI,EzBgNCxf,CAAL,GyB5MW,AzB4MFA,CAAT;A6BxJF,AJnDQgoJ,AzB6MN,MoBr2DIx4G,EKwpDEw4G,GzB6MC,CoBr2DHx4G,CAAOpkC,AKwpDA,EzB6MX,KoBr2DIokC,CAAeviD,SAAAA,CAAU,CAAVA,CAAfuiD,KAAgCA,MAAAA,CAAOs2F,QAAPt2F,CAAgBviD,SAAAA,CAAU,CAAVA,CAAhBuiD,GAA+B;AS4sDrE,A7B2JE,GAxDgC,QoB9yDvB,IAAI+8F,gBAAJ,CAAqB/sH,MAArB,EAA6BupB,QAA7B,EAAuC97C,SAAAA,CAAU,CAAVA,CAAvC;AS4sDX,AJnDQ,AzB+MPuS,EAAAA,WyB/MYmkJ,CzB+MA,EyB/ML,AzB+MO,GyB/MI,KAAKY,EzB+MEv3J,EyB/MlB,CAHK,CAGiB,CzB+Mf,EAAkBhB,KAAlB,EAA0B;A6B3JzC,A7B6JE,YAASgB,KAAT;A6B5JF,AJnDQ,AzBiNL,MoBx2DGwiD,KpBw2DE,CoBx2DFA,ApBw2DH,CoBx2DUo3F,AKupDAme,QLvpDPv1G,CAAgBm5F,AKupDd,CAAe,KAAK3rH,MLvpDtBwyB,AKupDiB,GLvpDc,CKupDC,CAAC,KAAKxyB,MAAL,CAAYs1I,iBAA5B,GAAgD,KAAKzN,OAAL,EAAhD,GAAiE,KAAKd,MAAL,IAAe,KAAKyO,MAApG,EAA4G,KAAK7H,QAAL,OAAoB,CAApB,KAA0B,KAAK5G,MAAL,IAAe3G,QAAzC,KAAsDvxJ,IAAI,CAAC8V,GAAL,CAAS,KAAKqjJ,MAAd,MAA0B5H,QAA5L,EALK,CAKkM;AIoD/M,AJnDO,AzBgNI,QoBt2DH5tG,KpBs2DQpjD,CoBt2DRojD,ApBs2DG,CoBt2DIo3F,EpBs2DK56I,KAAT,CoBt2DHwjD,CAAgBviD,SAAAA,CAAU,CAAVA,CAAhBuiD,KAAiCA,MAAAA,CAAOo3F,QAAPp3F,CAAgBviD,SAAAA,CAAU,CAAVA,CAAhBuiD,GAA+B;AS0sDxE,AJnDK,AzB+MsB,UoBp2DjBA,MAAAA,CAAOo3F,QAAPp3F,CAAgBviD,SAAAA,CAAU,CAAVA,CAAhBuiD,GAA+B;ASysDzC,eTxsDe,IAAIo/F,sBAAJ,CAA2BpvH,MAA3B,EAAmCupB,QAAnC,EACS97C,SAAAA,CAAU,CAAVA,CADT,EACuBA,SAAAA,CAAU,CAAVA,CADvB,EACqCA,SAAAA,CAAU,CAAVA,CADrC;ASysDf,AJnDI,AzB8MD,WyB9MQ,AzB8MH,CAAL,GyB9MC;AIoDJ,AJnDG,AzB6MQ,GyBnOT,UzBmOcyP,CAAL,GAAS1Q,KAAT;A6BzJX,A7ByJ2B,aoBh2Dd,IAAI4iJ,sBAAJ,CAA2BpvH,MAA3B,EAAmCupB,QAAnC,EAA6C97C,SAAAA,CAAU,CAAVA,CAA7C,EAA2DA,SAAAA,CAAU,CAAVA,CAA3D;ASwsDb,AJnDEolK,EAAAA,MAAM,CAAC30D,SAAP,GAAmB,SAASA,SAAT,CAAmB1xG,KAAnB,EAA0B;AIoD/C,AJnDI,AzB2MD,QyB3MKiB,GzB2MA,CAAL,KyB3Mc,CAACC,MAAd,EAAsB;AIoD1B,AJnDM,AzB0MK,QoB71DHsiD,GKmpDGyxC,EzB0MKx1E,CoB71DR+jC,ApB61DG,CoB71DIo3F,EKmpDT,AzB0Mc56I,GyB1MAA,EzB0MT,CoB71DHwjD,CAAgBviD,CKmpDlB,QLnpDkBA,CAAU,CAAVA,CAAhBuiD,GAA+B;ASusDvC,AJnDM,AzByMqB,UyBzMjBxyB,GLnpDG,GKmpDG,CLnpDCmxH,EKmpDE,KAAKnxH,MAAL,IAAe,ELnpDrB,CAAwBwC,EKmpDEwjI,GAAjC,CLnpDO,EAAgCj6G,QAAhC,EACW;AAAEhtC,ASssD1B,AJnDMihB,MAAAA,ELnpDoBjhB,GAAAA,CKmpDd,CLnpDmB9O,IKmpDd+vB,KLnpDc/vB,CAAU,AKmpDlB,CLnpDQA,AKmpDPm4J,CLnpDA,IKmpDP,IAAgB,CAAC,KAAKpoI,MAA3B,CAAN,IAA4CioI,cAAc,CAACjoI,MAAD,EAAS,IAAT,EAAehxB,KAAK,GAAG,KAAKm5J,MAA5B,CAA1D;ALnpDuCnpJ,ASusD7C,AJnDM,AzBwMH,QoB51D0CA,GAAAA,ApB41DrC,CAAL,CoB51D+C/O,AKopDrC,IAAP,KLppD4CA,CAAU,CAAVA,CAA1B;AAAwCmkB,ASwsDhE,AJnDK,AzBuMM,QoB51DqDA,IAAAA,CpB41DhDpR,CoB51DsD/S,ApB41D3D,GAASjB,KAAT,CoB51D2DiB,CAAU,CAAVA;AAA9C,ASysDxB,A7BmJ2B,OoB71Dd;AS2sDb,AJnDI,WAAO,KAAKg0F,MAAZ;AIoDJ,AJnDG,AzBqMA,GyB9MD;AI6DF,A7BiJY,WoB31DD,GpB21DO,CoB31DHktD,GpB21DO1uI,KAAJ,CAAW,UoB31DlB,CAAwB+f,MAAxB,EAAgCupB,QAAhC,CpB21D8C/7C,CoB31DJ,IpB21DnC,CAAN;AoB31D2C+O,AS2sDvD,AJnDEs2J,AzB6LA,EyB7LAA,ILxpDqDt2J,EKwpD/C,CLxpD+CA,AKwpD9C4hG,ELxpDmD1wG,KKwpD1D,GAAiB,CLxpDyCA,CAAU,CAAVA,CAAP,KKwpDzB0wG,OAAT,CAAiBg1D,cAAjB,EAAiC;ALxpDsB32J,AS4sD1E,AJnDI,MLzpDsEA,GAAAA,EAAK/O,AKypDpE,KAAKg0F,ILzpD+Dh0F,CAAU,CAAVA,AKypDpE,GAAc,CAAC+wJ,WAAW,CAAC2U,cAAD,CAAX,GAA8B,KAAKlP,aAAL,EAA9B,GAAqD,KAAKtkD,QAAL,EAAtD,IAAyEtzG,IAAI,CAAC8V,GAAL,CAAS,KAAKgiJ,GAAd,CAA9F;ALzpDiD,AS6sDrD,AJnDG,AzBqMD,GyBvMA,ELxpDS,MpB+1DF,IAAP;A6BjJF,A7BmJE,GAxEgC;A6B1ElC,AJnDE0O,AzBuMD3yJ,EyBvMC2yJ,AzBuMD3yJ,MyBvMO,CAACmlJ,KzBuMI,EyBvMX,AzBuMa,GyBvMI,OzBuMO73J,EyBvME63J,GzBuMb,EAAmB,EyBvMf,CAAiB+N,WAAjB,EAA8B;AIoDjD,AJnDI,AzBwMF,MoBl2DIpjH,EK0pDExyB,IL1pDFwyB,ApBk2DKxiD,CoBl2DE05I,CK0pDC,GAAG,AzBwMf,IoBl2DIl3F,CAAgBm5F,AK0pDA3rH,MAAL,IAAe,EL1pD1BwyB,GAA+B,AK0pDAwzG,GAAjC,CAD6C,CACP;AIoD1C,A7BsJG,WoBn2DQ,ApBm2DH,CAAL,GoBn2DYjW,gBAAJ,CAAqBvtH,MAArB,EAA6BupB,QAA7B;AS8sDX,AJnDI,AzBwMO,WyBxMA,CAAC/rB,GzBwMM,GyBxMP,EzBwMY5wB,CyBxMF,AzBwMV,KyBxMe23J,MAAf,GAAwB6O,WAAW,KAAK,CAAC,KAAKjP,GAAN,IAAa,KAAKE,OAAL,IAAgB,KAAKa,KAArB,IAA8B,KAAK+N,aAAL,KAAuB,CAAvE,CAAX,GAAuF,KAAK1O,MAAL,IAAe,KAAKa,IAAL,GAAY,KAAKZ,OAAhC,CAAvF,GAAkI,CAAC,KAAKL,GAAN,GAAY,KAAKI,MAAjB,GAA0BI,uBAAuB,CAACnnI,MAAM,CAAC6nI,OAAP,CAAe+N,WAAf,CAAD,EAA8B,IAA9B,CAAlN;AIoDJ,AJnDG,GAJD,CAIE;AIoDJ,AJnDE,AzBuMC,MoBj2DGpjH,KpBi2DE,CoBj2DFA,ApBi2DH,CoBj2DU4iG,UAAP5iG,CAAkBm5F,YAAlBn5F,GAAiC;AS8sDvC,AJnDE,AzBsMS,WoBh2DA,IAAI+/F,ApBg2DG,KAAK7yI,CAAZ,YoBh2DA,CAAuB8iB,MAAvB,EAA+BupB,QAA/B,EAAyC,EAAzC;AS8sDX,AJnDE;AIoDF,AJnDE,AzBqMC,WAAK,CAAL;A6BjJH,AJnDE,AzBoMS,MoB91DLyG,MAAAA,CAAO6iG,EpB81DK,KAAK5mI,CAAZ,CoB91DL+jC,CAAiBm5F,YAAjBn5F,GAAgC;AS8sDtC,AJnDE,WL1pDS,IAAIy8F,iBAAJ,CAAsBzsH,MAAtB,EAA8BupB,QAA9B;AS8sDX,AJnDE,AzBmMC,WAAK,CAAL;A6B/IH,AJnDE,AzBkMS,eAAO,KAAK/oC,CAAZ;A6B9IX,AJhEE,SL7oDO;AAzCT,ASuvDA,A7B8IG,CoBr4DH;ASwvDA,AJnDEqyJ,AzBgMU,EyBhMVA,MAAM,CAACtoJ,KzBgMS,CyBhMhB,GAAgB,AzBgMItK,KAAJ,CAAW,GyBhMFsK,MAAT,CAAgB/d,KAAhB,EAAuB,WzBgMgBgB,KAAvC,CAAN;AqB74DZ,AQiwDA,AJnDI,AzByLF,QyBzLMC,CJ9sDC6lD,QI8sDQ,CAAC5lD,MAAd,EAAsB,IJ9sD1B,CAA+BslB,QAA/B,EAAyC;AQkwDzC,AJnDM,AzBkMJ,GAtFgC,QyB5GvBqxI,EJ9sDErxI,KI8sDP,GAAexmB,EJ9sDE,GI8sDjB,IJ9sDwB;AQkwD9B,AJnDM,AzBmML2T,EAAAA,KAAK,EAAE,IyBnMKmnJ,QzBmMO,cyBnMe,CAAC,IAAD,CAA7B;AIoDN,AJnDK,AzBoMH,WAAO,IAAI,KAAKlnJ,WAAT,CAAsB,KAAKxT,CAA3B,EAA8B,KAAKsQ,CAAnC,EAAsC,KAAK+O,CAA3C,EAA8C,KAAKzL,CAAnD,CAAP;AqBj5DF,AQiwDA,A7BkJE,GA5FgC,CqBvzDlC,uBAAA,GAAes4E,MAAAA,CAAOxlC,qBAAPwlC,IACXA,MAAAA,CAAOg6D,2BADIh6D,IAEXA,MAAAA,CAAOi6D,wBAFIj6D,IAGXA,MAAAA,CAAOk6D,sBAHIl6D,IAIXA,MAAAA,CAAOm6D,uBAJIn6D,IAKXxlC,qBALJ;AQkwDA,AJnDI,AzBsMHjzC,EAAAA,IAAI,EAAE,GyBtMI,KAAKgkJ,EzBsME/jJ,CAAX,EAAe,EyBtMlB;AIoDJ,AJnDG,AzBuMD,GyB9MA,CH1sDI4yI,KtBw5DCtmJ,CAAL,GAAS0T,CAAC,CsBx5DN4yI,AtBw5DOtmJ,CAAX,EsBx5DIsmJ,YAAAA;AOqwDN,A7BoJE,SAAKh2I,CAAL,GAASoD,CAAC,CAACpD,CAAX,SsBx5Dc;AOqwDhB,AJnDE21J,AzBuMA,EyBvMAA,MAAM,CAACvM,AzBuMFr6I,CAAL,GAAS3L,CAAC,CAAC2L,CAAX,IyBvMA,GAAqB,SAASq6I,WAAT,CAAqB95J,KAArB,EAA4B;AIoDnD,AJnDI,AzBuMF,QyBvMMiB,CHltDC0lJ,AtBy5DF3yI,CAAL,GAAWF,CAAC,CAACE,CAAF,CyBvMI,CAAC9S,GzBuMGtB,GyBvMjB,EAAsB,GHltDG0c,CtBy5DlB,GAAwBxI,CAAC,CAACE,CAA1B,CsBz5DkBsI,CAASsgI,CtBy5DG,CAAvC,WsBz5D2BtgI,CAAuB,KAAvBA;AOswD7B,AJnDM,AzBwMJ,WsB15DS+/H,AGktDA2b,AzBwMF,IAAP,GsB15DgB,AGktDZ,GAAeh4J,EHltDE2mJ,GGktDjB,cHltDY,CAAuBhjH,OAAO;AOswDhD,AJnDM,AzByMJ,GAvGgC,UyBlGrBm3H,UHltDU,YGktDY,CAAC,IHntDY,AGmtDb,CAA7B;AIoDN,AJnDK,AzB0MJ/mJ,EAAAA,GAAG,EAAE,IsB55DK,CAFqC,KtB85D/BD,CAAX,EAAcE,CAAd,EAAkB;A6BtJxB,A7BwJE,QAAKA,CAAC,GsB75DI,CAHoC,CtBg6DnCpU,SAAX,EAAuB;A6BvJzB,AJnDI,AzB4MDmT,MAAAA,KyB5MQ,EzB4MD,CAACC,CsB95DI,CGktDCglJ,EzB4Mb,CAAc,EsBl6D+B,EGstD5C,mFzB4MD;A6BxJH,AJnDG,AzB4MA,GyBnND,UzBmNQ,CsB95DI,ItB85DC/jJ,EsBn6DiC,QtBm6DtC,CAAiBH,CAAjB,EAAoBE,CAApB,CAAP;A6BxJH,A7B0JG,esB/5DY,CANiC;AO4wDhD,AJnDEqyJ,EAAAA,MAAM,CAACH,IAAP,GAAc,QHltDQ,CGktDCA,IAAT,CAAclmK,KAAd,EAAqB,QHztDW;AO6wDhD,AJnDI,AzB6MF,QyB7MMiB,CzB6MDb,CAAL,IAAU0T,CAAC,CAAC1T,CyB7MG,AzB6Mf,CsB/5DgB,AGktDAc,MAAd,EAAsB;AH1tDsB,AO8wDhD,AJnDM,AzB6MJ,SAAKwP,CAAL,CyB7MSu1J,GzB6MCnyJ,CAAC,CyB7MP,AzB6MQpD,CAAZ,EyB7MiB1Q,KAAb;AIoDN,AJnDM,AzB6MJ,QsB95DM4mJ,CtB85DDnnI,CAAL,GyB7MW,CzB6MD3L,CAAC,CAAC2L,CyB7MR,AzB6MJ,MsB9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F,OAAT,CAAiByI,IAAjB,EAAuBqqD,cAAvB,EAAuC;AIoD1D,AJnDI,AzB0NF,QyB1NMrqD,GzB0NC,CyB1NG,GzB0NV,CyB1Nc,IAAZ,EAAkB,KHjtDb;AOqwDT,AJnDM,AzB2NJ,GA1JgC,OsBlxDxB3lB,CGitDCkoB,IHjtDDloB,AGitDJ,CAAU2lB,EHjtDE,EGitDE,IAAI,KAAKgsD,aAAL,EAAlB,EAAwC3B,cAAxC;AIoDN,AJnDK,AzB4NJzhJ,EAAAA,GAAG,EAAE,UAAWP,CAAX,EAAcE,CAAd,EAAkB;A6BxKxB,A7B0KE,QAAKA,CAAC,EsB96DC2yI,GtB86DI/mJ,SAAX,EAAuB,IsB96DE+jC,MAAMojH,UAAU;AOqwD3C,AJnDI,AzB8NDh0I,MAAAA,KsB96DM2yE,AGgtDE,EzB8ND,CAAC1yE,EyB9NKozJ,EzB8Nb,CAAc,GsB96DGziI,EGgtDT,CAAc,GHhtDCojH,CGgtDf,EAAoBtpB,MAApB,CHhtDyB,AGgtDE,KAA3B,CAAP,8DzB8ND;A6B1KH,AJnDG,AzB8NA,GyBpOD,QH1sDO/3C,EtB86DC,KAAKpxE,IsB96DKqvB,MAAM0C,AtB86DhB,CAAiBvyB,CAAjB,EAAoBE,CAApB,CAAP,IsB96DiC;AOowDpC,A7B4KG,WsB96DM0xE,WAAW/hD,MAAMqjH,kBAAkB;AOmwD5C,AJnDEqf,EAAAA,MAAM,CAACh1C,EH9sDA41B,GG8sDP,GAAe,SAAS51B,KAAT,CAAe01C,MAAf,EAAuBjR,cAAvB,EAAuC;AIoDxD,AJnDI,AzB+NF,QyB/NMiR,CzB+ND3mK,CAAL,GsB56DS8mJ,CG6sDG,AzB+NFpzI,CAAC,CAAC1T,CAAZ,CyB/NgB,CH7sDD,GG6sDb,EAAoB,OH7sDI;AOiwD5B,AJnDM,AzB+NJ,SAAKsQ,CAAL,CyB/NSs9F,GH7sDC24C,AtB46DA7yI,CyB/NN,AzB+NO,CyB/NGizJ,AzB+NFr2J,CAAZ,KyB/NI,EAAkBolJ,QH7sDMnyH,MAAM0C,AG6sD9B,UH7sDwC;AOiwD9C,AJnDK,AzB+NH,SAAK5mB,CAAL,IsB56DUimE,AtB46DA5xE,CAAC,CAAC2L,CAAZ,QsB56DqBkkB,MAAM0C,UAAU;AOiwDvC,A7B4KE,SAAKryB,CAAL,IsB56DU0xE,AtB46DA5xE,CAAC,CAACE,CAAZ,QsB56DqB2vB,MAAMqjH,kBAAkB;AAH3C,AOowDJ,AJnDI,AzBgOF,WyBhOS,AzBgOF,IAAP,CyBhOcvpB,MAAL,CAAY,IAAZ,CAAP;AIoDJ,AJnDG,AzBiOD,GyBvOA,AzB2DgC;A6BDlC,A7B+KClpH,EAAAA,SAAS,EAAE,UAAWJ,CAAX,EAAe;A6B9K3B,AJnDEkyJ,AzBmOA,EyBnOAA,MAAM,CAACW,AzBmOF5mK,CAAL,IAAU+T,CyBnOV,AzBmOA,GyBnOgB,SAAS6yJ,MAAT,GAAkB;AIoDpC,AJnDI,AzBmOF,SAAKt2J,CAAL,CyBnOS,GzBmOCyD,CAAV,CyBnOcspH,MAAL,CAAY,IH3sDd,CG2sDE,CAAP;AIoDJ,AJnDG,AzBmOD,GyBrOA,MzBqOKh+G,CsB96DGqmE,AtB86DR,IAAU3xE,CsB96DF2xE,AtB86DR,GsB96DgB;AO+vDlB,A7BgLE,SAAK9xE,CAAL,IAAUG,CAAV;A6B/KF,AJnDEkyJ,AzBoOA,EyBpOAA,MAAM,CAACD,CH3sDCtf,CtB+6DD,GsB/6DCA,CtB+6DR,EsB/6De,AG2sDf,GAAkB,MH3sDVA,GG2sDmBsf,CH3sDZ,GAAW,IG2sDR,CAAkBpmK,KAAlB,EAAyB;AIoD7C,AJnDI,AzBqOF,GAvLgC,KyB9C1BiB,MH3sDIykF,GG2sDK,CAACxkF,MAAd,CH3sDmByiC,CG2sDG,KH3sDGojH,UAAU;AO+vDvC,AJnDM,AzBsOLzyI,EAAAA,QyBtOS,CAAC,CAACtU,AzBsOD,EsBj7DC2mJ,AtBi7DC,GyBtOH,KAAY,EzBsOE30I,CAAX,EyBtOco0J,AzBsOAn0J,CAAd,EAAkB,EsBj7DD0xB,GG2sDR,EAAhB,CH3sD8BojH,CG2sDG,SH3sDO;AO+vD9C,AJnDQ,AzBuON,SAAK3mJ,CAAL,EsBj7DQy2H,CG0sDGplB,AzBuOFz/F,CAAC,CAAC5R,CAAF,GsBj7DM0lF,AtBi7DA7zE,CAAC,CAAC7R,CyBvOX,AzBuON,CyBvOqB,CH1sDN0lF,AG0sDO,CH1sDDJ,IG0sDM6yE,IAAN,IH1sDY,CG0sDGv4J,KAAK,GAAG,CAACoxJ,QAAJ,GAAe,CAAnC,CH1sDmCtK,AG0sDlD,EAD+B,CACwB;AIoD/D,AJnDO,AzBuOL,SAAKp2I,CAAL,EsBj7DQmmH,CtBi7DC7kH,CAAC,CAACtB,CAAF,GsBj7DMo1E,AtBi7DA7zE,CAAC,CAACvB,CAAjB,EsBj7Deo1E,CAAMJ,YAAY,iBAAiBohE;AO8vDpD,A7BoLE,SAAKrnI,CAAL,EsBj7DQo3G,CtBi7DC7kH,CAAC,CAACyN,CAAF,GsBj7DMqmE,AtBi7DA7zE,CAAC,CAACwN,CAAjB,EsBj7DeqmE,CAAMJ,YAAY,kBAAkBohE;AANjD,AOowDJ,AJnDM,AzBuOJ,SAAK9yI,CAAL,GyBvOW,AzBuOFhC,CAAC,CAACgC,CAAF,CyBvOL,EzBuOW/B,CAAC,CAAC+B,CAAjB;A6BnLF,AJnDK,AzBwOH,WAAO,IAAP;A6BpLF,A7BsLE,GAlMgC,OsBjvD1B0/E,KAAK,KAAKhO,YAAY,uBAAuBohE;AO8vDrD,AJnDI,AzB0OHryI,EAAAA,QsBp7DOi/E,CG0sDG,IH1sDE,CG0sDG6kE,AzB0OD,EAAE,EsBp7DC7yE,AG0sDP,GAAY,CAAnB,IzB0OwBryE,IsBp7DE,EtBo7Db,EAAoB,asBp7DUyzI;AO8vD/C,AJnDG,AzB2OD,GyBrPA,MzBqPK1mJ,CsBr7DCszF,AtBq7DN,IAAUrgF,CsBr7DC,KAAKqyE,AtBq7DhB,YsBr7D4B,kBAAkBohE;AO8vDhD,A7BwLE,SAAKp2I,CAAL,CsBp7DOi2I,GtBo7DGtzI,MAAV,SsBp7DyBswB,MAAM0C,UAAU;AO6vD3C,AJnDEggI,AzB2OA,EyB3OAA,MAAM,CAACnM,AzB2OFz6I,CAAL,CsBn7DOimE,GtBm7DGryE,KyB3OV,CzB2OA,EsBn7DkBswB,AGwsDE,MHxsDI0C,GGwsDK6zH,OHxsDK,GGwsDd,GAAsB;AIoD5C,AJnDI,AzB2OF,SyB3OOvB,AzB2OF3kJ,CAAL,CsBn7DO0xE,GtBm7DGryE,GyB3OR,GAAgB,AzB2OlB,CyB3OE,CHxsDgBswB,MAAMqjH,kBAAkB;AO4vD5C,AJnDI,AzB4OF,SyB5OOgS,EzB4OA,IyB5OL,AzB4OF,GyB5OgB,CAAC5H,QAAf;AIoDJ,AJnDI,AzB6OF,GA7MgC,QyBhCvB,IAAP;AIoDJ,AJnDG,AzB8OFvxI,EAAAA,CyBlPC,WzBkPW,EAAE,UAAW1P,CAAX,EAAe;A6B1L9B,A7B4LE,QAAI/P,CAAC,GAAG,KAAKA,CAAb,WsBx7DS;AO6vDX,AJnDEimK,AzB8OA,EyB9OAA,MAAM,AzB8OU31J,CyB9OTowI,AzB8OU,EsBv7DVp7D,CtBu7Da,KyB9OpB,AzB8OyBh1E,CAAzB,EyB9OkB,EHzsDAizB,MAAMvV,CGysDG0yH,MHzsDIx0D,EGysDb,CAAkB26E,GHzsDL36E,CAAO66D,MGysDpB,EAA8B,EHzsDjB76D,GAAoB,CAApBA,GAAwBgxD,GAAAA,CAAI8J,QAAJ9J,CAAa,KAAK53D,UAAlB43D,IAAgC,CAAxDhxD,GAA4D;AO6vD7F,AJnDI,AzB6OF,QyB7OMt7D,AzB6OsBvR,CAAC,EsBt7DtBimE,CtBs7DyB,EyB7OpB,GAAG,AzB6OsBjmE,CAArC,IsBt7DkBkkB,AGysDE3S,MHzsDI1C,AGysDT,IAAe,EHzsDAg+D,GGysDK0qE,GHzsDL1qE,AGysD5B,CHzsDmC+6D,WAAP/6D,GAAqB,CAArBA,GAAyBgxD,GAAAA,CAAIgK,SAAJhK,CAAc,KAAK53D,UAAnB43D,IAAiC,CAA1DhxD,GAA8D;AO6vD9F,AJpDI,AzB6OF,QyB5OMzsD,AzB4OkC7rB,CAAC,GAAG,CyB5OjC,GAAG,CzB4OmCA,CAAjD,GyB5OmBihF,MADjB;AIqDJ,AJrDI,AzB8OF,QyB5OM4jE,AzB4OFhkJ,CAAC,GAAG1E,CAAC,CAAC2E,CyB9OR,OzB8OF;A6BxLF,AJnDI,AzB6OF,SAAK1U,CAAL,CyB7OS,CAAC,CzB6ODyU,CyB7OG,AzB6OF,CyB7OGmc,AzB6OD,CAAF,CAAD,GAAS5wB,CyB7ON,AzB6OH,GAAayU,CyB7OC,AzB6OA,CAAE,CAAF,CAAD,EyB7OM8iJ,CzB6OGjnJ,CAAtB,CyB7Oc,EzB6OYmE,CAAC,CAAE,CyB7OF,AzB6OA,CAAD,GAAS4K,CyB7OHk5I,AzB6OhC,GAAuC9jJ,CAAC,CAAE,EAAF,CyB7Ob,AzB6OY,GAAUb,CyB7OL,AzB6OrD,CyB7OsDizJ,UAA/B,KAA8Cj2I,MAAM,CAAC8vH,QAAP,CAAgBmmB,UAAhB,CAA9C,IAA6E,CAACpO,OAAO,GAAG7nI,MAAM,CAAC6nI,OAAP,CAAe,IAAf,CAAX,KAAoCh5H,KAAjH,IAA0Hg5H,OAAO,GAAG,KAAKlnD,OAAL,CAAa,IAAb,IAAqBy/C,QAAtK,CAAR;AIoDJ,AJnDG,AzB6OD,CsB7gEI1K,EG2xDJ,MzBkPKh2I,CAAL,GAASmE,CAAC,CAAE,CAAF,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAAnC,GAAuC5K,CAAC,CAAE,EAAF,CAAD,GAAUb,CAA1D;A6BzLF,A7B0LE,SAAKyL,CAAL,GAAS5K,CAAC,CAAE,CAAF,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,EAAF,CAAD,GAAU4K,CAApC,GAAwC5K,CAAC,CAAE,EAAF,CAAD,GAAUb,CAA3D;A6BzLF,AJnDEqyJ,AzB6OA,EyB7OAA,MAAM,CAACa,AzB6OFlzJ,CAAL,GAASa,CAAC,CAAE,CAAF,CAAD,GAASzU,CAAT,CyB7OT,EzB6OsByU,CyB7OC,AzB6OA,CAAE,CAAF,CAAD,GAASnE,CAAtB,EyB7OuBw2J,CzB6OGryJ,CAAC,CAAE,EAAF,CAAD,GAAU4K,CAApC,GyB7Oc,AzB6O0B5K,CyB7OH5G,AzB6OI,CAAE,EAAF,CyB7O3B,AzB6O0B,EyB7OGuY,CzB6OOxS,CAA3D,MyB7OuB,EAAuC0hF,MAAvC,EAA+C;AIoDxE,AJnDI,AzB8OF,QyB9OM2/D,GzB8OC,CyB9OG,GAAG,AzB8Ob,KyB9OkBA,IAAhB;AFtxDJ5P,AM00DA,A7B4LE,GuBtgEFA,AvB2yDkC,CuB3yD9B8B,MAAJ9B,CAAW+B,UAAX/B;AAGA,AMw0DA,AJnDI,AzBgPH9wI,EAAAA,EuBrgEK8yI,IEqxDExmJ,MzBgPK,EAAE,CuBrgETwmJ,AEqxDW,CAACvmJ,EFrxDI,IAAtB,AEqxDQ,EzBgPkBmS,CyBhPC,CAAvB,EAA0B,EzBgPf,EAAoB;AuBngEnC,AMu0DA,AJnDM,AzBiPJ,IuBrgEIq0I,MEoxDI,CAAClhI,AzBiPF,KAAK/R,CuBrgERizI,EEoxDA,CFpxDgB,CEoxDD,CFpxDrB,QvBqgES,CAAqB,IAAIr0I,MAAzB,CAAP;AuBlgEF,AMq0DA,AJnDQ,AzBkPN,GAjOgC,CuBnyD5Bs0I,WEkxDS0N,IAAI,CAACpnJ,GFlxDd05I,CEkxDa,CAAX,CFlxDoB,EAA5B;AAEA,AMo0DA,AJnDO,AzBmPN7nI,EAAAA,EuBpgEK8nI,GE+wDA,MAEO,ezBmPc,EAAE,CuBpgEvBA,GAA8B,MvBogEI71I,CAAX,EuBpgE7B,AvBogE4C;A6B/L5C,AJnDQsjJ,AzBoPN,QyBpPMA,IAAI,CAACpnJ,IAAD,CAAJ,GAAauY,QAAb;AFhxDR,AMo0DA,A7BkME,IuBtgEIqhI,sBAAAA,GAA0B,YAAW;AMq0D3C,AJnDQ,AzBsPN,MuBvgEI,GvBugEC7zI,CAAL,EyBtPU0hF,CzBsPD,IAAI71F,CyBtPP,EAAY,CzBsPD,CAACkgB,IAAL,CAAWhO,CAAC,CAACiC,CAAb,CAAb;A6BlMF,AJnDUqhJ,AzBuPR,QAAIlhJ,CAAC,CyBvPGkhJ,CFjxDC,CAAC,AvBwgEFx1J,CuBxgEGysF,CEixDC,CAACr+E,CzBuPD,CAACwH,EuBxgEF62E,AEixDM,CFjxDCw7D,CvBwgEV,CyBvPY,AzBuPD,IAAI/1I,CAAC,CAACiC,CAAF,CyBvPX,CAAJ,CzBuPqBjC,CAAC,CyBvPE2jF,AzBuPD1hF,CAAvB,CAAR,IyBvPQ;AFlxDR,AMs0DF,AJnDS,IFjxDL,OAAOa,CAAP,EAAU;AMq0Dd,A7BoME,QAAKV,CAAC,EuBxgEG,CvBwgEA,MAAT,EAAkB;A6BnMpB,AJnDQ,AzBwPL,WAAK/T,CyBxPI6N,AzBwPT,GAAS,CyBxPI,AzBwPb,KyBxPkB,UAAb,EAAyB;AFtxDD,AM00DhC,AJnDU,AzBwPP,CuB/gE6B,EAAhC,QvB+gEQyC,CAAL,GyBxPY4pJ,AzBwPH,CAAT,QyBxPO,GAAiB9zI,QAAjB;AIoDV,AJnDS,AzBwPN,WAAK/G,CAAL,GAAS,CAAT;AuBxgEH,AMo0DA,AJnDO,AzByPJ,IuB1gECsoI,CvBogEF,MAMO,MuB1gELA,GAAAA,KAAAA,CAAJ;AAGA,AMk0DA,A7BuMG,IuBzgECC,OvBygEI5nJ,CAAL,GAAS2R,CAAC,CAAC3R,CAAF,CuBzgER4nJ,EvBygEc7zI,CuBzgEI,AvBygEnB,IuBzgEH;AAGA,AMg0DA,AJnDM,AzB0PH,IuBvgEC8zI,OvBugEIv3I,CAAL,CyB1PU,EzB0PDqB,CAAC,CyB1PP,AzB0PQrB,CAAF,GAAMyD,CuBvgEd8zI,AvBugED,GuBvgECA,KAAAA,CAAJ;AAGA,AM8zDA,AJnDK,AzB0PF,IuBrgECnB,IAAAA,GAAO,AvBqgEHrnI,CAAL,GAAS1N,CuBrgEZ,AvBqgEa,CAAC0N,CAAF,GAAMtL,CAAf;AuBlgEH,AM4zDA,A7BwMG,IuBpgEG+zI,YAAAA,GAAe,EAArB;AM6zDA,AJnDI,WAAOmN,IAAI,CAACpnJ,IAAD,CAAX;AF/uDJ,AMmyDA,AJnDG,AzB2PD,GyBjRA,CF1tDIk6I,GAAAA,GAAM,CvB2+DH,IAAP,IuB3+DIA,GAAM,CAAS/2E,IAAT,EAAe;AMoyD3B,A7ByME,GA7PgC,GuB/uD1B0U,KAAAA,GAAQ;AMoyDhB,AJnDEugF,AzB6PDrmJ,EyB7PCqmJ,AzB6PDrmJ,MyB7PO,CAACuiE,IAAP,GAAc,SAASA,IAAT,CAAc4kF,EzB6PC,EAAE,OyB7PjB,EAA2B,CzB6PCh3J,CAAX,EAAe;A6BzMhD,AJnDI,AzB8PF,MuB9+DIulF,EEgvDE66D,IFhvDF76D,AEgvDM,GFhvDGtkB,AEgvDA,IFhvDAA,AEgvDX,IFhvDmB;AMoyDvB,AJnDI,AzB+PF,OuB1+DKsU,IE2uDI,IAAI0hF,KF3uDK9qJ,EE2uDT,CAAY,KF3uDHA,CAASsgI,IE2uDIyqB,OAAV,EF3uDH/qJ,AE2uDsB,CF3uDC,KAAvBA;AM+xDpB,AJnDM,AzBgQJ,OuB3+DK8rI,CvB2+DDvyI,EyBhQImE,CAAC,EzBgQT,CuB3+DYsC,AE2uDAs1I,QF3uDAt1I,CAASsgI,EE2uDE,CAACuqB,UF3uDZ7qJ,CAAuB,AE2uDZ,CAAX,GF3uDAA,AE2uD2B6qJ,WAA3B,GAAyCnR,YAAjD;AIoDN,AJpDM,AzBgQJ,OuB1+DKtwE,CvB0+DMtlF,CAAX,CyB/PQknK,QF3uDQjnB,AE2uDA,GAAG,SF3uDS,AE2uDAinB,KF3uDKlf,GE2uDd,GAAoB;AIoDzC,AJnDQ,AzB8PN,MuBx+DIpF,EvBw+DUtyI,CAAd,GyB9PU62J,GF1uDG,EE0uDE,GF1uDG7hF,AE0uDA6qE,IAAI,CAAChuE,IAAjB,GF1uDwBklE;AM8xDhC,AJnDQ8I,AzB6PN,OuBl+DKlI,CEquDCkI,AzB6PW9wI,CAAjB,GyB7PU,CAAC8iE,IAAL,EFruDW,CEquDC,IAAZ,CAFiC,CAEf;AIoD1B,A7ByME,OuBh+DK+lE,CvBg+DgB,euBh+DA;AMwxDvB,AJnDQsJ,AzB4PL3xI,IAAAA,GuB39DIsoI,CE+tDCqJ,GzB4PE,GAAG,IADX,CyB3PiB,CAAC53I,CAAD,CAAX,KAAmBA,CAAC,CF/tDC,EE+tDEA,CAAC,CAACu2I,IAAD,CAAxB,MAAoCv2I,CAAC,CAACuoE,IAAF,IAAUvoE,CAAC,KAAKu2I,IAApD,MAA8DA,IAAI,CAAChuE,IAAL,GAAYglF,KAA1E;AIoDR,AJnDQF,AzB0PN,OuBt8DK7e,CE4sDC6e,AzB2PY,OyB3PL,CAACrtJ,CAAD,CAAP,8BF5sDwC;AMgwDhD,AJnDQu2I,AzB2PLrwI,IAAAA,GuBt8DIuoI,CE2sDC8H,IAAI,AzB2PD,CyB3PEhuE,EzB2PC,EyB3PN,CzByPN,EyBzPkBglF,CF3sDC,IE2sDb;AIoDR,AJnDO,AzBwPL,OyBhQI,CzBkQc,GuBn8DT/jH,MAAAA,CAAOq7F,QAAPr7F,CAAgBkyC,MAAhBlyC,EAAwB;AM6vDnC,A7BwMGzrC,IAAAA,EAAE,GAAG5H,CAAC,CAAC2E,KuBp8DM,GvBg8Dd,EuBj8DiC;AM8vDnC,AJnDM,AzBsPJ,QAMCqL,EyB5POowI,CzB4PJ,GyB5PQ,AzB4PLx4I,CuBr8DM,AEysDA4gJ,CzB4PJ,CAAE,CAAF,CuBv8DwB,AvBi8DjC,IyBtPQ,IAAiBpI,IAAI,CAACkW,aAAL,OAAyB,CAA1C,IAA+ClW,IAAI,CAACoH,GAAL,IAAY,CAA3D,IAAgE,CAACpH,IAAI,CAACwH,MAAN,IAAgBxH,IAAI,CAACoH,GAAL,GAAW,CAA/F,EAAkG;AIoDxG,AJnDQ2P,AzBqPN,QyBrPMA,AzB2PUlnJ,GuBp8DP+nI,AvBo8DU,GuBp8DVA,AvBo8DapwI,CuBp8DT2wI,CEysDC,AzB2PU,CAAE,CAAF,CANxB;AuBj8DiC,AMgwDnC,AJnDO,AzBoPL,GuBj8DSllG,IE2sDL,CzB4P2BnjC,GAAG,EyB1PvB,CzB0P0BtI,EAAE,CAAE,CAAF,CANvC;A6BhMF,AJnDQw4I,AzBmPN,QyBnPMA,AzB0PLjwI,GuBl8DQkjC,AvBk8DL,CyB1PM,CAAC+2G,CzB0PJxiJ,EAAE,CuBl8DAyrC,AvBk8DE,CuBl8DKq7F,AEwsDV,AzB0PG,CAPT,EyBnPmByoB,KFxsDV9jH,CAAgBkyC,EEwsDnB,IFxsDGlyC,EAAwB;AM4vDnC,AJnDO,AzBkPL,QAOgBjjC,GAAG,GAAGxI,CuBj8DT29E,CvBi8DW,CAAE,CAAF,CAPxB,EuB17DaA,CAAOizD,SADa;AM6vDnC,AJnDK,AzBiPH,KyBjQS,CAAP,EzBwQ6BnoI,GAAG,GuBh8DtBk1E,AvBg8DyB39E,EAAE,CAAE,CAAF,CAPvC,CuBz7DY29E,CAAOizD;AAFc,AM8vDnC,AJnDG,AzBgPD,GuB37DSnlG,AEwrDT,KzB2QC/iC,GAAG,GAAG1I,EAAE,CAAE,CAAF,CART;A6B5LF,A7B4LE,QAQgB2I,GAAG,GAAG3I,EAAE,CAAE,CAAF,CARxB;A6B3LF,AJnDEsuJ,AzB8OA,EyB9OAA,IFxsDI,CAAC7iH,CEwsDC,AzBsPyB7iC,CyBtPxBo/I,EzBsP2B,EuB97D7Bv8G,AEwsDL,CFxsDYu2F,AvB87DyBhiI,EyBtPvB,AzBsPyB,CAAE,EAAF,CARvC,KuBt7DKyrC,AEwsDkBu8G,CFxsDCrqE,GEwsDV,GFxsDUA,AEwsDM,CFxsDCyhB,IAA1B3zD,GAAiC;AM4vDxC,AJnDI+7G,IAAAA,IFvsDI7pE,MAAAA,AEusDM,CFvsDCkzD,AEusDA,IAAD,CAAV,GFvsDmB;AM2vDvB,AJnDG,AzBsPD,GyBxPA,KzBwPO/oJ,IAAI,CuB77DAs3G,AvB67DCxhG,GAAL,CAAUyK,CuB77DDwoI,EvB67DI,GAAGtoI,GAAhB,CuB77DkBo1E,GvB67DMz1E,GuB77DNy1E,CAAOkzD,GvB67D3B,IACE/oJ,IAAI,CAAC8V,GAAL,CAAU0K,GAAG,GAAGI,GAAhB,IAAwBR,OAD1B,IAEEpgB,IAAI,CAAC8V,GAAL,CAAU6K,GAAG,GAAGE,GAAhB,IAAwBT,OAF/B,EAE2C;A6BpM7C,A7BsMG;AuBp8DD,AM+vDF,AJnDE,AzByPC,SuBh8DM,AEusDA+lJ,SAAP;AIoDF,AJnDC,AzByPE,CyB1jBH,EAFO,QFp4CI7uD,OAAO;AAAEyxC,AM2vDpB,A7BuMG,MuBl8DiBA,IvBk8DV/oJ,EuBl8DU+oJ,EAAQhB,AvBk8Dd,CAACjyI,GAAL,CAAUyK,GAAG,GAAGE,GAAhB,IAAwBJ,QAA1B,IACErgB,IAAI,CAAC8V,GAAL,CAAU0K,GAAG,GAAGI,GAAhB,IAAwBP,QAD1B,IAEErgB,IAAI,CAAC8V,GAAL,CAAU6K,GAAG,GAAGE,GAAhB,IAAwBR,QAF1B,IAGErgB,IAAI,CAAC8V,GAAL,CAAUwK,GAAG,GAAGI,GAAN,GAAYI,GAAZ,GAAkB,CAA5B,IAAkCT,QAHzC,EAGsD;AuBr8DvC,AM4vDlB,A7B2MI;A6B1MJ,A7B4MI,aAAKpN,GAAL,CAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB;A6B3MJ,AJrDAmjJ,AzBkQI,YyBlQQ,CAAC+P,EzBkQF,IAAP,CANqD,CAMxC,CyBlQK,CAAC1lK,SAAX,EAAsB;AIsDlC,AJrDEo4J,AzBmQE,EyBnQFA,IFvsDIl1G,CEusDC,AzBkPsC,CAmB1C,CyBrQM,CADyB,EFtsD5BA,CAAOu2F,WAAPv2F,CAAmBkyC,MAAAA,CAAO1kE,MAA1BwyB,KAAqCkyC,MAAAA,CAAOmzD,UAAU;AM6vD5D,AJrDE5zD,EAAAA,MAAM,EAAE,CAFwB,MFrsDjB3mF,KAAK;AM6vDtB,AJrDE4mF,EAAAA,IAAI,EAAE,CAH0B;AIyDlC,AJrDE6iE,AzBoQCliJ,EyBpQDkiJ,IzBoQCliJ,EyBpQK,EAAE,CAJwB,AzBwQ1B,GAAGhW,IAAI,CAACuP,EAAb;A6B9MH,AJrDEipJ,AzBqQC,EyBrQDA,KAAK,EFtsDEvP,AEssDA,CALyB,AzB0Q3BloI,EAAE,GAAG,CAAET,GAAG,EuB38DIqjC,CvB28DD,CAAR,IuB38DSA,AvB28DK,CuB38DEu2F,AvB28DzB,WuB38DkBv2F,CAAmBkyC,MAAAA,CAAO1kE,MAA1BwyB,KAAqCkyC,MAAAA,CAAOozD;AM4vDjE,AJrDEyO,AzBqQC,EyBrQDA,MAAM,EAAE,AzBqQH12I,CyB3Q2B,CzB2QzB,GAAG,CAAEN,GAAG,GAAG,CAAR,IAAc,CAAvB;A6B/MH,AJrDEs3I,AzBqQC,EyBrQDA,IFtsDIniE,GEssDG,CzBqQF50E,CyBrQI,CFtsDL40E,AE+rD4B,AzB4QzB,CuB38DIizD,EvB28DD,CAAEhoI,GAAG,GuB38DX+0E,AvB28Dc,CAAR,GuB38DclyC,CvB28DA,CAAvB,IuB38DuBA,CAAOu2F,WAAPv2F,CAAmBkyC,MAAAA,CAAOqzD,UAA1BvlG,GAAuC;AM4vDjE,AJrDEyiH,AzBqQC,EyBrQDA,KAAK,EAAE,CzBqQFllJ,CuB38DIgoI,CvB28DF,EyB7QyB,CzB6QtB,CAAE3oI,GAAG,GAAGE,EuB38DI,CvB28DZ,IAAgB,CAAzB;A6B/MH,AJrDE0Q,AzBqQC,EyBrQDA,MAAM,EAAE,AzBqQHhQ,EAAE,EyB9QyB,CzB8QtB,CAAEX,GAAG,GAAGI,GAAR,IAAgB,CAAzB;A6B/MH,AJrDEk4I,AzBqQC,EyBrQDA,QAAQ,AzBqQH13I,EyBrQK,AzBqQH,GAAG,CAAET,CyB/QoB,EzB+QjB,GAAGE,GAAR,IAAgB,CAAzB;A6B/MH,AJrDEs3I,EAAAA,IFnsDIhP,GEmsDG,EAAE,CAXuB,SFxrD5BA,GACFnB,sBAAAA,IACAC,YAAAA,CAAamB,OAAbnB,CAAqBoB,mBAAAA,CAAoB,IAApBA,EAA0B,SAA1BA,CAArBpB,MAA+D;AMuvDnE,AJrDE6P,AzBqQC,EyBrQDA,GAAG,CFhsDCxO,CEgsDC,CAZ2B,EzBiRxBvoI,EAAE,GAAGC,EAAP,IAAiBD,EAAE,CuBr8DrBuoI,EvBq8DwBroI,CuBr8DxBqoI,CvBq8DH,EAAkC,EuBr8D/BA;AMsvDN,AJrDE6N,AzBsQE,EyBtQFA,GAAG,CFhsDC5N,CEgsDC,CAb2B,MFnrD5BA,GAAAA,KAAAA;AMsvDN,AJrDEyQ,AzBuQE,EyBvQFA,KAAK,EF/rDE3mJ,AE+rDA,CAdyB,EzBqRzB0N,EAAE,GAAGX,OAAV,EuBt8DsB,AvBs8DF;A6BjNxB,AJrDE+4I,AzBwQG54J,EyBxQH44J,MAAM,EAAE,AzBwQL54J,CyBxQMgxJ,AzBwQL,CuBj8DQ,EvBi8DL,CAAJ,IyBvR6B;AIqElC,AJrDEmJ,AzBwQG7pJ,EyBxQH6pJ,KAAK,EAAE,CAhByB,AzBwR7B7pJ,CuBj8DQ,AvBi8DP,GAAG,MuBj8DI,KvBi8DR,CuBj8DQ,GAAW;AM+uDxB,AJrDEg2J,AzBwQGjnJ,EyBxQHinJ,GAAG,EAAE,GzBwQFjnJ,CAAC,CyBzR4B,EzByRzB,CuBj8DQi2E,MAAAA,CAAO1kE,GvBi8DnB;A6BlNL,AJrDEunI,AzByQG,EyBzQHA,IAAI,EAAE,CzBmQJ,MAMO;AuBr8DG,AMkvDd,AJxEkC,AzB6R7Bn4J,CyB7RO,CAAZ,QzB6RKA,CAAC,GAAGP,IAAI,CAAC4V,IAAL,CAAWmL,EAAX,CAAJ;A6BpNL,AJrDA,AzB0QKlQ,UAAAA,CAAC,GAAGqQ,EuBl8DS,AvBk8DP,GAAG3gB,CAAT;A6BpNL,A7BqNKqf,UAAAA,CuBl8DQ,AvBk8DP,GAAGuB,EAAE,GAAG5gB,CuBl8DD,AvBk8DR,MuBl8DQ,GAAW;AM8uDxB,A7BsNK,euBn8DYs1F,MAAAA,CAAOqzD;AM8uDxB,A7BuNI,OAlBD,MAkBO,IAAKloI,EAAE,GAAGC,EAAV,EAAe;AuBv8DP,AMivDlB,A7BwNI;A6BvNJ,A7ByNI,YAAKD,EAAE,CuBj8DM,EvBi8DHZ,OAAV,EAAoB;A6BxNxB,A7B0NK7f,UAAAA,CuBl8DQ,AvBk8DP,GAAG,MuBl8DI,KvBk8DR,CuBl8DQ,GAAW;AMyuDxB,AJrDO,AzB+QFsQ,IyB/QMqqJ,MzB+QNrqJ,CAAC,CyB/Qa,EzB+QV,CuBl8DQglF,AEorDjB,AzB8QK,MuBl8DYA,CAAOizD,MEqrDxB,UAAU6e,UAAV,EAAsB;AIoDtB,AJnDE/W,AzB6QGhxI,EyB7QHgxI,QzB6QGhxI,CAAC,GAAG,EyB7QO,CAACs7I,QAAD,AzB6QX,EyB7QsByM,UAAX,CAAd;AFxrDe,AM4uDjB,A7B2NK,SAND,MAMO;A6B1NX,AJnDE,AzB+QG92J,UAAAA,CyB/QMqqJ,AzB+QL,GAAGl7J,EuB/7DS,EvB+7DL,CyB/QX,AzB+QY4V,CyB/QM4/I,GzB+QX,CyB/QP,AzB+QkBx0I,EyB/QM+lC,AzB+QjB,CAAJ,GyB/QH,EAA8B;AIoDhC,AJnDI,AzB+QCxmD,QyB/QG0lF,EzB+QH1lF,CuB/7DQ,AvB+7DP,EyB/QF,CzB+QK2gB,EAAE,GAAGrQ,CuB/7DD,AvB+7DR,MuB/7DQ,GAAW;AMouDxB,A7B4NK+O,UAAAA,CAAC,GAAGwB,CuB/7DQy0E,CvB+7DN,GAAGhlF,CAAT,CuB/7DYglF,CAAO2zD;AMouDxB,AJnDI,AzBgRC,QyBhRGgM,IAAI,KAAK,KAAK,CAAlB,EAAqB;AFnrDP,AMuuDlB,AJnDMA,AzBiRF,MyBjREA,CzB+PI,GyB/PA,GAAG,AzBiRH,EyBjRJ;AIoDN,AJnDK,AzBkRD,YuB77DU;AM+tDd,A7BgOI,WuB97DS,CvB87DJv0I,EAAE,GAAGb,GuB97DD,IvB87DT,EuB97DS,AvB87DW,GuB97DA;AM+tDxB,AJnDI6lE,AzBoRC1lF,IyBpRD0lF,KAAK,CzBoRJ1lF,CAAC,CuB/7DQ0lF,AE2qDF0hF,EzBoRH,GuB/7DK1hF,CAAM90D,IE2qDE,CAAC1vB,EzBoRlB,CuB/7DuB,CE2qDhB,CAAgB,IAAhB,EAAsB+zJ,IAAtB,EAA4BzuG,IAA5B,KAAqC,IAA7C;AIoDJ,AJnDIk/B,AzBoRCp1E,IyBpRDo1E,KAAK,CAACo1E,AzBoRLxqJ,CAAC,GAAG,EyBpRL,CF3qDeo1E,EE2qDA,EAAf,CF3qDeA,CAAMk6C,EvB+7DpB,KuB/7Dcl6C,GAAgB8iE;AM+tDnC,AJnDI9iE,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AAf,CuBp8Da,CvBo8DKoD,CAAC,CAACpD,CAApB,CAAT;A6B/OF,AJnDI6lJ,AzBmSF,IyBnSEA,KzBmSG92I,CAAL,GAAS5f,EuBp8DM61F,EvBo8DF,CAAC3lF,EyBnSI,CFjqDH2lF,AEiqDI2/D,AzBmSV,CuBp8Da33I,AvBo8DH,GyBnSD,CAAhB,CAAuBo8I,AzBmSDr6I,CAAf,EAAkB3L,CAAC,CAAC2L,CAApB,CAAT,IyBnSE,KAAuC41I,IAAI,CAACt3I,MAAL,GAAc,CAArD;AFnqDQ,AMutDZ,AJnDIs3I,AzBmSF,IyBnSEA,GFpqDQ,CEoqDJ,CAACG,AzBmSFxhJ,CAAL,GAASnU,IAAI,CAACkQ,GAAL,CAAU,EyBnSjB,GAAuB,AzBmSDiE,CyBnSE,AzBmSjB,CyBnSkBqhJ,CzBmSAvhJ,CAAC,CAACE,CyBnSE,AzBmStB,CyBnSuBwhJ,AzBmShC,eyBnSE;AIoDJ,AJnDI,AzBoSF,QyBpSMmS,GFjqDK,AvBq8DJ,EyBpSL,CAAUvT,CzBoSZ,KuBr8DW,CEiqDT,EAAmBiB,GFjqDV,CAASvhJ,AEiqDlB,CFjqDS,CEiqDgBmnJ,CFjqDJ,aEiqDkB,CAAC,IAAD,EAAOztI,QAAP,CAAvC,EAAyD,CAAzD;AIoDJ,AJnDI,AzBqSF,GA1YgC,QyBqGvB,IFhqDM9P,AEgqDb,OFhqDoB5J;AMotDxB,AJnDG,AzBsSF9D,EAAAA,CyB7SC,EzB6SE,EAAE,UAAW8D,CAAX,EAAe;A6BlPrB,A7BoPE,SAAK1T,CAAL,EuBx8DYgpJ,CvBw8DHvpJ,IAAI,CAACmQ,GAAL,CuBx8Da,AvBw8DH,KAAK5P,CAAf,EAAkB0T,CAAC,CAAC1T,CAApB,CAAT;A6BnPF,AJnDEsnK,AzBuSA,EyBvSAA,OAAO,AzBuSFh3J,CyBvSGpP,AzBuSR,GAASzB,CyBvST,GAAe,AzBuSF,CAACmQ,CuBx8DK2wI,EvBw8DV,CAAU,IyBvSKr/I,CzBuSAoP,CAAf,EyBvSM,AzBuSYoD,CuBx8DI4hF,AEiqDFlvE,AzBuSD,CAAC9V,CAApB,CAAT,GuBx8D+BglF,CAAOh4E,CEiqDvB,EAAwBg4E,MAAxB,EAAgCloE,QAAhC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zBwTF,QyBxTMs9E,CzBwTD/9F,CAAL,GAASnU,GyBxTK,CzBwTD,CAACK,CyBxTG,IzBwTR,CyBxTaw4J,AzBwTD,KyBxTnB,AzBwTwB1kJ,CAAjB,CAAT;A6BpQF,AJpDI,AzB0TF,QyBzTMw0J,GzByTC,CyBzTG,GAAG,AzByTb,KyBzTkBjR,CFhpDG,KEgpDR,GAAc,KAAKE,aAAL,EAAd,GAAqC,KAAKY,KADrD;AIqDJ,AJrDI,AzB4TF,GAhcgC,KyBsI1BwC,GF/oDK,AE+oDF,GAAG,KAAKjC,CF/oDN,GE6oDT,GF7oDS,GAAW;AMmsDxB,AJtDI,AzB8THlnJ,EAAAA,IAAI,EyB3TGumJ,AzB2TD,KyB3TM,EF/oDIjP,CE+oDD,IzB2TG,KyB3TM2J,eAAT,IAA4BoG,SAAS,GAAGyP,IAAI,GAAGpX,QAA/C,IAA2D2H,SAAS,IAAI,CAAxE,GAA4EyP,IAA5E,GAAmFzP,SAAS,GAAG3H,QAAZ,GAAuB,CAAvB,GAA2B2H,SAH1H;AF/oDmB,AMssDvB,AJvDI,AzBgUF,OuB/8DqB,CEmpDf0P,CzB4TDroK,CAAL,GAASP,IAAI,CAAC6R,GyB5TK,CzB4TV,CAAW,CyB5TE,IzB4TGtR,CyB5TE44J,AzB4TlB,CAAT,KyB5TsB,GAAc,CAAd,KAAoBD,SAAS,GAAG,CAAhC,KAAsC,KAAKJ,QAAL,IAAiB,CAACkC,GAAxD,CAJpB;AIwDJ,AJxDI,AzBiUF,QyB5TMj0G,CzB4TDl2C,CAAL,CuB38DW,CE0oDT,CzBiUO7Q,IAAI,CAAC6R,EuB38DH,EvB28DF,CAAW,GuB38DT,CAAS4tI,CvB28DK5uI,CAAhB,CAAT,CuB38DW,EAAe;AMmsD5B,AJzDI,AzBkUF,QyB5TMqjB,CzB4TDtU,CAAL,EuB38DYooI,CEyoDV,AzBkUOhoJ,IAAI,CAAC6R,IAAL,CAAW,KAAK+N,CAAhB,CAAT,MuB38DoC;AMmsDtC,AJ1DI,AzBmUF,QyB5TM0/C,CzB4TDnrD,CAAL,EyBnUE,CzBmUOnU,IAAI,CAAC6R,IAAL,CAAW,KuB38DQ4tI,AvB28DHtrI,CAAhB,CAAT;A6BxQF,AJ3DI,AzBqUF,QyB7TM+lJ,GzB6TC,IAAP,EyBrUE;AI4DJ,AJ5DI,AzBuUF,GA3cgC,KyB6I1B7B,MFhpDQ5Y,MAAM,CEuoDlB;AI6DJ,AJ7DI,AzByUHnqI,EAAAA,KAAK,CyB/TEuzJ,CzB+TA,OuB/8DUh1E,EEsoDd,GFtoDmBpH,AvB+8DH,QuB/8DW,UAAU68D;AAD7B,AMqsDZ,AJ9DI,AzB2UF,QyBhUMwf,CzBgUDvoK,CAAL,GAASP,IuBh9DQ,AvBg9DJ,CyB3UX,AzB2UYsV,KAAL,CAAY,KAAK/U,CAAjB,CAAT;A6B5QF,AJ/DI,AzB4UF,QyBhUMqxG,CzBgUD/gG,CAAL,GAAS7Q,GuBh9DOg3H,CEooDd,AzB4UW,CAAC1hH,KuBh9DSm3E,AvBg9Dd,CAAY,KAAK57E,CAAjB,CuBh9DsB,AvBg9D/B,UuBh9DyCy4I;AMosD3C,AJhEI,AzB6UF,QyBhUMyf,CzBgUDnpJ,CAAL,GAAS5f,IyB7UP,AzB6UW,CAACsV,KAAL,CAAY,KAAKsK,CAAjB,CAAT;A6B5QF,AJjEI,AzB8UF,QyBhUMu6I,CzBgUDhmJ,CAAL,GAASnU,IAAI,CAACsV,GyB9UZ,EzB8UO,CAAY,KAAKnB,CAAjB,CAAT;A6B5QF,AJlEI,AzBgVF,QyBjUMkyJ,GzBiUC,CyBhVL,GzBgVF,QuBl9DuBtc,QAAQV,mBAAAA,CAAoBpjE,KAApBojE,EAA2B,SAA3BA,GAAuC5J;AMqsDxE,AJnEI,AzBkVF,GAtdgC,KyBoJ1BupB,MAhBJ;AIoEJ,A7BgRCzzJ,EAAAA,WAAW,EAAE,YAAY;AuBn+DH,AMotDvB,AJnDI,AzBoUF,QyBpUM6iJ,CzBoUD73J,CAAL,GyBpUW,AzBoUA,KyBpUK,AzBoUAA,CAAL,GAAS,CyBpUC23J,AzBoUZ,GAAiBl4J,GyBpUpB,CzBoUwB,CAAC6R,EyBpUA+iB,EzBoUL,CAAW,EyBpU/B,GzBoUoCr0B,CyBpUFqoK,AzBoUd,CAAjB,GAAuC5oK,IAAI,CAACK,IyBpUnD,CzBoU8C,CyBpUO,AzBoUK,KAAKE,CAAjB,CAAhD;A6BhRF,AJnDM,AzBoUJ,SAAKsQ,CyBpUGqhG,AzBoUR,GAAW,KyBpUK,AzBoUArhG,CAAL,GAAS,CyBpUC,AzBoUZ,GAAiB7Q,EyBpUA64J,EzBoUI,CAAChnJ,EyBpUvB,EzBoUkB,CAAW,CyBpUFmpJ,GAA/B,CzBoUsCnqJ,CyBpUF,AzBoUd,CAAjB,GAAuC7Q,IAAI,CAACK,KAAL,CAAY,KAAKwQ,CAAjB,CAAhD;A6BhRF,AJnDQ,AzBoUN,SAAK+O,CAAL,GAAW,KAAKA,CAAL,GAAS,CAAX,GAAiB5f,IAAI,CAAC6R,IAAL,CAAW,KAAK+N,CAAhB,CAAjB,GAAuC5f,IAAI,CAACK,KAAL,CAAY,KAAKuf,CAAjB,CAAhD;A6BhRF,AJnDQw4I,AzBoUN,MuBp9DIz0G,EEgpDEy0G,CzBoUDjkJ,CAAL,EuBp9DIwvC,CAAOu2F,AEgpDA,AzBoUA,IyBpUI,CzBoUC/lI,CAAL,GyBpUS0kJ,AzBoUA,CAAX,CuBp9DLl1G,CAAmBkyC,CvBo9DG71F,CyBpUX,GAAakyG,AzBoUE,CuBp9DPrc,AvBo9DQhkF,CuBp9DDsf,GvBo9DJ,CAAW,EuBp9DjCwyB,AEgpDE,GFhpDiC,AvBo9DGxvC,CAAhB,CAAjB,GAAuCnU,IAAI,CAACK,KAAL,CAAY,KAAK8T,CAAjB,CAAhD;A6BhRF,AJnDQ+kJ,AzBqUN,QyBrUMA,CFhpDCr+D,EvBq9DA,IAAP,EyBrUe,CFhpDChF,GEgpDG,GFhpDHA,CAAOgF,CEgpDCg+D,KFhpDRhjE,AEgpDG,GAAaqc,CFhpDC,OEgpD3B;AIoDR,AJnDO,AzBsUL,GAjegC,KuBp/C1BixC,SAAS,KAAKt9D,YAAYyiE,GAAAA,CAAI0B;AMmsDtC,A7BoRCx0I,EAAAA,MuBt9DOwuI,AvBs9DD,EAAE,YAAY,CuBt9DE,KAAKn+D,YAAY;AMmsDxC,AJnDM9+B,AzBwUJ,MyBxUIA,GzBwUCxmD,CyBxUG,AzBwUR,GyBxUW63J,AzBwUF,CAAE,IyBxUP,CzBwUY73J,CAAhB;A6BpRF,AJnDMwoK,AzBwUJ,MyBxUIA,EF9oDE/gB,CvBs9DDn3I,CAAL,GAAS,CAAE,CyBxUE,GAAG,CzBwUAA,CAAhB,GyBxUqBukF,MAAjB,GF9oD0B;AMksDhC,AJnDMwc,AzBwUJ,MyBxUIA,GzBwUChyF,CuBt9DGupI,AvBs9DR,GAAS,CAAE,CyBxUE,GAAG,CzBwUAvpI,CAAhB,GyBxUqBk4I,GAAjB,CF9oDqB;AMksD3B,AJnDM+Q,AzBwUJ,MyBxUIA,GzBwUC10J,CAAL,GAAS,CuBt9DGg1I,AvBs9DD,EyBxUG,GAAG,AzBwUDh1I,CyBxUEy9F,AzBwUlB,SyBxUI,GF9oD0B;AMksDhC,A7BsRE,WAAO,CuBt9DKq4C,GvBs9DZ,KuBt9DYA,GAAWhC,YAAAA,CAAamB,OAAbnB,CAAqBoB,mBAAAA,CAAoB,IAApBA,EAA0B,KAA1BA,CAArBpB;AMisDzB,AJnDM,AzB0UJ,GA5egC,OyBkKxB2gB,aAAJ,EAAmB;AIoDzB,AJnDQ,AzB2UPnzJ,EAAAA,GAAG,EAAE,KuBx9DMw0I,AE6oDA,CAAC+Q,GAAL,CzB2US/mJ,CyB3UC,AzB2UZ,EAAe,EuBx9DC;AMisDtB,AJnDUi+F,AzB4UR,UyB5UQA,CzB4UD,KAAK3xG,CuBz9DG+2G,AvBy9DR,CyB5US,EzB4UArjG,CyB5UG,AzB4UF,CAAC1T,CAAX,CuBz9De20B,EE6oDEikI,AzB4UF,EuBz9DAjkI,CAAKsB,EvBy9DA3lB,CyB5UnB,AzB4Uc,EuBz9DAqkB,CAAW+0H,AvBy9DFh2I,CAAC,CAACpD,CAA1B,GAA8B,EuBz9DfqkB,GvBy9DoBtV,CAAL,GAAS3L,CAAC,CAAC2L,CAAzC,GAA6C,KAAKzL,CAAL,GAASF,CAAC,CAACE,CAA/D;A6BxRF,AJnDS,AzB6UP,GAlfgC;A6ByNlC,A7B2RCwB,EAAAA,QAAQ,EAAE,YAAY;A6B1RvB,AJnDQ,AzB+UN,WAAO,CyB/UGujJ,IzB+UE34J,CAAL,GAAS,CyB/UG,IAAI,AzB+UFA,CyB/UG01J,AzB+UjB,GAAkB,KAAKplJ,CAAL,GAAS,EyB/U5B,EAAkC,CzB+UDA,CAAhC,GAAoC,KAAK+O,CAAL,GAAS,KAAKA,CAAlD,GAAsD,KAAKzL,CAAL,GAAS,KAAKA,CAA3E;A6B3RF,AJnDU,AzBgVR,GAxfgC;A6B4NlC,AJnDU,AzBiVT9S,EAAAA,MAAM,CuB99DEuoJ,CvB89DA,KyBjVMuP,MAAL,CzBiVW,EyBjVGD,CF7oDCz8I,QAAAA,AE6oDf,CF7oDwBsgI,aAATtgI,CAAuB,KAAvBA;AMisDzB,AJnDS,AzBkVP,SuB/9DOmtI,EvB+9DA5pJ,IAAI,CAAC4V,IAAL,CAAW,EuB/9DGkrI,GvB+9DEvgJ,CAAL,GAAS,KuB/9DM+nJ,AvB+9DD/nJ,CAAd,EuB/9De+nJ,CAAIwB,AvB+9DD,KAAKj5I,CAAL,GAAS,KAAKA,CAAhC,GAAoC,KAAK+O,CAAL,GAAS,KAAKA,CAAlD,GAAsD,KAAKzL,CAAL,GAAS,KAAKA,CAA/E,CAAP;A6B9RF,AJnDO,AzBmVL,GA9fgC,KuBl+C1BgvI,SAAS,KAAKyG,eAAetB,GAAAA,CAAI4B;AMisDzC,A7BiSCr0I,EAAAA,eAAe,EAAE,YAAY;A6BhS9B,AJnDM,AzBqVJ,QuBn+DMggF,EE8oDE,CzBqVD71F,GuBn+DD61F,CAAO2zD,AE8oDAwO,AzBqVF,CAACliJ,GAAL,CAAU,EyBrVb,EAAkB,CzBqVAvV,CAAf,CuBn+DkB,GvBm+DGP,IAAI,CAAC8V,GAAL,CAAU,KAAKjF,CAAf,CAArB,GAA0C7Q,IAAI,CAAC8V,GAAL,CAAU,KAAK8J,CAAf,CAA1C,GAA+D5f,IAAI,CAAC8V,GAAL,CAAU,KAAK3B,CAAf,CAAtE;A6BjSF,AJnDQ,AzBsVN,GApgBgC,OuBh+CxBgvI,SAAS,KAAKyG,eAAetB,GAAAA,CAAI6B;AMksD3C,AJnDQkc,AzBuVPtwJ,EAAAA,MyBvVOswJ,GF9oDGxgF,AvBq+DD,CyBvVE,CzBuVA,EyBvVG,KAAKugF,EF9oDEhc,GE8oDd,AzBuVgB,UuBr+DW,KAAKR,eAAe,KAAK/jE,UAAL,CAAgBwkE,UAAhB,CAA2B,CAA3B;AAFnD,AMosDJ,AJnDQgO,AzBwVN,QyBxVMA,GF9oDG,AvBs+DF,KAAKvjJ,KyBxVO,GAAGkmJ,GAAG,CzBwVlB,CAAmB,CyBxVE,IzBwVG35J,CyBxVE82J,KzBwVP,EyBxVpB,IzBwVqC,CAApC,CAAP;A6BpSF,AJnDQpxG,AzByVN,GA1gBgC,KyBiL1BA,EF9oDEo8F,EE8oDE,GAAG8R,IF9oDI,EE8oDE,CAACmD,EF9oDExO,GE8oDG,GAAGyO,SF9oDS/P,GAAAA,CAAIgC,AE8oDtB,CAAb,CAJgB,CAIsB;AIoD9C,A7BuSC/zI,EAAAA,SuBx+DUsvE,AvBw+DD,EAAE,SuBx+DU26D,CvBw+DCn/I,MAAX,EAAoB,GuBx+DE,KAAKuoJ;AMksDvC,AJnDQ,AzB2VN,WAAO,CyB3VG7iG,IAAI,AzB2VFhxC,GyB3VKilJ,GAAP,GzB2VH,CyB3ViB2N,EzB2VA/zJ,EyB3VI,KAAKwjJ,KAA3B,EAAkC,AzB2VjC,CAAiC/2J,MAAjC,CAAP;A6BvSF,AJnDU0lD,AzB4VR,GAhhBgC,OyBoLxBA,IAAI,GAAGi0G,GAAP;AIoDV,AJnDS,AzB6VRpqJ,EAAAA,IAAI,EuB3+DGijF,AvB2+DD,KuB3+DM,KAAK+1D,AvB2+DA31I,CAAX,EAAcuC,KAAd,EAAsB,KuB3+DI,SAAS,YAAW;AMksDrD,A7B2SE,SAAKjW,CAAL,EuB5+DUs6F,EvB4+DA,CAAE5mF,CAAC,CAAC1T,CAAF,GuB5+DO,AvB4+DD,CuB5+DE0lF,IvB4+DG1lF,CuB5+DH0lF,AvB4+DV,CuB5+DgB4U,GvB4+DGrkF,KAA7B;AuB7+DE,AMmsDJ,AJnDQ0jJ,AzB8VN,QyB9VMA,CzB8VDrpJ,CAAL,IAAU,CAAEoD,CAAC,CyB9VE,AzB8VDpD,CAAF,EyB9VM,CAAC,AzB8VD,EyB9VGunJ,GzB8VEvnJ,CAAb,CyB9VgB,GAAGwnJ,AzB8VA7hJ,KAA7B,QyB9VmB,CAAb;AF9qDN,AMkuDF,A7B2SE,SuB3+DO,AvB2+DFoJ,CAAL,IAAU,CAAE3L,CAAC,CAAC2L,CAAF,GAAM,KAAKA,CAAb,IAAmBpJ,KAA7B;A6B1SF,AJnDQ,AzB8VN,QuB3+DMq/E,CvB2+DD1hF,CAAL,EyB9VU+lJ,EF7oDJrkE,AvB2+DI,CuB3+DGgF,AvB2+DD5mF,CAAC,CAACE,CAAF,GuB3+DN0hF,AE6oDa,AzB8VD,IyB9VKqkE,CF7oDCn6J,AvB2+DDoU,CAAb,IAAmBqC,GyB9VG,EzB8VhC,CuB3+DmC,EE6oDE4hJ,KAAK,GAAGC,aAAvC,EAAsD;AIoD9D,AJnDUtxG,AzB+VR,UyB/VQA,CzB+VD,EuB5+DI8zC,CE6oDC,CzB+VZ,EyB/VemgE,GAAP,EF7oDY;AMisDtB,AJnDUd,AzBgWR,GA3hBgC,OyB2LxBA,SAAS;AIoDnB,AJnDS,AzBiWRzjJ,EAAAA,WAAW,EAAE,UAAWC,EAAX,EAAeC,EAAf,EAAmBH,KAAnB,EAA2B;A6B7SzC,A7B+SE,QuB/+DQ+zI,GvB++DD,KAAK91I,IuB/+DJ81I,GAAe9tI,GvB++DhB,CAAiB9F,EAAjB,EuB/+DgB8F,AvB++DK/F,CuB/+DI8zI,CvB++DzB,EAA0B51I,WuB/+DV6H,CAAwBo5E,EvB++DxC,CAA0Cr/E,GuB/+DFq/E,CAAOh4E,CvB++D/C,EAAkD3J,CuB/+DlCuI,EvB++DhB,CAAuD/F,EAAvD,CAAP;A6B9SF,AJnDQyjJ,AzBmWN,GAjiBgC,KuB/8C1BhX,AE6oDAgX,SF7oDS5P,IE6oDI,GAAG0N,OF7oDO,QE6oDQ,CAAC,KAAKC,MAAN,EAAcG,aAAd,CAA/B;AIoDR,A7BiTCzhJ,EAAAA,MAAM,EAAE,KuBh/DM6zI,KvBg/DKx2I,CuBh/DLw2I,AvBg/DN,CuBh/DaxkE,CvBg/DE,IuBh/DTwkE,EAAcF,YAAdE;AMgsDf,AJnDQ,AzBqWN,WAAWx2I,CyBrWDoyJ,AzBqWE,CAAC9lK,CAAF,EyBrWG,GzBqWK,CyBrWD25J,IzBqWM35J,CAAf,IyBrWkB,AzBqWM0T,CAAC,CAACpD,CyBrWL,AzBqWG,CyBrW3B,EAA2B,EzBqWQ,KAAKA,CAArC,IAA8CoD,CAAC,CAAC2L,CAAF,KAAQ,KAAKA,CAA3D,IAAoE3L,CAAC,CAACE,CAAF,KAAQ,KAAKA,CAA1F;A6BjTF,AJnDU4yC,AzBsWR,GAviBgC,KuB38CxB2jG,EE4oDA3jG,IAAI,GAAGi0G,GF5oDPtQ,AE4oDU,GF5oDK,AE4oDF3jG,IAAb,KF5oDA2jG,YAAe,CAAS11I,CAAT,EAAY;AMgsDrC,AJnDUg0J,AzBuWTnyJ,EAAAA,MuBn/DO8yE,EE4oDEq/E,CzBuWA,EAAE,GyBvWI,GAAG,CAAT,GzBuWah6J,KAAX,EAAkB8H,MAAlB,EAA2B;A6BnTvC,AJnDS,AzBwWP,QAAKA,IuBp/DK+jF,EvBo/DC,KAAK96F,EuBp/DG,CAACkmF,KAAAA,CAAM4U,AvBo/D1B,EAA4B/jF,MAAM,GAAG,CAAT;A6BpT9B,AJnDQ,AzByWN,SAAKvW,CAAL,GuBr/DW,AvBq/DFyO,KAAK,CAAE8H,MAAF,CAAd;AuBx/DE,AMmsDJ,A7BsTE,SAAKjG,CAAL,GAAS7B,KAAK,CAAE8H,MAAM,GAAG,CAAX,CAAd;A6BrTF,A7BsTE,SAAK8I,CAAL,GAAS5Q,KAAK,CAAE8H,MAAM,GAAG,CAAX,CAAd;A6BrTF,A7BsTE,QuBr/DMqsI,CvBq/DDhvI,CAAL,GAASnF,IuBr/DM,CvBq/DD,CAAE8H,GuBr/DIyxI,GvBq/DE,GuBr/DID,AvBq/DD,CAAX,CAAd,CuBr/D0BA,CAAIoB;AMgsDhC,A7BuTE,QuBr/DMvG,GvBq/DC,IAAP,EuBr/DeoG,UAAU;AM+rD3B,A7BwTE,GApjBgC,KuBl8C1B11D,KAAK01D,UAAU,SAASmB;AM+rDhC,A7ByTC3zI,EAAAA,OAAO,EAAE,UAAW/H,KAAX,EAAkB8H,MAAlB,EAA2B;A6BxTrC,A7B0TE,QuBx/DM,AvBw/DD9H,CuBx/DE6mF,IvBw/DG,EuBx/DHA,CAAOgF,EvBw/DC96F,MuBx/DO,GvBw/DtB,EAA2BiP,KAAK,GAAG,EAAR;A6BzT7B,A7B0TE,QAAK8H,GuBx/DI+jF,GvBw/DE,KAAK96F,CuBx/DE,QvBw/DlB,EAA4B+W,MAAM,GAAG,CAAT;A6BzT9B,A7B2TE9H,IAAAA,KAAK,CAAE8H,MAAF,CAAL,GAAkB,KAAKvW,CAAvB;A6B1TF,AJnDQ,AzB8WNyO,IAAAA,KAAK,CAAE8H,EyB9WGojJ,IzB8WG,GAAG,CAAX,CyB9Wc,AzB8WnB,GAAsB,EyB9WEC,GzB8WGtpJ,CAA3B,SyB9WU,IAA+B,CAAC,KAAKo4J,KAAzC,EAAgD;AIoDxD,AJnDU,AzB8WRj6J,IAAAA,KAAK,CAAE8H,IyB9WKoyJ,EzB8WC,GAAG,CAAX,CAAL,EyB9WqB,CzB8WC,EyB9WE7C,GzB8WGzmJ,CyB9WC,AzB8W5B,IyB9WgCu6I,aAAa,GAAG,CAAxC;AIoDV,AJpDU,AzB+WRnrJ,IAAAA,EuBz/DI6mF,GvBy/DC,CAAE/+E,EuBz/DH++E,CAAOizD,CE2oDCqgB,EzB8WC,GAAG,CAAX,CAAL,CyB9WoB,EF3oDE,AvBy/DA,CyB9WCD,IzB8WI/0J,CAA3B,IyB9WgC,MAAMkyJ,IAAI,IAAInM,SAAS,GAAG,CAA1B,CADxB;AIqDV,A7B4TE,QuB1/DMv2G,GvB0/DC30C,GuB1/DD20C,CAAOu2F,CvB0/Db,UuB1/DMv2F,CAAmBkyC,MAAAA,CAAO1kE,MAA1BwyB,GAAmC;AM+rD3C,AJnDU,AzBgXR,GAlkBgC,OuBz7CxBwkG,IE2oDI+R,SAAS,GAAGC,CF3oDC,YE2oDjB,EAA+B;AIoDzC,AJnDY+O,AzBiXXlyJ,EAAAA,UyBjXWkyJ,SAAS,AzBiXD,EAAE,CyBjXE,CAACA,IF3oDIzsJ,IvB4/DIxF,CyBjXrB,GF3oDiBwF,CAASsgI,IvB4/DhB,EAAsB57I,KAAtB,EuB5/DOsb,AvB4/DsB3F,CuB5/DC,KAAvB2F,AvB4/DP,EAAsC;A6B7T5D,AJnDW,AzBkXT,QAAK3F,IuB7/DKqsI,EvB6/DC,KAAKpjJ,EuB7/DGqoJ,OvB6/DnB,EAA4B,WuB7/DWR;AM+rDzC,A7BgUG10I,MAAAA,MuB9/DSiwI,CvB8/DF,CAAChwI,IAAR,CAAc,EuB9/DIi1I,oBAAoBE,GAAAA,CAAIqC,2CvB8/D1C;A6B/TH,AJnDUz4C,AzBoXP,UyBpXOA,OF3oDO80C,CE2oDC,GAAGkiB,CF3oDC1oB,QE2oDQ,GAAG,CF3oDC4H,AE2oDJ,GAAO4S,GAA3B;AIoDV,AJnDU,eAAKiO,KAAL,GAAa,CAAb,EF3oDgB;AM+rD1B,AJnDU,AzBoXR,SAAK1oK,CAAL,GAAS0W,EyBpXIkqC,MAAL,CAAY+wD,AzBoXF,CAACh7F,IAAV,CAAgB/V,EyBpXjB,EAAsB80J,CzBoXrB,CAAT,YyBpXQ,EAAsC,CAAC+E,GAAvC,EAA4CiO,KAA5C,GAAoD,CAApD;AIoDV,A7BiUE,SAAKp4J,CAAL,GAASoG,SAAS,CAACE,IAAV,CAAgBhW,KAAhB,CAAT;A6BhUF,AJnDU,AzBoXR,SAAKye,CAAL,GAAS3I,CyBpXG,CAACg/I,OzBoXK,CAAC50I,EuB9/DIm/H,EvB8/Dd,CAAgBr/I,CyBpXb,IAAmB,AzBoXtB,CAAT,GuB9/DmC,CE0oDCgwB,IF1oDI00D,EE0oDhC,EAAoC;AIoD9C,AJnDY00E,AzBoXV,SAAKpmJ,CuB5/DGgvI,AvB4/DR,EyBpXUoX,CzBoXDtjJ,MuB5/DQ,EEwoDE,CAAC,AzBoXF,CAACqK,CuB5/DGukE,EEwoDH,CzBoXV,CyBpXiB,AzBoXD1kF,KAAhB,CAAT,EuB5/DkCmnJ,EEwoDf,CFxoDeA,AEwoDxB,CFxoD4BsC;AM4rDxC,AJnDW,AzBqXT,WAAO,IAAP;A6BjUF,A7BmUE;A6BlUF,AJnDU,AzB9NwB,CAAlC,OuBx6CQ,CAAC,KAAKz5H,CEsoDCqkI,IAAL,CAAU4E,EFtoDE,WEsoDZ,IAA2B,CAAC4O,MAA5B,KAAuC,KAAK3O,UAAL,GAAkB4O,KAAlB,GAA0B,CAAjE;AIoDV,A7BqUA,euB9/DehjF,OAAO4P,MAAAA,CAAOl5E;AM0rD7B,AJnDU,cAAIu1F,QAAQ,KAAK,KAAK2mD,KAAlB,IAA2BgQ,UAAU,KAAK,CAAC,KAAK/Q,GAApD,EAAyD;AIoDnE,AJnDY,mBAAO,IAAP;AIoDZ,AJnDW;AIoDX,ONzrDOjN,kBAAkB,YAAW;AM0rDpC,AJnDU,UFtoDAC,IEsoDIqe,QAAJ,EAAc;AFvoDtB,AM2rDF,AJnDY,AzBwXZ,iByBxXiBF,KAAL,GAAa,CAAb;AIoDZ,AJnDY/2D,YAAAA,QAAQ,GAAGg3D,SAAS,GAAGlO,GAAG,GAAG,MAAT,GAAkB,CAAC,MAAvC;AIoDZ,AJnDY,MFtoDNnnE,KAAKpH,MEsoDMtrC,EFtoDE,IEsoDP,CAAY+wD,KFtoDK,GEsoDjB,EFtoDsB24C,AEsoDA,IAAtB;AIoDZ,AJnDY,MFtoDNh3D,KAAK,KAAK00D,CEsoDCiN,IAAL,CFtoDU,AEsoDA4E,aAAV,IAA2B,CAAC4O,KFtoDK,CEsoDjC,IFtoDsCne,AEsoDA,KAAKwP,UAAL,EAAtC;AIoDZ,AJnDW,MFtoDLxmE,KAAK,KAAK00D,MAAM,iBAAiB,KAAKsC;AM0rD5C,MNzrDMh3D,KAAK,KAAK00D,MAAM,kBAAkB,KAAKsC;AM0rD7C,AJnD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s1G,IAAAA,GAAOpxC,IvBogEhB,CuBpgEgBA,CAAMk6C,CvBogEF3+G,MuBpgEJykE,CvBogEW,CAAClkE,YAAR,KAAyBhiB,SAAzB,GAAqCyhB,OAAO,CAACO,YAA7C,GAA4D,IAAhF;A6B3UD,AJnDO,AzBgYN;A6B5UD,SNzrDSpF,SAAS;AM0rDlB,AJnDM,AzBgYN4E,WuBtgEW8lI,AEsoDA6Q,MFtoDM,AEsoDX,AzBgYW,CAACz3J,EyBhYE23J,KAAd,EzBgYN,EuBtgE4B,CvBsgEE13J,MAAM,CAACK,MAAP,CAAeL,MAAM,CAACge,MAAP,CAAexQ,eAAe,CAACzN,SAA/B,CAAf,EAA2D;A6B5UzF,AJnDM,AzBiYLsT,EAAAA,SuBvgEU4I,AEsoDAk8I,EzBiYC,EAAEt3I,CyBjYR,GAAawlC,CFtoDC,GEsoDd,SzB+XmF;AuBtgErF,AM2rDJ,AJnDM,AzBkYL/kC,EAAAA,SyBlYUw1I,IAAL,GAAY,CAAC5lD,EzBkYC,EAAE,IAJmE,CyB9XnF,CAzGmD,CAyG3B;AIoD9B,A7BgVC3vF,EAAAA,OAAO,EAAE,UAAWtF,KAAX,EAAkBC,MAAlB,EAA2B;A6B/UrC,AJnDM,AzBoYJ,QAAK,EyBpYG,CAAC,EzBoYCD,GyBpYIm8I,EzBoYT,KAAen8I,CyBpYhB,EAAoB,EzBoYnB,IAAwB,KAAKC,MAAL,KAAgBA,MAA7C,EAAsD;A6BhVxD,AJnDQ,AzBqYL,MuB3gEG,CAACi5E,IvB2gECl5E,EuB3gEDk5E,AEsoDM4kE,CFtoDCtpI,EvB2gEX,GAAaxU,GuB3gEM,AEsoDd,EzBqYL,CyBrYsB,KAAK64I,IAAL,CAAU/2I,QAA3B;AIoDR,AJnDQ,AzBqYL,WAAK7B,EyBrYKk8I,IzBqYV,GAAcl8I,CyBrYT,GAAgB,CAAhB,CzBqYL;A6BjVH,AJnDQ,AzBsYL,WAAKgF,EyBtYKu3I,KzBsYV,CyBtYK,AzBsYQ98I,GyBtYM68I,EzBsYnB,CAAmBv8I,KAAnB,CyBtYK,EzBsYsBA,KAA3B;AuB13EH,AMwiEA,AJnDO,AzBsYJ,CuB33EH,UvB23EQiF,OAAL,CAAavF,KAAb,CAAmBO,MAAnB,GAA4BA,MAA5B;A6BlVH,A7BoVG,WAAK4C,OAAL;AuB5gEH8oI,AMyrDA,AJnDM,AzBwYH,GuB9gEHA,CAAI4C,MEsoDM,CAACh5C,GFtoDXo2C,GAAiB,EEsoDP,IAAavhG,IAAb,EFtoDkB,EEsoDG,CAACkvG,cAA1B,EAA0C;AIoDhD,AJnDQsE,QAAAA,CFtoDC,CAACtT,OEsoDO,CAAC,IAAD,EAAO,SAAP,CAAT;AIoDR,AJnDO,AzBwYL,SuB9gEOlN,AvB8gEFp4H,KuB9gEO0mI,GvB8gEZ,CAAcp1I,GAAd,CAAmB,CAAnB,EAAsB,CAAtB,EuB9gE0B,AvB8gED0J,KAAzB,EAAgCC,GuB9gEGuuI,GAAT,AvB8gE1B,EuB9gEwC;AM0rD1C,A7BqVE,QuB9gEMtlE,CvB8gEDpkE,OAAL,CAAaxO,EuB9gEI6wB,CvB8gEjB,CAAkB,CAAlB,EAAqB,CuB9gEEojH,AvB8gEvB,EAAwBvqI,KAAxB,EAA+BC,CuB9gEEqqI,IAAAA,CvB8gEjC,EuB9gEwC,MAAPA,GAAgB;AADjD,AM2rDF,AJnDM,AzByYJ,GAvBuF,OyBlX/ElgG,IAAI,IAAImrD,QAAR,IAAoBgnD,SAAS,IAAI,CAArC,EAAwC;AF1oD9C,AM8rDA,AJnDQhlI,AzB0YPpgB,CuBrhEDw0I,CvBqhECx0I,KAAK,CyB1YEogB,CzB0YA,IyB1YK,GAAG,KAAK0mI,AzB0YD,MyB1YZ;AIoDR,A7BwVE,WAAO,IAAI,KAAK7mJ,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;AuBhhEFs0I,AMyrDA,AJnDQ,AzB4YN,GuBlhEFA,AvBq/DyF,CuBr/DrFsC,WEsoDW12H,KFtoDfo0H,AEsoDQ,EAAc,CFtoDC,GAAvBA;AACAA,AMyrDA,AJnDUhpF,AzB6YTtrD,EAAAA,CuBnhEDs0I,CAAIqC,EvBmhEC,EAAE,EyB7YGrrF,IAAI,GAAGprC,CzB6YC5yB,IyB7YI,CAAC41J,CzB6YhB,EAAoB,EyB7YjB,EFtoDV5O,GAAiC,IAAjCA;AACAA,AMyrDA,A7B2VE,GuBphEFA,CAAI0B,KvBohEGrtI,KuBphEP2rI,AvBohEE,GuBphEe,AvBohEFhnJ,MuBphEfgnJ,AvBohEqB,CAAC3rI,KAApB;AuBnhEF2rI,AMyrDA,AJnDU,AzB8YR,GuBphEFA,CAAI8C,KvBohEGxuI,KyB9YO,CAACsX,AzB8Yb,GAAc5yB,EyB9YI,CAACk2J,GFtoDrBlP,AvBohEsB,CyB9YP,AzB8YQ1rI,EuBphEI,EEsoDEmqC,EFtoD7BuhG,AvBohEE,EyB9Y+B,IAAIp0H,KAAK,CAACkhE,MAA7B,KAAwClhE,KAAK,CAAC4jI,GAA9C,IAAqDgR,UAAU,KAAK50I,KAAxE,EAA+E;AFroDzFo0H,AMyrDA,AJnDY,AzB+YV,GuBrhEFA,CAAI+C,KvBqhEG1pI,OyB/YSuS,CzB+Yd,CuBrhEFo0H,AvBqhEgBt0I,GuBrhEK,AEsoDA,CAACmd,AzB+YpB,CAAoB7vB,KyB/YN,CzB+YY,CAACqgB,GyB/YI,IAArB,CzB+YV,CyB/YqC,EFtoDvC2mI;AACAA,AMyrDA,AJnDc,AzBgZZ,GuBthEFA,CAAIoB,KvBshEG9nI,OuBthEP0mI,AvBshEE,GuBthEiB,AvBshEFhnJ,MAAM,CAACsgB,CuBthExB0mI,MvBshEiB,CAAex0I,KAAf,EAAf;AuBrhEFw0I,AMyrDA,AJnDc,AzBiZZ,GuBvhEFA,CAAI4B,KvBuhEGroI,WAAL,CyBjZmB,CFtoDrBymI,CvBuhEqBhnJ,EuBvhEI,CEsoDC6/C,GzBiZC,CAACt/B,EyBjZP,CAAYq3I,MFtoDjC5Q,EvBuhEE,CyBjZmB,EAAuB2N,cAAvB,EAAuCrhI,KAAvC,CAAP;AFroDd0zH,AMyrDA,AJnDa,AzBiZX,GuBvhEFA,CAAI6B,KvBuhEGroI,UuBvhEPwmI,GAAsB,AvBuhEpB,GAAqBhnJ,MAAM,CAACwgB,CuBvhE9BwmI,YvBuhEE;AuBthEFA,AMyrDA,A7B8VE,GuBvhEFA,CAAIgC,KvBuhEGvoI,YAAL,CuBvhEFumI,EvBuhEsBhnJ,CuBvhEG,KvBuhEG,CAACygB,QuBvhE7BumI,IvBuhEE;AuBthEFA,AMyrDA,AJnDYp0H,AzBkZV,GuBxhEFo0H,CAAIgD,OvBwhEK,CyBlZGp3H,EFtoDZo0H,CvBwhEE,EuBxhEe,AEsoDA,CAACnnG,KFtoDlBmnG,CEsoDY,CAAap0H,KAAK,CAAC4jI,GAAN,GAAY,CAAZ,GAAgB,CAAC/wG,IAAI,GAAG7yB,KAAK,CAACkhE,MAAd,IAAwBlhE,KAAK,CAAC4jI,GAA9C,GAAoD,CAAC5jI,KAAK,CAACwjI,MAAN,GAAexjI,KAAK,CAAC0jI,aAAN,EAAf,GAAuC1jI,KAAK,CAACskI,KAA9C,IAAuD,CAACzxG,IAAI,GAAG7yB,KAAK,CAACkhE,MAAd,IAAwBlhE,KAAK,CAAC4jI,GAAtJ,EAA2J7B,cAA3J,EAA2KrhI,KAA3K;AFpoDZ0zH,AMwrDA,A7BgWE,GuBxhEFA,AvB0+DyF,CuB1+DrFO,aAAJP,GAAoB,GAApBA;AACAA,AMwrDA,AJnDY,AzBoZX9oI,EAAAA,CuBzhED8oI,CAAIwB,KvByhEI,EAAE,IuBzhEVxB,CEqoDgBvhG,EFroDE,EEqoDE,GzBoZE,EyBpZG,KAAK8xG,IFroD9BvQ,CEqoDgB,IAAuB,CAAC,KAAKwP,GAAN,IAAa,CAAC+Q,UAAzC,EAAqD;AFpoDjEvgB,AMwrDA,AJnDc,AzBqZZ,GuB1hEFA,CAAIuB,KvB0hEG/6I,IuB1hEPw5I,GAAgB,MvB0hEd,CAAoB,QuB1hEtBA;AMyrDA,AJnDcwgB,AzBoZU16J,MAAAA,IAAI,EAAE,EyBpZhB06J,UAAU,GAAG,CAAb;AFpoDdxgB,AMwrDA,AJnDchpF,AzBmZQ,GuBxhEtBgpF,CAAIiD,CvBwhEF,SyBnZYjsF,IAAI,CFroDlBgpF,GAAsB,CEqoDC8P,KAAK,IFroDGpjJ,AEqoDC,CFroDV,EAAY,EEqoDGmkJ,MAAL,GAAc,CAAC5H,QAA7B,CAAJ,CAHmD,CAGP;AIoD1D,A7BiWE,MuBzhEI90I,QAAAA,CAASyjI,aAATzjI,CAAuBrO,IAAvBqO,KAAgC,MAAhCA,KACDzH,CAAAA,CAAEw2I,KAAFx2I,KAAY6yI,aAAZ7yI,IAA6BA,CAAAA,CAAEqqI,OAAFrqI,KAAc6yI,aAD1CprI,GAC0D;AMwrDhE,AJnDc,AzB+V2E,CAA3D,CAA9B,MuBn+DQyuI;AMwrDR,AJnDa,AzBsZb;AuB9hEA,AM4rDA,AJnDW,CFzoDX5C;AM6rDA;ANvrDA7K,AMwrDA,AJnDUvpH,GFroDVupH,CAAI5pD,IAAJ4pD,CAAShxD,CEqoDCv4D,KFroDVupH,AEqoDe,EFroDE,CEqoDCn+E,IAAR,IFroDVm+E,EAA4B6K,GAAAA,CAAIiD,eAAhC9N,EAAiD,KAAjDA;AAEA95F,AMurDA,AJnDS,MFpoDTA,CAAO64F,MAAP74F,CACE2kG,GAAAA,CAAI7nJ,SADNkjD,EAIE;AMorDF,AJnDO,AzBsZP,OuB9/DS,AE+kDH,EzB+aGzhC,IyBtZI,GFxmDJ,GAAA,CAASyR,MAAT,EAAiBupB,QAAjB,CvB8/DT,CuB9/DoC,AvB8/DGvgC,KAAvC,EAA8CC,MAA9C,EAAsD4E,OAAtD,EAAgE;A6BlWhE,AJnDQ0S,AzBuZP3S,EAAAA,MyBvZO2S,GFxmDKhgB,EEwmDA,EFxmDAA,CACL,AEumDQ,GzBuZE,CuB//DLA,AvB+/DMzS,CyBvZEo5J,CFtmDblnI,EvB6/DP,CAAwB,CyBvZjB,EFxmDKzf,CvB+/DZ,CuB5/DOgpC,CvB4/DuBvgC,KAA9B,EuB//DYzI,AvB+/DyB0I,EuB3/D9B,IvB2/DP,EAA6C4E,OAA7C;A6BnWD,AJnDQ,AzBwZP,OAAKW,KyBxZMmnJ,EzBwZX,GAAe,CAAf,CuB5/DsBhqJ,KAAAA,AEomDC,CFpmDK7e,EEomDFy4J,OFpmDJ55I,CAAgBrQ,CEomDH,GAAG,CFpmDhBqQ,AEomDI,CFpmDkB7d,EEomDFy3J,EFpmDpB55I,CAA2Ble,MEomDvB,GFpmDJke,AEomDgCynC,EFpmDM,CAAtCznC,CEomDf,CAFK,CAEgD;AFrmDrD,AMypDR,A7BsWC,KuBngEYpL;AA1BX,AMwrDF,AJnDQ,GFroDN,YEqoDaggB,KAAP,EAAc;AIoDtB,AJnDUorC,AzByZVp9C,UyBzZUo9C,EF9kDI,EE8kDA,GAAGprC,IF9kDH,CE8kDQ,CAAC+iI,KAAb,AzByZkB,CuBv+Dd,AvBu+Dex2J,CuBv+DNkzB,MAAT,EAAiBupB,AvBu+D/B,GAAyCx8C,KuBv+D3B,CvBu+DiC,CuBv+DN,AvBu+DOK,MAAP,CAAeL,MAAM,CAACge,MAAP,CAAe6C,iBAAiB,CAAC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AmC;AIoDzC,AJnDQ,AzBqaPvzI,EAAAA,KAAK,EAAE,IyBraK8uG,KAAL,CzBqaW7uG,EAAX,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB/R,CAAvB,EAA2B;A6BjXnC,AJnDQg4J,AzBsaN,QuBl+DU7iF,AE4jDJ6iF,GzBsaCjmJ,EuBl+DGojE,AvBk+DD,CAACjyE,EuBl+DQ,EE4jDF,AzBsaT,CyBtaUmtC,AzBsaDx+B,EAAT,EAAcD,EyBtaf,CAAkBqkC,EzBsajB,CAAqBnkC,CyBtaA,CzBsarB,EAAyB9R,CyBtaAohG,AzBsazB,CAAP,OyBtawB,GAAmB,CAAnB,GAAuB,CAACq/C,QAA1C,EAAoD4H,MAApD,GAA6DpyG,IAAI,IAAImrD,QAAR,GAAmB,CAAnB,GAAuB,CAAC,CAArF;AIoDR,A7BoXE,GANyB;A6B7W3B,AJnDQ,AzBwaPpvF,EAAAA,SuBr+DYi3H,AvBq+DH,CyBxaE,CzBwaA,GuBr+DM,CE6jDD+d,GAAT,CF7jDetP,CE6jDD,CzBwaCzlI,GAAX,EAAgBC,IuBr+DM,KvBq+DtB,EAA2BC,GuBr+DI0oI,CvBq+D/B,EAAiCzoI,MuBr+DX,EAAoB,EvBq+D1C,EAA6CC,IAA7C,EAAmDC,UAAnD,EAA+DtS,CAA/D,EAAmE;A6BpX/E,AJnDU,AzByaR,YuBt+DY86I,aAAaD;AADrB,AMknDN,AJnDU,AzB0aR,QAAItoI,EAAE,GAAGJ,EyB1aImyE,EzB0aA,CAAElyE,GyB1aP,GAAc6lJ,IzB0aG,GAAG,CAAf,CyB1aL,AzB0aR,CyB5aoB,CAEa;AIoDnC,A7BsXE,QuBr+DQ/xC,AvBs+DP1zG,EAAE,GAAGL,EuBt+DSwpE,EvBs+DL,CAAEvpE,KuBt+DW,KvBs+DD,GAAG,CAAf,CADV,CuBr+DkColI,GAAAA,CAAIiD,iBAAiB;AMgnDzD,AJnDUkN,AzBwaR,QAECl1I,EyB1aOk1I,AzB0aL,GAAGx1I,IyB1aS,AzB0aL,CyB1aM,AzB0aJC,EuBr+DQ,EE2jDL,CAAP,KzB0ac,GAAG,CAAf,CAFV;AuB7kEA,AMytDF,A7BoXE,GuB7kEA,KvBglECM,EAAE,GAAGP,IAAI,CAAEC,UAAU,GAAG,CAAf,CAHV;A6BnXF,AJnDU,AzBsaR,QAKCO,EAAE,GuB79DU,AvB69DPN,IyB3aS,AzB2aL,CAAEC,IuB79DC,AEkjDO+9B,MAAL,AzB2aO,CyB3aK+3G,EFljDd,AvB69DY,CuB79DHr7I,AvB69DZ,CALV,GuBx9Da,EAAe,AEkjDb,EAAuBo4I,cAAvB,EAAuCrhI,KAAvC,CAAP;AIoDV,AJnDS,AzBqaP,QuBr9DQ,AvB29DPlR,EAAE,GuB39DU8kI,AvB29DPrlI,IAAI,CAAEC,IuB39DJ,CAAevF,IAAf,CvB29Dc,GAAG,CAAf,CuB39DuB9d,AvBq9DjC,WuBr9D4C;AMomD9C,AJnDO,AzBoaL,QAOC4jB,EAAE,EuB39DS,CvB29DNR,GuB39DUvP,CvB29DN,CAAEwP,GuB39DA,CAAU,MvB29DA,GAAG,CAAf,CAPV,sCuBn9DQ,SADc,GACFvF,IADE,GACK,GADf;AMomDd,A7BgXE,QAQC+F,EAAE,GAAGT,IAAI,CAAEC,UAAU,GAAG,CAAf,CARV;A6B/WF,AJnDM,UAAI,KAAKq3I,SAAL,IAAkB,CAACxE,cAAvB,EAAuC;AIoD7C,AJnDQsE,AzB2aN,QuB19DU1O,AE+iDJ0O,AzB2aD/2I,EAAE,KAAKI,EyB3aG,AzB2aV,CyB3aW,EF/iDNioI,CvB09DQxoI,CyB3aH,CF/iDU,AvB09DL,CyB3aE,IzB2aGI,EAApB,IyB3aU,AzB2agBH,EyB3aG,AzB2aD,IyB3alB,CAAT,AzB2agCI,EAAjC,IAAuCH,EAAE,KAAKI,EAAnD,EAAwD;AuB19D7B9F,AMmmD7B,AJnDO,AzB4aJ,MuB59D0BA,IAAAA,AvB49DtBvJ,CAAC,CuB59D2BuJ,EvB49DxB,EuB59DgB,EvB49DZ/M,CAAZ;AuB59DsCqgB,AMomDzC,A7BwXG,MuB59DsCA,IvB89DrC5e,EuB99DqC4e,CvB89DlC,CuB99D0C,EvB89DvC9N,EAAE,GAAGI,EAAL,GAAUH,EAAE,GAAGI,EAAf,GAAoBH,EAAE,GAAGI,EAAzB,GAA8BH,EAAE,GAAGI,EAF1C;AuB59DwB,AMqmD3B,AJnDM,AzB0aH,UyB1aOw0I,AzB8aNv0I,GAAG,EyB9aQ,CzB8aHtR,GAAG,CyB9aKo2J,GzB8aD,CyB9aT,AzB8aE,GAAW,CyB9aKA,AzB8ahB,GAAe,CyB9aK,AzB8aH,CAJ1B,GyB1aiC,KAAK/Q,aAAL,EAA1B,IAAkD,CAACQ,KAAD,IAAU,KAAKN,GAAL,GAAW,CAA3E,EAA8E,IAAIiR,SAAS,KAAK,KAAK3zE,MAAnB,IAA6Bp1F,IAAI,CAAC8V,GAAL,CAAS87F,SAAT,MAAwB5xG,IAAI,CAAC8V,GAAL,CAAS,KAAKgiJ,GAAd,CAAzD,EAA6E,IAAI,CAAC,KAAKmR,KAAV,EAAiB;AIoDlL,AJnDQ,AzByaL,SyBzaM/P,CzB8aLp1I,MAAM,CuB59DSglI,CE8iDD,CzB8aL,GyB9aS,CAACkS,AzB8aNzoJ,GyB9aT,AzB8aY,GuB59DW,AvB49DRA,GyB9aS2mJ,AzBya7B,CAFuD,CuBr9DtBpQ,AvB89DjC,OyBhbsC,IAAI,KAAKgP,GAAL,GAAW,CAAxB,IAA6B,CAACM,KAAD,IAAU,KAAKN,GAAL,GAAW,CAA1E,KAAgFT,iBAAiB,CAAC,IAAD,EAAO,CAAP,CAAjG,CAD0K,CAC9D;AIoDpH;AACA,AJnDQ,AzB+aL,QuB59DO,EvB49DFvzI,EyB/aI,CF7iDGwzF,AE6iDF2+C,GzB+aC,CuB59DJ,EvB49DOp2J,MAAM,CuB39DVy3G,AvB29DWx3G,CyB/aZ,IF5iDMgsJ,AE4iDa,EAAEoN,AzB+a9B,EAA+B,GuB59DxB,IE6iDgC,GAAG,CAAZ,CF3iDpB5hD,GE2iDqC,CAACpF,CF3iDjC45C,OE2iDa,CF3iDLjuI,AE2iDlB,EAAsD,KF3iD7B;AM+lDjC,AJnDU08I,AzBgbN,UyBhbMA,EzBgbF/nJ,GAAG,GAAGxS,CuB19DO66F,AE0iDF,CAAC,EzBgbF,CAACjlF,CyBhbA,EAAOwiJ,CzBgbZ,CuB19DgB,AvB09DLt0I,GyBhbM,EF1iDIwzF,CvB09DrB,CAAV,CyBhbgCqxD,CF1iDN,CAAU7c,EE0iDd,GAAiB,EF1iDb,CAAkBjuI,IAAlB,EAAwBg9E,GE0iD5B,GAAgC,mBAAvC,EAA4D,IAA5D,CAAT;AIoDV,A7B4XI,YACC92E,GAAG,GAAG/jB,CuBx9DUs3G,GvBw9DN,CAACrhG,GuBx9DY,EvBw9DjB,CAAYzD,EuBx9DU8kG,CvBw9DtB,EAAiB/kG,CuBx9DA,CAAUu5I,CvBw9DP,GAAGjoI,GuBx9DN,AvBw9DjB,CuBx9DmChG,AvBu9D1C,IuBv9DwB;AM4lD5B,AJnDU,AzBibNvJ,QAAAA,CAAC,GAAGtU,GyBjbO06J,CzBibH,CAACloJ,GyBjbH,AzBibF,CAAU8B,CAAC,EyBjbK,CzBibFyP,GAAd,CyBjbqB22I,GzBibCloJ,EyBjbN,CzBibpB,CyBjbM;AIoDV,AJnDS,AzBibL1B,QAAAA,CAAC,GAAG9Q,IAAI,CAACwS,GAAL,CAAU1B,CAAC,GAAGiT,GAAd,IAAsBvR,GAA1B;A6B7XJ,AJnDO,AzBkbH,QuB19DQ24I,GAAAA,GAAM,IAAI7C,GAAJ,CAAQuD,YAAR;AM4lDlB,AJnDK,SFxiDMrD,UAAU3qI,QAAQstI;AM4lD7B,A7B+XG,QuBz9DSY,EAAAA,AvBy9DL/nI,GuBz9DUymI,CvBy9DN,GAAG35I,CAAC,CuBz9DE25I,CAAO,CvBy9DN5mI,GuBz9DD4mI,AvBy9Dd,EuBz9D2BU,GAAAA,CAAItlE,UAAjB4kE;AM2lDjB,AJnDI,AzBmbDpnI,MAAAA,EuB19DO8/H,AvB09DL,GyBnbM,AzBmbH9/H,EAAE,EyBnbN,CzBmbS/O,CuB19DMy3I,AvB09DX,GAAStoI,CuB19DM,CvB09DJ,GAAGO,IAAnB;A6B/XH,AJnDG,AzBmbAV,GyB9oBD,GzB8oBCA,EAAE,GuB19DQ6nI,AvB09DL7nI,EAAE,GAAGhP,CAAL,GAASoP,EAAE,GAAGM,IAAnB;AuB9mED,AM+uDF,A7BgYGT,GuB/mED,GvB+mECA,EAAE,GAAGA,EAAE,GAAGjP,CAAL,GAASqP,EAAE,GAAGK,IAAnB;A6B/XH,AJnDE6jJ,AzBmbCrkJ,EyBnbDqkJ,IzBmbCrkJ,EAAE,CyBnbI,CAACtP,CzBmbFsP,EyBnbN,AzBmbQ,GuBp9DQ,AEiiDF,AzBmbHlP,CAAL,GAASsP,EAAE,GuBp9DD,AEiiDO1P,AzBmbH8P,GyBnbN,CAAakQ,AzBmb1B,CAzBuD,CA2BvD,GyBrba,EAAoBvG,CFjiDlB,CAASq+H,MAAT,AEiiDF,EFjiDmB,AEiiDW;AIoD9C,AJnDI,QAAIud,CFjiDGhhB,KAAKkD,AEiiDF,GAAG,IAAb,KFjiDwBO,MAAAA,CAAOnmE,UAAPmmE,CAAkBC;AMqlD9C,A7BiYG,UAAK33I,CAAC,KAAK,IAAIxD,CAAf,EAAmB;A6BhYtB,AJnDI,AzBqbA,QyBrbI,CAACkhJ,EFjiDI,CvBs9DL73I,CAAC,GuBt9DSquI,AvBs9DN,EyBrbM,CAAC76H,CzBqbH3tB,IAAI,CuBt9DP,AvBs9DQ4V,CuBt9DOo2I,CEiiDV,CAAd,CzBqbY,CyBrbc,AzBqbH3oI,EuBt9DC2oI,AvBs9DC,CuBt9DMnuI,EvBs9DHwF,EuBt9DnB,AvBs9Dc,GAAUC,EAAE,GAAGA,EAAf,GAAoBC,EAAE,GAAGA,EAAzB,GAA8BC,EAAE,GAAGA,EAA9C,CAAZ;A6BjYJ,AJnDMmK,AzBsbFtK,MyBtbEsK,EzBsbFtK,EAAE,IyBtbQ,AzBsbJlJ,CAAN,EyBtbaihJ,cAAc,CAAC,IAAD,EAAOztI,QAAP,CAAzB;AIoDN,AJnDK,AzBsbDrK,QuBt9DM,AvBs9DNA,EAAE,GuBt9DSg0F,CvBs9DLn9F,CAAN,EuBt9DM,SACGm9F,KAAKw0C,OADR,SAEGx0C,KAAKw0C,QAAQE,MAAAA,CAAOnuI,OAAO;AMklDxC,A7BmYI0F,QAAAA,EAAE,GuBp9DS,CvBo9DLpJ,CAAN,GuBp9DgBm9F,IAAL,CAAUw0C,OAAV,CAAkBE,MAAAA,CAAOnuI,IAAzB;AMklDf,AJnDI,AzBsbA2F,QyBtbI,AzBsbJA,EyBtbM0Q,AzBsbJ,IAAI/Z,CyBtbK,AzBsbX,YyBtbuBgsJ,SAAnB,CAAJ,EAAmC;AIoDvC,AJnDM,AzBubF,UyBvbM7T,QAAQ,CAACp+H,KAAD,CAAZ,EAAqB;AIoD3B,AJnDQA,AzBwbL,QyBxbKA,KAAK,CAACytD,MF9hDQqqE,CE8hDd,CAAc,UAAUhS,GAAV,EAAe;AIoDrC,AJnDU,iBAAOuvB,MAAM,CAACr1J,GAAP,CAAW8lI,GAAX,EAAgBrsH,QAAhB,CAAP;AIoDV,AJnDS,AzBwbP5K,IAAAA,GAAG,CuBt9DOkjE,AvBs9DLjjE,CyB1bC,IF5hDIijE,GAAQ,CvBs9Df,CAAH,GAAmB5iE,EAAnB;A6BpYF,AJnDQ,AzBwbNN,IAAAA,GAAG,CAAEC,OyBxbQy0I,EzBwbC,GAAG,CAAd,CAAH,CyBxbqB,CAAC,CzBwbCn0I,EAAvB,CyBxbqB,CAAf;AIoDR,AJnDO,AzBwbLP,IAAAA,GAAG,CAAEC,GuBt9DM+2H,KAAKiS,CvBs9DF,GAAG,CAAd,CuBt9DaA,AvBs9DhB,CuBt9DuBxD,EvBs9DAjlI,EAAvB,OuBt9DkC,UAASooI,SAAT,EAAoB;AMklDxD,A7BqYE5oI,IAAAA,GAAG,CAAEC,KuBt9DQ4oI,IvBs9DC,GAAG,CAAd,CAAH,GAAuBpoI,CuBt9DGmoI,CvBs9D1B;AuBv9DI,AMmlDN,AJnDM,AzBybJ,UyBzbQmG,SAAS,CAAC59H,KAAD,CAAb,EAAsB;AIoD5B,AJnDQ,AzBoXmB,CAA3B,UuBj5DamzH,IE6hDE,EF7hDI,GE6hDCmiB,QAAL,CF7hDe,AE6hDDt1I,KAAd,EAAqBvG,QAArB,CAAP;AIoDR,AJnDO,AzB2bPjtB,MAAM,CAAC2S,KuBx9DOs2I,WvBw9Dd,CAAyBtnI,UAAU,CAAC5hB,SAApC,EAA+C;AuBz9DzC,AMklDN,A7ByYCF,EAAAA,CAAC,EAAE;AuB3oEF,AMmwDF,AJnDM,AzB6bJK,GuB7oEA,CvB6oEAA,GAAG,EAAE,CyB7bGmxJ,WAAW,AzB6bF,CyB7bG79H,KAAD,CAAf,EAAwB;AIoD9B,AJnDQA,AzB8bL,QuBv9DO,AEyhDFA,KAAK,AzB8bH,GyB9bM4zI,CFzhDN,CvBu9DKxlJ,EAAZ,CuBv9DO,AEyhDW,CAAC4lJ,EFzhDD,SEyhDL,CAAkB,CAAlB,EAAqBh0I,KAArB,CAAR;AIoDR,AJnDO,AzB+bJ,KANC,EyB3bE,EFvhDK2mE,IEyhDE,KFzhDO;AAzLlB,AMswDF,AJnDQ,AzBgcN5nF,GuBnpEA,CvBmpEAA,GAAG,EAAE,MyBhcQ,IAAP,AzBgcU9S,KAAX,EAAmB;A6B5Y1B,AJnDO,AzBicJ,SuBt9DQ,EvBs9DHmiB,EAAL,GAAUniB,EuBt9DF,GvBs9DR,EuBt9DQ,GAAW;AMykDtB,AJnDK,SFrhDM06F,SAAS;AAhMlB,AMywDF,A7B6YG,GuBtpED,QvBspEM52E,iBAAL;A6B5YH,AJnDI,AzBicD,QuBl9DO,GEihDC,MFjhDD,GEihDUiQ,CFjhDV,GAAW,CEihDV,GAAiBklI,cAAc,CAAC,IAAD,EAAOllI,KAAP,EAAcvG,QAAd,CAA/B,GAAyD,IAAhE,CA1B0C,CA0B4B;AIoD1E,AJnDG,AzBmbC,GyB9cF,AzB4c6C,MuBl8DpCk4D,WAAW/hD,MAAMojH,UAAU;AAvMpC,AM4wDF,A7BgZCr2I,EAAAA,CuB5pEC,AvB4pEA,EAAE;A6B/YJ,AJnDEg3J,AzBocAjnK,EyBpcAinK,EzBocAjnK,GAAG,CuBj9DK,CE6gDD,AzBocF,CyBpcG6oK,OF7gDA,IAAA,AE6gDR,AzBociB,GuBj9DE,AE6gDG,SAASA,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,SAArC,EAAgDC,gBAAhD,EAAkE;AIoD1F,AJnDI,AzBqcD,QyBrcKH,CF7gDG7jF,IvBk9DD,CyBrcI,IzBqcCtjE,CyBrcI,CF7gDGuhB,AvBk9DnB,IyBrcqB,CAApB,CF7gDwBojH,CE6gDD,SF7gDW;AA9MpC,AM+wDF,AJnDMwiB,AzBscH,GuBlqED,EvB4pEE,CyBhcEA,MAAM,GAAG,IAAT;AIoDN,AJnDK,AzBucHz2J,IAAAA,GAAG,EAAE,GuBl9DO,OvBk9DI9S,EuBl9DJ,GvBk9DP,EAAmB,GuBl9DZ,GAAW;AM+jDzB,A7BqZG,QuBl9DSk3H,GvBk9DJ90G,CuBl9DI80G,CvBk9DT,EuBl9DgB,CvBk9DNl3H,IuBl9DWggI,CvBk9DrB,MuBl9DgB;AM8jDnB,AJnDI,QAAIwpC,MAAM,KAAK,KAAK,CAApB,EAAuB;AIoD3B,AJnDMA,AzBucH,MyBvcGA,EF3gDItyC,GvBk9DFpzG,CuBl9DEozG,AE2gDE,CF3gDG6xB,EE2gDA,IAAT,MF3gDqB,GvBk9DxB;A6BnZH,AJnDK,AzBwcF,UuBn9DWz6H,GAAAA,GAAMgvH,GAAAA,CAAIyO,SAAJzO,CAAcpmB,IAAAA,CAAKkxB,IAAnB9K,EAAyBhvH;AM+jD7C,A7BuYI,GAnB2C,OuBl7DnCpU,CAAAA,GAAI;AM+jDhB,AJnDI,AzB0cHuF,EAAAA,CAAC,EAAE,GyB1cIgqJ,KF1gDO7vB,IE0gDE,CF1gDG1iB,IAAAA,AE0gDE,CF1gDGkxB,IAALlxB,AE0gDO,CF1gDGgzB,AE0gD1B,EAA0B,UF1gDY,UAASnzB,IAAT,EAAe;AM8jDzD,AJnDM0yC,AzB2cJhpK,IAAAA,EyB3cIgpK,CzB2cD,EAAE,GuBr9DO,EAAEvyC,CE0gDD,GF1gDCA,AE0gDE,CF1gDGyxB,EvBq9DF,CyB3cb,MF1gDUzxB,IAAkBH,IAAAA,KAASG,IAAAA,CAAK80B,UAAlC,GAA+C;AM8jD7D,AJnDK,AzB4cF,aAAO,EuBt9DO1O,GAAAA,AvBs9DFj7H,CuBt9DMilI,CvBs9DlB,QuBt9DchK,CAAcvmB,IAAdumB;AM8jDjB,A7B0ZG,KANC;AuBp9DI,AMikDR,AJnDI,AzB8cFxqI,IAAAA,GAAG,CyB9cG42J,CzB8cD,UAAW1pK,KyB9cM,AzB8cjB,EAAmB,GyB9cG,KAAK,CAA9B,EAAiC;AIoDrC,AJnDM0pK,AzB+cH,MyB/cGA,KzB+cErnJ,EAAL,GAAUriB,KAAV,CyB/cmB,GAAG,CAACmxJ,OAApB;AIoDN,AJnDK,UF1gDO7kE,MAAAA,CAAO+6D,WAAP/6D,GAAqBh+D,GAArBg+D,GAA2Bq7D,mBAA3Br7D,GAAiDpyE,GAAG;AM8jDhE,A7B2ZG,WAAK4J,CuBx9DMk/H,SAAS9rB,IAAAA,CAAKxxC,EvBw9DzB,UuBx9DqCyiE,GAAAA,CAAI+C;AM8jD5C,AJnDI,AzB+cD,QyB/cKl5I,CAAC,GAAG,CF1gDGo2I,CE0gDX,IF1gDgBzkH,MAAMlnB,SAAS6vE,MAAAA,CAAO+6D,WAAP/6D,GAAqBh+D,GAArBg+D,GAA2Bq7D,mBAA3Br7D,GAAiD;AAF5E,AMgkDR,AJpDI,AzBkcA,GApC2C,KyB7ZvCv4D,KF1gDO,AE0gDF,GAAG,KAAK0mI,MADjB;AIqDJ,A7B8ZCzmJ,EAAAA,CAAC,EAAE,OuB39DUqwI,YAAYntB,IAAAA,CAAKxxC,YAAYyiE,GAAAA,CAAI+C;AM8jD/C,AJnDI,AzBkdFzqJ,IAAAA,GAAG,EAAE,EyBldIszB,EF1gDIq0H,GE0gDX,EF1gDgBzkH,AE0gDF,GzBkdC,GuB59DOlnB,SAAS;AM8jDnC,AJnDM,AzBmdH,UyBndOsX,GzBmdA,EyBndK,CAACkhE,EzBmdD3yE,EAAZ,EyBndO,IAAgBonJ,gBAApB,EAAsC;AIoD5C,AJnDQ,AzBodL,KANC,OyB9cQ31I,KAAK,YAAY4zI,KAArB,EAA4B;AIoDpC,AJnDU,AzBqdR70J,IAAAA,GAAG,EAAE,KyBrdO02J,KzBqdIxpK,CyBrdR,EAAY,EzBqdf,EAAmB;A6Bja1B,AJnDYgS,AzBsdT,QuBh+DOklH,GvBg+DF50G,CuBh+DE40G,AE0gDEllH,CF1gDGi6I,AE0gDF,AzBsdV,CyBtdW39I,EzBsdDtO,EyBtdD,CAAO+zB,EzBsdhB,GyBtdS,MF1gDoB;AM8jDhC,AJnDW,aF1gDImzH,MAAM,YAAW;AM8jDhC,AJnDS,AzBqdN,SyBzdK,EzBydApjI,EuB/9DOmoI,EE0gDA,azBqdZ,CuB/9D4BtoH,MAAMlnB,SAASy6G,IAAAA,CAAKkxB,IAALlxB,CAAUg1B,YAAVh1B,GAAyB;AAD/D,AM+jDR,AJnDU,AzBsdP,cyBtdWuyC,SAAJ,EAAe;AIoDzB,AJnDYz3J,AzBwcR,YyBxcQA,CAAC,CAAC1D,IAAF,CAAOylB,KAAP;AIoDZ,AJnDW,AzBkZoC,CAA/C;A6B9VA,A7BsaAxzB,MAAM,CAACK,CuBn+DGs2H,IAAAA,CAAKuyB,AvBm+Df,CAAevnI,UAAU,CAAC5hB,GuBn+DI,MvBm+D9B,EAAqC;A6BrarC,AJnDU,AzB0dTyjB,EAAAA,SuBp+DY0lI,GE0gDC8f,AzB0dD,EAAE,IyB1dL,AzBwd2B,EyBxdf,GF1gDK5lI,MAAMnnB,QAAQ06G,IAAAA,CAAK16G,KAAL06G,GAAa;AM8jDtD,AJnDYllH,AzB2dXc,EAAAA,GAAG,EAAE,KyB3dMd,CAAC,CAAC1D,GzB2dGlO,CyB3dL,AzB2dN,CyB3da04E,CzB2dCpoE,CAAd,EAAiB+O,CyB3dX,AzB2dN,CyB3dmBzN,CAAb,AzB2dcgC,CAApB,CyB3dsB+f,CzB2dE,IyB3dG,CAACu1I,WAAN,CAAkB,IAAlB,EAAwBE,MAAxB,EAAgCC,SAAhC,CAAhB;AF1vDV,AM8yDF,AJnDW,AzB4dT,GuBvtEA,MvButEKtnJ,EAAL,GAAU/hB,CAAV;A6BxaF,AJnDS,AzB4dP,SAAKgiB,EAAL,GAAU1R,CAAV,MuBr+DqB8yC,MAAAA,CAAO2oG,QAAP3oG,CAAgB,YAAW;AM6jDlD,AJnDO,AzB4dL,SuBt+DuDgmG,AvBs+DlDnnI,EAAL,GAAU5C,CAAV;AuBt+DqB,AM8jDvB,A7ByaE,GuBv+DqB+jC,EAAiD,EAAjDA,CAnPrB,CvB0tEKlhC,EAAL,GAAUtO,CAAV;A6BxaF,AJnDM+f,MAAAA,KAAK,CFhgDG,EEggDAA,KAAK,CAACgjI,CFhgDN,IEggDR,IFhgDQ,GAAW;AMojDzB,AJnDK,AzB4dH,QuB59DQvzG,CvB49DH1/B,KuB59DG0/B,CAAOu2F,WAAPv2F,AvB49DR,CuB59D2BukG,aAAnBvkG,GAAmC;AMojD7C,sBNnjDwB,IAAIkjG,WAAJ;AMojDxB,AJnDI,AzB4dF,WyB5dS10I,AzB4dF,CyB5dL,GzB4dF,KuB59DoB0zE,WAAWi7D,YAAYyL;AMojD7C,AJnDG,AzB6dD,GyBtgBA,AzBufmC;A6B1ZrC,A7B2aCz4I,EAAAA,KAAK,EAAE,YAAY;A6B1apB,AJnDE+zJ,AzB+dA,EyB/dAA,MFhgDQ,CEggDD,CAACiC,CzB+dD,EuB/9DM34I,EvB+9DF,EyB/dX,GAAkB,AzB+dFpd,CuB/9DK,QEggDM+1J,EzB+dpB,CAAsB,IyB/dX,CAAiB/1I,AzB+dDzR,EyB/dhB,AzB+dX,EyB/dgC,AzB+dD,KAAKC,EAApC,EAAwC,KAAKC,EAA7C,EAAiD,KAAKC,EAAtD,CAAP;A6B3aF,AJnDI,AzBgeF,GArBmC,KyB3c7B4xF,IFhgDM,IAAIzgG,EEggDA,GFhgDJ,AEggDO,CFhgDG,IEggDE61J,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAjB,wBFhgDU;AMojDd,AJpDI,AzBkeHz1J,EAAAA,IAAI,EyBjeG9E,AzBieD,CyBjeE,GAAGmlG,MzBieMlwF,IyBjeI,CAAC9iB,KzBiehB,CyBleH,CzBke2B;A6B7a/B,A7B+aE,SAAKihB,EAAL,GAAU6B,UAAU,CAAC5jB,CAArB;A6B9aF,AJnDI,AzBkeF,QuBl+DU0lF,CvBk+DL1jE,EyBleIrT,AzBkeT,CyBleU,CFhgDA+2E,CEggDR,AzBkeQ9hE,EuBl+DQ,AEggDJ,QzBkeM,CAACtT,CAArB;A6B9aF,AJnDM,AzBkeJ,SAAK2R,CyBleG6xF,CzBkeR,GAAUlwF,MyBleQ,CAACjV,CAAD,CAAV,CAAcsmJ,AzBkeF,CAAC51I,CAArB,EyBleQ,CAAmBmU,EAAnB,KAA0BA,EAA9B,EAAkC;AIoDxC,AJnDQ,AzBkeN,SAAKtR,EuBl+DMs3H,AvBk+DX,GAAU51H,CyBleGkwF,CFhgDG/0F,KAAAA,CAAM7e,EvBk+DF,CyBleG,AzBkeF0T,CyBleGjF,AzBkexB,CyBleuB,CAAjB,GFhgDUoQ,CAAgBrQ,KAAhBqQ,CAAsB7d,IAAtB6d,CAA2Ble,SAA3Bke,GAAuC,UAASqU,MAAT,EAAiB;AMojD1E,AJnDO,UFhgDKsyD,KAAAA,CAAMyiE,mBAANziE,CAA0B5kF,MAA1B4kF,KAAqC,GAAG;AMojDpD,AJnDK,AzBkeH,SAAKhiE,WuBl+DegiE,MvBk+DpB;A6B9aF,AJnDG,GATD;AI6DF,A7B+aE,WAAO,IAAP;A6B9aF,AJnDE4hF,AzBmeA,EyBneAA,CzBicmC,MyBjc5B,CFjgDG5hF,AEigDFryD,KFjgDEqyD,CAAMyiE,AEigDhB,GAAiB,SAAS90H,MAAT,CFjgDPqyD,AEigDuB/xD,CFjgDG1lB,IEigDnB,EAAuB,CFjgD9By3E,CAAkCtyD,MAAlCsyD,MAA8C,CAAC,GAAG;AMqjD9D,AJnDI,AzBoeH7hE,EAAAA,MyBpeO0tI,MFjgDQpJ,AvBq+DH,EAAE,CyBpeE,CAACx0H,KAAD,CAAb,EAAsB,AzBoeA7P,KAAX,EAAkBC,CuBr+DG7V,KAAKklB,AvBq+D1B,EAA2B;A6Bhb1C,AJnDM,AzBqeJ,QAAK,EAAItP,GyBreE,EzBqeG,GyBreE0lJ,CzBqeE1lJ,KAAK,CAACE,IyBreb,CAAiB2P,EzBqevB,CAAL,EyBreW,AzBqeyB,CyBrehC;AFvgDA,AM2jDN,AJnDK,AzBseF,YAAM,IAAItgB,KAAJ,CAAW,kGAAX,CAAN;A6BlbH,A7BobG;A6BnbH,AJnDI,QFjgDM,AEigDFm+I,KFjgDOjJ,MEigDI,CAAC50H,IFjgDM,CEigDP,CAAf,EAAwB;AIoD5B,AJnDM,AzBueJ,QAAI3zB,CAAC,GAAG8jB,CyBveG,EFhgDI,EvBu+DF,CyBveG2lJ,AzBueF1nJ,EAAd,CuBv+DqB,KAAK3F,IEggDf,CAAkBuX,KAAlB,CAAP;AIoDN,AJnDK,AzBseH,QAAkBrjB,CAAC,GAAGwT,KAAK,CAAC9B,EAA5B;AuB7vEA,AM20DF,A7BkbE,GuB7vEA,KvB6vEgC3C,CAAC,GAAGyE,KAAK,CAAC7B,EAA1C;A6BjbF,AJnDI40I,AzBoeF,IyBpeEA,IzBoe4C9kJ,GuB/9DnC,EvB+9DwC,GAAG+R,IuB/9D3C,CvB+9DgD,CAAC/R,GyBperC,CAAC,CF3/Cb,AvB+9DX,CARwC,CAUxC,CuBj+DsB,AE2/CC,EAAO4hB,KAAP,CAArB;AIoDJ,A7BmbE,QuBj+DQi3H,GAAAA,GAAM;AM+iDhB,AJnDI,AzBseF,QyBteMj3H,KAAK,KAAK,KAAKslI,OAAnB,EAA4B;AIoDhC,AJnDM,WF5/COrO,AE4/CFqO,GF5/CErO,CAAIh6H,GE4/CX,GAAe,EF5/CI,GE4/CC0pI,KAApB;AIoDN,AJnDK,AzBseH,QAAItoJ,GAAG,CuBl+DK44I,EvBk+DFnrJ,CuBl+DEmrJ,CAAIh6H,EvBk+DF,CAAC5e,GAAf;A6BlbF,A7BmbE,QAAIC,GAAG,GAAGxS,IAAI,CAACwS,GAAf;A6BlbF,AJnDI,AzBueF,QAAIgS,EAAE,CyBveGizI,EzBueAllJ,GAAG,CAAEhS,CAAC,CyBveE,CAAC,CzBueA,CAAN,CAAZ,CyBveiB,CAAf;AIoDJ,AJnDG,AzBueD,GyBvfA,KzBufIkS,EAAE,CuBp+DK04I,EvBo+DF54I,GAAG,CAAE1B,CAAC,GAAG,CAAN,CAAZ;AuBvwEA,AMo1DF,A7BobE,GuBxwEA,KvBwwEI4T,EAAE,GAAGlS,GAAG,CAAEqN,CAAC,GAAG,CAAN,CAAZ;A6BnbF,AJnDEioJ,AzBweA,EyBxeAA,MzBweInjJ,CyBxeG,CAACw0I,AzBweF,GAAG1mJ,GAAG,CuB/9DK,AvB+9DHjS,CAAC,CyBxef,EzBwekB,CyBxeE,AzBweR,CAAZ,GuB/9DiB,KEu/CY24J,QFv/CZ,CEu/CG,CAAmB+Q,CFv/CX,UEu/CR,EAAgChU,cAAhC,EAAgD;AIoDtE,AJnDI,AzBweF,QuB/9DUjb,AEu/CJ,AzBweFtoI,CyBxeGtR,CzBweD,GAAGoR,GuB/9DCwoI,AvB+9DE,CAAEnqI,CyBxeE,AzBweD,CuB/9DM,AEu/CJxP,EzBweC,CAAN,CAAZ,CuB/9D0Bi2G,CEu/CxB,EAAuB;AIoD3B,AJnDM,AzBweJ,QAAI3yF,EAAE,GuB/9DOk2E,AEu/CF,AzBweFroF,GAAG,CAAEoN,CyBxeEs4I,AzBweD,GAAG,CuB/9DI,AvB+9DV,CAAZ,CyBxeI,GFv/CuBr9D;AM2iD7B,AJnDK;AIoDL,A7BqbE,QuB99DQ,AvB89DHvoF,KuB99DQo2I,AvB89DH,KAAK,KAAf,EAAuB,OuB99Df,CAAyBrnJ,MAAzB,GAAkC,GAAG;AM0iD/C,AJnDI,AzByeD,SyBzeMgoK,EzByeD/mJ,EAAL,EuB/9DcymI,CvB+9DJrkI,CyBzeT,CzByeW,EyBzeK,CAAhB,AzByecjS,EAAL,CuB/9Da,EvB+9DHgS,EAAV,CuB/9DkBskI,EvB+9DHvkI,EAAE,GAAG9R,EAAL,GAAUiS,EAAnC;A6BrbH,A7BsbG,WAAKpC,EAAL,GAAUiC,EAAE,GAAG9R,EAAL,GAAU+R,EAAV,GAAeC,EAAE,GAAGjS,EAAL,GAAUkS,EAAnC;A6BrbH,AJnDI,AzByeD,QyBzeK,CAAC,CFt/CG,CAACq2H,AvB+9DLx4H,EAAL,CyBzeW2O,EzByeD3M,EAAE,CuB/9DFw2H,CAASwR,AEs/Cd,CzByeU/5I,EAAL,CyBzeW,CAAC,CzByeFkS,EAAV,EyBzeiBwyI,CzByeFzyI,CuB/9DM,CEs/C1B,AzByesB,GAAGhS,CyBzeI,CzByeT,GAAU+R,CyBzeIqzI,CzByevC,EyBzeC,EAA2C;AIoD/C,AJnDM,AzByeH,WAAKr1I,EAAL,GAAU+B,CuB/9DMgoI,CvB+9DJ,GAAG/5I,EAAL,GAAUgS,EAAV,EuB/9DmB,CvB+9DJC,EAAE,GAAGhS,EAAL,GAAUiS,EAAnC;A6BrbH,AJnDM,AzB0eH,KAPD,MyBneSywE,AzB0eF,IAAK9iF,EyB1eR,GAAc2iJ,AzB0eD,KAAK,CyB1eE,CAAC4E,GzB0elB,EAAuB,EyB1eE,CAAC9yG,IAAR,IAAgB,KAAK+wG,GAAL,GAAW,CAAX,GAAemS,WAAW,GAAG,KAAKnS,GAAlC,GAAwC,CAAC,KAAKF,aAAL,KAAuBqS,WAAxB,IAAuC,CAAC,KAAKnS,GAArG,CAAD,CAApB;AIoDN,AJnDK,AzB2eF,WAAKx1I,EAAL,GAAUoC,EAAE,GAAGjS,EAAL,GAAUgS,EAAV,GAAeD,EAAE,GAAG9R,EAAL,GAAUiS,EAAnC;A6BvbH,A7BwbG,WAAKpC,EAAL,EuBj+DciqI,CvBi+DJhoI,EAAE,GAAG9R,EAAL,GuBj+De,AvBi+DL+R,EAAV,GuBj+DoBskI,AvBi+DLrkI,EAAE,GAAGjS,EAAL,GuBj+Deg6I,AvBi+DL9nI,EAAnC,cuBj+DwC8nI,CAAiB,IAAjBA;AM0iD3C,AJnDIkb,AzB2eD,IyB3eCA,OzB2eInlJ,EAAL,CyB3eW,CAAC/hB,CzB2eF+jB,EAAE,GAAG/R,EAAL,CyB3eT,CAAqBymJ,CzB2eFv0I,EAAV,GAAeD,EAAE,CyB3e1B,CAA+BjjB,CzB2eFiR,EAAL,CyB3exB,CAAoC,CzB2eF+R,EAAnC,CyB3eC,EAA0CwlJ,WAA1C,EAAuDhU,cAAvD;AIoDJ,A7BwbG,WAAKxzI,EAAL,GAAU+B,EAAE,GAAG/R,EAAL,GAAUgS,EAAV,GAAeC,EAAE,GAAGhS,EAAL,GAAUiS,EAAnC;A6BvbH,AJnDI,AzB4eD,KAPM,IyBreA0kJ,EzB4eA,EuBl+DMvd,EvBk+DDx5I,EyB5eV,GAAgB,AzB4eD,CyB5ef,EFt/CqB,EvBk+DD,KAAf,EAAuB;A6BxbhC,AJnDI,AzB6eD,WuBn+DUynI,AEs/CF,AzB6eHz3H,EAAL,EyB7eC,CFt/Cc,AvBm+DLoC,EAAE,GuBn+DQ8jI,AvBm+DL/1I,EAAL,GAAUgS,EAAV,GAAeD,CuBn+DM,CvBm+DJ,GAAG9R,EAAL,GAAUiS,CuBn+DK8Q,CvBm+DxC,MuBn+D+B,EAAkBY,GAAlB,EAAuB;AM0iDzD,AJnDG,AzB6eA,GyB7fD,QzB6fM9T,EAAL,EuBn+DcupI,CvBm+DJtnI,EAAE,GAAG9R,EuBn+DO2jB,AvBm+DZ,GAAU5R,EAAV,EuBn+DmBgR,CvBm+DJ/Q,EAAE,GAAGjS,CuBn+DDgjB,CAAQs1H,AvBm+DZ,GAAUpmI,EAAnC,QuBn+D6B8Q;AAD1B,AM2iDN,A7B0bG,WAAKjT,EAAL,GAAUgC,EAAE,GAAG/R,EAAL,GAAUkS,EAAV,GAAeD,EAAE,GAAGhS,EAAL,GAAU+R,EAAnC;A6BzbH,AJnDEojJ,AzB6eC,EyB7eDA,OAAO,CAAC2B,CFr/CGxuB,AvBk+DLv4H,EAAL,GAAU+B,EyB7eX,AzB6ea,GyB7eM,AzB6eH/R,EAAL,GAAUgS,EAAV,EyB7eiB+kJ,CzB6eF9kJ,EAAE,GAAGhS,EyB7eZ,AzB6eO,CyB7eW6sJ,EzB6eD56I,EAAnC,CyB7ekB,EAAyBgJ,QAAzB,EAAmC;AFpzDtD,AMw2DF,AJnDI,AzB8eD,GuBnyED,EvB4xEO,IyBveA0tI,EzB8eA,IyB9eL,AzB8eU/oJ,CyB9eEitJ,IzB8eG,CyB9ef,IAAqBnE,AzB8eD,KAAf,EAAuB,OyB9eO,CAAC,IAAD,EAAOztI,QAAP,CAAnC;AIoDJ,AJnDI,AzB+eD,QuBn+DO,GEo/CC,AzB+eHrL,EAAL,EyB/eC,CzB+eSoC,CuBn+DH,CvBm+DK,GuBn+DL,AvBm+DQjS,EAAL,CuBn+DQ,EvBm+DEgS,EAAV,GAAeD,EAAE,GAAG9R,EAAL,GAAUiS,EAAnC;A6B3bH,AJnDG,AzB+eA,GyBlfD,KFj/CQ,CAAC,EvBm+DHpC,EAAL,CuBn+Da+0F,EvBm+DH9yF,EuBn+DF,AvBm+DI,CuBn+DMgoI,EvBm+DH95I,EAAL,GAAU+R,EAAV,GuBn+DoB,AvBm+DLC,EAAE,GAAGjS,EAAL,GAAUkS,EAAnC;A6B3bH,A7B4bG,WuBn+DU2yF,AvBm+DL90F,EAAL,GuBn+DegqI,AvBm+DLhoI,EAAE,GAAG/R,EAAL,GAAUkS,EAAV,CuBn+DkB,EvBm+DHD,EAAE,GAAGhS,EAAL,GAAU+R,EAAnC;A6B3bH,AJnDEojJ,AzB+eC,EyB/eDA,OAAO,CAACkC,CzB+eFtnJ,EAAL,GAAU+B,EAAE,GyB/eb,AzB+egB/R,EAAL,CyB/eW,EzB+eDgS,EAAV,GAAeC,EyB/eKqlJ,AzB+eH,GAAGr3J,EAAL,GAAUiS,EAAnC,CyB/eqB,CAAqB46I,KAArB,EAA4B;AIoDpD,AJnDI,AzBgfD,KAPM,MyBzeE,AzBgfF,IAAKjtJ,CyBhfE+oJ,IzBgfG,EyBhfR,CAAYkE,EzBgfC,GyBhfb,CAAP,CzBgfK,EAAuB;A6B5bhC,AJnDI,AzBifD,SuBr+DQjoD,EEo/CA,AzBifHh1F,EAAL,CuBr+DakqI,CEo/CZ,CzBifS9nI,EAAE,GAAGjS,EAAL,EuBr+Dc,CvBq+DJgS,EAAV,EuBr+DmBskI,CvBq+DJvkI,EAAE,GAAG9R,EAAL,EuBr+Dc+5I,CvBq+DJ9nI,EAAnC,auBr+DuC8nI,CAAiB,IAAjBA;AMwiD1C,AJnDG,AzBifA,GyBpfD,QzBofMlqI,EAAL,GAAUiC,EAAE,GAAG9R,EuBr+DO,AvBq+DZ,GAAU+R,EAAV,CuBr+DkB,EvBq+DHC,EAAE,GAAGjS,EAAL,GAAUkS,EAAnC;A6B7bH,A7B8bG,SuBr+DQqmI,EvBq+DHxoI,EAAL,GAAUgC,EAAE,GAAG/R,EAAL,GAAUkS,EAAV,GAAeD,EAAE,GAAGhS,EAAL,GAAU+R,EAAnC;AuB9yED,AMi3DF,AJnDEojJ,AzBifC,EyBjfDA,CF9zDA,ME8zDO,CAACqC,CzBifFznJ,EAAL,GAAU+B,EyBjfX,AzBifa,GyBjfM,AzBifH/R,EAAL,GAAUgS,EAAV,EyBjfiBylJ,CzBifFxlJ,EAAE,GAAGhS,EyBjfZ,AzBifO,CyBjfWib,EzBifDhJ,EAAnC,IyBjfkB,EAA4BgC,QAA5B,EAAsCkvE,MAAtC,EAA8C;AIoDnE,AJnDI,AzBkfD,KAPM,GyB3eD/kF,CAAC,CFn/CG,CvBq+DH,CyBlfGg3J,GzBkfEx1J,EyBlfG,CAAC41J,CFn/CN,CvBq+DO,KuBr+DP,AvBq+DY,CuBr+DHxb,GEm/CT,CAAkB,AzBkfrB,CyBlfG,CzBkfoB,CyBlfC/lI,GFn/CrB,EAAqB,GEm/CQ,IAAIitI,UAAjC,EAA6C/9D,MAA7C,CAAR;AIoDJ,AJnDI/kF,AzBmfD,IyBnfCA,CAAC,CAACwlB,EFn/CI,CAAC,CEm/CP,CzBmfIhU,EyBnfK,AzBmfV,CuBt+Dag1F,EvBs+DH5yF,EuBt+DF,AvBs+DI,CuBt+DM8nI,EvBs+DH/5I,CyBnfd,CzBmfS,GAAUgS,EAAV,GuBt+DoB,AvBs+DLD,EAAE,GAAG9R,EAAL,GAAUiS,EAAnC;A6B/bH,AJnDI,AzBmfD,SyBnfMykJ,EFl/CI9xD,AvBq+DL/0F,EAAL,GuBr+DeiqI,AvBq+DLhoI,EyBnfT,AzBmfW,GyBnfM,AzBmfH9R,CyBnfd,CzBmfS,GAAU+R,EAAV,CuBr+DkB,EvBq+DHC,EAAE,GAAGjS,EAAL,GAAUkS,EAAnC;A6B/bH,AJnDI,AzBmfD,WuBr+DU2yF,AEk/CF8hD,AzBmfH52I,EAAL,GuBr+DegqI,AvBq+DLhoI,EAAE,GAAG/R,EAAL,EyBnfY,CAAC,AzBmfHkS,CuBr+DMojI,CvBq+DhB,EyBnfY,CzBmfGrjI,CyBnfI5T,CAAP,AzBmfK,EyBnfKsqJ,CzBmfF1oJ,EAAL,GAAU+R,EAAnC,MyBnf8C,CAAC,IAAD,EAAOkJ,EFl/CI8+H,MEk/CX,CAAxB,CAArB,QFl/CwDA,CAAiB,IAAjBA,EAAuB,IAAvBA;AMsiD5D,AJnDG,AzBmfA,GyBxfD,QzBwfMhqI,EAAL,GAAU+B,EAAE,GAAG/R,EAAL,GAAUgS,EAAV,GAAeC,EAAE,GAAGhS,EAAL,GAAUiS,EAAnC;A6B/bH,A7BicG;A6BhcH,AJnDEkjJ,EAAAA,OFl/CSvwD,AEk/CF,CAAC6yD,IFl/CM3d,OEk/Cd,GAAsB,CFl/CGE,QEk/CMyd,MFl/CQ1d,KEk/CjB,CAAqB9+H,QAArB,EFl/CiB8+H,AEk/Cc,CFl/CG,IAAjBA;AMsiDzC,AJnDI,AzBofF,QyBpfMv4H,AzBofD5P,CuBt+DIykI,IEk/CE,CzBofA,EyBpfG,EFl/CI2D,CvBs+DF,EyBpfGkO,GzBofnB,EAAwB,CyBpftB,IzBof2B32I,iBAAL;A6Bhc1B,AJnDI0J,AzBqfF,IyBrfEA,OzBqfK,CyBrfG,GAAGytI,AzBqfb,KuBv+DoB,MAAM1O,GEk/CC,CAAC,IAAD,EAAO/+H,EFl/CI,MEk/CX,CAAzB;AIoDJ,A7BmcE,GA7GmC,MuB33D1Bq9H;AAtVT,AM43DF,AJnDI,AzBufHpmI,EAAAA,CuBh0EC,QEy0DSsP,KAAP,EAAc,AzBufD,EAAE,UAAWrP,IAAX,EAAiB7O,KAAjB,EAAyB;A6Bnc5C,AJnDM,AzBwfJ,UuBz+DU,AEi/CFke,KAAK,CAACkhE,GFj/CJ,GEi/CF,GFj/CE,CAAS+1D,CEi/CMx9H,EFj/Cf,EAAc,IEi/ChB,IAA6BuG,KAAK,CAACoC,IAAN,KAAe,SAAhD,EAA2D;AIoDjE,AJnDQ+gI,AzByfN,QyBzfMA,GFj/CKtd,KAAK,KAAK0O,IEi/CE,CAACv0H,KAAD,CAAjB,IFj/C8B,UAASktD,UAAT,EAAqB;AMqiD3D,AJnDO,AzB0fL,QAAIt8D,EuB1+DM,CAAC,KAAKq7G,CvB0+DH,GAAGnqH,GuB1+DL,EvB0+DU,CuB1+DKshG,EvB0+DF,CAAxB,CuB1+DW,CAAoBk1C,YAAY;AMoiD7C,A7BscE,QAA2Bl4I,CAAC,GAAGtU,IAAI,CAACwS,EuBz+DjB6mD,CvBy+DY,CAAUv0C,OuBz+Dbs8D,EvBy+DG,CAA/B,OuBz+D4BA,CAAW07D;AADjC,AMqiDR,AJnDM5oH,AzB0fJ,MyB1fIA,GzB0fC5R,EyB1fI,AzB0fT,EuB1+Da,CEg/CD4R,AzB0fFrP,IAAI,CyB1fG,AzB0fFtkB,CyB1fG22J,AzB0fR,GAAS5iJ,CAAnB,CyB1fI;AIoDN,AJnDK,AzB0fH,SAAKiO,EAAL,GAAUsC,IAAI,CAAChU,CAAL,GAASyD,CAAnB,CuB1+DyB62I,GAAAA,IAAO,KAAKhrB,OAAL,IAAgB/+C;AMoiDlD,AJnDG,AzB0fD,GyBrgBA,MzBqgBK5+D,EAAL,GAAUqC,IAAI,CAACjF,CAAL,GAAStL,CAAnB;A6BtcF,A7BucE,SAAKmO,EAAL,GAAUziB,IAAI,CAACuS,GAAL,CAAUuS,SAAV,CAAV;A6BtcF,AJnDE+iJ,EAAAA,OAAO,CF/+CGzmF,AE++CF4oF,UF/+CE5oF,CAAW67D,CE++CrB,GAAuB,SAAS+sB,KF/+CO,OE++ChB,CAAsBzV,OAAtB,EAA+B6V,KAA/B,EAAsCC,UAAtC,EAAkD;AIoD3E,AJnDI,AzB0fF,QyB1fMV,CzB0fD1lJ,KyB1fO,GAAG,EF/+CIg5H,GE++CCqtB,IzB0fpB,OyB1fe,CAAiB/V,EF/+CI9yJ,KAAK2/E,AE++C1B,EAA0BipF,UF/+CYjpF,AE++CtC,CAAb,SF/+CmDA,CAAWm0C,QAAXn0C;AMmiDvD,AJpDI,QACIlyE,CAAC,GAAGy6J,MAAM,CAACtoK,MADf;AFz/CE,AM8iDN,A7BucE,OuBz+DO,IvBy+DA,IAAP;A6BtcF,AJnDI,AzB2fF,GAhImC,QuBz2DxB04I,AE8+CF7qI,CAAC,EAAR,EF9+Cc,AE8+CF,KF9+COs5I,WAAW,UAASwD,MAAT,EAAiB;AMkiDnD,AJnDMue,AzB4fLxlJ,EAAAA,IyB5fKwlJ,OF9+CS9gB,OAAOuC,GE8+CC,AzB4fD,EAAE,GyB5fI2d,MAAM,CAACz6J,AzB4fAoB,CyB5fD,AzB4fV,CyB5flB,CzB4fiC,GyB5fEq5J,MAAM,CAACz6J,CAAD,CAAN,CAAUgxJ,IAAV,CAAe3L,OAAf,EAAwB6V,KAAxB,CAAnC;AF/+CA,AMmiDN,AJnDK,AzB6fH;A6BzcF,A7B2cE;A6B1cF,AJnDI,AzB+fF,QuB7+DQ,AvB6+DJlyJ,CuB7+DKizI,CvB6+DH,CyB/fG,EzB+fA76I,CuB7+DK,AvB6+DJ,CyB/fR,AzB+fS2E,QAAX;A6B3cF,AJnDG,AzB8fD,GyBvgBA,KzBygBCqL,GAAG,GAAGpI,EAAE,CAAE,CAAF,CAFT,MuB5+DyB,KAAKioH,OAAL,IAAgB;AMkiD3C,A7B0cE,QAEgB5/G,GAAG,GAAGrI,EAAE,CAAE,CAAF,CAFxB;AuBz1EA,AMg5DF,AJnDE2vJ,AzB4fA,EyB5fAA,CF71DA,KvB21E+BrnJ,CyB9fxB,CAAC8pJ,CzB8f0B,GAAGpyJ,EAAE,CAAE,CAAF,CAFvC,EyB5fA,GAAsB,SAASoyJ,WAAT,CAAqB/V,OAArB,EAA8B8V,UAA9B,EAA0C;AIoDlE,AJnDI,AzB2fF,QyB3fMl4J,AzB8fLsO,CyB9fM,CF7+CG,CvB2+DN,CyB9fM,EAAR,AzB8fKvI,EAAE,CAAE,CAAF,CuB3+DC,AvBw+DV,MuBx+DU,CAASkpE,UAAT,EAAqB;AMiiDjC,AJpDI,AzB2fF,QuBv+DUlrB,AE6+CJs0G,AzB6fU9pJ,GAAG,CuB1+DTw1C,EvB0+DYh+C,CuB1+DL,CvB0+DO,CAAE,CAAF,CAHxB,CuBv+DsB0wI,CE6+CH,GAAG7xI,OF7+CL,AE6+CY,CF7+CK1V,AE6+CJkzJ,MF7+Cb,CE6+CY,CAD3B,GF5+C2C;AMiiD/C,AJrDI,AzB2fF,QyBzfMrgI,AzB4fyBvT,GAAG,EyB5fvB,CzB4f0BzI,EyB5fvB,AzB4fyB,CAAE,CAAF,CAHvC,EyBzfmB0iJ,MAFjB;AIsDJ,AJtDI,AzB2fF,QyBxfMxpI,AzB4fLxQ,CuB1+DQgoI,EvB0+DL,GAAG1wI,EyB/fL,AzB+fO,CAAE,CAAF,CAJT,EuBt+DqBzJ,KAAK2yE;AMkiD5B,A7BocE,QAIgBvgE,GAAG,GAAG3I,EAAE,CAAE,CAAF,CAJxB;A6BncF,AJnDI,AzBsfF,QuBr+DQg+C,AvBy+DuBp1C,GyB1ftBoT,AzB0fyB,GuBz+DpB,AvBy+DuBhc,EyB1fnC,AzB0fqC,CAAE,CyB1fzB,CzB0fuB,CAJvC;A6BlcF,AJnDM,AzBqfJ,QAMC8M,EyB3fOkP,GzB2fF,EyB3fO,CzB2fJ5T,GAAG,EuB1+DS,CvB0+DNI,GAAN,CuB1+DiBkoI,CE++CDkf,CzB2fJhnJ,GANrB,CyBrfI,EAA4B;AIoDlC,AJnDQ,AzBofN,QAOCxM,CAPD,GyBpfU4gJ,iBAAiB,CAAChhI,KAAK,CAACu2I,QAAP,EAAiBD,aAAjB,CAAjB,KAAqD,CAACH,UAAD,IAAen2I,KAAK,CAAC+sH,QAAN,CAAeopB,UAAU,KAAK,SAA9B,CAApE,CAAJ,EAAmH;AFr2DzH,AMy5DF,AJnDUl4J,GFt2DR,OEs2DQA,CAAC,CAAC1D,IAAF,CAAOylB,KAAP;AIoDV,AJnDS,AzB2fP,QAAKlP,KAAK,GAAG,CuBz+DI,AvBy+DjB,EAAiB,OuBz+DA,aAAA,GAAW;AMkiD9B,AJnDO,AzB4fJ1Q,MAAAA,CyBhgBG,AzBggBF,GAAG,CuB1+DMylI,EE8+CA,GF9+CK,AvB0+DL/5I,CyB5fI,CAACoxB,EzB4fD,CuB1+DMq3H,AvB0+DL7yI,IAAL,CyB5fa,AzB4fFoP,GyB5fKkP,EzB4fA,GyB5fK,AzB4fF,CyB5fGo2I,CF9+CG,CvB0+DzB,CAAV,QuB1+D4ClpF,AE8+ClB,CAAkBopF,SF9+CT,EAAqB,EE8+C9B,EAAiCH,UAAjC,CAAZ,EAA0DhpK,MAA9D,EAAsE;AIoDnF,AJnDQ8Q,AzB6fL,QyB7fKA,CAAC,CAAC1D,CzB6fFgU,EAAL,CyB7fK,CAAOw2D,CzB6fF,CuB3+DMikE,GE8+CX,CAAa/qI,CAAb,CzB6fYmC,CyB7fI8c,AzB6frB,QyB7fK;AF/+CF,AMmiDN,AJnDO,AzB6fJ,WAAK9O,EAAL,GAAU,CAAEzB,GAAG,GAAGF,GAAR,IAAgBrM,CAA1B;A6BzcH,A7B0cG,WuB3+DUylI,AvB2+DLx3H,EAAL,GuB3+De,AvB2+DL,CAAE/B,GAAG,CuB3+DKgoI,EvB2+DF5nI,GAAR,IAAgBtM,CAA1B,CuB3+D+B,UAAS03I,MAAT,EAAiB;AMkiDnD,AJnDM93H,AzB6fH,MyB7fGA,KAAK,AzB6fH1R,EuB3+DO06H,AvB2+DZ,CyB7fWhpH,EzB6fD,CAAEzT,EyB7fI,CAACy2I,AzB6fF,GAAG32I,EyB7ff,CzB6fO,IAAgBjM,CAA1B;AuB5+DG,AMmiDN,AJnDK,AzB8fF,KATD,MASO,IAAKgM,GAAG,GAAGI,GAAN,IAAaJ,GAAG,GAAGQ,GAAxB,EAA8B;A6B1cvC,A7B4cGxM,MAAAA,CAAC,GAAG,MAAMtU,IAAI,CAAC4V,IAAL,CAAW,MAAM0K,GAAN,GAAYI,GAAZ,GAAkBI,GAA7B,CAAV;AuB72ED,AMk6DF,AJnDI,AzBggBD,CuBn3EH6iC,UEm3DWxxC,AzBggBHsQ,CyBhgBJ,CzBggBD,GAAU,CAAE5B,GAAG,GAAGF,GAAR,IAAgBrM,CAA1B;A6B5cH,AJnDG,AzBggBA,GyBnhBD,QzBmhBMgO,EAAL,GAAU,OAAOhO,CAAjB;AuBn+DH,AMuhDA,A7B6cG,SuBp+DMm2I,EvBo+DDloI,EAAL,EuBp+DH,CAAgB4oI,AvBo+DH,CAAE5qI,EuBp+Df,CvBo+DkB,CuBp+DGosI,EvBo+DAlsI,GAAR,CuBp+Db,EAA6BmsI,CvBo+DAt4I,CAA1B,MuBp+DH,EAAuC;AMwhDvC,AJnDEuzJ,AzBggBC,EyBhgBDA,IFp+CM9b,EAAAA,CEo+CC,CAAC2e,CFp+CGjuJ,AvBo+DL+F,EAAL,GAAU,CyBhgBX,AzBggBahC,EuBp+DF/D,CAASsgI,AEo+CF,AzBggBF,GAAGn8H,GAAR,GyBhgBgB8pJ,CzBggBAp2J,CAA1B,EuBp+DUmI,CAAuB,EEo+ChB,CAAiBkR,CFp+CxBlR,OEo+CO,EAA2B+4I,IAA3B,EAAiC;AIoDrD,AJnDIA,AzBigBD,IyBjgBCA,CzBwfK,GyBxfD,GAAGA,AzBigBF,IyBjgBM,AzBigBD90I,GAAG,CyBjgBE,EAAf,AzBigBgBI,GAAX,EAAiB;A6B7c1B,A7B+cGxM,MuBv+DGq4I,AvBu+DHr4I,CAAC,GAAG,IuBv+DO,EvBu+DDtU,IAAI,CAAC4V,IAAL,CAAW,MAAM8K,GAAN,GAAYJ,GAAZ,GAAkBQ,GAA7B,CAAV;A6B9cH,AJnDI,AzBmgBD,OuBx+DI0/H,CEq+CCmqB,EAAE,CzBmgBFloJ,EyBngBK,AzBmgBV,GAAU,CyBngBT,AzBmgBWjC,EuBx+DImsI,CvBw+DD,GAAG/rI,GAAR,IAAgBtM,CAA1B;A6B/cH,AJpDI,AzBogBD,QyBngBKw9F,GzBmgBAxvF,EAAL,EyBngBY,CzBmgBF,CAAE/B,CyBngBG66I,EzBmgBA,GAAG36I,GAAR,IAAgBnM,CAA1B,CyBngB6B,CAACq2J,EAAD,EAAKh9I,QAAL,CAD5B;AIqDJ,AJrDI,AzBqgBD,QyBngBKi9I,GzBmgBAroJ,EyBngBK,AzBmgBV,GyBngBaizI,AzBmgBH,IyBrgBT,GzBqgBgBlhJ,CAAjB;A6B/cH,AJtDI,AzBsgBD,MuBx+DGs4I,EEq+CEruB,GzBmgBA/7G,EAAL,EyBngBY,CFr+CC,AvBw+DH,CAAE7B,CyBngBGiqJ,EzBmgBA,GyBngBK,AzBmgBF/pJ,CyBngBG09G,EzBmgBX,IAAgBjqH,CyBtgBzB,AzBsgBD;A6B/cH,AJvDI,AzBwgBD,KATM,GuBh+DDi0I,AEq+CAsiB,GzBogBC,EuBz+DIzgB,GEq+CG,GAAGwgB,KAAK,CAACv0D,CFr+CC01C,IAAIa,EEi+C1B;AFl+CF,AM0hDF,AJxDI,AzB0gBDt4I,MAAAA,CAAC,CyBrgBIw2J,CFr+CC,CvB0+DF,MAAM9qK,IAAI,CyBrgBI,AzBqgBH4V,GyBrgBMg1J,CzBqgBX,CAAW,GyBrgBK,CAACE,EzBqgBAhqJ,GAAN,GAAYR,GAAZ,EyB1gBpB,CzB0gBsCI,GAA7B,CAAV;A6BjdH,AJzDI,AzB4gBD,QuB3+DK6nI,AEq+CAuN,GzBsgBArzI,EuB3+DK+9H,AEq+CA,AzBsgBV,GyBtgBasnB,AzBsgBH,CAAErnJ,GAAG,CyBtgBG,CAACorF,CzBsgBDtrF,CyBtgBL,CFr+CSwrI,AEq+CA4e,CzBsgBZ,CyBtgBG,EAAavU,CzBsgBA9hJ,CAA1B,UyBtgBsC,CAACkhJ,IAAD,EAAO;AIoDhD,AJnDM+G,AzBsgBH,MyBtgBGA,IAAI,CzBsgBFj6I,CyBtgBI,CzBsgBT,GAAU,CAAE9B,CyBvgBiC,EzBugB9B,GAAGI,GAAR,IAAgBtM,CAA1B;A6BldH,AJnDMslJ,AzBsgBH,MyBtgBGA,IAAI,CzBsgBFr3I,CyBtgBI,CzBsgBT,GAAU,CyBxgBmC,AzBwgBjC5B,GAAG,GAAGE,GAAR,IAAgBvM,CAA1B;A6BldH,AJnDMyyC,AzBsgBH,MuB5+DG4iG,AEs+CA5iG,IAAI,CzBsgBFvkC,CyBtgBIsvF,CzBsgBT,GAAU,GyBzgBmC,IzBygB5Bx9F,CAAjB;A6BldH,AJnDMg/F,AzBugBH,MyBvgBGA,GFt+CGy4C,KEs+CK,EAAEyJ,IAAI,CAACliD,QAAL,IAAiBtzG,IAAI,CAAC8V,GAAL,CAAS,CAACg8F,OAAO,IAAIysB,OAAO,IAAI,UAAUA,OAArB,GAA+BA,OAAO,CAACx3E,IAAvC,GAA8C4jH,EAAE,CAAC9R,KAArD,CAAR,IAAuE8R,EAAE,CAAC/4D,SAAH,EAAhF,CAAjB,IAAoH2/C,QAJpF;AIwDhD,AJnDMl7C,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AIoDlC,AJnDQs0D,AzBugBN,QyBvgBMA,CzBugBD1mJ,CyBvgBG,CAACutG,KAAH,UzBugBN;AuB5+DF,AMyhDA,AJnDQ,SFt+CCq7B,GEs+CGv5C,QAAQ,GAAGkiD,CFt+CvB,CAAyBrK,EEs+CE,CFt+C3B,AEs+C4B73C,EFt+CE,MEs+CP,IAAiBtzG,IAAI,CAAC8V,GAAL,CAAS,CAACg8F,OAAO,GAAG64D,EAAE,CAAC9R,KAAd,IAAuB8R,EAAE,CAAC/4D,SAAH,EAAhC,CAAhC;AIoDR,A7BodE,MuB7+DIolB,KvB6+DG,EuB7+DIvqC,EvB6+DX,MuB7+DmB,UAAU0+D,GAAAA,CAAIN;AM0hDnC,AJnDQ,AzBwgBN,GA3LmC,SyB7UzBiL,KAAK,CAACiD,IAAN,KAAezlD,QAAnB,EAA6B;AIoDrC,AJnDUwnD,AzBygBT71I,EAAAA,IuB/+DKkmI,GAAAA,CAAIH,AEs+CA8P,UzBygBS,EyBzgBG,AzBygBD,CyBzgBEhF,KAAD,EAAQxiD,EzBygBEpuF,KAAX,CyBzgBC,CAAZ,AzBygB6BC,CuB/+DC,AEs+CAg8B,EzBygBnB,EAAwB,EyBzgBnC,CAAqC20G,KAAK,CAAC+C,KAA3C,EAAkD,IAAlD,EAAwD,IAAxD;AIoDV,AJnDS,AzB0gBP,QuBh/DM7hC,OAAOvqC,QAAQ,UAAU0+D,GAAAA,CAAIH;AM0hDrC,A7BwdE,QAAI5lI,GAAG,GAAG,QAAV;A6BvdF,AJnDQ,AzB4gBN,QAAI/J,CAAC,GyB5gBKwvJ,AzB4gBF3lJ,KAAK,CAACzP,EyB5gBR,CzB4gBE,CyB5gBY,AzB4gBD0P,GAAX,IAAmB,CAA3B;A6BxdF,AJnDU;AFr+CV,AMyhDA,AJnDU0lJ,AzB4gBR,QAAKxvJ,CuBl/DEyxI,AvBk/DD,CyB5gBE+d,EzB4gBCzlJ,GAAT,EAAe,CyB5gBC,CAAC6zD,KAAT,CAAe68E,EFt+CzB,CAA4B3K,EEs+ClB,CFt+CV,CEs+CgC2f,CFt+CC/d,QAAjC,EAA2C,EEs+CE,IAAI,EAAvC;AIoDV,AJnDS,AzB6gBN1xI,MuBn/DKwlI,AvBm/DLxlI,CAAC,EuBn/DIwlI,CvBm/DD,CAAJ,CuBn/DWsK,GAAAA,CAAI6B,eAAJ7B,CAAoBA,GAAAA,CAAI6B,eAAJ7B,CAAoBnK,aAAxCmK;AM0hDd,AJnDO;AIoDP,AJrEgD,AzB+hB7C,KyB/hBsC,CFp9CnC4B,AEo9CU,CANZ,GzBqiBI/sJ,IAAI,CAAC8V,CuBn/DG,EvBm/DR,CAAUoP,KAAK,CAAC3kB,CAAhB,IAAsBP,IAAI,CAAC8V,GAAL,CAAUoP,KAAK,CAACtF,CAAhB,CAA3B,EAAiD;A6BzdpD,A7B2dI,QuBp/DIkhI,KvBo/DCx+H,EAAL,GAAU,CAAE4C,CuBp/DI27H,GAAAA,CAAI1gJ,AvBo/DH,CAAC0Q,CAAlB,GuBp/DgBgwI,GAAY;AAD9B,AM2hDF,AJnDI,AzB8gBA,SuBp/DK,EEs+CEiV,EzB8gBFvzI,EAAL,CyB9gBA,EzB8gBU2C,KAAK,CAAC3kB,CAAhB;A6B1dJ,AJnDG,AzB8gBC,GyB5iBF,KFx8CMugJ,KvBo/DCt+H,EAAL,GAAU,CAAV,CuBp/DgBq+H,GAAAA,CAAI1gJ;AM0hDxB,A7B2dI,aAAKsiB,EAAL,GAAUpH,CAAV;A6B1dJ,AJnDEwsJ,AzB+gBE,EyB/gBFA,KzBwgBC,EyBxgBM,CAACkD,GzB+gBA,QyB/gBR,GAAsB,SAASA,WAAT,CAAqBC,YAArB,EAAmCC,UAAnC,EAA+CzV,IAA/C,EAAqD;AIoD7E,AJnDI,AzBghBA,WyBhhBO,EzBghBFlzI,EAAL,CyBhhBYooJ,EzBghBF,CAAV,IyBhhBO,CAAaO,UAAb,EAAyB7U,YAAY,CAAC;AFr+CjD,AMyhDA,AJnDM73B,AzBghBF,MyBhhBEA,GFt+CG0uB,IEs+CI,AzBghBJ1qI,EyBhhBM,AzBghBX,GAAU,CAAE2C,KAAK,CAACtF,CuBt/DtB,AvBs/DI,CuBt/DuBurI,GAA3B,EAAgCY,EAAhC,EAAoC3qE,UAApC,EAAgD;AM0hDhD,AJnDQr6B,AzBghBJ,QyBhhBIA,IAAI,CFt+CC2kG,AvBs/DJlpI,CyBhhBK44I,CzBghBV,GAAUl2I,EuBt/DM6mI,GvBs/DD,CAACl7I,CAAhB,GyBhhBwB,CAAC,IAAD,EAAOm6J,YAAP;AIoD5B,AJrDe,AzBkhBX,auBt/DS9d,AvBs/DJzqI,EAAL,GAAUpH,CAAV,EuBt/DiB8vI;AM0hDrB,AJvDiD,AzBqhB7C,KyBrhB4C,EAIzCqK,EFr+CEhZ,EEi+CuC,CAArC,CAAP,GFj+CYp7D,YAA+C;AMyhD/D,AJnDG,AzBkhBA,GyBxhBD,EzBogBA,MAoBO,EuBn/DI,SAAA,OAAA,CAAS5/D,QAAT,EAAkB;AMqhD/B,A7BgeG,UuBp/DOpgB,SAAAA,CAAUC,MAAVD,GAAmB,GAAG;AMqhDhC,AJnDEymK,AzBohBC,EyBphBDA,OAAO,CAACvM,CzBohBFh5I,CuBr/DM6qI,CvBq/DX,GyBphBD,AzBohBWjoI,GyBphBM,EzBohBD,CAACrU,CuBr/DLs8I,AvBq/DD,GuBr/De/rE,AvBq/DLj8D,EyBphBKm2I,CzBohBF,CAAC17I,CAAd,GyBphBM,AzBohBYsF,EuBr/DHk8D,CAAWsqE,AEi+CF,EzBohBD,CAAC9rI,CuBr/DTwhE,AvBq/DG,CuBr/DagsE,EvBq/DHjoI,GAAG,CAACtU,CAA1C;A6BheH,AJnDI,AzBohBD,WyBphBQ,AzBohBH0R,EAAL,GyBphBai3I,AzBohBHt0I,GuBr/DM0O,EvBq/DD,CAAChU,CyBphBf,AzBohBS,GAAUuF,GAAG,CAAC5kB,CAAd,GAAkB2kB,KAAK,CAAC3kB,CAAN,GAAU4kB,GAAG,CAACvF,CAA1C;A6BheH,AJnDG,AzBohBA,GyBthBD,QzBshBM4C,EAAL,EuBp/DYtO,CvBo/DFgR,GuBp/DEhR,CACLi3I,CvBm/DQ,CAAC5qJ,CuBp/DJ2T,AvBo/DF,EuBl/DHktE,CvBk/Daj8D,GAAG,CAACtU,CAAd,GAAkBqU,CuBl/DrBk8D,CAAWztD,GvBk/De,CAAC9iB,CAAN,CuBp/DhBqD,EAGLktE,AvBi/D+Bj8D,GAAG,CAAC5kB,CAA1C,KuBj/DO6gF,CAAWlkC,QAHNhpC,EAIL;AMghDV,A7BieG,WAAKuO,EAAL,GAAUpH,CAAV,CuBh/DiB8xI,WADV;AMihDV,AJnDE0a,AzBqhBC,EyBrhBDA,OAAO,CAACqD,SAAR,GAAoB,CF59CG,CAACvnH,MAAAA,CAAO5sC,AE49CFm0J,OF59CLvnH,CAAeviD,CE49CnB,CAAmB+pK,OF59CfxnH,CAAD,CE49CH,EAA8B;AF99C1C,AMkhDV,AJnDI,QAAIwnH,CFn+COj3J,QEm+CE,KAAK,KAAK,CAAvB,EAA0B;AIoD9B,AJnDMi3J,AzBqhBJ,MyBrhBIA,KzBqhBG,IyBrhBM,CzBqhBDp1J,EyBrhBI,KAAK8iJ,EzBqhBd,EAAP,CyBrhBI;AIoDN,AJnDK,AzBshBH,GAtOmC;A6B5PrC,A7BoeCxzI,EAAAA,OAAO,CuBl/DEs+B,CvBk/DA,KuBl/DAA,CAAOpkC,IvBk/DIrN,CAAX,EuBl/DAyxC,AvBk/De,CuBl/DAniC,QAAfmiC,KAA2BA,MAAAA,CAAOs2F,QAAPt2F,CAAgBniC,QAAhBmiC,GAA0B;AM+gD/D,AJnDI,AzBwhBF,WyBxhBSy7G,AzBwhBF,CuBn/DKjS,GvBm/DDntJ,IAAI,CAACkgB,IuBn/DJitI,AvBm/DD,CAAWntJ,EuBn/DIohF,EvBm/DA,CAACtrE,CyBxhBE,CAAC,CzBwhBR,CAAUzG,EyBxhBH,CF39CH+xE,CAAWsqE,AE29CD0P,IF39CVh6E,CAAgBgsE,AvBm/DD,CAACn9I,KAAV,CAAiB,EyBxhBC,CAAC,EzBwhBGwF,EyBxhBJ,CzBwhBD,CyBxhBQ01J,AzBwhBEj5J,CAAV,CAAjB,EAAgC,CAAE,CAAlC,EAAqC,CyBxhBnB,AzBwhBlB,CyBxhBH,AzBwhBP,CyBxhBpB,AzBwhBS,CAAX;A6BpeF,AJnDG,AzByhBD,GyB/hBA,AzBmTmC,gBuBxwDlB0hB;AM+gDnB,A7BueCtO,EAAAA,auBp/DcpR,AvBo/DD,EAAE,EuBp/DDA,CACLi3I,GADKj3I,EAELktE,EvBk/DiBlvE,CAAX,EAAcqT,IAAd,CuBl/DN67D,CAAWztD,AvBk/DgB,MuBp/DtBzf,EAGLktE,UAAAA,CAAWlkC,QAHNhpC,EAIL;AM0gDV,AJnDE2zJ,AzB2hBA,EyB3hBAA,MzB2hBI7xJ,CyB3hBG,CAACo1J,GzB2hBC,GAAG,EuBj/DMje,GvBi/DD9nI,EyB3hBjB,GAAwB,EzB2hBZ,CAAcnT,CuBl/DlB,AvBk/DI,CAAZ,IyB3hBiCk5J,aAAT,CAAuBC,UAAvB,EAAmC;AIoD7D,AJnDI,AzB4hBF,QyB5hBMA,AzB4hBDr1J,KAAK,KyB5hBM,AzB4hBD,CAAf,EAAmB,EuBl/DI,AEs9CF,CFt9CGwL,IEs9CE,AzB4hBA,CyB5hBxB,EAA2B,CFt9CN,AvBk/DJ;AuBp/DX,AM4gDV,AJnDM6pJ,AzB6hBJ,MyB7hBIA,EzB6hBAv6J,CuB1/DSoD,AvB0/DR,GAAGlU,IyB7hBM,AzB6hBF,CAACkQ,EyB7hBI,CzB6hBT,CAAU,CAAV,EyB7hBc2oJ,AzB6hBDtzI,IAAI,CyB7hBrB,EzB6hBwBvP,KAApB,CAAR;A6BzeF,AJnDK,AzB8hBH,SAAK0M,KAAL,CAAYxQ,CAAZ,EAAepB,CAAf;AuBrhE6D,AM2iD/D,A7B4eE,KuBvhE6D,MvBuhEtD,IAAP;A6B3eF,AJnDI,AzBgiBF,GA1PmC,OuBrvD3B,CE+8CCsuJ,QF/8CD,IAAA,CAASvhJ,KAAT,EAAe,AE+8CM,CAAC,IAAD,EAAOu9I,cAAc,CAAC,IAAD,EAAOiQ,UAAP,CAArB,EAAyC,CAAzC,CAA3B;AIoDJ,AJnDG,AzBiiBF7lJ,EAAAA,CyBviBC,MzBuiBM,EAAE,MuBh/DOkmI,KAAK2B,CvBg/DA,iBuBh/DkBA,kBAAkBvM,YAAYjjI;AMmgDtE,A7B+eE,auBj/DWujE;AA5CkD,AM+iD/D,AJnDEymF,AzBmiBA,EyBniBAA,GF5/C6D,IE4/CtD,CAACyD,CzBmiBD,KAAK7lJ,MyBniBZ,GAAuB,AzBmiBhB,EAAP,OyBniBgC6lJ,YAAT,CAAsBnrK,KAAtB,EAA6B;AIoDtD,AJnDI,AzBoiBF,GAlQmC,QyBlS1BiB,CF18CC,QE08CQ,CF18CR,AE08CSC,MF18CT,AE08CD,GF18CY,AE08CO,KAAK8sG,IAAL,CAAUhuG,KAAV,EAAiB,IAAjB,CAAnB,GAA4C,KAAKirK,aAAL,CAAmB,KAAKvS,KAAL,GAAatH,QAAhC,CAAnD;AIoDJ,AJnDG,AzBqiBF9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DOnwD,AvB0/Df;A6B9fF,AJnDM,WAAK3T,CAAL,IAAU21I,MAAV,EAAkB;AIoDxB,AJnDQ,AzBkjBN,QAAKlsJ,CAAC,GyBljBIksJ,EzBkjBC,CAAX,EuB3/De7xE,AvB2/DA,CyBljBC,CAAC9jE,CAAD,CAAN,IAAamkJ,EFz8CExwI,GAAAA,CAAImwD,MAAJnwD,CAAAA,GAAc,AEy8CjC,EAAmC,UFz8CS;AM6/CpD,AJnDUgiI,AzBmjBP,UyBnjBOA,CzBmjBF/4I,CuB5/DM83H,CvB4/DX,GuB5/DWA,AEy8CE,AzBmjBH,CyBnjBI10H,AzBmjBd,CyBnjBa,CFz8CKpG,AEy8CX,IAAakjF,CFz8CFljF,CAAM7e,IEy8CjB,KFz8CW6e,CAAgBrQ,KAAhBqQ,CAAsB7d,IAAtB6d,CAA2Ble,SAA3Bke;AM6/CrB,AJnDS,AzBmjBN,WuB5/DQ25D,AvB4/DH12D,EAAL,GAAU,CuB5/DI8W,AvB4/Dd,KuB5/DmB+gH;AM6/CtB,AJnDO,AzBmjBJ,WAAK53H,EAAL,EuB5/DY+qI,CvB4/DF,CuB5/DEA,AvB4/DZ,CuB5/Det0E,KAAHs0E,CAASnsE,UAATmsE,EAAqBnT,IAArBmT;AAHT,AMggDN,AJnDK,AzBmjBF,WAAK9qI,EAAL,GAAU,CAAV;AuBngEC,AMogDJ,A7BigBG,KAPD,MAOO;A6BhgBT,AJnDI,AzBqjBDtT,MAAAA,CAAC,CuB7/DIg0I,EvB6/DD,CyBrjBIsU,GzBqjBAtoJ,CAAR,EuB7/Dc48I,EEw8CE,CAAC,CFx8CC,GEw8CF,CAAf;AIoDJ,AJnDG,AzBsjBA,GyBhlBD,QzBglBMzpI,EAAL,EuB9/DYujE,CvB8/DF,KAAKvjE,EAAL,GuB9/Da8nI,AvB8/DHj7I,CAApB,YuB9/DoCkqB,GAAAA,CAAIwsD,YAAYzE,UAAAA,CAAWyE,UAAXzE,CAAsBisE;AAf3E,AM2gDF,A7BmgBG,SuB9/DM,EvB8/DD9qI,EuB9/DK6+D,AvB8/DV,GAAU,KAAK7+D,EuB9/DL6+D,AvB8/DA,GAAUjyE,CAApB,QuB9/DgCmzI,mBAA1B,EAA+C;AM4/CxD,AJnDEulB,AzBsjBC,EyBtjBDA,MFx8CQxsJ,CAAAA,AEw8CD,CAACg/I,CzBsjBF73I,CuB9/DM,CvB8/DX,GAAU,IyBtjBX,CFx8CQnH,AvB8/DQmH,CuB9/DJ,CAASirI,AEw8CA,AzBsjBV,GAAUt+I,CAApB,IuB9/DW,CEw8CkBkrJ,CFx8CC,SEw8CV,GAAsB;AIoD7C,AJnDI,AzBsjBD,QyBtjBKnmI,EFv8CEyvB,CvB6/DFlhC,EyBtjBK,AzBsjBV,GuB7/DOkhC,AEu8CM,AzBsjBH,CuB7/DIo3F,IEu8CI6f,AzBsjBHn4I,EAAL,EuB7/DHkhC,CAAgBy9B,AvB6/DHjyE,CyBtjBnB,AzBsjBD,SuB7/DuBiyE,CAAWqgE,KAA3B99F,KAAqCA,MAAAA,CAAOo3F,QAAPp3F,CAAgBy9B,UAAAA,CAAWsgE,KAA3B/9F,GAAmC;AM2/ClF,AJnDI,AzBujBD,SyBvjBMslH,GFp8CKvb,EEo8CV,GAAa,CAAb,CFp8CUA,GAAUtsE,UAAAA,CAAWsqE,IAAXtqE,CAAgBisE,iBAAhBjsE,CAAkCisE,iBAAlCjsE,CAAoD0/D;AMw/C5E,YNv/Cc6M,YAAAA,GAAevsE,UAAAA,CAAW8rE,KAAX9rE,CAAiBwnE,WAAjBxnE,CAA6B5yE,OAA7B4yE,CAAqCA,UAArCA,IAAmD,CAAC;AMw/CjF,AJnDI,AzBujBF,SAAKn9D,EyBvjBIiQ,KAAP,EAAc,CFn8CCN,OvB0/DjB;A6BngBF,AJnDMM,MAAAA,KAAK,CAACmmI,UAAN;AIoDN,AJnDMnmI,AzBujBJ,MyBvjBIA,KAAK,AzBujBF,CuB3/DK05H,EEo8CA15H,CzBujBZ,IyBvjBiB,CAACgjI,KFp8CNtJ,AEo8CR,GFp8CwB15I,IAAAA,CACpBi3I,GADoBj3I,EAEpBktE,UAAAA,CAAWztD,MAFSzf,EAGpBktE,UAAAA,CAAWlkC,QAHShpC,EAIpB;AMo/CV,AJnDK,AzBwjBH,GA5TmC,euB5rDjBktE,UAAAA,CAAWsqE,IAAXtqE,CAAgBgsE,kBAD1B;AMq/CV,A7BsgBCz4I,EAAAA,QAAQ,EAAE,UAAWzC,CuBz/DG,AvBy/Dd,CuBz/DekvE,CvBy/DD17D,CAAd,EAAkB,MuBz/DH07D,CAAWqgE,KAAZ,EAAmBrgE,UAAAA,CAAWsgE,KAA9B,EAAqCtgE,UAAAA,CAAWugE,MAAhD;AAFf,AMs/CV,AJnDI,AzB0jBF,QAAKj8H,CuBjgEuBxR,AvBigEtB,EyB1jBGyzJ,GzB0jBE5nK,OyB1jBQ,CAACU,CzB0jBpB,EAAuB,MyB1jBd,CAAqB45J,UAArB,CAAgC54J,IAAhC,CAAqC,IAArC,CAAP;AIoDJ,AJnDG,AzB2jBAyR,GyBrkBD,GzBqkBCA,OAAO,CAACC,IAAR,CAAc,wGAAd;A6BvgBH,A7BwgBG,aAAO,KAAKwS,IuB3/DO9H,KAAK6vI,UvB2/DjB,CAA0Bx7I,CAA1B,EAA6BwT,CAA7B,CAAP;A6BvgBH,AJnDEmiJ,AzB4jBC,EyB5jBDA,OAAO,CAACzmH,EFh8CEusG,GEg8CV,GAAgB,QFh8CQC,CEg8CCxsG,KAAT,CAAeqqH,MFh8CP7d,CAAcN,MAAdM,AEg8CR,EAA8B;AIoDhD,AJnDI,QAAI6d,OF/7CO7d,ME+7CM,KAAK,KAAK,CAA3B,EAA8B;AIoDlC,AJnDM6d,AzB4jBJ,MyB5jBIA,KzB4jBG,KAAK9lJ,GyB5jBK,GAAG,IAAhB,SzB4jBG,CAA0B,IAA1B,EAAgCzT,CAAhC,CAAP;A6BxgBF,AJnDK,AzB6jBH,GAzUmC;A6BhMrC,A7B2gBC0G,EAAAA,WuB7/DY60I,AvB6/DD,EAAE,UAAWv7I,CAAX,EAAe;AuBthEzB,AM4gDJ,AJnDI,AzB+jBF,QyB/jBMgiB,GzB+jBC,EyB/jBI,GAAG,AzB+jBFvO,KyB/jBOi1I,MAAjB,QzB+jBK,CAA0B1oJ,CAA1B,EAA6B,IAA7B,CAAP;A6B3gBF,AJpDI,AzBikBF,GA/UmC,KyBjP7BotD,IADJ;AIqDJ,A7B8gBC35C,EAAAA,auBhgEczV,MAAMyzC,AvBggED,EAAE,IuBhgEDA,CAAO/3B,KvBggEKzZ,CAAX,CuBhgEDwxC,CAAetoC,AvBggEAjJ,CuBhgEfuxC,AvBggEC,EuBhgEiBy9B,AvBggEC,UuBhgEDA,CAAWlxE,GAA7ByzC;AMm/CrB,AJnDI,AzBkkBF,WyBlkBSzvB,IF/7CI/jB,CE+7CX,EAAc,GF/7CGwzC,MAAAA,CAAO/3B,OAAP+3B,CAAetoC,CAAfsoC,EAAkBy9B,UAAAA,CAAWjxE,GAA7BwzC;AA9BZ,AMihDT,AJnDM2b,AzBmkBJ,GuBjiEO,GE89CHA,EzBmkBA15C,CuBlgEG,CE+7CC,CzBmkBD,EuBlgEIw7D,AE+7CAltD,CzBmkBD/hB,CAAC,CAACmQ,EyBnkBI,AzBmkBhB,CyBnkBiB40I,IF/7CN91E,CE+7CP,WF/7C6Bg/D,iBAA1B,EAA6C;AMm/CtD,AJnDM,AzBkkBJ,QuBjgEMvsD,AvBigEUhuE,GyBlkBP+N,AzBkkBU,EuBjgERm4H,CvBigEW55I,CAAC,CAACoQ,CuBjgET,AE+7CX,CAAY2R,AzBkkBhB,KyBlkBI,GF/7CoB,YAAW;AMm/CrC,AJnDMA,AzBikBJ,MyBjkBIA,EzBikBwBpO,EuBhgEpB+nI,CE+7CC,AzBikBsB,GyBjkBnBvuF,AzBikBsBntD,CAAC,CAACqQ,EyBjkBhC,AzBikBJ,EuBhgEkB4+D,UAAAA,CAAWk/D,YAAY;AADvC,AMo/CJ,AJnDK,AzBgkBH,QAAwCv6H,GAAG,GAAG5T,CAAC,CAACsQ,EAAhD;A6B5gBF,A7B6gBE,QuB9/DMoxE,AvB8/DF7tE,GAAG,EuB9/DIo7D,CvB8/DDhvE,CAAC,CAACkQ,EAAZ,KuB9/DW8+D,CAAWk/D,YAAY,SAAS,UAAStrI,CAAT,EAAY;AMk/CzD,AJnDI,AzB+jBF,QuB7/DM84I,AvB6/DU7nI,CyB/jBT4yI,EzB+jBY,GyB/jBjB,AzB+jBoBzmJ,CAAC,CAACmQ,CyB/jBT,CzB+jBf,IyB/jBoB21I,MAAL,GAAc,CAA3B;AF/7CA,AMm/CJ,A7B2gBE,QAA4BhyI,GAAG,GAAG9T,CAAC,CAACoQ,EAApC;AuBngEO,AMy/CT,AJnDI,AzB6jBF,GuBngEO,KEs8CDipJ,AzB6jBkCtlJ,CuB3/DjC,EvB2/DoC,EuB3/DhCi7D,CvB2/DmChvE,CAAC,CAACqQ,EAAhD,GyB7jBE,EF97CS2+D,AE87CU,YF97CYsiE,kBAA1B,EAA8C;AMk/CvD,AJnDM,AzB8jBJ,QuB5/DM7vD,CvB4/DDvxE,EyB9jBI+4I,AzB8jBT,EuB5/DWtP,CvB4/DDnmI,GuB5/DK,AE87CX,AzB8jBS,GyB9jBK,AzB8jBFO,EyB9jBZ,CzB8jBM,GuB5/Dc,AvB4/DFJ,GAAG,GAAGC,GAAlB,GuB5/DyB,AvB4/DDH,GAAG,GAAGK,GAA9B,GAAoCJ,GAAG,GAAGG,GAApD;A6B1gBF,AJnDK,AzB8jBH,SAAK1D,CuB5/DGsrI,CvB4/DR,GAAUhoI,GAAG,GuB5/DKu7D,AvB4/DFj7D,GAAN,GAAYJ,GAAG,CuB5/DPq7D,CAAWuiE,CvB4/DD19H,GAAlB,GAAwBH,GuB5/DK,AvB4/DF,GAAGE,GAA9B,GAAoCJ,GAAG,GAAGM,GAApD;AuB7/DE,AMm/CJ,A7B2gBE,SAAK1D,EAAL,GAAUsD,GAAG,GAAGK,GAAN,GAAYJ,GAAG,GAAGG,GAAlB,GAAwBN,GAAG,GAAGK,GAA9B,GAAoCJ,GAAG,GAAGG,GAApD;A6B1gBF,AJnDI,AzB8jBF,QuB3/DM6tE,CvB2/DDpxE,EyB9jBIg1I,AzB8jBT,EuB3/DW1L,CvB2/DDhmI,GuB3/DK,AvB2/DF,EyB9jBI,CAAC,AzB8jBFI,GAAN,CyB9jBO,CAAf,CzB8jBoBP,GAAG,CuB3/DG,EvB2/DAI,GAAlB,GAAwBH,GAAG,CuB3/DE,EvB2/DCI,GAA9B,GAAoCH,GAAG,GAAGI,GAApD;A6B1gBF,AJnDG,GArBD,OFx6CQi9H,SAAS/hE,UAAAA,CAAWuiE,UAAU;AADpC,AMk/CJ,A7B2gBE,SAAK1/H,iBAAL;A6B1gBF,AJnDE4jJ,EAAAA,MF57CMh0E,CE47CC,CAAC+jE,GF57CG7L,IAAI,ME47Cf,GAAwB,GF57CG,ME47CM6L,MF57CK,OE47Cd,CAAuBz3J,KAAvB,EAA8B;AIoDxD,AJnDI,AzB8jBF,QyB9jBMgQ,EF57CEq0I,CE47CC,AzB8jBF,GyB9jBK,CAAV,AzB8jBF,OuB1/DoBpjE,UAAAA,CAAWuiE,UAAU;AADvC,AMi/CJ,AJpDI,AzBgkBF,GAjWmC,KyB9N7B+M,IAAI,GAAG,IADX;AFt8CK,AM2/CT,AJrDI,AzBkkBHhuI,EAAAA,CuBxgEQ,IvBwgEH,CyBhkBEwR,CF57CC,AvB4/DD,IuB5/DKktD,AE47CA,GAAGsvE,GzBgkBG9tI,CyBhkBC,CAACi4I,AzBgkBb,EuB5/DKz5E,AvB4/DUtwE,CAAf,EyBlkBJ,AzBkkBuB,SuB5/DQ+yI,eAA1B,EAA2C;AMg/CpD,AJtDI,AzBokBF,QuB7/DMV,AE47CA4lB,AzBikBDj4J,CAAC,KAAK,CAAX,EuB7/Dei7I,AE47CA,AzBikBA,GyBjkBGuF,CF57CC,GvB6/DG,GyBpkBpB,CzBokBa;A6B7gBjB,AJvDI,AzBqkBF,QyBjkBMn0D,AzBikBDrsF,CAAC,GyBrkBJ,EzBqkBS,CuB7/DEosI,AvB6/Db,EAAe,OAAO,KAAKlpI,EuB7/DE2vC,EvB6/DP,CAAW/gC,EAAX,CuB7/DO+gC,AvB6/Dd,CuB7/DqB/3B,OAAP+3B,CAAe,UAAS45F,GAAT,EAAc;AMg/C5D,AJxDI,AzBukBF,QyBlkBMn9G,AzBkkBF7/B,CuB9/DGujC,AvB8/DF,EyBvkBH,CzBukBM,GuB9/DKiqH,EvB8/DAzrI,EAAb,cuB9/D+B8+D,UAAAA,CAAW0iE,OAAX1iE,CAAmBvgF,QAAnBugF;AMg/CjC,AJzDI,AzBukBF,QyBjkBMphD,AzBikBWnvB,CAAC,GAAG,CuB7/DV0sI,AEs7CT,IzBukBwBh7H,EAA1B;AuB//D6B,AMk/C/B,AJ1DI,AzBukBF,KuB//D6BohC,EAGxBy9B,CE47CCjwD,AzBgkBwBvR,CAAC,GAAG,EyBvkBhC,GFr7CGwhE,AvB4/DkC5+D,CuB5/DvB06H,CvB4/DhB,YuB//D6Bv5F;AMm/C/B,A7B4gBE,QAA2CxvC,CAAC,GAAG,GuB1/DlC+oI,EvB0/DuCz6H,EAApD,CALyB,CAOzB;A6B7gBF,AJnDI,QAAIrhB,SAAS,CAACC,MAAd,EAAsB;AIoD1B,AJnDM,AzBikBJ,QAAI+kB,KyBjkBOsqI,IAAI,CAAC9+C,EzBikBA,GAAGz9F,CAAC,GyBjkBT,AzBikBYyO,CyBjkBG,CAAC8tI,AzBikBF,CAACjuI,EAAP,CyBjkBY,CAACu1I,CzBikBDz3J,CAAC,GAAGqiB,EyBjkBR,AzBikBU,CAACN,EyBjkBI,AzBikBvB,CyBjkBQ,EzBikBgBzR,CyBjkBG6/I,AzBikBF,GAAG9tI,CyBjkBG,CAAC0wF,AzBikBF,CAAC/wF,EAA/B,GAAoC3C,CAAC,CyBjkBV,EAAnB,AzBikBgCgD,EAAE,CyBjkBG8tI,AzBikBFluI,EAA9D,EyBjkBoE,CAACo1I,aAAL,EAAtC,KAA+DlH,IAAI,CAAC6V,QAAL,KAAkB,CAACpmK,KAAnB,GAA2BA,KAA1F,CAAf,CAAP;AIoDN,AJnDK,aF37CQk5D,WAAW1V,MAAAA,CAAO/3B,OAAP+3B,CAAe,UAAS45F,GAAT,EAAc;AM++CrD,A7B8gBE,QuB5/DM4N,AvB4/DD/kI,GuB5/DC+kI,CAAIhrB,OAAJgrB,CvB4/DW,EuB5/DG6B,CvB4/DA,CAApB,EAAwB,WuB5/DlB7B,IAAiC/pE,UAAAA,CAAW4sE,UAAX5sE,IAAyB;AM++ClE,AJnDI,AzBkkBD,QyBlkBKsvE,GzBkkBAjuI,CyBlkBI,CAACi1I,AzBkkBV,GAAU,CAAE90I,EyBlkBX,AzBkkBa,CAACH,CyBlkBG,CzBkkBlB,GuB7/DsB0oI,GAAAA,CAAIhrB,OAAJgrB,IAAe;AM++CxC,AJnDMh6H,AzBkkBH,MyBlkBGA,KzBkkBE7O,CyBlkBI,CzBkkBT,EyBlkBYouI,CzBkkBF,CAAE9tI,EyBlkBI,AzBkkBF,CyBlkBGuO,AzBkkBF7O,EAAf,IyBlkBG;AIoDN,A7B+gBG,WAAKC,EAAL,GAAU,CAAEK,EAAE,CAACL,EAAf;A6B9gBH,AJnDM,AzBkkBH,WuB7/DQg7H,AvB6/DH/6H,EyBlkBK0R,AzBkkBV,GAAU,CAAEtR,CyBlkBT,CzBkkBW,CyBlkBG,AzBkkBFJ,EAAf;AuBlgEqB,AMo/CxB,AJnDQ26E,AzBmkBL/2E,GuBpgEqBu9B,EAMnBy9B,CvB8/DFh7D,EyBnkBK+2E,IAAI,GF37CP/b,AE27CUltD,CF37CCmlC,EvB8/DD,EyBnkBK,CAAC49F,AzBmkBH,CAAE7wI,EuBpgEIu9B,EEi8ChB,CADY,CACQ,MzBmkBzB;A6B/gBH,A7BihBG,KATD,MASO;A6BhhBT,AJnDQ,AzBqkBL,WAAK3vC,CyBrkBIkgB,GzBqkBT,CAAWtR,CyBrkBG,CAAC80I,AzBqkBf,MyBrkBK,EAAkB;AF17C1B,AM8+CA,AJnDUxjI,AzBskBP,SuBjgEM+5H,CE27CC/5H,KAAK,CAAC0jI,SF37ChB,CAA0BzM,GAA1B,AE27CU,EF37CqB/pE,CE07CL,CACO,QF37CjC,EAA2C;AM++C3C,AJnDS,MF17CDi2C,IAAAA,GAAO8zB,GAAAA,CAAIhrB,OAAJgrB;AM8+Cf,A7BmhBE,QAAK/kI,YAAY,IAAI,GAArB,EAA2B;A6BlhB7B,AJnDQ4Z,AzBukBL,MuB//DKkuH,EEw7CAluH,GzBukBAvd,EyBvkBK,AzBukBV,GyBvkBayR,AzBukBH/f,CAAV,CuB//DK+5I,GAAe72B,AEw7CF,CAACjiC,GFx7CCiiC,CAAKqxB,EEw7CpB,iBFx7CerxB,CAAyB7oH,OAAzB6oH,CAAiCj2C,UAAAA,CAAWztD,MAA5C0jG;AM4+CvB,A7BohBG,WAAK/0G,EAAL,GAAU/hB,CAAV;A6BnhBH,AJnDQ,AzBukBL,MuB9/DG2tJ,KvB8/DE3rI,CyBvkBIyd,CzBukBT,GAAUnvB,CyBvkBI,AzBukBd,CuB9/DGq9I,EEu7Cc6a,GFv7CG,CAAC,GAAG,EEu7Cf,IAAqBrY,IAAI,CAAC6I,KAA1B,IAAmCrlI,KAAK,CAAC4jI,GAAzC,IAAgD,CAACpH,IAAI,CAACuY,KAA1D,EAAiE;AIoDzE,AJnDU,AzBukBP,QuB7/DK9a,GvB6/DA3rI,EAAL,GAAU5C,CAAV,IuB7/DKuuI,GAAgB92B,IAAAA,CAAKsxB,sCAALtxB,CAA4C62B,YAA5C72B;AM0+CxB,AJnDUq5B,AzBwkBP,UyBxkBOA,GzBwkBA,CyBxkBI,CAACuY,EzBwkBZ,GyBxkBO,GAAa,CAAb,CAF+D,CAE/C;AIoD1B,A7BshBG,QuB7/DK9a,aAAAA,KAAkBpuJ,WAAW;AMw+CrC,AJnDUq5J,UAAAA,YFp7CY,EEo7CE,CAAC1I,IAAD,EAAOx8H,KAAP,EAAc8L,KAAK,GAAG9L,KAAK,CAAColI,MAA5B,EAAoC,CAApC,CAAd,CAAqD2P,KAArD,GAA6D,CAA7D;AIoDV,AJnDS,AzBykBP,QAAI5iJ,CyB9kBE,EF/6CGsiI,IEo7CI,QzBykBM,GAAG,MAAMviI,YAAY,GAAGA,GuB7/DK8nI,SvB6/DhD,OuB5/DMC;AMu+CR,AJnDU4a,UAAAA,SAAS,GAAG/oI,KAAZ;AIoDV,AJnDS,AzBykBP,QAAK3Z,eAAe,IAAIxmB,MAAM,CAACC,OAA/B,EAAyC;A6BrhB3C,A7BuhBG,UAAIwU,CAAC,GAAG,IuB5/DO8sE,AvB4/DHtwE,CAAZ,SuB5/DeswE,CAAWlkC,YAAYkkC;AMs+CzC,AJnDQ,AzB0kBL,WAAK3+D,CyB1kBIud,CzB0kBT,GAAU1rB,CyB1kBI,AzB0kBH,GyB1kBM,AzB0kBHH,CyB1kBL,AzB0kBC,GAAQrD,CyB1kBIojB,AzB0kBH,GAAG,EyB1kBK,CAAC4jI,EzB0kBDr1I,CyB1kBtB,CzB0kBL,CyB1kBiC;AIoDpC,AJnDU,AzB0kBP,QuB3/DK40G,GvB2/DA/0G,CuB3/DA+0G,CAAK/f,AvB2/DV,GAAUhjG,CuB3/DL+iH,AvB2/DM,GAAG92H,CuB3/DI82H,AvB2/DR,GAAQvmH,CuB3/DAumH,AvB2/DC,CuB3/DI/f,EvB2/DD,EuB3/DJ+f,CAAUm1B,EvB2/DDlqI,EAA3B,QuB3/DwC;AMq+C3C,AJnDUnS,AzB0kBP,UuB3/DSi+I,AEi7CFj+I,CzB0kBFoS,EyB1kBK,AzB0kBV,GAAUjO,CyB1kBI0rB,AzB0kBH,EuB3/DFouH,CvB2/DKv9I,CAAJ,CuB3/DWwmH,AEi7Cd,EzB0kBWvmH,CAAC,CuB3/DEumH,CAAK/f,CvB2/DJ,GuB3/DD+f,CAAUm1B,CvB2/DJjqI,EAA3B;A6BthBH,A7BuhBG,UuBz/DOwmI,CvBy/DFvmI,EAAL,GuBz/DOumI,AvBy/DGz0I,CAAC,EuBz/DJy0I,CvBy/DOnpI,CAAJ,GuBz/DHmpI,AvBy/DWj4I,CAAC,GAAG,KAAK0R,EAA3B;A6BthBH,AJnDU,AzB2kBP,WAAKzM,GyB3kBM,CAACob,KzB2kBZ,CyB3kBW,IAAW,CAACu/H,IAAI,CAACyG,GAAjB,IAAwBhmI,MAAM,IAAIA,MAAM,CAACs1I,iBAA7C,EAAgE;AIoD1E,AJnDY/V,UF/6CFtC,EE+6CEsC,IAAI,CAACt7D,EF/6CPg5D,CAAUjD,GAAAA,AE+6CR,CF/6CYpC,GE+6CG/oH,GF/6CjBouH,EE+6CsB,CF/6CC,EE+6CEsC,IAAI,CAACoH,GAA5B;AIoDZ,AJnDYpH,AzB0kBT,WAAKzsI,CyB1kBIysI,IAAI,CF/6CCtC,AE+6CAyK,KAAL,IF/6CKzK,AE+6CSpuH,CF/6CCmrH,CvBy/DxB,EuBz/DwBA,CAAIpC,AE+6CnB,MF/6CKqF;AADX,AMo+CN,AJnDYsC,YAAAA,CF/6CC,GE+6CG,CF/6CCtC,AE+6CA8J,MAAL,GF/6CK9J,CAAUrG,AE+6CA/nH,KAAf,sBF/6CKouH,CAAJ,EAA4C;AMm+CzD,AJnDW,AzB0kBR,aAAO,IuBx/DOA,AvBw/Dd,SuBx/DcA,CAAUrG,2BAAVqG;AAFJ,AMo+Cb,A7BwhBG,OuB5/DU,MAGA;AMk+Cb,AJnDUsC,UAAAA,IAAI,CAAC6a,aAAL,CAAmB,CAACvrI,KAApB,EAA2B,KAA3B,EAAkC,CAAC,IAAnC;AIoDV,AJnDU+oI,AzB2kBR,QAAIziJ,EyB3kBIyiJ,SAAS,CzB2kBD,EyB3kBI,CAAZ,AzB2kBW/oK,IAAI,CAAC4V,IAAL,CAAWyQ,eAAX,CAAnB;A6BvhBF,AJnDS,AzB2kBP,QAAIE,SAAS,GAAGvmB,IAAI,CAACiW,KAAL,CAAYqQ,YAAZ,EAA0BF,YAA1B,CAAhB;A6BvhBF,A7BwhBE,QAAII,EuBv/DIuiI,IvBu/DE,EuBv/DFA,CAAOmF,AvBu/DFluJ,IAAI,CAACwS,GAAL,CAAU,CAAE,EuBv/DjBu2I,CAAAA,CvBu/DqBj4I,CAAN,EuBv/DSi4I,EvBu/DGxiI,IuBv/DHwiI,CAAOmF,IvBu/D1B,IAAoC5nI,IuBv/DjByiI,CAAAA,CAAqB3nE,MvBu/DrD,IuBv/DqDA,CAAWlkC,QAAhC6rG,MAA8ChpJ,WAAW;AMg+C3F,AJnDQqgC,AzB0kBN,QyB1kBMA,AzB2kBL3Z,GyB3kBQ,CF36CGtmB,EE26CAs4J,AzB2kBL,GuBt/DKt4J,AvBs/DFH,GuBt/DU+oJ,CE26CD,AzB2kBL,CyB3kBM70H,AzB2kBL1hB,GAAL,CuBt/DUu2I,AvBs/DAj4I,CuBt/DOo9I,AE26CR,AzB2kBE,CyB3kBf,EzB2kBkB3nI,SuBt/DJwiI,AvBs/DV,CuBt/DUA,CAAqB3nE,EvBs/DH96D,QuBt/DG86D,CAAWlkC,GvBq/DpD,KuBr/DoB6rG;AM+9CtB,A7ByhBE,SAAKtmI,EAAL,GAAYtO,CAAC,GAAGqS,CuBr/DCs2H,KvBq/DL,GAAa,KAAKr6H,EuBr/DEtiB,AvBq/DP,GAAUsmB,MAAnC;A6BxhBF,AJnDQ,AzB4kBN,SAAKnE,EAAL,CyB5kBU8d,EzB4kBE7/B,CyB5kBC,AzB4kBA,GyB5kBG4P,AzB4kBAqW,CuBr/DC6yC,EEy6CP,GzB4kBE,CyB5kBWnlC,EzB4kBE,CuBr/DC/zB,EEy6CE,CAAC23J,CzB4kBCx1I,EyB5kBxB,AzB4kBmB,EyB5kBS,CzB4kBCmE,MAAnC;A6BxhBF,AJnDUtW,AzB4kBR,SAAKoS,CyB5kBGpS,CzB4kBR,EyB5kBW,CzB4kBCU,CAAC,CyB5kBCuvB,EzB4kBE5Z,CyB5kBR,KzB4kBI,GAAa,KAAKjE,EAAL,GAAUkE,MAAnC;A6BxhBF,AJnDS,AzB4kBP,SAAKjE,EAAL,GAAY5C,CAAC,GAAG4G,MAAJ,GAAa,KAAKhE,EAAL,GAAUiE,MAAnC;A6BxhBF;AACA,AJnDQyN,AzB4kBN,QyB5kBMA,CzB4kBDjQ,IyB5kBM,GAAGk5E,IAAR,MzB4kBN;A6BxhBF,AJnDO;AFx6CP,AM49CA,A7ByhBE,SuBr/DOjpF,EvBq/DA,EuBr/DT,CAAai3I,CvBq/DX,EuBr/DF,EAAkBx3H,MAAlB,EAA0BupB,QAA1B,EAAoC24C,MAApC,EAA4C;AM69C5C,AJnDMilE,AzB6kBJ,GAvamC,GuB/kD/BnnI,AEy6CAmnI,MFz6CAnnI,CAAOupB,KEy6CK,CAACwzG,EFz6Cb/8H,CAAAA,CEy6CY,EAAO+8H,EFz6CE3wJ,EEy6CE,KAAK+yJ,IFz6CI,WEy6Cb,IAA4BpC,IAAI,CAACmI,KAAL,GAAa1oJ,GAAzC,GAA+CugJ,IAAI,CAACmI,KAApD,GAA4D74J,IAAI,CAACkQ,GAAL,CAASohJ,OAAT,EAAkBnhJ,GAAlB,CAAnE,EAA2F,CAA3F,CAAZ;AIoDN,A7B2hBCyG,EAAAA,MAAM,EuBv/DG,AvBu/DD,IuBv/DKhD,KAAJ,CAAA,AvBu/DUuQ,UAAX,EAAwB,CuBv/DFwP,MAArB,GAAA,qBAAA,GAAiDupB,QAAjD,GAAA,GAAA;AM69CV,AJnDMwzG,AzB+kBJ,MyB/kBIA,IAAI,CAACgH,AzB+kBAvzI,MyB/kBL,GAAc,CAAd,AzB+kBe,CAAC7B,EAAX,KAAkB,KAAKA,EAAzB,IAAmC6B,UAAU,CAAC5B,EAAX,KAAkB,KAAKA,EAA1D,IAAoE4B,UAAU,CAAC3B,EAAX,KAAkB,KAAKA,EAA3F,IAAqG2B,UAAU,CAAC1B,EAAX,KAAkB,KAAKA,EAAnI;A6B3hBF,AJnDK,AzBglBH,GA7amC;A6B/GrC,A7B8hBC5L,EAAAA,IuB1/DKuqE,KvB0/DI,EAAE,GuB1/DNA,GAAAA,IvB0/DiBpyE,CuB1/DjBoyE,IvB0/DM,EAAkBtqE,MAAlB,EAA2B;A6B7hBvC,AJnDI,AzBklBF,QAAKA,GyBllBI45I,GzBklBE,CyBllBE,CAAC8H,GzBklBEz4J,EyBllBd,OzBklBF,EAA4B+W,MAAM,GAAG,CAAT;A6B9hB9B,AJnDG,AzBmlBD,GyBnpBA,GFz2CI++E,GvB4/DCvzE,EAAL,CuB5/DIuzE,CAAO1xD,CvB4/DDn1B,KAAK,CuB5/DG,AvB4/DD8H,MAAF,CAAf;A6B/hBF,A7BgiBE,SAAKyL,EAAL,GAAUvT,GuB5/DK,EvB4/DA,CAAE8H,CuB5/DE+sI,KvB4/DI,GAAG,CAAX,CAAf,KuB5/De,CAAoBlwH,MAApB,EAA4BupB,QAA5B;AADf,AM89CF,AJnDEg+G,AzBmlBA,EyBnlBAA,OFz6CO,AvB4/DF14I,CyBnlBG,CAACkpJ,AzBmlBT,GAAU18J,KAAK,CAAE8H,CyBnlBjB,GAAsB,EzBmlBC,GAAG,CAAX,CAAf,EyBnlB+B40J,UAAT,CAAoB3kH,IAApB,EAA0B;AIoDlD,AJnDI,AzBmlBF,QuB5/DQsnG,AEy6CFyE,CzBmlBDrwI,EAAL,GAAUzT,KuB5/DFq/I,AvB4/DO,CAAEv3I,EuB5/DK,CAAC6c,AEy6CF,CAACmkI,EzBmlBC,CyBnlBrB,EFz6CoB,AEy6CK,AzBmlBD,CAAX,CuB5/DgB56G,AvB4/D/B,QuB5/DsB,EAAmBkmD,MAAnB,CAA0BvN,MAAAA,CAAOw4D,WAAjC;AM69CxB,AJnDM2H,MAAAA,WFz6CW1P,IEy6CI,CAACwM,YFz6CLxM,CAAkBrtE,EEy6Cd,EAAkBq/E,CFz6CtBhS,CAAwB6E,GAAxB7E,EAA6B+H,WAA7B/H,KEy6C6C,CAACv/F,IAAD,EAAO+rG,eAAP,CAAzC,CAAf;AIoDN,A7BgiBE,SAAK7uI,iBAAL;A6B/hBF,AJnDM+vI,MAAAA,kBAAkB,GAAG6F,OAAO,CAAC7yG,KAA7B;AIoDN,AJnDK,AzBmlBH,MuB5/DI6uC,KvB4/DG,CuB5/DHA,CAAOy4D,EvB4/DX,IuB5/DIz4D,YAAyBgnD,YAAY;AM69C3C,A7BiiBE,GA5bmC,QuBjkD1ByR,SAASz4D,MAAAA,CAAOy4D,MAAPz4D,CAAc61D;AM69ClC,AJnDI,AzBqlBH30I,EAAAA,MyBrlBO8iJ,CzBqlBA,EAAE,IyBrlBK,CAAC7yG,KAAR,AzBqlBah4C,IyBrlBImlJ,CzBqlBf,EAAkBr9I,MAAlB,EAA2B,CyBrlBjC,EAAmC;AIoDvC,AJnDMq9I,AzBslBJ,MyBtlBIA,EzBslBCnlJ,KAAK,KyBtlBM,AzBslBDjP,IyBtlBKgxJ,KzBslBpB,EyBtlB2B,AzBslBA/hJ,CyBtlBCgiJ,IzBslBI,GAAG,EyBtlBf,AzBslBO,IyBtlBc,GAArC;AIoDN,AJnDM,AzBslBJ,QAAKl6I,EyBtlBGod,IzBslBG,CyBtlBE,GAAG4+H,CFz6CC3H,AvB+/DDprJ,KuB//DMqhF,IvB+/DtB,EAA4BtqE,GyBtlBG,CAAC8jJ,EzBslBE,GAAG,CyBtlBjC,AzBslBwB;A6BliB9B,AJnDM,AzBulBJ5rJ,IAAAA,EuB//DIm0I,GvB+/DC,CyBvlBG,AzBulBDrsI,CyBvlBEod,IFx6CIktD,CEw6CL,AzBulBH,CAAL,GyBvlBkB,AzBulBA,CyBvlBCltD,IFx6CNktD,AvB+/DU9+D,CuB//DCujE,AEw6CA,CAACiyE,AzBulBzB,GyBvlBI,EAA0B,IAAI/G,EFx6CE,KEw6CK,CAACC,SAAR,IAAqB6I,OAAO,CAACvrJ,UAAR,CAAmBjN,MAAnB,GAA4B,CAArD,EAAwD;AIoDxF,AJnDQ,AzBulBN2N,IAAAA,EuB9/DM6O,GvB8/DD,CuB9/DCA,AvB8/DC/G,GuB9/DM2F,EEu6CAyX,CzBulBA,GAAG,CyBvlBE,AzBulBb,CuB9/DQzX,AvB8/Db,CuB9/DsBsgI,EEu6CA,AzBulBA,CyBvlBC7oH,IzBulBI3R,CyBvlBC,CAACu1I,AzBulB7B,GyBvlBM,CFv6COr7I,CAAuB,AEu6CF,MFv6CrBA;AM29Cf,AJnDUyX,AzBulBRllB,IAAAA,EuB9/DIm0I,GvB8/DC,CyBvlBGjvH,AzBulBDpd,KuB9/DM+G,AEu6CA,CzBulBA,EyBvlBGqW,CzBulBA,CAAX,CuB9/Dc,AvB8/DnB,EyBvlBqB,CAACgjI,AzBulBA,KyBvlBd,AzBulBmB10I,EAA3B;A6BniBF,AJnDS,AzBulBPxT,IAAAA,GuB9/DK8xI,EvB8/DA,CAAEhqI,MAAM,GuB9/DIsqE,AvB8/DD,CAAX,CAAL,GAAsB,KuB9/DLA,AvB8/DU3+D,CuB9/DCy6B,CvB8/D5B;A6BniBF,A7BqiBE,MuB9/DM2hB,KvB8/DC7vD,IuB9/DD6vD,CvB8/DN,EuB9/DkBpiD,QAAAA,CAASsgI,aAATtgI,CAAuB,KAAvBA;AM09CpB,AJnDQ,AzBylBN,GA1cmC,SuBrjDzB+jI,AEs6CA,CAACtsH,KAAL,EAAY,IFt6CIrW;AM09CxB,AJnDUg8I,AzB0lBTnzI,EAAAA,QyB1lBSmzI,CzB0lBA,CuBhgEErZ,CvBggEA,IyB1lBK,CAAC4jB,KAAR,AzB0lBaz9I,CuBhgECy6D,OvBggEZ,EAAsB,CuBhgEVA,CAAWyE;AM09CnC,AJnDS,AzB2lBP,MuBhgEMkmE,EAAAA,CvBggED9nI,EuBhgEMwmI,MAAAA,CAAOU,GAAPV,EAAY5rF,GvBggEvB,GAAyBl4C,GuBhgEd8jI,EAAuB50D,GvBggElC,GuBhgEkCA,CAAOy4D,MAA9B7D;AMy9Cb,AJnDO,AzB4lBL,MuBhgEItH,KvBggEG,IuBhgEM4I,AvBggEb,IuBhgEiBzD,GAAAA,CAAI8C;AMw9CvB,AJnDK,AzB6lBH,GAldmC;A6BvFrC,AJnDG,AzB8lBFnnI,EAAAA,CyBlnBC,GFj5CIm9D,UAAAA,GvBmgEY,EAAE,OuBngEQyiE,KvBmgEI,CAAE,WuBngEW;AMy9C7C,A7BsFqC,CAArC,OuB9iDQV,SAAS4I,IAAI;AADnB,AM09CF,AJnDE,AzBgmBF,SuBrgES,AEq6CAmP,QAAP;AIoDF,AJnDC,CAlrBD,CAkrBEiL,MFr6CMhjB,GEmvBR,CAFO,KFjvBU4I,IAAb,OAAA,CAAwB3qE,UAAAA,CAAWm0C,QAAXn0C,EAAxB;AMy9CJ;AACA;AACA,oBNx9CoB+pE,KAAKY,IAAI3qE;AMy9C7B,AJrDAg1E,YAAY,CAAC8E,QAAQ,CAACz6J,SAAV,EAAqB;AIsDjC,AJrDEwoK,EAAAA,IFn6CIxgB,CEm6CC,EAAE,CADwB,UFl6Cbh6I,KAAK2yE;AMy9CzB,AJrDEgoF,EAAAA,SAAS,EAAE,CAFoB;AIwDjC,AJrDEC,EAAAA,OFn6COjoF,CEm6CC,EAAE;AIsDZ,AJzDiC,AzBsmBjC,CyBtmBY,CAAZ,EzBsmBIx6D,OAAO,GAAG,IAAIC,OAAJ,EAAd;A6B5iBA;ANv9CA,AMw9CA,AJrDA,AzBimBA,IyBjmBI8kJ,AzBimBA7kJ,KuBpgEKuiI,MvBogEM,GAAG,IAAIhnI,MuBpgEtB,CAA6B8oI,CEm6CC,EFn6C9B,AvBogEkB,CyBjmBe,CFn6CC90H,AvBogElC,GuBpgEA,EAAuC,GEm6CGs1I,0BAAT,CAAoC3qK,MAApC,EAA4C4/J,IAA5C,EAAkD5gI,KAAlD,EAAyDI,GAAzD,EAA8DwrI,MAA9D,EAAsEC,YAAtE,EAAoFC,SAApF,EAA+F;AIsDhI,AJrDE,SFl6COrvJ,QAAAA,CAAS8xI,QAAT9xI,CAAkB0jI,IAAlB1jI,GAAyB,GAAzBA,GAA+B4Z;AMw9CxC,AJrDE,AzBimBF,MyBjmBMitE,EAAE,CzBimBCz8E,EyBjmBE,IAAIg6I,CzBimBf,CAAkBtgK,CAAlB,EAAqBsQ,CAArB,EAAwB+O,CyBjmBb,AzBimBX,CyBjmByB,CzBimBG,IyBjmBE+5I,GAAnB,EAAwB34J,MAAxB,EAAgC4/J,IAAhC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4CmL,oBAA5C,EAAkE,IAAlE,EAAwEH,MAAxE,CAAT;AIsDF,AJtDE,AzBmmBD,MyBlmBKzqK,CzBkmBAZ,CAAL,GyBlmBU,AzBkmBDA,CAAC,EyBlmBG,CADZ,CzBmmBa,CAAd;AuBngED,AMu9CA,AJvDE,AzBomBD,MyBlmBKyrK,CzBkmBAn7J,CAAL,CuBpgEQ29I,EvBogEC39I,CAAC,IyBlmBK,AzBkmBD,CAAd,EyBlmBkB,CAFjB,IFh6CF,CAAyBs6I,GAAzB,EAA8BttI,IAA9B,EAAoC4wI,WAApC,EAAiD;AMw9CjD,AJxDE,AzBqmBD,MuBpgEO5N,AEk6CFruE,CzBkmBA5yD,CAAL,CuBpgEOihI,EvBogEEjhI,CuBpgEInD,AE+5CZ,AzBqmBS,IAAI,CAAd,GuBpgEaA,CAASsgI,aAATtgI,CAAuB,QAAvBA;AMw9Cd,AJzDE,AzBumBD,MuBrgEKqkI,AEk6CAmrB,SAJJ,GF95CgBpuJ;AMw9ClB,AJ1DE,MF75CI1d,AEk6CAgkC,KALJ,GF75CYtmB;AMw9Cd,AJ3DE,AzBymBFnd,MyBnmBMwrK,AzBmmBA,CAACnrK,KyBzmBL,CzBymBF,CAAe8lB,OAAO,CAACpmB,SAAvB,EAAkC;A6B7iBlC,AJ5DE,AzB2mBDsmB,EAAAA,IuBvgEKimI,AEm6CAmf,KAPJ,AzB2mBQ,EAAE,IAFsB,KuBrgEZ3rB,YAAYK;AMy9ClC,AJ7DE,AzB6mBD5tI,EAAAA,GAAG,CyBrmBEm5J,CzBqmBA,OyB7mBJ,GzB6mBe7rK,CAAX,EAAcsQ,CAAd,EAAiB+O,CAAjB,EAAqB;A6B/iB3B,AJ9DE,AzB+mBA,MuB1gEI6uI,AEo6CA4d,GzBsmBC9rK,CAAL,GAASA,CAAT,CyB/mBA,IF35CiB;AM09CnB,AJ/DE,AzBgnBA,MyBtmBI4R,CAVJ,CF15CM66I,CvB0gEDn8I,CAAL,GAASA,CAAT,UuB1gEsBmwI,gBAAgBmK,GAAAA,CAAI6B,eAAJ7B,CAAoB9pJ,MAApB8pJ,GAA6B;AM09CrE,AJrDE7nD,AzBsmBA,EyBtmBAA,EAAE,CAAClxF,CAAH,GAAO4tB,AzBsmBFpgB,CAAL,GAASA,CyBtmBT,AzBsmBA;A6BhjBF,AJrDE0jF,AzBumBA,EyBvmBAA,EAAE,CAACtuF,CAAH,GAAOorB,EzBumBA,CyBvmBP,GzBumBA;A6BjjBF,AJrDEJ,AzBwmBA,EyBxmBAA,CzB4lBgC,IyB5lB3B,IAAI,EAAT,CAf8H,CAejH;AFn6Cf,AMy9CA,A7BojBCzsB,EAAAA,OuB7gEQm7I,EvB6gEC,EAAE,UAAWl7I,CuB7gEvB,CAAyB23I,GAAzB,CvB6gEY,CuB7gEkBwD,CvB6gEE,MuB7gEhC,EAAuC;AM09CvC,AJrDEvuH,AzB0mBA,EyB1mBAA,GAAG,IAAI,AzB0mBF7/B,CuB9gEGujC,AvB8gER,CyB1mBA,EzB0mBStwB,GuB9gEK0zI,GvB8gEd,OuB9gEwBiE,GAAAA,CAAIhC,eAAJgC,GAAsB,OAAtBA,GAAgC;AM09C1D,A7BqjBE,SAAKt6I,CAAL,GAAS2C,MAAT;A6BpjBF,AJrDE,AzB0mBA,MyB1mBI64J,GzB0mBCzsJ,CAAL,GAASpM,EyB1mBI,GAAG,CAAC4sB,AzB0mBjB,GyB1mBoB,CAAC5xB,OAAJ,CAAY,SAAZ,CAAjB,EAAyC;AFn6C3C,AMy9CA,AJrDI4xB,AzB2mBF,IyB3mBEA,GAAG,EFp6CEwuH,CEo6CCyP,CzB2mBD,IAAP,KuB/gEF,CAAqBlT,GAArB,AEo6CwB,CAAC/qH,CFp6CC,EEo6CF,CAApB;AIsDJ,AJrDG,AzB4mBD,GAtBgC,GuB1/D1ByuH,GAAAA,GAAM1D,GAAAA,CAAIgB,UAAJhB,GAAiB1uI,QAAAA,CAASsgI,aAATtgI,CAAuB,IAAvBA;AM09C/B,A7BwjBChJ,EAAAA,IuBhhEK0vI,AvBghED,EAAE,OuBhhEQgI,GAAAA,AvBghEG5qJ,CuBhhECslF,AvBghEZ,EAAe,UuBhhES;AMy9C/B,AJrDE,AzB8mBA,MyB9mBIgmF,GzB8mBCtrK,CAAL,GAASA,CAAT,IyB9mBA,EAAkB;AIsDpB,AJrDI4R,AzB+mBF,IyB/mBEA,CAAC,CFn6CCo2I,EEm6CE,CAACvoH,EFn6CEoqH,AvBkhEF,GyB/mBD,CzB+mBN,CyB/mBchqH,GAAR,CAAJ,IFn6CoByuH,KAAK1D,GAAAA,CAAI5C,IAAJ4C,CAAS2D;AMy9CtC,AJrDI+c,AzBgnBF,GA9BgC,CyBllB9BA,YAAY,CAAC15J,CAAD,EAAInR,MAAJ,EAAY4/J,IAAZ,CAAZ,CAFgB,CAEe;AIsDnC,A7B4jBCltJ,EAAAA,IuBphEKyvI,AvBohED,EAAE,OuBphEQ0L,GvBohEGh+I,CAAX,CuBphEa,CvBohEE;A6B3jBtB,AJrDImvB,AzBknBF,IyBlnBEA,EFl6CI+uH,GEk6CC,AzBknBFl+I,CAAL,CuBphEMk+I,CEk6CI58I,CAAC,AzBknBFtB,CuBphEK4L,AEk6CF,AzBknBZ,CyBlnBW,CAAT,MFl6CYA,CAASsgI,aAATtgI,CAAuB,MAAvBA;AMw9ChB,AJrDI2jB,AzBmnBF,IyBnnBEA,GAAG,CFl6CC0gH,EEk6CE3uI,CAAC,AzBmnBF,CyBnnBG,CAAD,CAAP,CzBmnBF,KuBrhEkB;AMw9CpB,AJrDG,AzBonBD,GAtCgC,GuBh/D5BgxI,SAAS4L,OAAO;AMw9CtB,A7BgkBCjvI,EAAAA,IuBrhEOkvI,AvBqhEH,EAAE,IuBrhECA,GAASvyI,GvBqhECmD,CAAX,EAAe,EuBrhELnD,CAASsgI,aAATtgI,CAAuB,MAAvBA;AMs9CjB,AJrDEwvJ,AzBsnBA,EyBtnBAA,OFh6COnrB,AvBshEFlhI,CAAL,CyBtnBS,EzBsnBAA,CyBtnBGogB,AzBsnBZ,KyBtnBiB,CAACl/B,CFh6CC,IEg6CP,CAAY4xJ,oBAAZ,KAAqC,EAAjD;AIsDF,A7BkkBE,MuBvhEIvP,KvBuhEG,IuBvhEM6L,AvBuhEb,QuBvhEqB;AMs9CvB,AJrDE,AzBwnBA,GA9CgC,GuB1+D5B7L,GEg6CG3wE,MFh6CMw8E,AEg6CA,GAAG0D,KFh6CK,eEg6Ce,CAACxuH,IAArB,CAA0B9D,GAA1B,CAAhB,EAAgD;AIsDlD,AJrDI8rI,AzBynBHv4J,EAAAA,EyBznBGu4J,EF/5CIjd,IE+5CE,GF/5CFA,AE+5CKz8E,CzBynBA,EuBxhEK/1D,AvBwhEH,GyBznBI,CAAC,CAAD,CAAf,EF/5CcA,CAASsgI,CvBwhED57I,KAAX,EAAkBhB,KuBxhEfsc,AvBwhEH,CuBxhE0B,CvBwhEA,KuBxhEvBA;AMq9ClB,AJrDI0vJ,AzB0nBF,IyB1nBEA,KAAK,CF/5CCrrB,EE+5CE1gH,AzB0nBDj/B,GyB1nBI,CAAC4pH,CzB0nBd,KuBzhEoB,GE+5CV,CAAc5pH,KAAd,EAAqBqxE,MAAM,CAACrxE,KAA5B,CAAR;AIsDJ,A7BskBG,MuB1hEGgiJ,KvB0hEE,CAAL,GuB1hEY8L,SAAS;AMq9CxB,AJrDI,AzB0nBO,MuBzhEL9L,EE+5CEh/G,KAAJ,AzB0nBY5jC,CAAL,CuBzhEI0uJ,AE+5CA,EzB0nBK9uJ,KAAT,EuBzhEa;AMq9CxB,AJrDMgkC,AzBynBqB,MuBvhEnB+qH,AE85CF/qH,KAAK,EF95CH+qH,CE85CM,CAAC/qH,CF95CG1nB,IE85CE,GAAG,CF95CLA,AE85CJ,CF95CasgI,GE85CC,CAAtB,SF95CYtgI,CAAuB,MAAvBA;AMo9ClB,AJrDK,KAFD,KF55CMqkI,CE85CC,IAAIqrB,KAAK,CAAC/xD,CF95CC,KE85CP,CAAa,CAAC,CAAd,MAAqB,OAAzB,EAAkC;AIsD7C,AJrDMj2E,AzBwnBH,MuBthEGg/G,AE85CAh/G,KAAK,AzBwnBH,CAAL,EyBxnBW,CF95CC+qH,AE85CT,SF95CkB;AMo9CxB,AJrDK,AzBunBM,MuBrhEL/L,OvBqhEUtyI,CAAL,CuBrhEIq+I,EvBqhEK/uJ,KAAT,EuBrhEa;AMo9CxB,A7BikB2B,MuBnhEnBgvJ,MAAAA,GAAShE,GAAAA,CAAI6B,eAAJ7B,GAAsB1uI,QAAAA,CAASsgI,aAATtgI,CAAuB,QAAvBA;AMm9CvC,AJrDI,QAAIyvJ,MAAM,KAAKD,SAAS,CAACD,UAAU,EAAX,CAAxB,EAAwC;AIsD5C,AJrDMI,AzBqnBH,MuBlhEGjhB,AE65CAihB,GF75CAjhB,CAAI7zC,CvBkhEF,CAAL,EuBlhEG6zC,AE65CQ,GAAGlnH,CF75CCknH,GAAAA,CAAI7zC,IAAJ6zC,CAASqB,AE65CA,CAACyf,SAAS,CAACD,CF75CC,SE65CS,GAAG,CAAd,CAAV,CAAV,IAAyC,CAApD,CADsC,CACiB;AIsD7D,A7B+jBW,WuBjhEAjyB,EvBihEKn6H,CAAL,EuBjhEKurI,CvBihEIhrJ,EuBjhEJgrJ,CAAI7zC,EvBihET,EuBjhEK6zC,CAASqB,YAAY,UAASrsJ,KAAT,EAAgBk2B,GAAhB,EAAqB;AMm9C1D,AJrDMitE,AzBmnBqB,MyBnnBrBA,EAAE,CAACq2D,GAAH,GAAS,OF75COxO,KAAK90H,KAAKA,GAAAA,KAAQ80H,GAAAA,CAAIpC;AADxC,AMo9CJ,AJrDQmO,QAAAA,KAAK,EAAE5zD,EAAE,CAACq2D,GADH;AF/5Cb,AMs9CF,AJrDQj0I,AzBknBL,QyBlnBKA,CF75CC,AE65CA,EAAEymJ,KAAK,IAAIH,UAAU,KAAK,CAAxB,GAA4BG,KAA5B,GAAoC,GAFhC;AIwDf,AJrDQ,AzBinBI,cAAM,IAAIv4J,EuB9gEFu3I,GvB8gEF,CAAW,CuB9gEJpD,2BvB8gEgC5mJ,EuB9gEH,GvB8gEpC,CAAN;A6B3jBZ,AJrDQmT,AzB2mBN,QyB3mBMA,CAAC,EAAE83J,QAJI;AI0Df,AJrDQ/5J,QAAAA,CAAC,EAAE65J,MAAM,CAAC5nI,MAAP,CAAc,CAAd,MAAqB,GAArB,GAA2BL,UAAU,CAACioI,MAAM,CAAC9xD,MAAP,CAAc,CAAd,CAAD,CAAV,IAAgC8xD,MAAM,CAAC5nI,MAAP,CAAc,CAAd,MAAqB,GAArB,GAA2B,CAAC,CAA5B,GAAgC,CAAhE,CAA3B,GAAgGL,UAAU,CAACioI,MAAD,CAAV,GAAqBE,QALjH;AI2Df,AJrDQ97J,AzBknBN,MuB/gEIujF,EE65CEvjF,CAAC,EF75CE6+I,AE65CAhrH,AzBknBF,IAAP,CyBlnBc,GF75CG,CE65CCA,KAAK,GAAG,CF75CC,AE65ClB,GAAqBnkC,IAAI,CAACsV,IF75CG,CE65C7B,GAAkC;AIsD7C,AJ5De,AzB0nBb,GA7DgC,IyB7jB5B,EFt5CG,IAAInU,KAAAA,GAAQ,GAAGA,KAAAA,GAAQgqJ,GAAAA,CAAI6B,eAAJ7B,CAAoB9pJ,QAAQF,KAAAA,IAAS;AMm9CrE,AJrDMA,AzBonBL0S,EAAAA,IyBpnBK1S,IF75CI6rJ,CE65CC,GAAG0F,AzBonBD,EAAE,UuBjhEWvxJ,AvBihEAA,KAAX,EuBjhEkB2/I,AvBihEC,CyBpnBA,CAAC5hF,SAA7B,CF75CuCisF,GAAAA,CAAI6B,eAAJ7B,CAAoBhqJ,KAApBgqJ,EAA2BhrJ;AMm9CxE,AJrDK,AzBqnBH,YAASgB,KAAT;A6B/jBF,AJrDG,AzBsnBA,WAAK,CAAL;A6BhkBH,A7BgkBW,QuBlhEH4nJ,OvBkhEU,EuBlhED,GvBkhEMxoJ,CAAZ,CuBlhEWJ;AALpB,AMw9CF,AJrDEmjG,EAAAA,EAAE,CAACjxF,CAAH,GAAOlR,KAAK,GAAGi/B,GAAG,CAAC/+B,MAAZ,GAAqB++B,GAAG,CAAC2qF,SAAJ,CAAc5pH,KAAd,EAAqBi/B,GAAG,CAAC/+B,MAAzB,CAArB,GAAwD,EAA/D,CA1D8H,CA0D3D;AIsDrE,A7B+jBG,MuBhhEGm/I,KvBghEE,CAAL,MuBhhEe2O;AMk9ClB,AJrDE7rD,AzBmnBS,EyBnnBTA,EAAE,CAACgpE,CF55CC9rB,CE45CJ,GAAQsrB,KzBmnBQ,GuB/gEA/c,CE45ChB,CzBmnBqBl+I,CAAZ;A6B7jBX,MNj9CM2vI,YAAYwO;AMk9ClB,AJrDE,AzBknBC,MuB9gEGxO,AE45CAoS,KzBknBE,CAAL,CyBlnBU,CAACziI,IF55CI8+H,AE45CZ,CAAa7uH,GAAb,KAAqBisI,SAAzB,EAAoC;AIsDtC,AJrDI/oE,AzBinBO,IyBjnBPA,EF55CEk9C,AE45CA,CAACxrI,CAAH,GAAO,CAAP,CADkC,CACxB,CzBinBI,GuB7gEAk6I,EvB6gEKtvI,CAAZ;A6B3jBX,AJrDG;AIsDH,A7B2jBG,MuB5gEGooI,wBAAwB;AMk9C9B,AJrDE,AzB+mBU,OyB/mBL2R,CF55CGhL,EE45CR,GAAWrrD,CzB+mBK,CuB3gERqrD,AE45CR,CAlE8H,CAkE/G,CF55CGlyI,AvB2gEE7I,KAAJ,CAAW,EuB3gET6I,CAAS2yI,cAAT3yI,CAAwB,UvB2gEatb,KAAvC,CAAN,EuB3gEQsb;AMk9CpB,A7BojBE,QuBrgEQ4yI,oBAAAA,GAAuB5yI,QAAAA,CAAS2yI,cAAT3yI,CAAwB,kBAAxBA;AMk9CjC,AJrDE,AzBinBA,GA1EgC,KuBn8DxB6yI,CE45CDhsD,EAAP,QF55CQgsD,GAAc7yI,QAAAA,CAAS2yI,cAAT3yI,CAAwB,iBAAxBA;AMk9CxB,AJrDC,AzBknBA3I,CyBvrBD,CzBurBCA,KAAK,EAAE,OuB7gEQgwB,KvB6gEI,CuB7gEEojH,UAAU;AMi9ChC,AJ3HA,AzByrBE,IyBnnBEgY,OzBmnBK,IAAI,EyBnnBI,GAAG,AzBmnBFnrJ,SyBnnBWmrJ,EzBmnBpB,CAAsB,KAAK3+J,CAA3B,EAA8B,EyBnnBnB,CAAuBS,EzBmnBC6P,CAAnC,EAAsC,CyBnnB3B,EAA+B+vJ,EzBmnBChhJ,CAA3C,CyBnnBW,AzBmnBlB,EyBnnBuDogB,KAArC,EAA4CI,GAA5C,EAAiDj/B,KAAjD,EAAwDozJ,OAAxD,EAAiE6L,QAAjE,EAA2EyL,YAA3E,EAAyFC,SAAzF,EAAoG;AIsDxH,AJrDE,AzBonBA,GAhFgC,GyBpiB5B/Z,EF35CE9J,SE25CS,CAAC7nH,EF35CV6nH,CAAamB,AE25CJ,CAAf,EAAsB,IF35ChBnB,CAAqBoB,mBAAAA,CAAoB8B,GAApB9B,EAAyB,SAAzBA,CAArBpB,MAA8D,QAAQ;AMi9C9E,AJrDI7nH,AzBqnBHpsB,EAAAA,EyBrnBGosB,EzBqnBC,CyBrnBE,CzBqnBA,EyBrnBGA,GAAG,CAACj/B,IzBqnBI8S,CyBrnBC,AzBqnBZ,EAAe,EyBrnBC,CAAV,EAAajT,CF35CC0wC,KE25Cd,EAAqB6iH,MF35CM,CE25C3B,CAAT,SF35C+C;AMi9CnD,AJrDG,AzBsnBD,SAAKh0J,CAAL,GAAS0T,CAAC,CAAC1T,CAAX;A6BhkBF,A7BikBE,SAAKsQ,CAAL,GAASoD,CAAC,CAACpD,CAAX;A6BhkBF,AJrDE,AzBsnBA,MyBtnBI+3B,GzBsnBChpB,CAAL,GAAS3L,CAAC,CAAC2L,CAAX,EyBtnBgB,EF35CEurI,CE25CCnqJ,IF35CI2tJ,EE25CE,CAACiS,IAAD,CAAzB;AIsDF,AJtDE,AzBwnBA,MyBvnBI2L,EFz5CE14E,GvBghEC,EuBhhEIw7D,EvBghEX,EyBvnBe,GAAGrvH,KAA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B/4I,CEk5CC,OFl5CDA,CAASsgI,aAATtgI,CAAuB,KAAvBA;AMw8CxB,AJrDI+4I,IAAAA,IAAI,CFj5CChZ,EEi5CEswB,KFj5CK3hB,GAAAA,CAAIiB,SEi5CS,CAACoJ,IAAD,CFj5CbrK,CAAoBrnH,AEi5CAgyH,KAAP,EFj5Cc,AEi5CA30J,KAAd,EAAqBH,MAArB,EAA6BuzJ,OAA7B,CAAzB;AIsDJ,AJrDG,AzB8oBD,SAAKh0J,CAAL,CuB9hES,GvB8hEC0T,CAAC,CuBhiE8B,AvBgiE7B1T,CAAZ;A6BxlBF,A7BylBE,SAAKsQ,CAAL,IAAUoD,CAAC,CuB9hEG,AvB8hEFpD,CAAZ,KuBjiEyC;AMy8C3C,AJrDE,AzB8oBA,MyB9oBI,CAACqhJ,EzB8oBAtyI,CAAL,EuB9hEU,EvB8hEA3L,CAAC,CyB9oBG,AzB8oBF2L,CyB9oBG41I,AzB8oBf,EuBliEyC,EEo5C3B,CAAV,IAAoBA,IAAI,CAAC1xH,KAAL,IAAc0xH,IAAI,CAACqG,QAAvC,IAAmDvJ,QAAQ,CAACkD,IAAD,CAA/D,EAAuE;AIsDzE,AJrDI,AzB+oBF,WyB/oBS1D,AzB+oBF,CuB/hEG,GvB+hEV,KyB/oBkB,CAAC0D,EFr5CsB,EEq5CvB,CAAT,GAAkBsX,kBAAkB,CAACtX,IAAD,EAAOM,KAAP,EAAc30J,KAAd,EAAqBH,MAArB,EAA6BuzJ,OAA7B,CAApC,GAA4EiB,IAAnF;AIsDJ,AJrDG,AzBgpBD,GA1JgC,WuBt4DpB;AAN6B,AM48C3C,A7B4lBC9gJ,EAAAA,SAAS,EAAE,UAAWJ,CAAX,EAAe;A6B3lB3B,AJrDE,AzBkpBA,MyBlpBIN,GzBkpBCzT,CyBlpBG,AzBkpBR,GyBlpBW,CzBkpBD+T,CyBlpBV,AzBkpBA;A6B5lBF,AJtDE,AzBmpBA,MyBlpBIoR,CADJ,EzBmpBK7U,CAAL,CuBhiESi/I,GvBgiECx7I,CAAV,CuBhiEcU,GAAG;AMo8CnB,A7B6lBE,MuBhiEI20E,GvBgiEC/pE,CAAL,IAAUtL,CAAV;A6B5lBF,AJrDE,AzBmpBA,OyBnpBKoR,CF74CC/I,AE64CN,GzBmpBO,CyBnpBG64I,GzBmp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F14C8BinJ,GAAAA,CAAIgD;AMg8CxC,A7BumBE,QuBtiEMz3D,CvBsiEDj0E,CAAL,GuBtiEW6sE,CvBsiEDx4E,CAAC,CAAC2L,CAAZ,IuBtiEmB,aAAakwI;AMg8ClC,AJrDM,AzB6pBJ,QuBviEMj8D,GvBuiEC,EuBviEIpH,AE04CAv9E,CAAC,CzB6pBZ,CyB7pBI,EAAY,GF14CG,WAAW6gJ;AMg8ChC,AJrDQkd,AzB8pBN,GA/LgC,KyB/d1BA,GFz4CG,KEy4CK,CAACD,MAAM,CAAChN,MAAP,CAAc9wJ,CAAd,CAAD,CAAR,GAA6Bo0F,EAA7B;AIsDR,AJrDO,AzB+pBN1uF,EAAAA,cAAc,EAAE,UAAWpB,MAAX,EAAoB;A6BzmBrC,AJrDK,AzBgqBH,SAAKjT,CAAL,IAAUiT,MAAV;A6B1mBF,AJrDG,AzBgqBD,MuBziEIqgF,GvByiEChjF,CAAL,CuBziESs6I,GAAAA,AvByiEC33I,CuBziEG44I,KvByiEb,YuBziE8B,aAAa4D;AM+7C7C,A7B2mBE,MuBziEIn8D,GvByiECj0E,CAAL,CuBziESurI,GAAAA,AvByiEC33I,CuBziEGo2I,KvByiEb,UuBziE4B,aAAaoG;AM+7C3C,AJrDE,AzBiqBA,MuBziEInqE,GEw4CGmnF,EzBiqBA,IyBjqBP,AzBiqBA,EuBziEe5iB,aAAae,GAAAA,CAAIiB,iBAAiBjB,GAAAA,CAAItlE,UAAJslE,CAAekC;AM87ClE,AJrDC,AzBkqBC,CyBpzBF,EzB2mBkC;A6BnalC,AJxMA,AzBszBCrmI,EAAAA,EyBnqBGujJ,azBmqBY,EAAE,EyBtzBlB,QzBszB6Bp4J,CAAX,EAAcC,CAAd,EAAkB;AuB1iEpC,AM67CA,AJzMA,AzBwzBE,IyBpqBE,KFx4CK69I,AvB4iEF1vJ,CAAL,GAAS4R,CAAC,CAAC5R,CAAF,CuB5iEX,CAAkB4qJ,CvB4iED/4I,CAAC,CuB5iElB,AvB4iEmB7R,CAAjB,CuB5iEqB4T,CAAvB,EAA0B;AM87C1B,AJrDAulJ,AzBoqBE,MuB5iEI7zE,GvB4iECh1E,CyBpqBG,AzBoqBR,GyBpqBW,AzBoqBFsB,CAAC,CAACtB,CAAF,CuB5iEMizB,EvB4iEA1xB,CAAC,CAACvB,CyBpqBG6oJ,AzBoqBpB,CuB5iEqB/8I,QAAQxI,CAAAA,AEw4ClB,CAAoB2hJ,EFx4CE,GEw4CtB,EAA2B/uG,IAA3B,EAAiC;AIsD9C,AJrDE,AzBoqBA,MyBpqBIyuG,GzBoqBC51I,CyBpqBG,AzBoqBR,GyBpqBWk2I,AzBoqBF3jJ,CAAC,CAACyN,CAAF,EyBpqBO,CAAC41I,AzBoqBFpjJ,CAAC,CAACwN,CAAjB,CyBpqBA;AIsDF,AJtDE,AzBsqBA,MuB5iEIurI,AEu4CAoR,GFv4CApR,CAAIgB,AEu4CA,CzBqqBD,EyBrqBIqJ,EzBqqBX,EyBrqBe,CAAC+G,EFv4CZpR,EEs4CJ,EFt4CsBA,GAAAA,CAAIrC,WAAW;AM67CvC,AJvDE,AzBwqBA,GAnNgC,GyBnd5BvqB,EFv4CE4tB,KEu4CK,GAAGqJ,GFv4CG1xH,CEu4CC,CAACy6F,IFv4CI5hH,GEq4CvB,KFr4C+BxI,CAAAA,GAAI;AM67CrC,AJxDE,AzB0qBD8S,EAAAA,IyBvqBK0uI,MzBuqBK,EAAE,OyBvqBQ,GAAGH,AzBuqBAnxI,IyBvqBI,CAACsxI,AzBuqBhB,EAAmB,ayB1qB9B;AIyDF,AJzDE,AzB4qBA,MyBxqBIiE,EzBwqBC,EyBxqBG,AzBwqBCv1I,GyBxqBEmxI,EzBwqBG,EyBxqBC,CAACoE,CzBwqBEv1I,GyB5qBlB,EzB4qBuB,CAACE,OAAnB,CAAL,EAAoC;A6BlnBtC,AJ1DE,AzB8qBCrR,MuBjjEGi4I,AEw4CA1sI,AzByqBHvL,GuBjjEGi4I,CAAIvB,GvBijEA,CyBzqBI,AzByqBHryI,GyBzqBMi+I,EzByqBd,CAAe,CyBzqBG,CAAC/2I,GFx4CG,KEm4CvB,mFzB8qBC;A6BnnBH,AJ3DE,AzBgrBC,MyB1qBG2uJ,EFx4CExjB,YEw4CY,EFx4CE9lH,CEw4CC0xH,IAAI,CFx4CC74I,AEw4CAywJ,QFx4CQj5J,CAAAA,GAAI,EEk4CtC;AI4DF,AJ5DE,MAOIsrJ,aAAa,GAAGjK,IAAI,CAACiK,aAPzB;AI6DF,AJ7DE,AzBkrBA,MyB1qBI7J,KzB0qBG,KAAK1uI,EyB1qBI,GAAGsuI,IAAI,CAACI,KzB0qBjB,CAAsB9uI,MyBlrB7B,KzBkrBwC,CAAC1C,YAAZ,CAA0BC,KAA1B,CAAtB,CAAP;A6BpnBF,AJ9DE,AzBorBA,GA/NgC,GyB5c5BiiJ,QAAQ,GAAG9Q,IAAI,CAAC8Q,QATpB;AF93CF,AM67CA,AJ/DE,AzBsrBDn/I,EAAAA,IyB5qBKwvI,GFx4CGlK,MEw4CM,CzB4qBA,EyB5qBG+I,AzB4qBD,IyB5qBK,CAACmB,EFx4CvB,CAA0BxL,EvBojEEtmI,CuBpjE5B,EAA+BqrI,CE83C7B,AzBsrBe,EAAiBl6I,KAAjB,EAAyB,MuBpjE1C,EAAiD;AM87CjD,AJhEE,AzBwrBA,MuBrjEMglI,AEw4CFqyB,KzB6qBG,GuBrjEDryB,EEw4CQ,AzB6qBF9zH,CuBrjEK,EEw4CAsuI,IAAI,CAAC6X,OzB6qBf,CAAsBvmJ,EyBxrB7B,SzBwrBwC,CAAClC,gBAAZ,CAA8BC,IAA9B,EAAoC7O,KAApC,CAAtB,CAAP;A6BvnBF,AJjEE,AzB0rBA,GArOgC,GyBzc5BglJ,GFt4CGjhB,AEs4CA,GAAG+b,EFt4CE3K,GAAAA,AEs4CG,CFt4CCzC,AEs4CAqQ,IAZhB,iBF13CqC,UAASxb,GAAT,EAAcp8I,KAAd,EAAqB;AM47C5D,AJlEE,AzB4rBD4T,EAAAA,IyB/qBKu4J,EFt4CInd,MvBqjEG,EAAE,CyB/qBE,EFt4CPA,CEs4CU2F,EFt4CI,GEs4CC,CAAC0E,AzB+qBAlqJ,CAAX,EAAe,KyB5rB5B;AImEF,AJnEE,AzB8rBA,MyBhrBIikJ,EFp4CIpG,AvBojEJ5tJ,CAAC,GAAG,CyBhrBG,GAAGu1J,CzBgrBDv1J,CAAb,GuBpjEQ4tJ,AEo4CW,CAACsc,EFn4ChBtf,GAAAA,CAAIxC,EEq3CR,oCFr3CIwC,CAA2ChqJ,KAA3CgqJ;AMy7CN,AJpEE,AzB8rBA,MyB/qBIh6H,EzB+qBYtgB,CAAC,EuBhjERkpI,CEi4CC,AzB+qBU,GyB/qBP+b,CFj4CC3H,CvBgjEWt9I,CAAzB,EyB/qBkB,CAACsgB,MAfnB,IFl3C6B,UAASiwD,UAAT,EAAqBlkC,QAArB,EAA+B;AMu7C9D,AJrEE,AzB8rBA,MyB9qBIqwH,EzB8qBwB3tJ,CAAC,GAAG,KyB9qBjB,AzB8qBsBA,CuB/iErBs9B,AvB+iEhB,EyB9qBkB/rB,MAAM,IFj4CI++H,AEi4CA/+H,MAAM,CAACmF,IAAP,KFj4CA45H,AEi4CgB,GFj4CG9uE,KEi4C7B,GAAqCjwD,EFj4CRiwD,CAAW07D,GEi4CG,CAAC3rH,MAAP,CAAcs5I,CFj4CzCva,GAA6C9uE,IEi4CvD,GAA8DmzE,GFj4CPnzE,CAAWm0C,GEi3CpF,KFj3CyEn0C;AADvE,AMw7CJ,AJtEE,AzB+rBA,MyB9qBIosF,EzB8qBAx4J,CAAC,GAAG1E,CAAC,CAAC2E,KyB9qBO,GAAG6gJ,AzB8qBpB,KyB9qByB,CAAC2X,UAAN,KAAqB,MAjBzC;AIuEF,AJvEE,AzBisBA,MyB/qBI9C,EAAE,CzB+qBDpqK,CAAL,CyB/qBSu1J,EF/3CE30J,AvB8iEF6T,CAAC,CAAE,CyB/qBE,AzB+qBJ,CyB/qBK4jJ,AzB+qBN,GAASr4J,CAAT,CuB9iEW4vJ,EvB8iEEn7I,CyBjsBtB,AzBisBuB,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAA5C;AuB3jEA,AMk8CF,AJxEE,AzBksBA,MyB/qBI8tJ,GzB+qBC78J,CAAL,GAASmE,CAAC,CyBlsBV,AzBksBY,CAAF,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAA5C;A6BznBF,AJzEE,AzBmsBA,MyB/qBI1Q,CApBJ,EF12CO8rI,AvB6iEFp7H,CAAL,GAAS5K,CAAC,CAAE,CAAF,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAA5C;A6BznBF,AJ1EE,AzBqsBA,MyBhrBI8F,CArBJ,IzBqsBO,IAAP;A6B1nBF,AJ3EE,AzBusBA,GAlPgC,GyB/b5B49E,EAtBJ;AFv2CF,AMm7CA,AJ5EE,AzBysBDl8E,EAAAA,IyBlrBKpmB,GF93CGovJ,GEu2CP,OzBysBgB,EAAE,QuBhjEpB,CAA8BjF,CvBgjEC76I,CAAX,CuBhjEpB,CvBgjEmC,CuBhjEA;AMo7CnC,AJ7EE,AzB2sBA,MyBnrBIq9J,CF93CC,IAAIxsK,AvBijEF,KuBjjEEA,AvBijEG4T,CyB3sBZ,EFt2CiB,GAAG5T,KAAAA,CvBijEb,CAAmBmP,CuBjjEE66I,AvBijErB,EAAuBp1I,CuBjjEFo1I,CAAI6B,OvBijEzB,EAAP,MuBjjE4B7B,CAAoB9pJ,QAAQF,KAAAA,IAAS;AMo7CnE,AJ9EE,AzB6sBA,GAxPgC,GyB5b5BysK,EF93CEziB,GAAAA,CAAI6B,AEq2CV,eFr2CM7B,CAAoBhqJ,KAApBgqJ,EAA2BhrJ,KAA3BgrJ,KAAqCA,GAAAA,CAAIpC,QAAQ;AMo7CzD,AJ/EE,AzB+sBD/oI,EAAAA,IyBrrBK00I,IF93CI1H,GEo2CR,CzB+sBW,EAAE,UuBnjEWhM,AvBmjEA1wI,CAAX,EAAe,auBnjEYnP;AMo7C1C,AJhFE,AzBitBA,MyBtrBI6rK,EzBsrBAzsK,CAAC,GyBjtBL,AzBitBQ,KAAKA,CAAb;A6BhoBF,AJjFE,AzBitBA,MyBrrBI0sK,EzBqrBYp8J,CAAC,GAAG,EyBjtBpB,GzBitByBA,CAAzB;A6B/nBF,AJlFE,AzBitBA,MyBprBI1P,EzBorBwBye,CAAC,EyBjtB7B,CzBitBgC,KAAKA,CAArC;A6B9nBF,AJnFE,AzBktBA,MyBprBIiuJ,EzBorBA74J,CAAC,GAAG1E,CAAC,CAAC2E,GyBltBV,KzBktBA;AuBjjEF,AMm7CA,A7BgoBE,QAAId,CuBnjEGk8I,AvBmjEF,GAAG,KAAMr7I,CAAC,CAAE,CAAF,CAAD,EuBnjEhB,CAAwBs7I,AvBmjEC/vJ,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GuBnjEhB,AvBmjE0CmE,CAAC,CuBnjEF,AvBmjEI,EAAF,CAAD,GAAU4K,CAApC,GAAwC5K,CAAC,CAAE,EAAF,CAA/C,CAAR;A6B/nBF,AJrDE,AzBsrBA,MuBpjEIs7I,AE83CAqa,EAAE,CzBsrBDpqK,CAAL,GyBtrBW,AzBsrBF,CyBtrBGo2J,AzBsrBD3hJ,CAAC,CAAE,CAAF,CAAD,GuBpjEPs7I,AvBojEgB/vJ,CuBpjEAc,AvBojET,CyBtrBA,EzBsrBa2T,CAAC,CyBtrBA,AzBsrBE,CuBpjEvBs7I,AE83CsBiM,AzBsrBD,CAAD,GyBtrBlB,AzBsrB2B1rJ,CuBpjEF,AE83C/B,AzBsrBW,EyBtrBsB,CF93CC,AvBojEGmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAAnC,GAAuC5K,CAAC,CAAE,EAAF,CAA1C,IAAqDb,CAA9D;A6BhoBF,AJrDIooJ,AzBsrBF,IyBtrBEA,IAAI,CzBsrBD1rJ,CAAL,CyBtrBS,EzBsrBA,CAAEmE,CAAC,CAAE,CyBtrBZ,AzBsrBU,CAAD,GAASzU,CAAT,GAAayU,CAAC,CAAE,CuBpjEHvT,AvBojEC,CAAD,GAASoP,CuBpjEJ47E,AvBojElB,GAA0Bz3E,CAAC,CAAE,CAAF,CAAD,CuBpjEA,EvBojES4K,CAAnC,GAAuC5K,CAAC,CAAE,EAAF,CAA1C,CuBpjEuC,GvBojEcb,CAA9D;A6BhoBF,AJrDG,AzBsrBD,SAAKyL,CAAL,GAAS,CAAE5K,CAAC,CAAE,CAAF,CAAD,GuBpjEQs7I,AvBojEC/vJ,CAAT,GAAayU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,EAAF,CAAD,GAAU4K,CAApC,GAAwC5K,CAAC,CAAE,EAAF,CAA3C,IAAsDb,CAA/D;AuBrjEE,AMq7CJ,A7BkoBE,WAAO,IAAP;A6BjoBF,AJrDE2hJ,AzBwrBA,EyBxrBAA,CzBibgC,IyBjb3B,CAACgY,KAAN,GAActR,UAAU,CAACD,IAAD,EAAOnL,SAAS,CAACmL,IAAjB,CAAxB;AIsDF,AJrDEzG,AzByrBD5uI,EyBzrBC4uI,AzByrBD5uI,KyBzrBM,CAAC6mJ,MAAN,GAAezH,AzByrBD,EAAE,MyBzrBO,GAAGrJ,CzByrBC/qJ,CAAX,EAAe,OyBzrBM,CAACsqJ,UAAU,CAAC8J,QAAQ,KAAK,IAAb,GAAoB/J,IAApB,GAA2B+J,QAA5B,EAAsClV,SAAS,CAACmL,IAAhD,CAAX,CAAd,GAAkF,CAAzG;AIsDF,A7BqoBE,QAAIh8J,CuBxjEGw5I,AvBwjEF,GAAG,EuBxjEIuW,GvBwjEC/vJ,CAAb,auBxjE6B,UAAS8R,CAAT,EAAY;AMo7C3C,AJrDE,AzByrBA,MuBvjEI6qI,AE83CAopB,EzByrBYz1J,CAAC,GAAG,EyBzrBR,GzByrBaA,CyBzrBTilJ,AzByrBhB,KyBzrBqB,CAACsQ,KAAlB,IAA2B,CAACtQ,KAAK,CAACkC,OAAtC,EAA+C;AF/3C/C,AMq7CF,AJrDI,AzBwrBF,QAA4Bp4I,CAAC,GAAG,KAAKA,CAArC;A6BloBF,AJrDI0mJ,AzBwrBF,IyBxrBEA,IzBwrBEj/I,EAAE,EyBxrBI,CzBwrBDnV,CAAC,CyBxrBG4jJ,AzBwrBFv1J,CAAX,IyBxrBkB,CAACwtK,MAAjB;AIsDJ,AJrDIjY,AzBurBF,IyBvrBEA,IzBurBYxuI,CyBvrBP,CAACymJ,AzBurBQ,GAAG77J,CAAC,CAACrB,CyBvrBnB,AzBurBF,GyBvrBiBilJ,KAAK,CAACgY,KAArB;AD/tFG,AKqxFP,AJrDIhY,AzBsrBF,IwBt5GW3xH,ACguFT2xH,IzBsrBsBvuI,CwBt5Gb4c,ACguFJ,CAAC2pI,AzBsrBkB,EwBt5GP,CxBs5GU57J,CAAC,CyBtrB5B,AzBsrB6B0N,CAA/B,EyBtrBgB0mJ,QAAd;AIsDJ,AJrDG,AzBqrBD,QAAkC9+I,CwBr5G3B4b,CxBq5G6B,GAAGlxB,CwBt5GpB,AxBs5GqB,CAACiC,CAAzC,CAH+B,CAK/B;A6BjoBF,QLrxFQmoI,SAFa;AKwxFrB,AJrDE,AzBurBA,MyBvrBI,CAACquB,CzBurBDljJ,CyBvrBJ,CzBurBM,CyBvrBG,EDhuFEwzH,AxBu5GFzzH,EAAE,GAAGjnB,CAAL,GAAS+mB,EAAE,GAAG1H,CAAd,GAAkB2H,EAAE,GAAG1W,CAAhC;AwB15GmB,AKyxFrB,AJrDI,AzBurBF,CwB35GK,OxB25GD6W,EAAE,GAAGF,EAAE,GAAG3W,CAAL,GAAS0W,EAAE,GAAGhnB,CAAd,GAAkB8mB,EAAE,GAAGzH,CAAhC;A6BjoBF,AJrDI,AzBurBF,QyBvrBM0tJ,AzBurBF3lJ,EAAE,GAAGH,EAAE,GAAG5H,CyBvrBZ,AzBurBO,EyBvrBU,CzBurBDyH,EAAE,GAAGxW,CAAd,GAAkByW,EAAE,GAAG/mB,CAAhC;AwBt5GF,AKqxFA,AJrDM+sK,AzBurBJ,IwBv5GW5sF,ECguFP4sF,EzBurBA1lJ,EAAE,GAAG,CAAEP,CwBv5GAq5D,CxBu5GF,CyBvrBM,CDhuFU,ACguFTv/B,CzBurBA5gD,CAAP,GAAW+mB,CyBvrBhB,CAAmB,AzBurBD,CyBvrBE,CAApB,CzBurBqBzW,CyBvrBE,AzBurBlB,GAAoB0W,CyBvrBzB,CzBurB2B,CyBvrBE24I,EzBurBCtgJ,CAAlC,CyBvrBI,AzB6qB2B,CAY/B;A6BnoBF,AJrDK,cDhuFSi9H,UADa;AKuxF3B,A7BooBE,SAAKt8I,CAAL,GAASknB,EAAE,GAAGD,EAAL,CwBz5GU44H,ExBy5GAx4H,EAAE,GAAG,CAAEP,EAAjB,GAAsBK,EAAE,EwB35GR,CxB25GW,CAAEH,EAA7B,GAAkCI,EAAE,GAAG,CAAEL,EAAlD;A6BnoBF,AJrDI,AzByrBF,QyBzrBMi3G,CzByrBD1tH,CAAL,GAAS6W,EyBzrBP,AzByrBS,EyBzrBI,CzByrBDF,EwBz5GIk5H,AxBy5GT,GAAU94H,EAAE,GAAG,CAAEN,EAAjB,GAAsBK,EwB55GN,AxB45GQ,GAAG,CAAEN,EAA7B,GAAkCI,EAAE,GAAG,CAAEF,EAAlD;A6BnoBF,AJrDM8vI,AzByrBJ,MyBzrBIA,GzByrBCz3I,CAAL,GAAS+H,EAAE,GAAGH,EwBz5GI05H,AxBy5GT,GyBzrBY,AzByrBFt5H,CyBzrBGkuI,CzByrBD,GAAG,CyBzrBG,AzByrBDvuI,CyBzrBEizI,CzByrBnB,GAAsB/yI,EwB75GN,AxB65GQ,EyBzrBX,CzByrBc,CAAEH,CyBzrBCwgJ,CzByrB9B,GAAkCpgJ,CyBzrBC,CAACzU,AzByrBA,GyBzrBN,AzByrBS,CyBzrBCshJ,AzByrBCltI,EAAlD,KyBzrBuC,EAAmB+uI,YAAY,CAAC;AIsDzE,AJrDQ9/H,AzB0rBN,QyB1rBMA,GzB0rBC,CyB1rBG,EAAE,CzB0rBZ,KwB15GkBirH,GC+tFqD,aDpuF9C;AK2xF3B,AJrDQ8P,AzB2rBN,GA7RgC,KyB9Z1BA,SAAS,EAAE,IDhuFI/O,CC8tFkD,kBDpuF9C;AK4xF3B,AJrDQnxH,AzB4rBPtJ,EAAAA,MyB5rBOsJ,CzB4rBA,EAAE,GyB5rBI,EAAEA,KzB4rBKrJ,CyB/rBoD,ID7tF/Ci7H,CxB45GhB,EAAoB,mBwBn6GH;AK6xF3B,AJrDQ4S,AzB6rBN,QyB7rBMA,GzB6rBC,KAAK31I,MwB75GQ0jI,CCguFC,EAAE,GzB6rBhB,CyBjsBgE,AzBisB7C57H,MAAM,CAACC,IwBr6GR,cxBq6GlB,EAA+C/H,YAA/C,CAA6D8H,MAAM,CAACE,gBAApE,CAAP;A6BvoBF,AJrDQ4xI,AzB8rBN,GAnSgC,KyB3Z1BA,IAAI,EAAEzH,KDhuFKtO,MCguFM,CAAC+V,IAAD,CALgD;ADpuF9C,AK+xF3B,AJrDQr7B,AzB+rBPt2G,CwBz6GD,CxBy6GCA,MyB/rBOs2G,GzB+rBE,EAAE,EyB/rBG,EAAE,IANwD,EzBqsBlDz2G,MAAX,EAAoB;A6BzoBhC,AJrDQopG,AzBgsBN,QyBhsBMA,GzBgsBC,EyBhsBI,EAAE,CAP0D,AzBusB3DlxG,YAAL,CAAmB8H,MAAM,CAACI,uBAA1B,EAAoDlI,YAApD,CAAkE8H,MAAM,CAACK,WAAzE,CAAP;AwB/5GF,AKqxFA,AJrDQ1J,AzBisBN,GAzSgC,CwBxnGrBg/H,ICguFLh/H,CDhuFKg/H,GAAM,ICguFH,EAAEh/H,QARuD;ADxtFpDg/H,AKsxFrB,AJrDQ2vB,AzBksBPhlJ,EwBn6GoBq1H,AxBm6GpBr1H,GwBn6GoBq1H,EAAK8S,CCiuFlB6c,YzBksBW,EyBlsBG,AzBksBD,EyBlsBGA,QzBksBQ98J,CAAX,EAAe,GyB3sBqC;ADxtFtD,AKuxFnB,AJrDQmvJ,AzBmsBN,CwBr6GF,OCkuFQA,aAAa,EAAEA,aAVkD;AIgEzE,AJrDQ2I,AzBmsBN,QyBnsBMA,OAAO,EAAE;ADjuFjB,AKuxFA,AJjEyE,AzBgtBvE,IwBt6GWjd,GAAAA,ACstF2D,CzBgtBlE5qJ,CyBpsBGg+H,AzBosBF,CwBt6GY,ExBs6GT,IyBhtB8D,CAA/B,AzBgtB1Bh+H,CyBhtBQ,AzBgtBrB,CyBhtBI,CADW,CAaI;ADluFA+nJ,AKwxFrB,A7B8oBE,EwBt6GmBA,GAAAA,EAAKkI,CxBs6GR3/I,CAAC,GAAG,KAAKA,CAAzB;AwBt6GiB,AKyxFnB,A7B6oBE,CwBt6GF,OxBs6G8B+O,CAAC,GAAG,KAAKA,CAArC;A6B5oBF,AJrDM,AzBksBJ,QAAI5K,CAAC,CyBlsBG2gJ,EzBksBArlJ,CAAC,CAAC2E,QAAV,GyBlsBI,EAAqB;ADnuF3B,AKyxFA,AJrDQ,AzBmsBN,IwBv6GWqzI,KAAAA,AxBu6GN/nJ,CAAL,EwBv6GiBiwJ,ACouFPzpG,CzBmsBD/xC,CAAC,CwBv6GZ,AxBu6Gc,CyBnsBE,AzBmsBJ,CAAD,EyBnsBQ,CAAX,AzBmsBYzU,CAAT,CyBnsBW,EzBmsBEyU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,CAAF,CAAD,GAAS4K,CAA5C;A6B7oBF,AJrDU,AzBmsBR,SAAK/O,CAAL,CyBnsBSw8J,EzBmsBAr4J,CAAC,CAAE,CAAF,CAAD,GAASzU,CyBnsBV,AzBmsBC,GAAayU,CAAC,CyBnsBC8gJ,AzBmsBC,CAAF,CAAD,GyBnsBO,AzBmsBEjlJ,CyBnsBD2pJ,AzBmsBrB,GAA0BxlJ,CAAC,CAAE,CAAF,CAAD,CyBnsBX,EzBmsBoB4K,CyBnsBH,AzBmsBzC,CyBnsBQ,EADY,CACyB;ADnuF/C,AKyxFA,AJrDS,AzBmsBP,IwBv6GF,KAAA,ACkuFQ,AzBqsBDA,CAAL,EwBv6Ga,CxBu6GJ5K,CAAC,CyBnsBG,AzBmsBD,CAAF,CAAD,EyBnsBQgmJ,CzBmsBCz6J,CAAT,CyBnsBI,EAAS,AzBmsBAyU,CAAC,CAAE,CAAF,CAAD,GAASnE,CAAtB,GAA0BmE,CAAC,CAAE,EAAF,CAAD,GAAU4K,CAA7C;A6B7oBF,AJrDU,AzBosBR,WAAO,GwBz6GM,ExBy6GD7J,CyBrsBU,CACN,OzBosBT,EAAP;A6B9oBF,AJrDS,AzBqsBP,GAzTgC,uBwBlnGnB;AK4xFf,AJrDO,AzBssBNlB,EAAAA,MAAM,EAAE,EwB76GM,QxB66GKZ,CAAX,EAAe;A6BhpBxB,AJrDK,AzBusBH,KyB9tBE,IzB8tBG1T,CwB/6GQ,AxB+6Gb,CyBvsBS,GzBusBC0T,CyBvsBG2hJ,AzBusBF,CAACr1J,CAAZ,UyBvsByB,IAAIy6J,GAApB,EAAyB;AIsDpC,AJrDM,AzBusBJ,SAAKnqJ,CAAL,IAAUoD,CAAC,CAACpD,CAAZ;AwBh7Ga,AK+xFf,AJrDM,AzBusBJ,CwBj7GF,QxBi7GO+O,CyBvsBG0tJ,AzBusBR,IAAUr5J,CAAC,CAAC2L,CAAZ,IyBvsBI,EAAiB;AIsDvB,AJrDQ,AzBwsBN,SyBxsBOytJ,EzBwsBA,IAAP,IyBxsBM,KAAgBvX,KAAK,CAAC0E,QAAN,GAAiB,CAAjC;AIsDR,AJrDO,AzBysBL,GAnUgC,IyBxY5B,MAEO;AIsDb,AJrDQ,AzB0sBP1lJ,EAAAA,UyB1sBWiyC,EzB0sBC,EyB1sBL,AzB0sBO,EyB1sBG,QzB0sBQvzC,MAAX,EAAoB;A6BppBnC,AJrDU,AzB2sBR,WAAO,KAAKoB,cAAL,CAAqB,IAAIpB,MAAzB,CAAP;A6BrpBF,AJrDUmiJ,AzB4sBR,GAzUgC,OyBnYxBA,eAAe,GAAG,KAAlB;AIsDV,AJrDS,AzB6sBRzlJ,EAAAA,GAAG,EAAE,UAAW+D,CAAX,EAAe;A6BvpBrB,A7BypBE,SAAK1T,CAAL,GAASP,IAAI,CAACkQ,GAAL,CAAU,KAAK3P,CAAf,EAAkB0T,CAAC,CAAC1T,CAApB,CAAT;A6BxpBF,AJrDQ82J,AzB8sBN,QyB9sBMA,CzB8sBDxmJ,CAAL,GAAS7Q,IAAI,CAACkQ,GAAL,CAAU,GyB9sBI,CAAC4lJ,CzB8sBAjlJ,CAAf,EAAkBoD,CyB9sBE,AzB8sBD,CyB9sBEumJ,AzB8sBD3pJ,CAApB,CAAT,MyB9sBwB,GAAiBi3J,KAAK,CAAC70J,GAAN,CAAUshJ,OAAV,EAAmBjB,MAAM,CAACkD,cAAc,CAAChB,IAAD,EAAO3B,cAAP,CAAf,EAAuC;AIsD3G,AJrDUxC,AzB8sBR,SAAKzxI,CyB9sBGyxI,AzB8sBR,GAASrxJ,IAAI,CAACkQ,CyB9sBG,EAAE,AzB8sBV,CAAU,IyB/sBsF,CzB+sBjF0P,CAAf,EAAkB3L,CAAC,CAAC2L,CAApB,CAAT;A6BxpBF,AJrDU0W,AzB+sBR,UyB/sBQA,CzB+sBD,GyB/sBK,CzB+sBZ,CyB/sBc,aAF2F;AIwD3G,AJrDU,AzBgtBR,GAnVgC;A6BvUlC,AJrDUsjI,AzBitBTzpJ,EAAAA,GAAG,EAAE,GyBjtBIypJ,IAAI,EAAEjE,CzBitBC1hJ,CAAX,EAAe,WyBjtBU,IAAIk+I,WAAW,CAACyH,IAAD,CAJ6D;AI0D3G,AJrDUjE,AzBktBR,SAAKp1J,CyBltBGo1J,AzBktBR,GAAS31J,IAAI,CAACmQ,GAAL,CAAU,GyBltBI,EAAEwlJ,AzBktBDp1J,CAAf,EAAkB0T,CAAC,CAAC1T,CAApB,CAAT,QyBvtByG;AI2D3G,AJrDU,AzBktBR,SAAKsQ,CAAL,GAAS7Q,IAAI,CAACmQ,GAAL,CAAU,KAAKU,CAAf,EAAkBoD,CAAC,CAACpD,CAApB,CAAT;A6B5pBF,AJrDUu3J,AzBktBR,SAAKxoJ,CyBltBGwoJ,AzBktBR,GAASpoK,IyBltBM,AzBktBF,CAACmQ,CyBltBG,CAPwF,CzBytBhG,CAAU,KAAKyP,CAAf,EAAkB3L,CAAC,CAAC2L,CAApB,CAAT;A6B5pBF,AJrDUuR,AzBmtBR,UyBntBQA,CzBmtBD,IAAP,CyBntBc,EAAEA,MARyF,CAQlF;AIsDzB,A7B+pBE,GA7VgC;A6BjUlC,AJ/D2G,AzB+tB1GlhB,EAAAA,KAAK,EyB/tB8D,AzB+tB5D,CyB/tBmC,CAAlB,CAAjB,OzB+tBWC,GAAX,EAAgBC,GAAhB,EAAsB;A6B/pB9B,A7BiqBE;A6BhqBF,AJrDQ,AzButBN,SAAK5P,CAAL,EyBvtBU,CAACo1J,AzButBF31J,IAAI,CAACmQ,GAAL,CAAUD,GAAG,CAAC3P,CAAd,CyBvtBH,CzButBoBP,CyBvtBE,GzButBE,CAACkQ,GAAL,CAAUC,GAAG,CAAC5P,CAAd,EAAiB,KAAKA,CAAtB,CAAjB,CAAT;A6BjqBF,AJrDUm5J,AzButBR,SAAK7oJ,CyBvtBG6oJ,AzButBR,GAAS15J,IAAI,CAACmQ,EyBvtBI,CAAC2lJ,AzButBV,CAAU5lJ,GAAG,CyBvtBE,AzButBDW,CyBvtBE2pJ,AzButBhB,EAAiBx6J,IAAI,CAACkQ,CyBvtBb,EAAiBqhJ,AzButBT,CAAUphJ,GAAG,CAACU,CAAd,EyBvtBR,AzButByB,CyBvtBnC,CADoB,CACkB,EzButBEA,CAAtB,CAAjB,CAAT;A6BjqBF,A7BkqBE,SAAK+O,CAAL,GAAS5f,IAAI,CAACmQ,GAAL,CAAUD,GAAG,CAAC0P,CAAd,EAAiB5f,IAAI,CAACkQ,GAAL,CAAUC,GAAG,CAACyP,CAAd,EAAiB,KAAKA,CAAtB,CAAjB,CAAT;A6BjqBF,AJrDS,AzBwtBP,SyB3tBM,EzB2tBC,IyBxtBM,AzBwtBb,IyBxtBiB,CAACmnC,IAAL,EAAW;AIsD1B,AJrDU,AzBytBR,GAzWgC;A6B1TlC,AJrDS,AzB0tBR7xC,EAAAA,WAAW,EAAE,UAAWC,MAAX,EAAmBC,MAAnB,EAA4B;A6BpqB1C,AJrDO,AzB2tBL,SAAK7U,CAAL,GAASP,IAAI,CAACmQ,GAAL,CAAUgF,MAAV,EAAkBnV,IAAI,CAACkQ,GAAL,CAAUkF,MAAV,EAAkB,KAAK7U,CAAvB,CAAlB,CAAT;A6BrqBF,AJrDK,AzB2tBH,SAAKsQ,CAAL,GAAS7Q,IAAI,CAACmQ,GAAL,CAAUgF,MAAV,EAAkBnV,IAAI,CAACkQ,GAAL,CAAUkF,MAAV,EAAkB,KAAKvE,CAAvB,CAAlB,CAAT;A6BrqBF,A7BsqBE,SAAK+O,CAAL,GAAS5f,IAAI,CAACmQ,GAAL,CAAUgF,MAAV,EAAkBnV,IAAI,CAACkQ,GAAL,CAAUkF,MAAV,EAAkB,KAAKwK,CAAvB,CAAlB,CAAT;A6BrqBF,AJrDI8tJ,AzB4tBF,IyB5tBEA,OzB4tBK,EyB5tBI,EzB4tBX,CyB5tBclX,cAAc,CAAChB,IAAD,EAAO3B,cAAP,CAA1B;AIsDJ,AJrDIiC,AzB6tBF,GAnXgC,CyB1W9BA,KAAK,CAAC6D,GAAN,GAAY,CAAZ;AIsDJ,AJrDIjF,AzB8tBHr/I,EAAAA,EyB9tBGq/I,OAAO,EzB8tBC,CyB9tBEH,CzB8tBA,MyB9tBO,CAAC,CAAD,CAAP,CzB8tBWrkJ,EyB9tBE2kJ,CzB8tBb,EAAgB1kJ,GAAhB,EAAsB,CyB9tBA,CAACokJ,OAAO,CAAC,CAAD,CAAR,CAAT,CAAsBG,OAAnC,GAA6C,CAAvD;AIsDJ,AJrDImZ,AzB+tBF,IyB/tBEA,IzB+tBExsK,MAAM,CyB/tBG,EzB+tBA,CyB/tBGqzJ,IzB+tBErzJ,GyB/tBK,GzB+tBV,CyB/tBcm0J,CzB+tB3B,GyB/tB+B,CAACd,OAAO,CAACkM,IAAT,CAA7B,CA/DO,CA+DsC;AIsDjD,A7B2qBE,WAAO,KAAK9rJ,YAAL,CAAmBzT,MAAM,IAAI,CAA7B,EAAiCuT,cAAjC,CAAiD5U,IAAI,CAACmQ,GAAL,CAAUD,GAAV,EAAelQ,IAAI,CAACkQ,GAAL,CAAUC,GAAV,EAAe9O,MAAf,CAAf,CAAjD,CAAP;A6B1qBF,AJrDIu4J,AzBiuBF,GA3XgC,CyBtW9BA,IAAI,GAAGoB,GAAG,IAAI7I,WAAW,CAACyH,IAAD,CAAlB,IAA4BA,IAAI,IAAI,CAACoB,GAA5C;AIsDJ,A7B6qBC36J,EAAAA,KAAK,EAAE,YAAY;A6B5qBpB,AJrDI,AzBmuBF,SyBnuBO6O,AzBmuBF3O,CyBnuBG,AzBmuBR,GyBnuBW,AzBmuBFP,CyBnuBP,EAAYkP,CAAC,AzBmuBF,CAAC7O,EyBnuBIk0J,GzBmuBT,CAAY,GyBnuBI,CAAClzJ,CzBmuBAd,CAAjB,CAAT,GyBnuBE,EAAgC2O,CAAC,EAAjC,EAAqC;AIsDzC,AJrDMlO,AzBmuBJ,MyBnuBIA,GzBmuBC6P,CAAL,EyBnuBU,CzBmuBD7Q,EyBnuBIu0J,EzBmuBA,CAACl0J,IyBnuBM,CAAC6O,AzBmuBZ,CyBnuBW,AzBmuBC,CyBnuBjB,IzBmuBsB2B,CAAjB,CAAT;A6B7qBF,AJrDM+8J,AzBmuBJ,MyBnuBIA,GzBmuBChuJ,CAAL,EyBnuBU,CzBmuBD5f,EyBnuBIgB,EzBmuBA,CAACX,GyBnuBK,CAACo0J,CzBmuBX,CAAY,GyBnuBR,EzBmuBa70I,CAAjB,CyBnuBoB00I,AzBmuB7B,QyBnuBqC,CAACC,OAAD,CAAR,CAAkBrlJ,CAAlB,EAAqBulJ,KAA9C;AIsDN,AJrDMqB,AzBouBJ,MyBpuBIA,KAAK,AzBouBF,CyBpuBGqX,GzBouBV,MyBpuBI,CAAgBj+J,CAAhB,IAAqB+9J,QAAQ,GAAG,EAAhC;AIsDN,A7BgrBE,GArYgC;A6B1SlC,AJrDM,AzBsuBLp7J,EAAAA,IAAI,EAAE,EyBtuBGkiJ,UzBsuBS,CyBtuBE,CAAC6Z,MAAM,CAAC75I,EAAR,CAAf,EAA4B;AIsDlC,AJrDQ8hI,AzBuuBN,QyBvuBMA,CzBuuBDt1J,CAAL,GAASP,IAAI,CAAC6R,CyBvuBG,GADe,AzBwuBvB,CyBvuBY,AzBuuBD,KAAKtR,CAAhB,CAAT;A6BjrBF,A7BkrBE,SAAKsQ,CAAL,GAAS7Q,IAAI,CAAC6R,IAAL,CAAW,KAAKhB,CAAhB,CAAT;A6BjrBF,AJrDO,AzBuuBL,SAAK+O,CAAL,GAAS5f,IAAI,CAAC6R,IAAL,CAAW,KAAK+N,CAAhB,CAAT;A6BjrBF,A7BmrBE,WAAO,IAAP;A6BlrBF,AJrDMze,AzByuBJ,GA/YgC,GyB1V5BA,KAAK,GAAGosK,WAAW,KAAKhZ,OAAhB,GAA0BrlJ,CAA1B,GAA8Bq+J,WAAW,CAAC/+J,OAAZ,CAAoBxN,MAApB,CAAtC;AIsDN,A7BqrBCsU,EAAAA,KAAK,EAAE,YAAY;A6BprBpB,AJrDM,AzB2uBJ,SAAK/U,CyB3uBGm0J,AzB2uBR,GAAS10J,IyB3uBM,AzB2uBF,CAACsV,GyB3uBK,CAAC03J,CzB2uBX,CAAY,IyB3uBK,CzB2uBAzsK,CAAjB,CyB3uBoB,AzB2uB7B,IyB3uBiCm0J,OAAJ,EAAV,EAAyBx+F,IAAzB,CAA8Bl1D,MAA9B,EAAsC6sK,WAAW,IAAIH,SAArD,EAAgE5X,KAAhE,EAAuE30J,KAAvE,EAA8EosK,WAA9E,MAA+F,KAA9G,EAAqH;AIsD3H,AJrDQzX,AzB2uBN,QyB3uBMA,CzB2uBDjlJ,CAAL,GyB3uBW,AzB2uBF7Q,CyB3uBG25J,GAAN,AzB2uBO,CAACrkJ,EyB3uBIguF,EAAE,CzB2uBX,CAAY,CyB3uBE,IAAIu9D,AzB2uBDhwJ,CAAjB,CAAT,OyB3uBuB,CAAcilJ,KAAK,CAAC6D,GAApB,EAAyB34J,MAAzB,EAAiCgsK,MAAM,CAACnvJ,IAAxC,EAA8C,CAA9C,EAAiD,CAAjD,EAAoDmvJ,MAAM,CAAC7rH,MAA3D,EAAmE6rH,MAAnE,EAA2E,CAA3E,EAA8EA,MAAM,CAACE,QAArF,CAAjB;AIsDR,A7BsrBE,SAAKttJ,CAAL,GAAS5f,IAAI,CAACsV,KAAL,CAAY,KAAKsK,CAAjB,CAAT;A6BrrBF,AJrDQotJ,AzB4uBN,QyB5uBMA,GzB4uBC,GyB5uBK,CAAChN,AzB4uBb,MyB5uBM,CAAcr+E,OAAd,CAAsB,UAAU9jE,IAAV,EAAgB;AIsD9C,AJrDUovJ,AzB6uBR,GAzZgC,OyBpVxBA,QAAQ,CAACpvJ,IAAD,CAAR,GAAiBylF,EAAjB;AIsDV,AJrDS,AzB8uBR/tF,EAAAA,OyBhvBO,IzBgvBI,EAAE,YAAY;A6BxrB1B,A7B0rBE,SAAKhV,CAAL,GAAW,KAAKA,CAAL,GAAS,CAAX,GAAiBP,IAAI,CAAC6R,IAAL,CAAW,KAAKtR,CAAhB,CAAjB,GAAuCP,IAAI,CAACK,KAAL,CAAY,KAAKE,CAAjB,CAAhD;A6BzrBF,AJrDQ,AzB+uBN,SAAKsQ,CAAL,EyB/uBUm8J,CzB+uBC,KyB/uBK,AzB+uBAn8J,CyB/uBCq8J,AzB+uBN,GAAS,CAAX,GAAiBltK,CyB/uBpB,EAAqB,CzB+uBG,CAAC6R,IAAL,CAAW,KAAKhB,CAAhB,CAAjB,GAAuC7Q,IAAI,CAACK,KAAL,CAAY,KAAKwQ,CAAjB,CAAhD;A6BzrBF,AJrDU88J,AzB+uBR,SAAK/tJ,CyB/uBG+tJ,AzB+uBR,GAAW,KAAK/tJ,CAAL,EyB/uBQ,CzB+uBC,CAAX,CyB/uBa,CAAd,CzB+uBkB5f,IAAI,CAAC6R,IAAL,CAAW,KAAK+N,CAAhB,CAAjB,GAAuC5f,IAAI,CAACK,KAAL,CAAY,KAAKuf,CAAjB,CAAhD;A6BzrBF,AJrDS,AzBgvBP,WAAO,IAAP;A6B1rBF,AJrDO,AzBivBL,GAnagC;A6BxRlC,A7B6rBCpK,EAAAA,MAAM,EAAE,YAAY;A6B5rBrB,AJrDM,AzBmvBJ,SAAKjV,CyBnvBG,AzBmvBR,CyBnvBSm0J,EzBmvBA,CAAE,IyBnvBH,CzBmvBQn0J,CAAhB,EyBnvBoBstK,WAAhB,EAA6B;AIsDnC,AJrDQ,AzBmvBN,SAAKh9J,CAAL,GyBnvBW6U,AzBmvBF,CyBnvBH,AzBmvBK,IyBnvBKgoJ,CzBmvBA78J,CAAhB,OyBnvBM,EAAqB;AIsD7B,AJrDU,AzBmvBR,SAAK+O,CAAL,GAAS,CyBnvBGq0I,AzBmvBD,KAAKr0I,CAAhB,EyBnvBoB,CAAC8F,CAAD,CAAR,KAAgBsnJ,MAAM,GAAGD,YAAY,CAACrnJ,CAAD,EAAIgoJ,SAAJ,EAAe5X,KAAf,EAAsB30J,KAAtB,EAA6BH,MAA7B,EAAqCusK,WAArC,CAArC,CAAJ,EAA6F;AIsDvG,AJrDY,AzBovBV,WAAO,IAAP,CyBpvBcP,MAAM,CAACE,QAAX,EAAqB;AIsDjC,AJrDcS,AzBqvBZ,GA7agC,WyBxUpBA,WAAW,GAAG,CAAd;AIsDd,AJrDa,AzBsvBZl4J,EAAAA,GAAG,EAAE,UAAWxB,CAAX,EAAe;A6BhsBrB,AJrDW,AzBuvBT,WyB3vBQ,AzB2vBD,KAAK1T,CyBvvBG,AzBuvBR,GAAS0T,CAAC,CAAC1T,CAAX,GAAe,KAAKsQ,CAAL,GAASoD,CAAC,CAACpD,CAA1B,GAA8B,KAAK+O,CAAL,GAAS3L,CAAC,CAAC2L,CAAhD;A6BjsBF,AJrDYqtJ,AzBwvBV,GAnbgC,SyBrUtBA,QAAQ,CAACvnJ,CAAD,CAAR,GAAc49E,EAAE,GAAG47D,aAAa,CAACz9J,IAAd,CAAmBq0J,KAAnB,EAA0B90J,MAA1B,EAAkC0kB,CAAlC,EAAqC,KAArC,EAA4CgoJ,SAAS,CAAChoJ,CAAD,CAArD,EAA0DvkB,KAA1D,EAAiEosK,WAAjE,EAA8E,CAA9E,EAAiF/X,IAAI,CAACqW,YAAtF,CAAnB;AIsDZ,AJrDW,AzByvBV;A6BnsBD,AJrDS,AzB0vBRl2J,EAAAA,QAAQ,EAAE,YAAY;A6BpsBvB,AJrDO,AzB2vBL,WAAO,KAAKpV,CAAL,GAAS,KAAKA,CAAd,GAAkB,KAAKsQ,CAAL,GAAS,KAAKA,CAAhC,GAAoC,KAAK+O,CAAL,GAAS,KAAKA,CAAzD;A6BrsBF,A7BusBE,GA3bgC;A6B3QlC,AJrDM,AzB6vBLve,EAAAA,MAAM,EyB7vBGy0J,AzB6vBD,KyB7vBM,CAACkY,GAAN,GzB6vBW,CyB7vBElY,KAAK,CAACkY,GAAN,CAAU9+J,CAAV,CAAjB,EAA+B;AIsDrC,AJrDQ4mJ,AzB8vBN,QyB9vBMA,GzB8vBC91J,EyB9vBI,CAACkgK,CzB8vBD,CAACtqJ,EyB9vBN,CAAW5U,CzB8vBV,CAAW,IyB9vBZ,CzB8vBiBT,CyB9vBEu1J,AzB8vBP,GAAS,EyB9vBG,CAACkY,EzB8vBCztK,CyB9vBP,AzB8vBP,CyB9vBiB2O,CAAV,CAAnB,AzB8vB8B,KAAK2B,CAAL,GAAS,KAAKA,CAAhC,GAAoC,KAAK+O,CAAL,GAAS,KAAKA,CAA7D,CAAP;A6BxsBF,AJrDO,AzB+vBL,GAjcgC;A6BxQlC,A7B2sBC/J,EAAAA,eAAe,EAAE,YAAY;A6B1sB9B,AJrDM,AzBiwBJ,UyBjwBQ23J,CzBiwBDxtK,IAAI,CAAC8V,GAAL,CAAU,GyBjwBI,EzBiwBCvV,CAAf,CyBjwBkBu1J,GzBiwBG91J,EyBjwBE,CAAC25J,CzBiwBC,CAAC7jJ,CyBjwB7B,EAAgC,AzBiwBR,CAAU,KAAKjF,CAAf,CAArB,GAA0C7Q,IAAI,CAAC8V,GAAL,CAAU,KAAK8J,CAAf,CAAjD;A6B3sBF,AJrDQ2qJ,AzBkwBN,GAvcgC,KyB3T1BA,iBAAiB,GAAGzU,KAApB;AIsDR,A7B8sBC//I,EAAAA,SAAS,EAAE,YAAY;A6B7sBxB,AJrDQ+8I,AzBowBN,QyBpwBMA,GzBowBC,KAAKh+I,OyBpwBS,CAACk1J,IzBowBf,CAAmB,KAAK3oK,EyBpwBzB,CAA6BL,GzBowBT,GyBpwBpB,EAAqCisK,CzBowBA,CAApC,CAAP,KyBpwBM,EAA+C,SAA/C,EAH8B,CAG6B;AIsDnE,A7BgtBE,GA7cgC;A6BlQlC,A7BitBC12J,EAAAA,SAAS,EAAE,UAAWlV,MAAX,EAAoB;A6BhtBhC,AJrDQkpK,AzBuwBN,QyBvwBMA,GzBuwBC,KAAKx0J,SyBvwBW,AzBuwBhB,GyBvwBmB,AzBuwBFnB,CyBvwBlB,azBuwBC,CAAiCvT,MAAjC,CAAP;A6BjtBF,AJrDO,AzBwwBL,GAndgC;A6B/PlC,A7BotBCuP,EAAAA,IAAI,EAAE,UAAWqD,CAAX,EAAcuC,KAAd,EAAsB;A6BntB7B,AJrDM,AzB0wBJ,SAAKjW,CyB1wBGu1J,AzB0wBR,IAAU,CyB1wBG,AzB0wBD7hJ,CyB1wBE0lJ,AzB0wBD,CAACp5J,CAAF,CyB1wBJ,EzB0wBU,EyB1wBGq5J,GzB0wBEr5J,CyB1wBnB,AzB0wBM,EyB1wBiB,EzB0wBEiW,KAA7B;A6BptBF,AJrDQu9I,AzB0wBN,QyB1wBMA,CzB0wBDljJ,CAAL,IAAU,CAAEoD,CAAC,CAACpD,CAAF,CyB1wBK,CAAC+8J,CzB0wBA,KyB1wBM,AzB0wBD/8J,CyB1wBEkjB,AzB0wBf,EyB1wBO,CAAX,CzB0wBuBvd,EyB1wBE,CAAzB,EzB0wBN;A6BptBF,AJrDO,AzB0wBL,SAAKoJ,CAAL,IAAU,CAAE3L,CAAC,CAAC2L,CAAF,GAAM,KAAKA,CAAb,IAAmBpJ,KAA7B;A6BptBF,AJrDK,AzB2wBH,WAAO,IAAP;A6BrtBF,A7ButBE,GA7dgC;A6BzPlC,AJrDI,AzB6wBHC,EAAAA,MyB7wBOk3J,KzB6wBI,EAAE,IyB7wBV,EAAiB,IzB6wBIj3J,EAAX,EAAeC,EAAf,EAAmBH,KAAnB,EAA2B;A6BvtBzC,AJrDMy3J,AzB8wBJ,MyB9wBIA,KzB8wBG,KAAKx5J,UAAL,CAAiBkC,EAAjB,EyB9wBsB,AzB8wBDD,CyB9wBEo/I,CzB8wBvB,EAA0BlhJ,EyB9wBJ,CAAzB,WzB8wBG,CAA0C4B,KAA1C,EAAkDtC,GAAlD,CAAuDwC,EAAvD,CAAP;A6BxtBF,AJrDK,AzB+wBH,GAnegC;A6BtPlC,A7B2tBChB,EAAAA,KAAK,EAAE,UAAWzB,CAAX,EAAcE,CAAd,EAAkB;A6B1tB1B,AJrDI,AzBixBF,QyBjxBM2hJ,AzBixBD3hJ,CAAC,IyBjxBK,CAAC+5J,AzBixBDnuK,OyBjxBT,EAAmB,AzBixBrB,EAAuB;A6B3tBzB,AJrDM,AzBkxBHm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DM,AzBo4BJ,QAA8Bx4I,CAAC,EyBp4BtBi5I,CzBo4ByBx0I,IyBp4B9B,CzBo4BmC,CAACzE,CyBp4BvBmnC,AzBo4BjB,IyBp4BI;AIsDN,A7B+0BE,QAAI50C,CAAC,GAAGnS,IAAI,CAACuS,GAAL,CAAUhS,CAAV,CAAR;A6B90BF,AJrDM,AzBm4BJ,QAAuB6R,CAAC,CyBn4BhB,CAAC,CzBm4BkBpS,IyBn4Bbw3J,AzBm4BiB,CAAChlJ,GyBn4BxB,AzBm4BmB,CAAUjS,CAAV,CAA3B,CyBn4BsB,KAAKu3J,GAAvB,EAA4B;AIsDlC,AJrDQ,AzBm4BN,QAAIzlJ,CAAC,GAAGrS,CyBn4BGw3J,GzBm4BC,CyBn4BN,AzBm4BOjlJ,GyBn4BK,AzBm4BV,CyBn4BF,AzBm4BY1B,CyBp4Bc,AzBo4BxB,CyBn4Ba,AzBm4BrB;A6B70BF,A7B60BE,QAAuBqJ,CAAC,GAAGla,IAAI,CAACwS,GAAL,CAAU3B,CAAV,CAA3B;A6B50BF,AJrDQ,AzBk4BN,QAAImE,CAAC,GAAGhV,CyBl4BG+1J,GzBk4BC,CAACxjJ,CyBl4BP,EzBk4BE,CyBl4BW,AzBk4BDqN,CyBl4BZ,AzBk4BE,CAAR;A6B50BF,AJrDO,AzBi4BL,QAAuBzF,CAAC,GAAGna,IAAI,CAACwS,GAAL,CAAUoN,CAAV,CAA3B;A6B30BF;AACA,AJrDM,AzBi4BJ,QAAKyE,GyBj4BI21I,EzBi4BC,CAAC1nJ,EyBj4BP,GAAa0nJ,AzBi4BZ,KyBj4BiB,AzBi4BD,GyBj4BI,CAACsM,CzBi4B1B,EAA6B,KyBj4BK,IAAI,KAAKwH,KAAlB,EAAyB/mH,IAAI,GAAGi0G,GAAhC,CAArB;AIsDN,A7B60BG,UAAIniJ,EAAE,GAAG1G,CAAC,GAAG6C,CAAb;A6B50BH,AJrDM,AzBi4BH,UyBj4BO,AzBi4BSiW,EAAE,GyBj4BNqvI,AzBi4BSnoJ,CAAC,GAAGgI,CyBj4BtB,AzBi4BH,EyBj4BmB;AIsDtB,AJrDQ,AzBg4BL,UAA4BrB,EAAE,CyBh4BpBkhJ,EzBg4BuB5nJ,CAAC,EyBh4B7B,CzBg4BgC4C,CAArC,CyBh4BkBglJ,KAAK,GAAG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C,CzB65B4C,CyB75B1C,EzB65B6CpT,EAAE,CyB/5BzB,AzB+5B2B,EAAF,CAAzD;A6Bv2BF,AJrDMw4I,AzB65BJ,MyB75BIA,EzB65BAh4I,GAAG,GAAGR,CyB75BG,CzB65BD,CyB75BG,AzB65BD,CAAF,CAAZ,GyBh6BgC;AIyDlC,AJrDMq4G,AzB45BJ,MyB55BIA,EzB45Be53G,GyB55BV,AzB45Ba,EyB55BX43G,CzB45Bcr4G,EAAE,CAAE,CyBh6BG,AzBg6BL,CAA3B;A6Bt2BF,AJrDM0vJ,AzB25BJ,MyB35BIA,EzB25B8BhvJ,GAAG,GAAGV,EyB35B1B,AzB25B4B,CAAE,CyB35B5B8N,CzB25B0B,CAA1C,MyBh6BgC;AI2DlC,AJrDM2oJ,AzB05BJ,MyB15BIA,EzB05B8CpjJ,GAAG,GAAGrT,EAAE,CAAE,EAAF,CAA1D,GyB15BqB,EAAE8N,QANS;AI4DlC,AJrDM6hJ,AzB05BJ,MyB15BIA,EzB05BAr8I,GAAG,GAAGtT,EAAE,CAAE,CAAF,CAAZ,GyB15BoB,EAAEg9E,MAPU;AI6DlC,AJrDM05E,AzBy5BJ,MyBz5BIA,EzBy5BenjJ,GAAG,GAAGvT,EAAE,CAAE,CAAF,CAA3B,UyBz5B2B,EAAEg9E,MARG;AI8DlC,AJrDM4pE,AzBw5BJ,MyBx5BIA,EzBw5B8BpzI,GAAG,GAAGxT,EAAE,CAAE,EyBx5B3B,AzBw5ByB,CAA1C,CyBx5BmB8+B;AIsDrB,AJ/DkC,AzBi6BhC,KyBj6BS,CAAP,EzBi6BgDrrB,GAAG,GAAGzT,EAAE,CAAE,EAAF,CAA1D;A6Bj2BF,AJrDG,AzBw5BD,GyBp6BA,KzBo6BIW,GAAG,GAAGV,EAAE,CAAE,CAAF,CAAZ;A6Bl2BF,A7Bk2BE,QAAmBW,GAAG,GAAGX,EAAE,CAAE,CAAF,CAA3B;A6Bj2BF,AJrDEgvJ,AzBs5BA,EyBt5BAA,KAAK,CAACC,AzBs5B4BruJ,GAAG,GyBt5BrC,AzBs5BwCZ,EAAE,CyBt5B3B,AzBs5B6B,CAAF,CAA1C,OyBt5BwBivJ,MAAT,CAAgBxT,OAAhB,EAAyByT,QAAzB,EAAmCC,MAAnC,EAA2C;AIsD5D,AJrDI,Az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GN,GAAG,GAAGE,GAAN,GAAYK,GAJf,GAKGP,GAAG,GAAGI,GAAN,GAAYC,GANb,CAzBJ;A6B90BF,AJvDE,AzBy6BA,GAvagC,GyBlgB5BurF,EAAE,GAAGhtE,IAAI,CAACqjI,GAAd;AIwDF,AJxDE,AzB26BD3+I,EAAAA,IyB16BK1G,CAAC,GAAG,CzB06BA,CyB36BR,CzB26BU,YAAY;A6Bl3BxB,A7Bo3BE,QAAI4D,EAAE,GAAG,KAAKjD,QAAd;A6Bn3BF,AJvDE,AzB26BA,MyB36BI,CAAC+kJ,CzB26BD/+I,GAAJ,CyB36BI,IAAUqb,IAAI,CAAClkB,CAAnB,EAAsB;AIwDxB,AJvDI,AzB46BF6I,IAAAA,GAAG,GAAG/C,EAAE,CAAE,CAAF,CAAR;A6Bp3BF,AJvDI5D,AzB26Ba4D,IyB36Bb5D,AzB26Ba4D,CyB36BZ,CzB26Bc,CAAE,CyB36Bboe,AzB26BW,CAAF,GyB36BL,AzB26Bepe,CyB36Bd9F,CAAT,AzB26ByB,CAAE,CAAF,CAAZ;A6Bn3BjB,AJvDG,AzB06BiC8F,GyB76BlC,CzB66BkCA,EAAE,CAAE,CAAF,CyB16B7B,AzB06B2B,GAAU+C,CyB16BjC++I,EzB06BuB,GyB16BlB,KAAK,CAAV,IAAe1jI,IAAI,CAACthB,CAAxB,EAA2B;AIwDpC,AJvDI,AzB06BFiG,IAAAA,GAAG,GAAG/C,EAAE,CAAE,CAAF,CAAR;A6Bl3BF,AJvDI5D,AzBy6Ba4D,IyBz6Bb5D,AzBy6Ba4D,CyBz6BZ,CzBy6Bc,CAAE,CyBz6Bboe,AzBy6BW,CAAF,GyBz6BL,AzBy6Bepe,CyBz6BdlD,CAAT,AzBy6ByB,CAAE,CAAF,CAAZ;A6Bj3BjB,AJvDG,AzBw6BiCkD,GyB36B3B,CzB26B2BA,EAAE,CAAE,CAAF,CyBx6B7B,AzBw6B2B,GAAU+C,GAAV;A6Bh3BpC,AJvDI,AzBw6BFA,IAAAA,GAAG,GAAG/C,CyBx6BGorF,CzBw6BD,CyBx6BN,AzBw6BQ,CAAF,CyBx6BK,AzBw6Bb;A6Bh3BF,AJvDMhvF,AzBu6BW4D,IAAAA,EyBv6BX5D,AzBu6Ba,CyBv6BZ,AzBu6Bc,CAAF,CAAF,Cy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orF,AzBw6BF,EyBx6BL,AzBw6BG,CAAF,CyBx6BU,EzBw6BCzyF,CAAX;A6Bh3BH,AJvDIyuD,AzBw6BDpnD,IyBx6BConD,EzBw6BDpnD,EyBx6BK,AzBw6BH,CAAE,EyBx6BIorF,AzBw6BN,CAAF,CyBx6BU,CAAC4zD,CzBw6BAt3I,CAAX,GyBx6BC;AIwDJ,A7Bk3BG;A6Bj3BH,AJvDI,QAAI0jF,EAAE,CAAC59E,CAAH,KAASw3B,QAAb,EAAuB;AIwD3B,AJvDMomD,AzBy6BJ,MyBz6BIA,EAAE,CAAC88D,EzBy6BA,IAAP,EyBz6BI,CAAYA,QAAZ,EAAsBtK,KAAtB,EAA6B90J,MAA7B;AIwDN,AJvDK,AzB06BH,GA9cgC;A6BpalC,A7Bo3BCsZ,EAAAA,UAAU,EAAE,UAAWhK,CAAX,EAAckK,iBAAd,EAAkC;A6Bn3B/C,AJvDI8oF,AzB46BF,IyB56BEA,EAAE,GAAGhkC,IAAL;AIwDJ,AJvDG,AzB46BD,QAAIpnD,EAAE,GAAG,KAAKjD,QAAd;A6Bp3BF,AJvDC,AzB26BC,CyB3+BF,OzB4+BGmD,EAAE,GAAG9H,CAAC,CAAC2E,QADR;A6Bn3BF,AJxHA,AzB2+BE,IyB16BEkrJ,IzB66BD1oJ,GAAG,GAAGW,EAAE,CAAE,CAAF,CAHT,EyB16BmB,GAAG,SAAS+nJ,iBAAT,CAA2BjjH,QAA3B,EAAqC;AIwD7D,AJvDE,AzBy6BA,MyBz6BIomD,EAAE,AzB46BU1rF,GyB56BP,AzB46BU,GAAGQ,EyB56BRuhJ,AzB46BU,CAAE,CAAF,CyB56BxB,AzBy6BA;A6Bj3BF,AJxDE,AzBy6BA,MyBx6BI8V,EzB26B2B13J,GAAG,GAAGK,EAAE,CAAE,CAAF,CAHvC,WyBz6BA;AIyDF,AJzDE,AzBy6BA,MyBv6BIknD,EzB06B0Ch1C,EyB56B9C,CzB46BiD,GAAGlS,EAAE,CAAE,CAAF,CAHtD;A6B/2BF,A7B+2BE,QAICV,GAAG,GAAGU,EAAE,CAAE,CAAF,CAJT;A6B92BF,AJvDE,AzBq6BA,QAIgBP,CyBz6BTyrF,EAAP,AzBy6BmB,EyBz6BR,CzBy6BWlrF,EAAE,CAAE,CAAF,CAJxB;A6B72BF,AJvDIknD,AzBo6BF,IyBp6BEA,IAAI,AzBw6ByBtnD,GyBx6BtBsrF,AzBw6ByB,EyBx6BvB,CAAC4zD,AzBw6ByB9+I,EAAE,CAAE,CAAF,CyBx6BrC,AzBo6BF;A6B52BF,A7B42BE,QAI8CmS,GAAG,GAAGnS,EAAE,CAAE,CAAF,CAJtD;A6B32BF,AJvDI,AzBk6BF,QyBl6BMkrF,AzBu6BL3rF,EyBv6BO,CAAC+N,AzBu6BL,CyBv6BE,EzBu6BCtN,EAAE,CyBv6BM8kC,AzBu6BJ,CAAF,CALT,MyBl6BM,IAAqB,CAAComD,EAAE,CAACosE,EAAzB,IAA+BpsE,EAAE,CAACosE,EAAH,KAAUxyH,QAA7C,EAAuD;AIwD3D,AJvDMk6G,AzBi6BJ,MyBj6BIA,EzBs6BYt/I,GAAG,GAAGM,EAAE,CAAE,CAAF,CALxB,QyBj6ByB,CAAC,IAAD,EAAOkrF,EAAP,EAAW,KAAX,CAArB;AIwDN,AJvDK,AzBg6BH,KyBl6BE,GzBu6B6BrrF,GyBr6BtB,AzBq6ByB,GAAGG,CyBr6BxB,CAACkrF,AzBq6ByB,CAAE,CyBr6BzB,CAACqsE,AzBq6BsB,CALvC,EyBh6BS,EAAa;AIwDxB,AJvDMF,AzB+5BJ,MyB/5BIA,EzBo6B2CjlJ,GAAG,GAAGpS,EAAE,CAAE,EAAF,CALvD,UyB/5B4B,GAAG,CAA3B;AIwDN,AJvDK,AzB85BH,QAMC+R,GAAG,GAAG/R,EAAE,CAAE,EAAF,CANT;A6Bt2BF,A7Bs2BE,QAMiBgS,GAAG,GAAGhS,EAAE,CAAE,EAAF,CANzB;A6Br2BF,AJvDIkrF,AzB45BF,IyB55BEA,EAAE,EzBk6B6Bj5E,CyBl6B1Bi1C,EzBk6B6B,EyBl6BlC,CzBk6BqClnD,EAAE,CAAE,EAAF,CANzC;A6Bp2BF,AJvDG,AzB25BD,QAMiDqS,GAAG,GAAGrS,EAAE,CAAE,EAAF,CANzD;A6Bn2BF,A7Bm2BE,QAQCsC,GAAG,GAAG5C,GAAG,GAAGuS,GAAN,GAAYE,GAAZ,GAAkBH,GAAG,GAAGnS,GAAN,GAAYsS,GAA9B,GAAoCH,GAAG,GAAGpS,GAAN,GAAYwS,GAAhD,GAAsD3S,GAAG,GAAGwS,GAAN,GAAYG,GAAlE,GAAwE1S,GAAG,GAAGE,GAAN,GAAYyS,GAApF,GAA0F5S,GAAG,GAAGI,GAAN,GAAYwS,GAR7G;A6Bl2BF,AJvDE,AzBy5BA,QASC9P,CyBl6BM,CAAC80J,CzBk6BJ,GAAGtlJ,GAAG,GAAGlS,GAAN,GAAYsS,GAAZ,GAAkB5S,EyBl6BzB,CzBk6B4B,GAAG0S,GAAN,GAAYE,GAA9B,GAAoCJ,GAAG,GAAGnS,GAAN,GAAYwS,GAAhD,GAAsD9S,GAAG,GAAG2S,GAAN,GAAYG,GAAlE,GAAwE7S,GAAG,GAAGK,GAAN,GAAYyS,GAApF,GAA0F/S,GAAG,GAAGO,GAAN,GAAYwS,GAT7G;A6Bj2BF,AJvDC,AzBw5BC,CyB3+BF,OzBq/BG7P,GAAG,GAAGjD,GAAG,GAAGyS,GAAN,GAAYG,GAAZ,GAAkBJ,GAAG,GAAGrS,GAAN,GAAYyS,GAA9B,GAAoCJ,GAAG,GAAGtS,GAAN,GAAY2S,GAAhD,GAAsD9S,GAAG,GAAG0S,GAAN,GAAYI,GAAlE,GAAwE7S,GAAG,GAAGE,GAAN,GAAY4S,GAApF,GAA0F/S,GAAG,GAAGI,GAAN,GAAY2S,GAV7G;A6Bh2BF,AJ3IA,AzB2+BE,IyBv5BEmlJ,IzBk6BD7iJ,GAAG,GAAG5C,GAAG,GAAGrS,GyBl6BQ,AzBk6Bd,GyBl6BiB,AzBk6BLE,GAAZ,GAAkBL,GyBl6BQi4J,AzBk6BL,GAAGxlJ,GAAN,GAAYpS,GAA9B,GAAoCmS,GAAG,CyBl6BtB,CAA6BnpB,CzBk6BJ6W,GAAN,EyBl6BnB,CzBk6B+BI,CyBl6BMilC,EzBk6BtD,GAAsDxlC,GyBl6BrC,AzBk6BwC,EyBl6BOvX,CzBk6BJiqB,GAAN,CyBl6BrC,EAAsDkM,AzBk6BLre,GAAlE,CyBl6BiB,EAA4D,AzBk6BLN,GAAG,GAAGE,GAAN,GAAYwS,GAApF,GAA0F3S,GAAG,GAAGI,GAAN,GAAYuS,GAX7G;A6B/1BF,AJvDEiM,AzBm6BA,EyBn6BAA,IAAI,CAACu5I,CzBm6BDh1J,GyBn6BJ,AzBm6BO,CyBn6BG7Z,EzBm6BAyW,GAAG,CyBn6Bb,EAAkBylC,AzBm6BFxiC,GAAN,GAAY9C,EyBn6BtB,CzBm6ByB,CyBn6BG0e,EzBm6BA3b,EyBn6BI,CAACrK,AzBm6BvB,CyBn6BkB,CAAO7O,CzBm6BDsW,GyBn6BN,AzBm6BS,CyBn6BGue,EzBm6BA1b,EyBn6BI,CAACk7I,AzBm6BnC,GAAoCxrI,EyBn6BlB,CzBm6BqB,CyBn6BGnqB,EzBm6BA4sB,GyBn6BxB,AzBm6B5B,EyBn6B2DuJ,IAAI,CAACw5I,EAApC,CAA5B,EAAqEx5I,IAArE;AIwDF,AJvDC,CAtFD;AI8IA,AJ9IA,AzB0/BE,IyBn6BE23I,IzBm6BGpzJ,GAAG,KAAK,CAAb,EAAiB,UyBn6BU,GAAG,SAASozJ,yBAAT,CAAmC98I,MAAnC,EAA2C;AIwD3E,AJvDE,AzBo6BC,MyBp6BGmyE,EAAE,EzBo6BDxoF,CyBp6BIqW,EzBo6BD,GAAG,CyBp6BI,CAACwoI,GAAhB,+DzBo6BC;A6B52BH,AJxDE,MACIr6F,IADJ;AIyDF,AJzDE,AzBs6BC,MyBp6BG28C,GAFJ,CzBs6BMzhG,iBAAiB,KAAK,IAA3B,EAAkC;A6B52BrC,AJ1DE,AzBw6BE,MyBr6BEu1J,KAHJ,GzBw6BQ,IAAIn8J,KAAJ,CAAWkH,GAAX,CAAN;A6B72BJ,AJ3DE,AzB06BE,MyBt6BE0iF,CzBk6BH,GyBt6BD,CADyE,CAK/D,CzBs6BF;A6B92BV,A7Bg3BItqF,QAAAA,OAAO,CAACC,IAAR,CAAc2H,GAAd;A6B/2BJ,AJvDE,AzBw6BE,SyBx6BKwoF,EAAP,EAAW;AIwDb,AJvDIhkC,IAAAA,IAAI,GAAGgkC,EAAE,CAAC4zD,KAAV;AIwDJ,AJvDIj7C,AzBw6BD,IyBx6BCA,GAAG,GAAG8zD,GzBw6BA,EyBx6BN,GzBw6BW53J,QAAL,EAAP;A6Bh3BH,A7Bk3BG;A6Bj3BH,AJvDI,WAAO8jG,GAAG,IAAIA,GAAG,CAAC+zD,EAAJ,GAAS1sE,EAAE,CAAC0sE,EAA1B,EAA8B;AIwDlC,AJvDM/zD,AzBy6BJ,MyBz6BIA,EzBy6BAlhG,CyBz6BG,GAAGkhG,EzBy6BA,CyBz6BG,CAACi7C,CzBy6BD,IyBz6BT,AzBy6Bar8I,GAAjB;A6Bj3B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E,GyB9/BK,AzB8/BFxgB,CAAC,CyB9/BG,EzB8/BAqtB,EAAb,KyB9/BsB8iJ,WAAT,CAAqB1vK,MAArB,EAA6Bk8C,QAA7B,EAAuC+e,IAAvC,EAA6C8/D,OAA7C,EAAsD;AI6DrE,AJ5DI,AzB6/BF,QyB7/BM+1B,AzB6/BW5wI,EAAE,GAAG3gB,CAAC,GyB7/BR,AzB6/BWstB,CyB7/BV7sB,CzB6/BhB,KyB7/Be,CAAb,EAAuB;AI6D3B,AJ5DM,AzB4/BJ,QAA8BmgB,EAAE,GAAG5gB,CAAC,GAAGutB,EAAvC;A6B/7BF,AJ5DM9sB,AzB4/BJ,MyB5/BIA,EzB4/BAggB,EAAE,EyB5/BI,CzB4/BDnQ,CAAC,CyB5/BGkG,EzB4/BA8W,EAAb,GyB5/BoB,CAAC7sB,MAAD,CAAP,CAAgB,CAAhB,CAAT;AI6DN,AJ5DK,AzB2/BH,QAAiBogB,EAAE,GAAGvQ,CAAC,GAAGid,EAA1B;A6B97BF,A7B87BE,QAA8B7M,EAAE,GAAGrB,CAAC,GAAGkO,EAAvC;A6B77BF,AJ5DI,AzB0/BF,QyB1/BM6iJ,AzB0/BF5iJ,EAAE,GAAG5Z,CyB1/BG,AzB0/BF,GyB1/BK0gJ,AzB0/BFjnI,EAAb,OyB1/BwB,CAAC5sB,MAAM,IAAI,EAAX,CAAT,CAAwBJ,GAArC;AI6DJ,AJ7DI,AzB0/BF,QyBz/BM8c,AzBy/BWsQ,EAAE,GAAG7Z,CyBz/BV,AzBy/BW,GyBz/BR8nD,AzBy/BWpuC,EAA1B,EyBz/BmB,GAAGsoI,YAAH,GAAkBD,kBADnC;AI8DJ,A7B47BE,QAA8BjoI,EAAE,GAAG9Z,CAAC,GAAG2Z,EAAvC;A6B37BF,AJ5DI,AzBy/BF,QyBz/BMmuC,AzBy/BFxgD,EAAE,EyBz/BI,CzBy/BDK,IyBz/BM,CzBy/BD,CAACvb,CAAf,KyBz/BE,EAAuB;AI6D3B,AJ5DM07D,AzBw/BJ,MyBx/BIA,EzBw/BcvgD,EyBx/BV,AzBw/BY,GyBx/BT,AzBw/BYI,EyBx/BnB,GzBw/BwB,CAACjL,CAA7B;A6B37BF,AJ5DK,AzBu/BH,QAAgCgZ,EAAE,GAAG/N,KAAK,CAAC8D,CAA3C;A6B17BF,A7B47BE1H,IAAAA,EAAE,CAAE,CAAF,CAAF,GAAU,CAAE,KAAM8I,EAAE,GAAGC,EAAX,CAAF,IAAsBxF,EAAhC;A6B37BF,AJ5DI,AzBw/BFvD,IAAAA,EAAE,CAAE,CAAF,CAAF,EyBx/BS,CAAClX,AzBw/BA,CAAEkgB,EAAE,GyBx/BL,AzBw/BQ+M,EAAP,CyBx/BSjtB,GzBw/BKya,EAAxB,CyBx/BS,GAAmB,CAACyhC,QAAD,GAAY,UAAUA,QAAV,EAAoB+e,IAApB,EAA0B8/D,OAA1B,EAAmC;AI6D7E,AJ5DM,AzBw/BJ7jH,IAAAA,EAAE,CAAE,CAAF,CAAF,GAAU,CyBx/BCwF,AzBw/BCyD,EAAE,GAAG6M,CyBx/BA,CAAC,AzBw/BR,CyBx/BSimI,GzBw/BKx4I,EAAxB,GyBx/B2B,CAACyhC,QAAD,CAAR,IAAsB+2G,QAAQ,CAAC/2G,QAAD,CAAR,CAAmBt8C,GAAzC,IAAgD+vK,MAAjD,EAAyD3vK,MAAzD,EAAiEk8C,QAAjE,EAA2E+e,IAA3E,EAAiF8/D,OAAjF,CAAD,CAAb;AI6DN,AJ5DK,AzBw/BH7jH,IAAAA,CyB1/B4B,CzB0/B1B,CAAE,CyBx/BEwF,AzBw/BJ,CAAF,GAAU,CAAV,CyBx/BY,CAAC,CAACu2I,QAAQ,CAAC/2G,QAAD,CAAR,IAAsB+2G,QAAQ,CAAC/2G,QAAD,CAAR,CAAmBt8C,GAAzC,IAAgD+vK,MAAjD,EAAyD3vK,MAAzD,EAAiEk8C,QAAjE,EAA2E+e,IAA3E,EAAiF8/D,OAAjF,CAAD,CAFV;AI+DJ,AJ5DG,AzBy/BD7jH,GyBzhCU,CzByhCVA,EAAE,CAAE,CAAF,CAAF,GAAU,CAAEgJ,EAAE,GAAG+M,EAAP,IAAcvS,EAAxB;A6B57BF,AJ5DEk1J,AzBy/BA14J,EyBz/BA04J,EzBy/BA14J,EAAE,CAAE,CAAF,CAAF,GAAU,CyBz/BC,AzBy/BC,EyBz/BC,GzBy/BK6I,EAAE,GAAGE,CyBz/BD2vJ,CzBy/BV,CAAF,IAAsBl1J,EAAhC,GyBz/Ba,CAAqB1a,MAArB,EAA6Bk8C,QAA7B,EAAuC+e,IAAvC,EAA6C;AI6D5D,AJ5DIj7D,AzBy/BFkX,IyBz/BElX,AzBy/BFkX,EAAE,CAAE,CAAF,CAAF,CyBz/BQ,EzBy/BE,CyBz/BCnB,AzBy/BCqK,EAAE,GAAG2M,EyBz/BC,AzBy/BR,CyBz/BS/sB,GzBy/BK0a,EAAxB,CyBz/BkB,CAAhB;AI6DJ,A7B67BExD,IAAAA,EAAE,CAAE,CAAF,CAAF,GAAU,CAAV;A6B57BF,AJ5DI,AzB0/BFA,IAAAA,EAAE,CAAE,CyB1/BElX,AzB0/BJ,CAAF,GAAU,CAAEmgB,CyB1/BA,CAAC9f,AzB0/BC,GAAG2sB,EAAP,CyB1/BJ,GAAgB,AzB0/BEnE,CyB1/BtB,CzB0/BF,CyB1/ByB;AI6D3B,AJ5DM,AzB0/BJ3R,IAAAA,EAAE,CAAE,CAAF,CAAF,CyB1/BQ24J,EzB0/BE,CAAEzvJ,EAAE,EyB1/BC,CzB0/BE2M,EyB1/BC/sB,AzB0/BR,IAAc6oB,EyB1/BA,AzB0/BxB,CyB1/ByB4f,GAAP,CAAW,UAAU34B,CAAV,EAAa;AI6D5C,AJ5DQ,AzB0/BNoH,IAAAA,EAAE,CAAE,EAAF,CAAF,GAAW,CAAE,CyB1/BAq7I,IAAI,AzB0/BExyI,CyB1/BD6vJ,CzB0/BG,GAAG5vJ,EAAX,CAAF,IyB1/BE,AzB0/BoB6I,CyB1/BH/Y,CAAjB,AzB0/Bb,EyB1/BiCosC,QAApB,EAA8B+e,IAA9B,CAAP;AI6DR,AJ5DO,AzB0/BL/jD,IAAAA,EAAE,CyB5/BgB,AzB4/Bd,CyB5/BA,CzB4/BF,CAAF,GAAW,CAAX;A6B77BF,AJ/DM,AzB8/BJA,IAAAA,EAAE,CAAE,EAAF,CyB3/BM/I,AzB2/BR,CyB3/BS,EzB2/BEwe,CyB3/BCkjJ,OAAO,AzB2/BA,CyB3/BCxvK,AzB2/BAd,CAApB,KyB9/BI;AIgEN,AJ5DM,AzB2/BJ2X,IAAAA,EAAE,CAAE,EAAF,CAAF,GyB3/BW,AzB2/BAyV,QAAQ,CAAC9c,CyB3/BC1Q,AzB2/BrB,KyB3/BW,EAAiB;AI6D9B,AJ5DQ,AzB2/BN+X,IAAAA,EAAE,CAAE,EAAF,CAAF,EyB3/BUhJ,CAAC,AzB2/BAye,GyB3/BGxe,CAAR,IzB2/Ba,CAACyQ,CAApB;A6B97BF,A7B+7BE1H,IAAAA,EAAE,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Ey3J,AzBmgCwC5xJ,EyBngCxC4xJ,EzBmgCwC5xJ,EAAE,CAAE,EyBngCrC,AzBmgCmC,CAAF,CyBngC/B,EzBmgC0CgC,CAAX,MyBngCtB4vJ,OAAT,CAAiB/1I,EAAjB,EAAqB;AI6DhC,AJ5DI,AzBmgCF7b,IAAAA,EAAE,CAAE,CAAF,CAAF,EyBngCS46I,CzBmgCC,CAAV,ayBngCwB,CAACgX,OAAhB,CAAwB/1I,EAAxB,CAAP;AI6DJ,AJ5DG,AzBkgCY7b,GyB7mCH,CzB6mCGA,EAAE,CAAE,CAAF,CAAF,GAAU,CAAV;A6Br8Bf,AJ5DEq5J,AzBigC0Br5J,EyBjgC1Bq5J,EzBigC0Br5J,EAAE,CAAE,EAAF,CAAF,EyBjgChB,CzBigC2B,CyBjgCzB,AzBigC2B,CAAb,QyBjgCLq5J,UAAT,CAAoB/b,IAApB,EAA0Bgc,mBAA1B,EAA+C;AI6D7D,AJ5DI,AzBggCwCt5J,IAAAA,EAAE,CAAE,CyBhgCxCs9I,CzBggCsC,CAAF,EyBhgChC,CzBggC2C,CAAX,GyBhgC3B,KAAK,CAAlB,EAAqB;AI6DzB,AJ5DMA,AzBigCJ,MyBjgCIA,IAAI,CzBigCD,EyBjgCI,EAAP,AzBigCJ;A6Bp8BF,AJ5DK,AzBkgCH,GAxwBgC;A6B7LlC,A7Bu8BC3mI,EAAAA,gBAAgB,EAAE,UAAWN,IAAX,EAAiBC,KAAjB,EAAwBC,GAAxB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,GAA3C,EAAiD;A6Bt8BpE,AJ5DI,AzBogCF,QyBpgCM+7I,AzBogCFzyJ,EyBpgCI,AzBogCF,GyBpgCK,AzBogCF,IyBpgCMgjJ,CzBogCDjmJ,OyBpgCH,CAAaugJ,AzBogCxB,IyBpgCW,CAAT;AI6DJ,AJ7DI,AzBqgCF,QyBpgCMthI,AzBogCF/f,CAAC,GAAG,CyBrgCN,MzBqgCcqa,KAAK,GAAGD,IAAhB,CAAR;A6Bv8BF,AJ9DI,AzBsgCF,QyBpgCM+wC,AzBogCFjlD,CAAC,GyBtgCH,AzBsgCM,OAAQoU,GAAG,GAAGC,MAAd,CAAR;A6Bv8BF,AJ5DIi8I,AzBogCF,IyBpgCEA,EAAE,CAAClE,CzBogCD/gJ,CAAC,G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/BEA,IAAI,AzB8/BF/G,EyB9/BI+G,AzB8/BF,GAAG5E,CyB//BF,KzB+/BQ,CAACtF,QAAhB;A6Bj8BF,AJ5DImpJ,IAAAA,QAAQ,EAAEA,QAFL;AI+DT,AJ5DI9B,AzB8/BF,IyB9/BEA,KzB8/BI,IAAIptJ,CyB9/BE,AzB8/BD,EyB9/BGotJ,CzB8/BA,CAAd,EAAiBptJ,CAAC,GAAG,EyBjgCd,AzBigCP,EAAyBA,CAAC,EAA1B,EAAgC;A6Bj8BlC,AJ5DIS,AzB+/BD,IyB//BCA,MAAM,AzB+/BFuI,EyB//BIvI,AzB+/BF,CAAET,CAAF,CAAF,GyBngCC,EzBmgCWkJ,EAAE,CAAElJ,CAAF,CAAnB,EAA2B,OAAO,KAAP;A6Bl8B9B,AJ5DIkuJ,AzBggCD,IyBhgCCA,IAAI,EAAEA,IALD;AIkET,AJ5DIrnJ,IAAAA,SAAS,EAAEA,SANN;AImET,AJ5DI0lJ,AzBggCF,IyBhgCEA,OAAO,AzBggCF,EyBhgCIA,EzBggCX,KyBvgCO;AIoET,AJ5DIxrJ,AzBigCF,GA3yBgC,CyBtN9BA,KAAK,EAAEA,KARF;AIqET,AJ5DIoyJ,AzBkgCHxrJ,EAAAA,EyBlgCGwrJ,OzBkgCM,EAAE,CyBlgCE,EAAEA,OzBkgCOrzJ,GyB3gCd,EzB2gCG,EAAkB8H,MAAlB,EAA2B;A6Br8BvC,AJ5DIC,AzBmgCF,IyBngCEA,IzBmgCGD,GyBngCI,EAAEC,CzBmgCA,KAAKhX,CyB7gCT,QzB6gCP,EAA4B+W,MAAM,GAAG,CAAT;A6Bt8B9B,AJ5DImnJ,IAAAA,QAAQ,EAAEA,QAXL;AIwET,AJ5DIN,AzBmgCF,IyBngCEA,IAAI,CzBmgCA,CyBngCEA,GzBmgCEzuJ,CyB/gCH,AzB+gCI,GAAG,CAAd,EAAiBA,CAAC,GAAG,EAArB,EAAyBA,CAAC,EAA1B,EAAgC;A6Bt8BlC,AJ5DI8uJ,AzBogCD,IyBpgCCA,OAAO,AzBogCH/oJ,EyBpgCK+oJ,MzBogCV,CyBjhCM,AzBihCS9uJ,CAAf,IAAqBF,KAAK,CAAEE,CAAC,GAAG4H,MAAN,CAA1B;A6Bv8BH,AJ5DI+nJ,AzBqgCD,IyBrgCCA,WAAW,EAAEA,WAdR;AI2ET,AJ5DIxC,IAAAA,OAAO,EAAEA;AI6Db,AJ5ES,AzBqhCP,GyBhqCU,QzBgqCH,IAAP;A6Bx8BF,AJ5DEoV,AzBsgCA,EyBtgCAA,CzB6MgC,MyB7MzB,EAAEpe,QA5JC;AIyNZ,AJ5DEqe,AzBugCD36J,EyBvgCC26J,AzBugCD36J,OyBvgCQ,AzBugCD,EyBvgCGm9I,AzBugCD,QyBpqCE,EzBoqCSllJ,KAAX,EAAkB8H,MAAlB,EAA2B;A6B18BrC,AJ5DE66J,AzBwgCA,EyBxgCAA,MAAM,AzBwgCD3iK,EyBxgCG6qJ,GzBwgCE,IyBtqCA,CzBsqCK95J,SAAf,EAA2BiP,KAAK,GAAG,EAAR;A6B38B7B,AJ5DE08J,AzBwgCA,EyBxgCAA,MzBwgCK50J,IyBxgCK,EAAEokJ,AzBwgCD,KAAKn7J,GyBxgCI,CAAC2rK,KzBwgCrB,EAA4B50J,GyBvqClB,GzBuqCwB,GAAG,CAAT;A6B38B9B,AJ5DEo6J,AzBygCA,EyBzgCAA,MzBygCIh5J,CyBzgCG,CzBygCD,CyBzgCG+7I,EzBygCA,KAAKh/I,CyBzqCJ,OzByqCV;A6B58BF,AJ5DE28J,AzB0gCA5iK,EyB1gCA4iK,EzB0gCA5iK,KAAK,CAAE8H,MyB1gCO,AzB0gCT,CAAL,CyB1gCgBg8I,EzB0gCE56I,EAAE,CAAE,CAAF,CAApB,QyB3qCU;AI8NZ,AJ5DE25J,AzB0gCA7iK,EyB1gCA6iK,EzB0gCA7iK,EyB1gCI,EAAE,CzB0gCD,CAAE8H,MAAM,GAAG,CAAX,CAAL,GAAsBoB,EAAE,CAAE,CAAF,CAAxB;A6B78BF,AJ5DI2oJ,AzB0gCF7xJ,IyB1gCE6xJ,AzB0gCF7xJ,KAAK,CAAE8H,GyB1gCI,EAAE+pJ,CzB0gCA,GAAG,CAAX,CAAL,GyB3gCM,AzB2gCgB3oJ,EAAE,CAAE,CAAF,CAAxB;A6B78BF,AJ5DI45J,AzB0gCF9iK,IyB1gCE8iK,AzB0gCF9iK,KAAK,CAAE8H,CyB1gCE,EAAE68I,GzB0gCE,GAAG,CAAX,CAAL,EyB5gCM,CzB4gCgBz7I,EAAE,CAAE,CAAF,CAAxB;A6B78BF,AJ5DI4vJ,AzB2gCF94J,IyB3gC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x+BH,A7B0+BG,KANC;A6Bn+BJ,AJ5DQ,AzBuiCNvP,IAAAA,GAAG,EAAE,GyBviCK6+I,OzBuiCM3xJ,EyBviCG,CAACq1J,EzBuiCf,EyBviCc,AzBuiCK,CyBviClB,EAAqB;AI6D7B,AJ5DU4c,AzBwiCP,UyBxiCOA,CzBwiCF5vJ,EAAL,CyBxiCW,EzBwiCDriB,CyBxiCI,EAAP,EzBwiCP;A6B3+BH;AACA,AJ5DU40J,AzBuiCP,UyBviCOA,CzBuiCF9wI,WyBviCc,CAACuxI,IAAD,CzBuiCnB,CyBviC0B,UAAU33I,IAAV,EAAgB;AI6D7C,AJ5DY,AzBwiCT,mByBxiCgBu0J,IAAI,CAACv0J,IAAD,CAAJ,GAAa,CAApB;AI6DZ,AJ5DW,AzB0hCP,GApCsC,QyBx/BpB,CAAZ,CAHmB,CAKf;AI6Dd,A7B8+BCvL,EAAAA,KAAK,EAAE;A6B7+BR,A7B++BE1R,IAAAA,GAAG,EAAE,YAAY;A6B9+BnB,AJ5DU40J,AzB4iCP,UyB5iCOA,GzB4iCA,CyB5iCI,GAAG4c,CzB4iCFnjJ,GyB5iCL,GzB4iCP;A6B/+BH,AJ5DS,AzB6iCN,KANK;A6B1+BR,A7Bk/BEhc,IAAAA,GAAG,EAAE,UAAW9S,KAAX,EAAmB;A6Bj/B1B,AJ5DQ,AzB+iCL,WAAK8uB,CyB/iCImxI,KzB+iCT,GyB/iCK,AzB+iCSjgK,EyB/iCK,GzB+iCnB;A6Bl/BH,AJ5DUiyK,UAAAA,IAAI,GAAG,EAAP;AI6DV,A7Bk/BG,WAAKnuJ,iBAAL;A6Bj/BH,AJ5DU,AzB+iCP,eyB/iCYyB,CAAL,IAAU8vI,IAAV,EAAgB;AI6D1B,AJ5DY4c,AzBiiCJ,YyBjiCIA,IAAI,CAAC1sJ,CAAD,CAAJ,GAAU06I,QAAQ,CAAC5K,IAAI,CAAC9vI,CAAD,CAAL,CAAlB;AI6DZ,AJ5DW,AzB2+B+B,CAA1C;A6B96BA,A7Bs/BAhlB,MAAM,CAACK,MAAP,CAAeiuB,KAAK,CAACvuB,SAArB,EAAgC;A6Br/BhC,AJ5DU+0J,AzBmjCTjxI,EAAAA,OAAO,CyBnjCEixI,CzBmjCA,GyBnjCI,CzBijCkB,EyBjjCf4c,IAAP;AI6DV,AJ5DS,AzBo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K,GyB9jCK0kK,CzB8jCD,CAAC5uJ,GAAL,CAAU0K,EyB9jCG,CAACgyJ,AzB8jCd,IAAkB,EyBjkC1B,OzBikCG,EAAmC;A6B//BtC,AJlEA,AzBmkCI,IyB/jCAC,MAAM,GAAG/N,AzB+jCJpiJ,EAAL,GAAUtiB,GyB/jCO,CAACyyK,AzB+jCJ,CAACx8J,KyBnkCnB,AzBmkCc,CAAY,CAAE0K,GAAd,EAAmBG,GAAnB,CAAV;A6BhgCJ,AJnEA,AzBokCI,IyB/jCA+kJ,MAAM,GAAGnB,AzB+jCJliJ,EAAL,GAAUxiB,GyB/jCO,CAAC6lK,AzB+jCJ,CAAC5vJ,KyBpkCnB,AzBokCc,CAAY,CAAEsK,GAAd,EAAmBD,GAAnB,CAAV;A6BhgCJ,AJpEA,AzBskCI,IyBhkCAoyJ,GzB2jCD,CyB3jCK,GAAGhO,EzBgkCD,MyBhkCS,CAACgO,IANpB;AIqEA,AJrEA,AzBwkCI,IyBjkCAC,KAAK,GAAGjO,CzBikCHpiJ,EAAL,GAAUtiB,EyBjkCM,CAAC2yK,CzBikCH,CAAC18J,GyBxkCnB,EzBwkCc,CAAY4K,GAAZ,EAAiBH,GAAjB,CAAV;A6BlgCJ,AJtEA,AzBykCI,IyBjkCAkyJ,KAAK,GAAGlO,CzBikCHliJ,EAAL,GAAU,CAAV,CyBjkCgB,CAACowJ,KARrB;AIuEA,AJvEA,AzB2kCI,IyBlkCAC,KAAK,GAAGnO,QAAQ,CAACmO,KATrB;AIwEA,AJxEA,AzB6kCG,IyBnkCCC,CzBmjCF,KyBnjCQ,CzBmkCD,EyBnkCIpO,EzBmkCCpyJ,KAAK,CyBnkCE,CAACwgK,GzBmkCE,GyB7kCxB,EzB6kCS,EAAuB;A6BpgChC,AJzEA,AzB+kCG,IyBpkCCC,OAAO,AzBokCHzwJ,EAAL,CyBpkCWoiJ,EzBokCD1kK,IAAI,CAACovB,CyBpkCI,CAAC2jJ,EzBokCV,CAAW,CAAE9iK,GyB/kC1B,EzB+kC+B,CAAE0Q,GAAF,EAAO,CAAE,CAAT,EAAY,CAAZ,CAAlB,CAAV;A6BrgCH,AJ1EA,IAYIqyJ,IAAI,GAAGtO,QAAQ,CAACsO,IAZpB;AI2EA,AJ3EA,AzBilCG,IyBpkCC/M,MzBokCIjmK,IAAI,CyBpkCG,AzBokCF8V,GyBpkCK4uJ,AzBokCV,CAAU/jJ,GAAV,IyBpkCkB,AzBokCA,CyBpkCCslJ,QzBokCxB,EAAmC,CyBjlCtC;AI4EA,AJ5EA,AzBmlCI,IyBrkCAgN,MAAM,GAAGvO,AzBqkCJniJ,EAAL,GAAUviB,GyBrkCO,CAACizK,AzBqkCJ,CAACh9J,KyBnlCnB,AzBmlCc,CAAYuK,GAAZ,EAAiBM,GAAjB,CAAV;A6BtgCJ,AJ7EA,AzBolCI,IyBrkCAoyJ,IAAI,GAAGxO,EzBqkCFliJ,EAAL,GAAUxiB,CyBrkCK,CAACkzK,EzBqkCF,CAACj9J,CyBplCnB,IzBolCc,CAAYwK,GAAZ,EAAiBC,GAAjB,CAAV;A6BtgCJ,AJ9EA,AzBslCI,IyBtkCAyyJ,GzBikCD,CyBjkCK,GAAGzO,EzBskCD,MyBtkCS,CAACyO,IAhBpB;AI+EA,AJ/EA,AzBwlCI,IyBvkCAC,IAAI,GAAG1O,EzBukCFniJ,EAAL,GAAUviB,CyBvkCK,CAACozK,EzBukCF,CAACn9J,CyBxlCnB,IzBwlCc,CAAY,CAAE2K,GAAd,EAAmBN,GAAnB,CAAV;A6BxgCJ,A7BygCI,aAAKkC,EAAL,GAAU,CAAV;A6BxgCJ,A7B0gCI;A6BzgCJ,A7B2gCG,KAhBM,MAgBA,IAAKlQ,KAAK,KAAK,KAAf,EAAuB;A6B1gChC,A7B4gCG,WAAKgQ,EAAL,GAAUtiB,IAAI,CAACovB,IAAL,CAAWnf,KAAK,CAAE4Q,GAAF,EAAO,CAAE,CAAT,EAAY,CAAZ,CAAhB,CAAV;A6B3gCH;AACA,A7B4gCG,UAAK7gB,IAAI,CAAC8V,GAAL,CAAU+K,GAAV,IAAkB,SAAvB,EAAmC;A6B3gCtC,A7B6gCI,aAAK0B,EAAL,GAAUviB,IAAI,CAACiW,KAAL,CAAY,CAAE2K,GAAd,EAAmBE,GAAnB,CAAV;A6B5gCJ,A7B6gCI,aAAK0B,EAAL,GAAUxiB,IAAI,CAACiW,KAAL,CAAY,CAAEsK,GAAd,EAAmBG,GAAnB,CAAV;A6B5gCJ,A7B8gCI,OALD,MAKO;A6B7gCV,A7B+gCI,aAAK6B,EAAL,GAAU,CAAV;A6B9gCJ,A7B+gCI,aAAKC,EAAL,GAAUxiB,IAAI,CAACiW,KAAL,CAAYwK,GAAZ,EAAiBH,GAAjB,CAAV;A6B9gCJ,A7BghCI;A6B/gCJ,A7BihCG,KAhBM,MAgBA,IAAKhO,KAAK,KAAK,KAAf,EAAuB;A6BhhChC,A7BkhCG,WAAKiQ,EAAL,GAAUviB,IAAI,CAACovB,IAAL,CAAW,CAAEnf,KAAK,CAAE2Q,GAAF,EAAO,CAAE,CAAT,EAAY,CAAZ,CAAlB,CAAV;A6BjhCH;AACA,A7BkhCG,UAAK5gB,IAAI,CAAC8V,GAAL,CAAU8K,GAAV,IAAkB,SAAvB,EAAmC;A6BjhCtC,A7BmhCI,aAAK0B,EAAL,GAAUtiB,IAAI,CAACiW,KAAL,CAAY4K,GAAZ,EAAiBC,GAAjB,CAAV;A6BlhCJ,A7BmhCI,aAAK0B,EAAL,GAAUxiB,IAAI,CAACiW,KAAL,CAAYwK,GAAZ,EAAiBH,GAAjB,CAAV;A6BlhCJ,A7BohCI,OALD,MAKO;A6BnhCV,A7BqhCI,aAAKgC,EAAL,GAAU,CAAV;A6BphCJ,A7BqhCI,aAAKE,EAAL,GAAUxiB,IAAI,CAACiW,KAAL,CAAY,CAAEsK,GAAd,EAAmBG,GAAnB,CAAV;A6BphCJ,A7BshCI;A6BrhCJ,A7BuhCG,KAhBM,MAgBA,IAAKpO,KAAK,KAAK,KAAf,EAAuB;A6BthChC,A7BwhCG,WAAKkQ,EAAL,GAAUxiB,IAAI,CAACovB,IAAL,CAAWnf,KAAK,CAAEwQ,GAAF,EAAO,CAAE,CAAT,EAAY,CAAZ,CAAhB,CAAV;A6BvhCH;AACA,A7BwhCG,UAAKzgB,IAAI,CAAC8V,GAAL,CAAU2K,GAAV,IAAkB,SAAvB,EAAmC;A6BvhCtC,A7ByhCI,aAAK6B,EAAL,GAAUtiB,IAAI,CAACiW,KAAL,CAAY,CAAE0K,GAAd,EAAmBD,GAAnB,CAAV;A6BxhCJ,A7ByhCI,aAAK6B,EAAL,GAAUviB,IAAI,CAACiW,KAAL,CAAY,CAAE2K,GAAd,EAAmBN,GAAnB,CAAV;A6BxhCJ,A7B0hCI,OALD,MAKO;A6BzhCV,A7B2hCI,aAAKgC,EAAL,GAAU,CAAV;A6B1hCJ,A7B2hCI,aAAKC,EAAL,GAAUviB,IAAI,CAACiW,KAAL,CAAYuK,GAAZ,EAAiBM,GAAjB,CAAV;A6B1hCJ,A7B4hCI;A6B3hCJ,A7B6hCG,KAhBM,MAgBA,IAAKxO,KAAK,KAAK,KAAf,EAAuB;A6B5hChC,A7B8hCG,WAAKkQ,EAAL,GAAUxiB,IAAI,CAACovB,IAAL,CAAW,CAAEnf,KAAK,CAAEsQ,GAAF,EAAO,CAAE,CAAT,EAAY,CAAZ,CAAlB,CAAV;A6B7hCH;AACA,A7B8hCG,UAAKvgB,IAAI,CAAC8V,GAAL,CAAUyK,GAAV,IAAkB,SAAvB,EAAmC;A6B7hCtC,A7B+hCI,aAAK+B,EAAL,GAAUtiB,IAAI,CAACiW,KAAL,CAAY4K,GAAZ,EAAiBH,GAAjB,CAAV;A6B9hCJ,A7B+hCI,aAAK6B,EAAL,GAAUviB,IAAI,CAACiW,KAAL,CAAYuK,GAAZ,EAAiBF,GAAjB,CAAV;A6B9hCJ,A7BgiCI,OALD,MAKO;A6B/hCV,A7BiiCI,aAAKgC,EAAL,GAAUtiB,IAAI,CAACiW,KAAL,CAAY,CAAE0K,GAAd,EAAmBG,GAAnB,CAAV;A6BhiCJ,A7BiiCI,aAAKyB,EAAL,GAAU,CAAV;A6BhiCJ,A7BkiCI;A6BjiCJ,A7BmiCG,KAhBM,MAgBA;A6BliCT,A7BoiCGrP,MAAAA,OAAO,CAACC,IAAR,CAAc,oEAAoEb,KAAlF;A6BniCH,A7BqiCG;A6BpiCH;AACA,A7BqiCE,SAAK2c,MAAL,GAAc3c,KAAd;A6BpiCF,A7BsiCE,QAAKgS,MAAM,KAAK,KAAhB,EAAwB,KAAKL,iBAAL;A6BriC1B,A7BuiCE,WAAO,IAAP;A6BtiCF,A7BwiCE,GA7J8B;A6B14BhC,A7ByiCCoL,EAAAA,iBAAiB,EAAE,UAAWnd,CAAX,EAAcI,KAAd,EAAqBgS,MAArB,EAA8B;A6BxiClD,A7B0iCEwK,IAAAA,OAAO,CAACnD,0BAAR,CAAoCzZ,CAApC;A6BziCF;AACA,A7B0iCE,WAAO,KAAK6S,qBAAL,CAA4B+J,OAA5B,EAAqCxc,KAArC,EAA4CgS,MAA5C,CAAP;A6BziCF,A7B2iCE,GArK8B;A6Br4BhC,A7B4iCCgL,EAAAA,cAAc,EAAE,UAAWrb,CAAX,EAAc3B,KAAd,EAAsB;A6B3iCvC,A7B6iCE,WAAO,KAAKW,GAAL,CAAUgB,CAAC,CAAC1T,CAAZ,EAAe0T,CAAC,CAACpD,CAAjB,EAAoBoD,CAAC,CAAC2L,CAAtB,EAAyBtN,KAAK,IAAI,KAAK2c,MAAvC,CAAP;A6B5iCF,A7B8iCE,GA3K8B;A6Bl4BhC,A7B+iCCM,EAAAA,OAAO,EAAE,UAAWC,QAAX,EAAsB;A6B9iChC,A7BgjCE;A6B/iCF,A7BijCET,IAAAA,aAAa,CAAC3K,YAAd,CAA4B,IAA5B;A6BhjCF;AACA,A7BijCE,WAAO,KAAKiL,iBAAL,CAAwBN,aAAxB,EAAuCS,QAAvC,CAAP;A6BhjCF,A7BkjCE,GArL8B;A6B53BhC,A7BmjCC5Y,EAAAA,MAAM,EAAE,UAAWyN,KAAX,EAAmB;A6BljC5B,A7BojCE,WAASA,KAAK,CAAC/B,EAAN,KAAa,KAAKA,EAApB,IAA8B+B,KAAK,CAAC9B,EAAN,KAAa,KAAKA,EAAhD,IAA0D8B,KAAK,CAAC7B,EAAN,KAAa,KAAKA,EAA5E,IAAsF6B,KAAK,CAAC4K,MAAN,KAAiB,KAAKA,MAAnH;A6BnjCF,A7BqjCE,GA3L8B;A6Bz3BhC,A7BsjCCpY,EAAAA,SAAS,EAAE,UAAW7H,KAAX,EAAmB;A6BrjC/B,A7BujCE,SAAKsT,EAAL,GAAUtT,KAAK,CAAE,CAAF,CAAf;A6BtjCF,A7BujCE,SAAKuT,EAAL,GAAUvT,KAAK,CAAE,CAAF,CAAf;A6BtjCF,A7BujCE,SAAKwT,EAAL,GAAUxT,KAAK,CAAE,CAAF,CAAf;A6BtjCF,A7BujCE,QAAKA,KAAK,CAAE,CAAF,CAAL,KAAejP,SAApB,EAAgC,KAAKkvB,MAAL,GAAcjgB,KAAK,CAAE,CAAF,CAAnB;A6BtjClC;AACA,A7BujCE,SAAKiV,iBAAL;A6BtjCF;AACA,A7BujCE,WAAO,IAAP;A6BtjCF,A7BwjCE,GAxM8B;A6B/2BhC,A7ByjCClN,EAAAA,OAAO,EAAE,UAAW/H,KAAX,EAAkB8H,MAAlB,EAA2B;A6BxjCrC,A7B0jCE,QAAK9H,KAAK,KAAKjP,SAAf,EAA2BiP,KAAK,GAAG,EAAR;A6BzjC7B,A7B0jCE,QAAK8H,MAAM,KAAK/W,SAAhB,EAA4B+W,MAAM,GAAG,CAAT;A6BzjC9B,A7B2jCE9H,IAAAA,KAAK,CAAE8H,MAAF,CAAL,GAAkB,KAAKwL,EAAvB;A6B1jCF,A7B2jCEtT,IAAAA,KAAK,CAAE8H,MAAM,GAAG,CAAX,CAAL,GAAsB,KAAKyL,EAA3B;A6B1jCF,A7B2jCEvT,IAAAA,KAAK,CAAE8H,MAAM,GAAG,CAAX,CAAL,GAAsB,KAAK0L,EAA3B;A6B1jCF,A7B2jCExT,IAAAA,KAAK,CAAE8H,MAAM,GAAG,CAAX,CAAL,GAAsB,KAAKmY,MAA3B;A6B1jCF,A7B4jCE,WAAOjgB,KAAP;A6B3jCF,A7B6jCE,GAtN8B;A6Bt2BhC,A7B8jCCygB,EAAAA,SAAS,EAAE,UAAWC,cAAX,EAA4B;A6B7jCxC,A7B+jCE,QAAKA,cAAL,EAAsB;A6B9jCxB,A7BgkCG,aAAOA,cAAc,CAACzc,GAAf,CAAoB,KAAKqP,EAAzB,EAA6B,KAAKC,EAAlC,EAAsC,KAAKC,EAA3C,CAAP;A6B/jCH,A7BikCG,KAJD,MAIO;A6BhkCT,A7BkkCG,aAAO,IAAIqE,OAAJ,CAAa,KAAKvE,EAAlB,EAAsB,KAAKC,EAA3B,EAA+B,KAAKC,EAApC,CAAP;A6BjkCH,A7BmkCG;A6BlkCH,A7BokCE,GApO8B;A6B/1BhC,A7BqkCCkE,EAAAA,SAAS,EAAE,UAAWC,QAAX,EAAsB;A6BpkClC,A7BskCE,SAAK1C,iBAAL,GAAyB0C,QAAzB;A6BrkCF,A7BukCE,WAAO,IAAP;A6BtkCF,A7BwkCE,GA5O8B;A6B31BhC,A7BykCC1C,EAAAA,iBAAiB,EAAE,YAAY,CAAE;A6BxkClC,A7B01BgC,CAAhC;A6Bz1BA,A7B2kCA;A6B1kCA;AACA;AACA;AACA,A7B2kCA,SAAS0L,MAAT,GAAkB;A6B1kClB,A7B4kCC,OAAKC,IAAL,GAAY,IAAI,CAAhB;A6B3kCD,A7B6kCC;A6B5kCD;AACA,A7B6kCAlvB,MAAM,CAACK,MAAP,CAAe4uB,MAAM,CAAClvB,SAAtB,EAAiC;A6B5kCjC,A7B8kCCwS,EAAAA,GAAG,EAAE,UAAW4c,OAAX,EAAqB;A6B7kC3B,A7B+kCE,SAAKD,IAAL,GAAY,KAAKC,OAAL,GAAe,CAA3B;A6B9kCF,A7BglCE,GAN+B;A6BzkCjC,A7BilCCC,EAAAA,MAAM,EAAE,UAAWD,OAAX,EAAqB;A6BhlC9B,A7BklCE,SAAKD,IAAL,IAAa,KAAKC,OAAL,GAAe,CAA5B;A6BjlCF,A7BmlCE,GAZ+B;A6BtkCjC,A7BolCCE,EAAAA,SAAS,EAAE,YAAY;A6BnlCxB,A7BqlCE,SAAKH,IAAL,GAAY,aAAa,CAAzB;A6BplCF,A7BslCE,GAlB+B;A6BnkCjC,A7BulCCI,EAAAA,MAAM,EAAE,UAAWH,OAAX,EAAqB;A6BtlC9B,A7BwlCE,SAAKD,IAAL,IAAa,KAAKC,OAAL,GAAe,CAA5B;A6BvlCF,A7BylCE,GAxB+B;A6BhkCjC,A7B0lCCI,EAAAA,OAAO,EAAE,UAAWJ,OAAX,EAAqB;A6BzlC/B,A7B2lCE,SAAKD,IAAL,IAAa,EAAI,KAAKC,OAAL,GAAe,CAAnB,CAAb;A6B1lCF,A7B4lCE,GA9B+B;A6B7jCjC,A7B6lCCK,EAAAA,UAAU,EAAE,YAAY;A6B5lCzB,A7B8lCE,SAAKN,IAAL,GAAY,CAAZ;A6B7lCF,A7B+lCE,GApC+B;A6B1jCjC,A7BgmCCO,EAAAA,IAAI,EAAE,UAAWC,MAAX,EAAoB;A6B/lC3B,A7BimCE,WAAO,CAAE,KAAKR,IAAL,GAAYQ,MAAM,CAACR,IAArB,MAAgC,CAAvC;A6BhmCF,A7BkmCE;A6BjmCF,A7BujCiC,CAAjC;A6BtjCA,A7BomCA,IAAIS,WAAW,GAAG,CAAlB;A6BnmCA;AACA,A7BomCA,IAAIC,KAAK,GAAG,IAAIzJ,OAAJ,EAAZ;A6BnmCA;AACA,A7BmmCA,IAAI0J,GAAG,GAAG,IAAIlO,UAAJ,EAAV;A6BlmCA;AACA,A7BkmCA,IAAImO,KAAK,GAAG,IAAIxG,OAAJ,EAAZ;A6BjmCA;AACA,A7BimCA,IAAIyG,OAAO,GAAG,IAAI5J,OAAJ,EAAd;A6BhmCA;AACA,A7BimCA,IAAI6J,SAAS,GAAG,IAAI7J,OAAJ,EAAhB;A6BhmCA;AACA,A7BgmCA,IAAI8J,MAAM,GAAG,IAAI9J,OAAJ,EAAb;A6B/lCA;AACA,A7B+lCA,IAAI+J,aAAa,GAAG,IAAIvO,UAAJ,EAApB;A6B9lCA;AACA,A7B+lCA,IAAIwO,MAAM,GAAG,IAAIhK,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAb;A6B9lCA;AACA,A7B8lCA,IAAIiK,MAAM,GAAG,IAAIjK,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAb;A6B7lCA;AACA,A7B6lCA,IAAIkK,MAAM,GAAG,IAAIlK,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAb;A6B5lCA;AACA,A7B6lCA,IAAImK,WAAW,GAAG;A6B5lClB,A7B4lCoB5iB,EAAAA,IAAI,EAAE;A6B3lC1B,A7B2lCkB,CAAlB;A6B1lCA,A7B2lCA,IAAI6iB,aAAa,GAAG;A6B1lCpB,A7B0lCsB7iB,EAAAA,IAAI,EAAE;A6BzlC5B,A7BylCoB,CAApB;A6BxlCA,A7B0lCA;A6BzlCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,A7B0lCA,SAAS8iB,QAAT,GAAoB;A6BzlCpB,A7B2lCCxwB,EAAAA,MAAM,CAACC,cAAP,CAAuB,IAAvB,EAA6B,IAA7B,EAAmC;A6B1lCpC,A7B0lCsCR,IAAAA,KAAK,EAAEkwB,WAAW;A6BzlCxD,A7BylCoC,GAAnC;A6BxlCD,A7B0lCC,OAAKtgB,IAAL,GAAYV,SAAS,CAACI,YAAV,EAAZ;A6BzlCD,A7B2lCC,OAAKoO,IAAL,GAAY,EAAZ;A6B1lCD,A7B2lCC,OAAKzP,IAAL,GAAY,UAAZ;A6B1lCD,A7B4lCC,OAAK+iB,MAAL,GAAc,IAAd;A6B3lCD,A7B4lCC,OAAKC,QAAL,GAAgB,EAAhB;A6B3lCD,A7B6lCC,OAAKrF,EAAL,GAAUmF,QAAQ,CAACG,SAAT,CAAmBvd,KAAnB,EAAV;A6B5lCD,A7B8lCC,MAAI6Z,QAAQ,GAAG,IAAI9G,OAAJ,EAAf;A6B7lCD,A7B8lCC,MAAIlL,QAAQ,GAAG,IAAIqT,KAAJ,EAAf;A6B7lCD,A7B8lCC,MAAI7K,UAAU,GAAG,IAAI9B,UAAJ,EAAjB;A6B7lCD,A7B8lCC,MAAIvG,KAAK,GAAG,IAAI+K,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAZ;A6B7lCD;AACA,A7B8lCC,WAASyK,gBAAT,GAA4B;A6B7lC7B,A7B+lCEnN,IAAAA,UAAU,CAACC,YAAX,CAAyBzI,QAAzB,EAAmC,KAAnC;A6B9lCF,A7BgmCE;A6B/lCF;AACA,A7BgmCC,WAAS4V,kBAAT,GAA8B;A6B/lC/B,A7BimCE5V,IAAAA,QAAQ,CAAC0T,iBAAT,CAA4BlL,UAA5B,EAAwCpkB,SAAxC,EAAmD,KAAnD;A6BhmCF,A7BkmCE;A6BjmCF;AACA,A7BkmCC4b,EAAAA,QAAQ,CAAC+K,SAAT,CAAoB4K,gBAApB;A6BjmCD;AACA,A7BimCCnN,EAAAA,UAAU,CAACuC,SAAX,CAAsB6K,kBAAtB;A6BhmCD;AACA,A7BimCC7wB,EAAAA,MAAM,CAAC2S,gBAAP,CAAyB,IAAzB,EAA+B;A6BhmChC,A7BimCEsa,IAAAA,QAAQ,EAAE;A6BhmCZ,A7BimCG6D,MAAAA,YAAY,EAAE,IADL;A6B/lCZ,A7BimCGC,MAAAA,UAAU,EAAE,IAFH;A6B9lCZ,A7BimCGtxB,MAAAA,KAAK,EAAEwtB;A6BhmCV,A7B6lCY,KADoB;A6B3lChC,A7BimCEhS,IAAAA,QAAQ,EAAE;A6BhmCZ,A7BimCG6V,MAAAA,YAAY,EAAE,IADL;A6B/lCZ,A7BimCGC,MAAAA,UAAU,EAAE,IAFH;A6B9lCZ,A7BimCGtxB,MAAAA,KAAK,EAAEwb;A6BhmCV,A7B6lCY,KANoB;A6BtlChC,A7BimCEwI,IAAAA,UAAU,EAAE;A6BhmCd,A7BimCGqN,MAAAA,YAAY,EAAE,IADH;A6B/lCd,A7BimCGC,MAAAA,UAAU,EAAE,IAFD;A6B9lCd,A7BimCGtxB,MAAAA,KAAK,EAAEgkB;A6BhmCV,A7B6lCc,KAXkB;A6BjlChC,A7BimCErI,IAAAA,KAAK,EAAE;A6BhmCT,A7BimCG0V,MAAAA,YAAY,EAAE,IADR;A6B/lCT,A7BimCGC,MAAAA,UAAU,EAAE,IAFN;A6B9lCT,A7BimCGtxB,MAAAA,KAAK,EAAE2b;A6BhmCV,A7B6lCS,KAhBuB;A6B5kChC,A7BimCE4V,IAAAA,eAAe,EAAE;A6BhmCnB,A7BimCGvxB,MAAAA,KAAK,EAAE,IAAI6pB,OAAJ;A6BhmCV,A7B+lCmB,KArBa;A6BzkChC,A7BimCE2H,IAAAA,YAAY,EAAE;A6BhmChB,A7BimCGxxB,MAAAA,KAAK,EAAE,IAAImX,OAAJ;A6BhmCV,A7B+lCgB;A6B9lChB,A7BskCgC,GAA/B;A6BrkCD,A7BkmCC,OAAKiD,MAAL,GAAc,IAAIyP,OAAJ,EAAd;A6BjmCD,A7BkmCC,OAAK7B,WAAL,GAAmB,IAAI6B,OAAJ,EAAnB;A6BjmCD,A7BmmCC,OAAK7L,gBAAL,GAAwB+S,QAAQ,CAACU,uBAAjC;A6BlmCD,A7BmmCC,OAAKC,sBAAL,GAA8B,KAA9B;A6BlmCD,A7BomCC,OAAKzB,MAAL,GAAc,IAAIT,MAAJ,EAAd;A6BnmCD,A7BomCC,OAAKmC,OAAL,GAAe,IAAf;A6BnmCD,A7BqmCC,OAAKC,UAAL,GAAkB,KAAlB;A6BpmCD,A7BqmCC,OAAKC,aAAL,GAAqB,KAArB;A6BpmCD,A7BsmCC,OAAKC,aAAL,GAAqB,IAArB;A6BrmCD,A7BsmCC,OAAKC,WAAL,GAAmB,CAAnB;A6BrmCD,A7BumCC,OAAKC,QAAL,GAAgB,EAAhB;A6BtmCD,A7BwmCC;A6BvmCD;AACA,A7BwmCAjB,QAAQ,CAACG,SAAT,GAAqB,IAAIxK,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAArB;A6BvmCA,A7BwmCAqK,QAAQ,CAACU,uBAAT,GAAmC,IAAnC;A6BvmCA,A7BymCAV,QAAQ,CAACzwB,SAAT,GAAqBC,MAAM,CAACK,MAAP,CAAeL,MAAM,CAACge,MAAP,CAAexQ,eAAe,CAACzN,SAA/B,CAAf,EAA2D;A6BxmChF,A7B0mCCsT,EAAAA,WAAW,EAAEmd,QAFkE;A6BvmChF,A7B2mCCkB,EAAAA,UAAU,EAAE,IAJmE;A6BtmChF,A7B4mCCC,EAAAA,cAAc,EAAE,YAAY,CAAE,CANiD;A6BrmChF,A7B4mCCC,EAAAA,aAAa,EAAE,YAAY,CAAE,CAPkD;A6BpmChF,A7B6mCCtS,EAAAA,YAAY,EAAE,UAAWzF,MAAX,EAAoB;A6B5mCnC,A7B8mCE,QAAK,KAAK4D,gBAAV,EAA6B,KAAKS,YAAL;A6B7mC/B,A7B+mCE,SAAKrE,MAAL,CAAY3B,WAAZ,CAAyB2B,MAAzB;A6B9mCF,A7BgnCE,SAAKA,MAAL,CAAY2T,SAAZ,CAAuB,KAAKP,QAA5B,EAAsC,KAAKxJ,UAA3C,EAAuD,KAAKrI,KAA5D;A6B/mCF,A7BinCE,GAjB8E;A6B/lChF,A7BknCCoL,EAAAA,eAAe,EAAE,UAAWhV,CAAX,EAAe;A6BjnCjC,A7BmnCE,SAAKiS,UAAL,CAAgBvL,WAAhB,CAA6B1G,CAA7B;A6BlnCF,A7BonCE,WAAO,IAAP;A6BnnCF,A7BqnCE,GAzB8E;A6B3lChF,A7BsnCCqgB,EAAAA,wBAAwB,EAAE,UAAW1N,IAAX,EAAiB7O,KAAjB,EAAyB;A6BrnCpD,A7BunCE;A6BtnCF,A7BwnCE,SAAKmO,UAAL,CAAgBS,gBAAhB,CAAkCC,IAAlC,EAAwC7O,KAAxC;A6BvnCF,A7BynCE,GAjC8E;A6BvlChF,A7B0nCCwc,EAAAA,oBAAoB,EAAE,UAAWnO,KAAX,EAAmB;A6BznC1C,A7B2nCE,SAAKF,UAAL,CAAgBC,YAAhB,CAA8BC,KAA9B,EAAqC,IAArC;A6B1nCF,A7B4nCE,GAvC8E;A6BplChF,A7B6nCCoO,EAAAA,qBAAqB,EAAE,UAAWniB,CAAX,EAAe;A6B5nCvC,A7B8nCE;A6B7nCF,A7B+nCE,SAAK6T,UAAL,CAAgBY,qBAAhB,CAAuCzU,CAAvC;A6B9nCF,A7BgoCE,GA/C8E;A6BhlChF,A7BioCCoiB,EAAAA,yBAAyB,EAAE,UAAWxgB,CAAX,EAAe;A6BhoC3C,A7BkoCE;A6BjoCF,A7BmoCE,SAAKiS,UAAL,CAAgBnQ,IAAhB,CAAsB9B,CAAtB;A6BloCF,A7BooCE,GAvD8E;A6B5kChF,A7BqoCCygB,EAAAA,YAAY,EAAE,UAAW9N,IAAX,EAAiB7O,KAAjB,EAAyB;A6BpoCxC,A7BsoCE;A6BroCF,A7BsoCE;A6BroCF,A7BuoCEua,IAAAA,GAAG,CAAC3L,gBAAJ,CAAsBC,IAAtB,EAA4B7O,KAA5B;A6BtoCF;AACA,A7BuoCE,SAAKmO,UAAL,CAAgBxP,QAAhB,CAA0B4b,GAA1B;A6BtoCF,A7BwoCE,WAAO,IAAP;A6BvoCF,A7ByoCE,GApE8E;A6BpkChF,A7B0oCCqC,EAAAA,iBAAiB,EAAE,UAAW/N,IAAX,EAAiB7O,KAAjB,EAAyB;A6BzoC7C,A7B2oCE;A6B1oCF,A7B2oCE;A6B1oCF,A7B2oCE;A6B1oCF,A7B4oCEua,IAAAA,GAAG,CAAC3L,gBAAJ,CAAsBC,IAAtB,EAA4B7O,KAA5B;A6B3oCF;AACA,A7B4oCE,SAAKmO,UAAL,CAAgBvL,WAAhB,CAA6B2X,GAA7B;A6B3oCF,A7B6oCE,WAAO,IAAP;A6B5oCF,A7B8oCE,GAlF8E;A6B3jChF,A7B+oCCsC,EAAAA,OAAO,EAAE,UAAW7c,KAAX,EAAmB;A6B9oC7B,A7BgpCE,WAAO,KAAK2c,YAAL,CAAmB9B,MAAnB,EAA2B7a,KAA3B,CAAP;A6B/oCF,A7BipCE,GAxF8E;A6BxjChF,A7BkpCC8c,EAAAA,OAAO,EAAE,UAAW9c,KAAX,EAAmB;A6BjpC7B,A7BmpCE,WAAO,KAAK2c,YAAL,CAAmB7B,MAAnB,EAA2B9a,KAA3B,CAAP;A6BlpCF,A7BopCE,GA9F8E;A6BrjChF,A7BqpCC+c,EAAAA,OAAO,EAAE,UAAW/c,KAAX,EAAmB;A6BppC7B,A7BspCE,WAAO,KAAK2c,YAAL,CAAmB5B,MAAnB,EAA2B/a,KAA3B,CAAP;A6BrpCF,A7BupCE,GApG8E;A6BljChF,A7BwpCCgd,EAAAA,eAAe,EAAE,UAAWnO,IAAX,EAAiBoO,QAAjB,EAA4B;A6BvpC9C,A7BypCE;A6BxpCF,A7BypCE;A6BxpCF,A7B0pCE3C,IAAAA,KAAK,CAACtc,IAAN,CAAY6Q,IAAZ,EAAmBqC,eAAnB,CAAoC,KAAK/C,UAAzC;A6BzpCF;AACA,A7B0pCE,SAAKwJ,QAAL,CAAczZ,GAAd,CAAmBoc,KAAK,CAAC1b,cAAN,CAAsBqe,QAAtB,CAAnB;A6BzpCF,A7B2pCE,WAAO,IAAP;A6B1pCF,A7B4pCE,GAjH8E;A6B1iChF,A7B6pCCC,EAAAA,UAAU,EAAE,UAAWD,QAAX,EAAsB;A6B5pCnC,A7B8pCE,WAAO,KAAKD,eAAL,CAAsBnC,MAAtB,EAA8BoC,QAA9B,CAAP;A6B7pCF,A7B+pCE,GAvH8E;A6BviChF,A7BgqCCE,EAAAA,UAAU,EAAE,UAAWF,QAAX,EAAsB;A6B/pCnC,A7BiqCE,WAAO,KAAKD,eAAL,CAAsBlC,MAAtB,EAA8BmC,QAA9B,CAAP;A6BhqCF,A7BkqCE,GA7H8E;A6BpiChF,A7BmqCCG,EAAAA,UAAU,EAAE,UAAWH,QAAX,EAAsB;A6BlqCnC,A7BoqCE,WAAO,KAAKD,eAAL,CAAsBjC,MAAtB,EAA8BkC,QAA9B,CAAP;A6BnqCF,A7BqqCE,GAnI8E;A6BjiChF,A7BsqCCI,EAAAA,YAAY,EAAE,UAAWC,MAAX,EAAoB;A6BrqCnC,A7BuqCE,WAAOA,MAAM,CAACtT,YAAP,CAAqB,KAAKmI,WAA1B,CAAP;A6BtqCF,A7BwqCE,GAzI8E;A6B9hChF,A7ByqCCoL,EAAAA,YAAY,EAAE,UAAWD,MAAX,EAAoB;A6BxqCnC,A7B0qCE,WAAOA,MAAM,CAACtT,YAAP,CAAqBwQ,KAAK,CAAClW,UAAN,CAAkB,KAAK6N,WAAvB,CAArB,CAAP;A6BzqCF,A7B2qCE,GA/I8E;A6B3hChF,A7B4qCC0D,EAAAA,MAAM,EAAE,UAAWtrB,CAAX,EAAcsQ,CAAd,EAAiB+O,CAAjB,EAAqB;A6B3qC9B,A7B6qCE;A6B5qCF,A7B8qCE,QAAKrf,CAAC,CAACwmB,SAAP,EAAmB;A6B7qCrB,A7B+qCG0J,MAAAA,OAAO,CAACzc,IAAR,CAAczT,CAAd;A6B9qCH,A7BgrCG,KAJD,MAIO;A6B/qCT,A7BirCGkwB,MAAAA,OAAO,CAACxd,GAAR,CAAa1S,CAAb,EAAgBsQ,CAAhB,EAAmB+O,CAAnB;A6BhrCH,A7BkrCG;A6BjrCH;AACA,A7BkrCE,QAAIuR,MAAM,GAAG,KAAKA,MAAlB;A6BjrCF,A7BmrCE,SAAKqC,iBAAL,CAAwB,IAAxB,EAA8B,KAA9B;A6BlrCF;AACA,A7BmrCE9C,IAAAA,SAAS,CAAChH,qBAAV,CAAiC,KAAKvB,WAAtC;A6BlrCF;AACA,A7BmrCE,QAAK,KAAKsL,QAAL,IAAiB,KAAKC,OAA3B,EAAqC;A6BlrCvC,A7BorCGlD,MAAAA,KAAK,CAAC3E,MAAN,CAAc6E,SAAd,EAAyBD,OAAzB,EAAkC,KAAK1E,EAAvC;A6BnrCH,A7BqrCG,KAJD,MAIO;A6BprCT,A7BsrCGyE,MAAAA,KAAK,CAAC3E,MAAN,CAAc4E,OAAd,EAAuBC,SAAvB,EAAkC,KAAK3E,EAAvC;A6BrrCH,A7BurCG;A6BtrCH;AACA,A7BurCE,SAAK5H,UAAL,CAAgBY,qBAAhB,CAAuCyL,KAAvC;A6BtrCF;AACA,A7BurCE,QAAKW,MAAL,EAAc;A6BtrChB,A7BwrCGX,MAAAA,KAAK,CAAC5F,eAAN,CAAuBuG,MAAM,CAAChJ,WAA9B;A6BvrCH;AACA,A7BurCGoI,MAAAA,GAAG,CAACxL,qBAAJ,CAA2ByL,KAA3B;A6BtrCH;AACA,A7BsrCG,WAAKrM,UAAL,CAAgBvL,WAAhB,CAA6B2X,GAAG,CAAC/K,OAAJ,EAA7B;A6BrrCH,A7BurCG;A6BtrCH,A7BwrCE,GAzL8E;A6B9/BhF,A7ByrCCtR,EAAAA,GAAG,EAAE,UAAWyf,MAAX,EAAoB;A6BxrC1B,A7B0rCE,QAAKvyB,SAAS,CAACC,MAAV,GAAmB,CAAxB,EAA4B;A6BzrC9B,A7B2rCG,WAAM,IAAI6N,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG9N,SAAS,CAACC,MAA/B,EAAuC6N,CAAC,EAAxC,EAA8C;A6B1rCjD,A7B4rCI,aAAKgF,GAAL,CAAU9S,SAAS,CAAE8N,CAAF,CAAnB;A6B3rCJ,A7B6rCI;A6B5rCJ;AACA,A7B6rCG,aAAO,IAAP;A6B5rCH,A7B8rCG;A6B7rCH;AACA,A7B8rCE,QAAKykB,MAAM,KAAK,IAAhB,EAAuB;A6B7rCzB,A7B+rCGzgB,MAAAA,OAAO,CAACqE,KAAR,CAAe,iEAAf,EAAkFoc,MAAlF;A6B9rCH,A7B+rCG,aAAO,IAAP;A6B9rCH,A7BgsCG;A6B/rCH;AACA,A7BgsCE,QAAOA,MAAM,IAAIA,MAAM,CAACvB,UAAxB,EAAuC;A6B/rCzC,A7BisCG,UAAKuB,MAAM,CAACxC,MAAP,KAAkB,IAAvB,EAA8B;A6BhsCjC,A7BksCIwC,QAAAA,MAAM,CAACxC,MAAP,CAAcyC,MAAd,CAAsBD,MAAtB;A6BjsCJ,A7BmsCI;A6BlsCJ;AACA,A7BmsCGA,MAAAA,MAAM,CAACxC,MAAP,GAAgB,IAAhB;A6BlsCH,A7BmsCG,WAAKC,QAAL,CAAc3iB,IAAd,CAAoBklB,MAApB;A6BlsCH,A7BosCGA,MAAAA,MAAM,CAAC7kB,aAAP,CAAsBkiB,WAAtB;A6BnsCH,A7BqsCG,KAbD,MAaO;A6BpsCT,A7BssCG9d,MAAAA,OAAO,CAACqE,KAAR,CAAe,+DAAf,EAAgFoc,MAAhF;A6BrsCH,A7BusCG;A6BtsCH;AACA,A7BusCE,WAAO,IAAP;A6BtsCF,A7BwsCE,GArO8E;A6Bl+BhF,A7BysCCC,EAAAA,MAAM,EAAE,UAAWD,MAAX,EAAoB;A6BxsC7B,A7B0sCE,QAAKvyB,SAAS,CAACC,MAAV,GAAmB,CAAxB,EAA4B;A6BzsC9B,A7B2sCG,WAAM,IAAI6N,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG9N,SAAS,CAACC,MAA/B,EAAuC6N,CAAC,EAAxC,EAA8C;A6B1sCjD,A7B4sCI,aAAK0kB,MAAL,CAAaxyB,SAAS,CAAE8N,CAAF,CAAtB;A6B3sCJ,A7B6sCI;A6B5sCJ;AACA,A7B6sCG,aAAO,IAAP;A6B5sCH,A7B8sCG;A6B7sCH;AACA,A7B8sCE,QAAI/N,KAAK,GAAG,KAAKiwB,QAAL,CAAc5iB,OAAd,CAAuBmlB,MAAvB,CAAZ;A6B7sCF;AACA,A7B8sCE,QAAKxyB,KAAK,KAAK,CAAE,CAAjB,EAAqB;A6B7sCvB,A7B+sCGwyB,MAAAA,MAAM,CAACxC,MAAP,GAAgB,IAAhB;A6B9sCH,A7B+sCG,WAAKC,QAAL,CAAcviB,MAAd,CAAsB1N,KAAtB,EAA6B,CAA7B;A6B9sCH,A7BgtCGwyB,MAAAA,MAAM,CAAC7kB,aAAP,CAAsBmiB,aAAtB;A6B/sCH,A7BitCG;A6BhtCH;AACA,A7BitCE,WAAO,IAAP;A6BhtCF,A7BktCE,GAlQ8E;A6B/8BhF,A7BmtCC4C,EAAAA,MAAM,EAAE,UAAWF,MAAX,EAAoB;A6BltC7B,A7BotCE;A6BntCF,A7BqtCE,SAAKH,iBAAL,CAAwB,IAAxB,EAA8B,KAA9B;A6BptCF;AACA,A7BqtCEhD,IAAAA,KAAK,CAAClW,UAAN,CAAkB,KAAK6N,WAAvB;A6BptCF;AACA,A7BqtCE,QAAKwL,MAAM,CAACxC,MAAP,KAAkB,IAAvB,EAA8B;A6BptChC,A7BstCGwC,MAAAA,MAAM,CAACxC,MAAP,CAAcqC,iBAAd,CAAiC,IAAjC,EAAuC,KAAvC;A6BrtCH;AACA,A7BstCGhD,MAAAA,KAAK,CAAC7b,QAAN,CAAgBgf,MAAM,CAACxC,MAAP,CAAchJ,WAA9B;A6BrtCH,A7ButCG;A6BttCH;AACA,A7ButCEwL,IAAAA,MAAM,CAAC3T,YAAP,CAAqBwQ,KAArB;A6BttCF,A7BwtCEmD,IAAAA,MAAM,CAACH,iBAAP,CAA0B,KAA1B,EAAiC,KAAjC;A6BvtCF,A7BytCE,SAAKtf,GAAL,CAAUyf,MAAV;A6BxtCF,A7B0tCE,WAAO,IAAP;A6BztCF,A7B2tCE,GA5R8E;A6B97BhF,A7B4tCCG,EAAAA,aAAa,EAAE,UAAWC,EAAX,EAAgB;A6B3tChC,A7B6tCE,WAAO,KAAKC,mBAAL,CAA0B,IAA1B,EAAgCD,EAAhC,CAAP;A6B5tCF,A7B8tCE,GAlS8E;A6B37BhF,A7B+tCCE,EAAAA,eAAe,EAAE,UAAWpW,IAAX,EAAkB;A6B9tCpC,A7BguCE,WAAO,KAAKmW,mBAAL,CAA0B,MAA1B,EAAkCnW,IAAlC,CAAP;A6B/tCF,A7BiuCE,GAxS8E;A6Bx7BhF,A7BkuCCmW,EAAAA,mBAAmB,EAAE,UAAWnW,IAAX,EAAiB1d,KAAjB,EAAyB;A6BjuC/C,A7BmuCE,QAAK,KAAM0d,IAAN,MAAiB1d,KAAtB,EAA8B,OAAO,IAAP;A6BluChC;AACA,A7BmuCE,SAAM,IAAI+O,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKiiB,QAAL,CAAc/vB,MAAnC,EAA2C6N,CAAC,GAAGC,CAA/C,EAAkDD,CAAC,EAAnD,EAAyD;A6BluC3D,A7BouCG,UAAIglB,KAAK,GAAG,KAAK9C,QAAL,CAAeliB,CAAf,CAAZ;A6BnuCH,A7BouCG,UAAIykB,MAAM,GAAGO,KAAK,CAACF,mBAAN,CAA2BnW,IAA3B,EAAiC1d,KAAjC,CAAb;A6BnuCH;AACA,A7BouCG,UAAKwzB,MAAM,KAAK5zB,SAAhB,EAA4B;A6BnuC/B,A7BquCI,eAAO4zB,MAAP;A6BpuCJ,A7BsuCI;A6BruCJ,A7BuuCG;A6BtuCH;AACA,A7BuuCE,WAAO5zB,SAAP;A6BtuCF,A7BwuCE,GA7T8E;A6B16BhF,A7ByuCCo0B,EAAAA,gBAAgB,EAAE,UAAWnzB,MAAX,EAAoB;A6BxuCvC,A7B0uCE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6BzuC9B,A7B2uCGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,4DAAd;A6B1uCH,A7B2uCGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B1uCH,A7B4uCG;A6B3uCH;AACA,A7B4uCE,SAAKuN,iBAAL,CAAwB,IAAxB;A6B3uCF,A7B6uCE,WAAOpzB,MAAM,CAAC0oB,qBAAP,CAA8B,KAAKvB,WAAnC,CAAP;A6B5uCF,A7B8uCE,GA5U8E;A6Bj6BhF,A7B+uCCkM,EAAAA,kBAAkB,EAAE,UAAWrzB,MAAX,EAAoB;A6B9uCzC,A7BgvCE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B/uC9B,A7BivCGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,8DAAd;A6BhvCH,A7BivCGnS,MAAAA,MAAM,GAAG,IAAIqhB,UAAJ,EAAT;A6BhvCH,A7BkvCG;A6BjvCH;AACA,A7BkvCE,SAAK+R,iBAAL,CAAwB,IAAxB;A6BjvCF,A7BmvCE,SAAKjM,WAAL,CAAiB+F,SAAjB,CAA4BwC,SAA5B,EAAuC1vB,MAAvC,EAA+C2vB,MAA/C;A6BlvCF,A7BovCE,WAAO3vB,MAAP;A6BnvCF,A7BqvCE,GA7V8E;A6Bv5BhF,A7BsvCCszB,EAAAA,aAAa,EAAE,UAAWtzB,MAAX,EAAoB;A6BrvCpC,A7BuvCE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6BtvC9B,A7BwvCGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,yDAAd;A6BvvCH,A7BwvCGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6BvvCH,A7ByvCG;A6BxvCH;AACA,A7ByvCE,SAAKuN,iBAAL,CAAwB,IAAxB;A6BxvCF,A7B0vCE,SAAKjM,WAAL,CAAiB+F,SAAjB,CAA4BwC,SAA5B,EAAuCE,aAAvC,EAAsD5vB,MAAtD;A6BzvCF,A7B2vCE,WAAOA,MAAP;A6B1vCF,A7B4vCE,GA9W8E;A6B74BhF,A7B6vCCuzB,EAAAA,iBAAiB,EAAE,UAAWvzB,MAAX,EAAoB;A6B5vCxC,A7B8vCE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B7vC9B,A7B+vCGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,6DAAd;A6B9vCH,A7B+vCGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B9vCH,A7BgwCG;A6B/vCH;AACA,A7BgwCE,SAAKuN,iBAAL,CAAwB,IAAxB;A6B/vCF,A7BiwCE,QAAIpf,CAAC,GAAG,KAAKmT,WAAL,CAAiBlT,QAAzB;A6BhwCF,A7BkwCE,WAAOjU,MAAM,CAACiS,GAAP,CAAY+B,CAAC,CAAE,CAAF,CAAb,EAAoBA,CAAC,CAAE,CAAF,CAArB,EAA4BA,CAAC,CAAE,EAAF,CAA7B,EAAsCe,SAAtC,EAAP;A6BjwCF,A7BmwCE,GA/X8E;A6Bn4BhF,A7BowCCye,EAAAA,OAAO,EAAE,YAAY,CAAE,CAjYwD;A6Bl4BhF,A7BqwCCC,EAAAA,QAAQ,EAAE,UAAW9N,QAAX,EAAsB;A6BpwCjC,A7BswCEA,IAAAA,QAAQ,CAAE,IAAF,CAAR;A6BrwCF,A7BuwCE,QAAIyK,QAAQ,GAAG,KAAKA,QAApB;A6BtwCF;AACA,A7BuwCE,SAAM,IAAIliB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGiiB,QAAQ,CAAC/vB,MAA9B,EAAsC6N,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6BtwCtD,A7BwwCGkiB,MAAAA,QAAQ,CAAEliB,CAAF,CAAR,CAAculB,QAAd,CAAwB9N,QAAxB;A6BvwCH,A7BywCG;A6BxwCH,A7B0wCE,GA/Y8E;A6B13BhF,A7B2wCC+N,EAAAA,eAAe,EAAE,UAAW/N,QAAX,EAAsB;A6B1wCxC,A7B4wCE,QAAK,KAAKmL,OAAL,KAAiB,KAAtB,EAA8B;A6B3wChC,A7B6wCEnL,IAAAA,QAAQ,CAAE,IAAF,CAAR;A6B5wCF,A7B8wCE,QAAIyK,QAAQ,GAAG,KAAKA,QAApB;A6B7wCF;AACA,A7B8wCE,SAAM,IAAIliB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGiiB,QAAQ,CAAC/vB,MAA9B,EAAsC6N,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6B7wCtD,A7B+wCGkiB,MAAAA,QAAQ,CAAEliB,CAAF,CAAR,CAAcwlB,eAAd,CAA+B/N,QAA/B;A6B9wCH,A7BgxCG;A6B/wCH,A7BixCE,GA/Z8E;A6Bj3BhF,A7BkxCCgO,EAAAA,iBAAiB,EAAE,UAAWhO,QAAX,EAAsB;A6BjxC1C,A7BmxCE,QAAIwK,MAAM,GAAG,KAAKA,MAAlB;A6BlxCF;AACA,A7BmxCE,QAAKA,MAAM,KAAK,IAAhB,EAAuB;A6BlxCzB,A7BoxCGxK,MAAAA,QAAQ,CAAEwK,MAAF,CAAR;A6BnxCH,A7BqxCGA,MAAAA,MAAM,CAACwD,iBAAP,CAA0BhO,QAA1B;A6BpxCH,A7BsxCG;A6BrxCH,A7BuxCE,GA7a8E;A6Bz2BhF,A7BwxCC/H,EAAAA,YAAY,EAAE,YAAY;A6BvxC3B,A7ByxCE,SAAKrE,MAAL,CAAYqR,OAAZ,CAAqB,KAAK+B,QAA1B,EAAoC,KAAKxJ,UAAzC,EAAqD,KAAKrI,KAA1D;A6BxxCF,A7B0xCE,SAAK+V,sBAAL,GAA8B,IAA9B;A6BzxCF,A7B2xCE,GArb8E;A6Br2BhF,A7B4xCCuC,EAAAA,iBAAiB,EAAE,UAAWQ,KAAX,EAAmB;A6B3xCvC,A7B6xCE,QAAK,KAAKzW,gBAAV,EAA6B,KAAKS,YAAL;A6B5xC/B;AACA,A7B6xCE,QAAK,KAAKiT,sBAAL,IAA+B+C,KAApC,EAA4C;A6B5xC9C,A7B8xCG,UAAK,KAAKzD,MAAL,KAAgB,IAArB,EAA4B;A6B7xC/B,A7B+xCI,aAAKhJ,WAAL,CAAiBnU,IAAjB,CAAuB,KAAKuG,MAA5B;A6B9xCJ,A7BgyCI,OAJD,MAIO;A6B/xCV,A7BiyCI,aAAK4N,WAAL,CAAiBxP,gBAAjB,CAAmC,KAAKwY,MAAL,CAAYhJ,WAA/C,EAA4D,KAAK5N,MAAjE;A6BhyCJ,A7BkyCI;A6BjyCJ;AACA,A7BkyCG,WAAKsX,sBAAL,GAA8B,KAA9B;A6BjyCH,A7BmyCG+C,MAAAA,KAAK,GAAG,IAAR;A6BlyCH,A7BoyCG,KApBoC,CAsBrC;A6BryCF;AACA;AACA,A7BqyCE,QAAIxD,QAAQ,GAAG,KAAKA,QAApB;A6BpyCF;AACA,A7BqyCE,SAAM,IAAIliB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGiiB,QAAQ,CAAC/vB,MAA9B,EAAsC6N,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6BpyCtD,A7BsyCGkiB,MAAAA,QAAQ,CAAEliB,CAAF,CAAR,CAAcklB,iBAAd,CAAiCQ,KAAjC;A6BryCH,A7BuyCG;A6BtyCH,A7BwyCE,GAvd8E;A6Bh1BhF,A7ByyCCpB,EAAAA,iBAAiB,EAAE,UAAWqB,aAAX,EAA0BC,cAA1B,EAA2C;A6BxyC/D,A7B0yCE,QAAI3D,MAAM,GAAG,KAAKA,MAAlB;A6BzyCF;AACA,A7B0yCE,QAAK0D,aAAa,KAAK,IAAlB,IAA0B1D,MAAM,KAAK,IAA1C,EAAiD;A6BzyCnD,A7B2yCGA,MAAAA,MAAM,CAACqC,iBAAP,CAA0B,IAA1B,EAAgC,KAAhC;A6B1yCH,A7B4yCG;A6B3yCH;AACA,A7B4yCE,QAAK,KAAKrV,gBAAV,EAA6B,KAAKS,YAAL;A6B3yC/B;AACA,A7B4yCE,QAAK,KAAKuS,MAAL,KAAgB,IAArB,EAA4B;A6B3yC9B,A7B6yCG,WAAKhJ,WAAL,CAAiBnU,IAAjB,CAAuB,KAAKuG,MAA5B;A6B5yCH,A7B8yCG,KAJD,MAIO;A6B7yCT,A7B+yCG,WAAK4N,WAAL,CAAiBxP,gBAAjB,CAAmC,KAAKwY,MAAL,CAAYhJ,WAA/C,EAA4D,KAAK5N,MAAjE;A6B9yCH,A7BgzCG,KApB4D,CAsB7D;A6BjzCF;AACA;AACA,A7BizCE,QAAKua,cAAc,KAAK,IAAxB,EAA+B;A6BhzCjC,A7BkzCG,UAAI1D,QAAQ,GAAG,KAAKA,QAApB;A6BjzCH;AACA,A7BkzCG,WAAM,IAAIliB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGiiB,QAAQ,CAAC/vB,MAA9B,EAAsC6N,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6BjzCvD,A7BmzCIkiB,QAAAA,QAAQ,CAAEliB,CAAF,CAAR,CAAcskB,iBAAd,CAAiC,KAAjC,EAAwC,IAAxC;A6BlzCJ,A7BozCI;A6BnzCJ,A7BqzCG;A6BpzCH,A7BszCE,GA7f8E;A6BxzBhF,A7BuzCC3U,EAAAA,MAAM,EAAE,UAAWC,IAAX,EAAkB;A6BtzC3B,A7BwzCE;A6BvzCF,A7BwzCE,QAAIC,YAAY,GAAKD,IAAI,KAAK/e,SAAT,IAAsB,OAAO+e,IAAP,KAAgB,QAA3D;A6BvzCF,A7ByzCE,QAAI5d,MAAM,GAAG,EAAb,CALyB,CAOzB;A6B1zCF,A7B2zCE;A6B1zCF,A7B2zCE;A6B1zCF;AACA,A7B0zCE,QAAK6d,YAAL,EAAoB;A6BzzCtB,A7B2zCG;A6B1zCH,A7B2zCGD,MAAAA,IAAI,GAAG;A6B1zCV,A7B2zCIiW,QAAAA,UAAU,EAAE,EADN;A6BzzCV,A7B2zCIC,QAAAA,SAAS,EAAE,EAFL;A6BxzCV,A7B2zCIhW,QAAAA,QAAQ,EAAE,EAHJ;A6BvzCV,A7B2zCII,QAAAA,MAAM,EAAE,EAJF;A6BtzCV,A7B2zCI6V,QAAAA,MAAM,EAAE;A6B1zCZ,A7BqzCU,OAAP;A6BpzCH,A7B4zCG/zB,MAAAA,MAAM,CAAC+d,QAAP,GAAkB;A6B3zCrB,A7B4zCIT,QAAAA,OAAO,EAAE,GADQ;A6B1zCrB,A7B4zCIpQ,QAAAA,IAAI,EAAE,QAFW;A6BzzCrB,A7B4zCI8Q,QAAAA,SAAS,EAAE;A6B3zCf,A7BwzCqB,OAAlB;A6BvzCH,A7B6zCG,KA3BwB,CA6BzB;A6B9zCF;AACA;AACA,A7B8zCE,QAAIyU,MAAM,GAAG,EAAb;A6B7zCF,A7B+zCEA,IAAAA,MAAM,CAAC5jB,IAAP,GAAc,KAAKA,IAAnB;A6B9zCF,A7B+zCE4jB,IAAAA,MAAM,CAACvlB,IAAP,GAAc,KAAKA,IAAnB;A6B9zCF,A7Bg0CE,QAAK,KAAKyP,IAAL,KAAc,EAAnB,EAAwB8V,MAAM,CAAC9V,IAAP,GAAc,KAAKA,IAAnB;A6B/zC1B,A7Bg0CE,QAAK,KAAKkU,UAAL,KAAoB,IAAzB,EAAgC4B,MAAM,CAAC5B,UAAP,GAAoB,IAApB;A6B/zClC,A7Bg0CE,QAAK,KAAKC,aAAL,KAAuB,IAA5B,EAAmC2B,MAAM,CAAC3B,aAAP,GAAuB,IAAvB;A6B/zCrC,A7Bg0CE,QAAK,KAAKF,OAAL,KAAiB,KAAtB,EAA8B6B,MAAM,CAAC7B,OAAP,GAAiB,KAAjB;A6B/zChC,A7Bg0CE,QAAK,KAAKG,aAAL,KAAuB,KAA5B,EAAoC0B,MAAM,CAAC1B,aAAP,GAAuB,KAAvB;A6B/zCtC,A7Bg0CE,QAAK,KAAKC,WAAL,KAAqB,CAA1B,EAA8ByB,MAAM,CAACzB,WAAP,GAAqB,KAAKA,WAA1B;A6B/zChC,A7Bg0CE,QAAKgD,IAAI,CAACC,SAAL,CAAgB,KAAKhD,QAArB,MAAoC,IAAzC,EAAgDwB,MAAM,CAACxB,QAAP,GAAkB,KAAKA,QAAvB;A6B/zClD,A7Bi0CEwB,IAAAA,MAAM,CAACvD,MAAP,GAAgB,KAAKA,MAAL,CAAYR,IAA5B;A6Bh0CF,A7Bi0CE+D,IAAAA,MAAM,CAACpZ,MAAP,GAAgB,KAAKA,MAAL,CAAYxD,OAAZ,EAAhB;A6Bh0CF,A7Bk0CE,QAAK,KAAKoH,gBAAL,KAA0B,KAA/B,EAAuCwV,MAAM,CAACxV,gBAAP,GAA0B,KAA1B,CA/Cd,CAiDzB;A6Bn0CF;AACA,A7Bo0CE,QAAK,KAAKiX,eAAV,EAA4B;A6Bn0C9B,A7Bq0CGzB,MAAAA,MAAM,CAACvlB,IAAP,GAAc,eAAd;A6Bp0CH,A7Bq0CGulB,MAAAA,MAAM,CAAC0B,KAAP,GAAe,KAAKA,KAApB;A6Bp0CH,A7Bq0CG1B,MAAAA,MAAM,CAAC2B,cAAP,GAAwB,KAAKA,cAAL,CAAoBzW,MAApB,EAAxB;A6Bp0CH,A7Bs0CG,KAzDwB,CA2DzB;A6Bv0CF;AACA;AACA,A7Bu0CE,aAAS0W,SAAT,CAAoBC,OAApB,EAA6BC,OAA7B,EAAuC;A6Bt0CzC,A7Bw0CG,UAAKD,OAAO,CAAEC,OAAO,CAAC1lB,IAAV,CAAP,KAA4BhQ,SAAjC,EAA6C;A6Bv0ChD,A7By0CIy1B,QAAAA,OAAO,CAAEC,OAAO,CAAC1lB,IAAV,CAAP,GAA0B0lB,OAAO,CAAC5W,MAAR,CAAgBC,IAAhB,CAA1B;A6Bx0CJ,A7B00CI;A6Bz0CJ;AACA,A7B00CG,aAAO2W,OAAO,CAAC1lB,IAAf;A6Bz0CH,A7B20CG;A6B10CH;AACA,A7B20CE,QAAK,KAAK2lB,MAAL,IAAe,KAAKC,MAApB,IAA8B,KAAKC,QAAxC,EAAmD;A6B10CrD,A7B40CGjC,MAAAA,MAAM,CAACkC,QAAP,GAAkBN,SAAS,CAAEzW,IAAI,CAACiW,UAAP,EAAmB,KAAKc,QAAxB,CAA3B;A6B30CH,A7B60CG,UAAIC,UAAU,GAAG,KAAKD,QAAL,CAAcC,UAA/B;A6B50CH;AACA,A7B60CG,UAAKA,UAAU,KAAK/1B,SAAf,IAA4B+1B,UAAU,CAACb,MAAX,KAAsBl1B,SAAvD,EAAmE;A6B50CtE,A7B80CI,YAAIk1B,MAAM,GAAGa,UAAU,CAACb,MAAxB;A6B70CJ;AACA,A7B80CI,YAAK3V,KAAK,CAACC,OAAN,CAAe0V,MAAf,CAAL,EAA+B;A6B70CnC,A7B+0CK,eAAM,IAAI/lB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG8lB,MAAM,CAAC5zB,MAA5B,EAAoC6N,CAAC,GAAGC,CAAxC,EAA2CD,CAAC,EAA5C,EAAkD;A6B90CvD,A7Bg1CM,gBAAI6mB,KAAK,GAAGd,MAAM,CAAE/lB,CAAF,CAAlB;A6B/0CN,A7Bi1CMqmB,YAAAA,SAAS,CAAEzW,IAAI,CAACmW,MAAP,EAAec,KAAf,CAAT;A6Bh1CN,A7Bk1CM;A6Bj1CN,A7Bm1CK,SAVD,MAUO;A6Bl1CX,A7Bo1CKR,UAAAA,SAAS,CAAEzW,IAAI,CAACmW,MAAP,EAAeA,MAAf,CAAT;A6Bn1CL,A7Bq1CK;A6Bp1CL,A7Bs1CI;A6Br1CJ,A7Bu1CG;A6Bt1CH;AACA,A7Bu1CE,QAAK,KAAKe,QAAL,KAAkBj2B,SAAvB,EAAmC;A6Bt1CrC,A7Bw1CG,UAAKuf,KAAK,CAACC,OAAN,CAAe,KAAKyW,QAApB,CAAL,EAAsC;A6Bv1CzC,A7By1CI,YAAIC,KAAK,GAAG,EAAZ;A6Bx1CJ;AACA,A7By1CI,aAAM,IAAI/mB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAK6mB,QAAL,CAAc30B,MAAnC,EAA2C6N,CAAC,GAAGC,CAA/C,EAAkDD,CAAC,EAAnD,EAAyD;A6Bx1C7D,A7B01CK+mB,UAAAA,KAAK,CAACxnB,IAAN,CAAY8mB,SAAS,CAAEzW,IAAI,CAACkW,SAAP,EAAkB,KAAKgB,QAAL,CAAe9mB,CAAf,CAAlB,CAArB;A6Bz1CL,A7B21CK;A6B11CL;AACA,A7B21CIykB,QAAAA,MAAM,CAACqC,QAAP,GAAkBC,KAAlB;A6B11CJ,A7B41CI,OAZD,MAYO;A6B31CV,A7B61CItC,QAAAA,MAAM,CAACqC,QAAP,GAAkBT,SAAS,CAAEzW,IAAI,CAACkW,SAAP,EAAkB,KAAKgB,QAAvB,CAA3B;A6B51CJ,A7B81CI;A6B71CJ,A7B+1CG,KA3HwB,CA6HzB;A6Bh2CF;AACA;AACA,A7Bg2CE,QAAK,KAAK5E,QAAL,CAAc/vB,MAAd,GAAuB,CAA5B,EAAgC;A6B/1ClC,A7Bi2CGsyB,MAAAA,MAAM,CAACvC,QAAP,GAAkB,EAAlB;A6Bh2CH;AACA,A7Bi2CG,WAAM,IAAIliB,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG,KAAKkiB,QAAL,CAAc/vB,MAAnC,EAA2C6N,CAAC,EAA5C,EAAkD;A6Bh2CrD,A7Bk2CIykB,QAAAA,MAAM,CAACvC,QAAP,CAAgB3iB,IAAhB,CAAsB,KAAK2iB,QAAL,CAAeliB,CAAf,EAAmB2P,MAAnB,CAA2BC,IAA3B,EAAkC6U,MAAxD;A6Bj2CJ,A7Bm2CI;A6Bl2CJ,A7Bo2CG;A6Bn2CH;AACA,A7Bo2CE,QAAK5U,YAAL,EAAoB;A6Bn2CtB,A7Bq2CG,UAAIgW,UAAU,GAAGmB,gBAAgB,CAAEpX,IAAI,CAACiW,UAAP,CAAjC;A6Bp2CH,A7Bq2CG,UAAIC,SAAS,GAAGkB,gBAAgB,CAAEpX,IAAI,CAACkW,SAAP,CAAhC;A6Bp2CH,A7Bq2CG,UAAIhW,QAAQ,GAAGkX,gBAAgB,CAAEpX,IAAI,CAACE,QAAP,CAA/B;A6Bp2CH,A7Bq2CG,UAAII,MAAM,GAAG8W,gBAAgB,CAAEpX,IAAI,CAACM,MAAP,CAA7B;A6Bp2CH,A7Bq2CG,UAAI6V,MAAM,GAAGiB,gBAAgB,CAAEpX,IAAI,CAACmW,MAAP,CAA7B;A6Bp2CH,A7Bs2CG,UAAKF,UAAU,CAAC1zB,MAAX,GAAoB,CAAzB,EAA6BH,MAAM,CAAC6zB,UAAP,GAAoBA,UAApB;A6Br2ChC,A7Bs2CG,UAAKC,SAAS,CAAC3zB,MAAV,GAAmB,CAAxB,EAA4BH,MAAM,CAAC8zB,SAAP,GAAmBA,SAAnB;A6Br2C/B,A7Bs2CG,UAAKhW,QAAQ,CAAC3d,MAAT,GAAkB,CAAvB,EAA2BH,MAAM,CAAC8d,QAAP,GAAkBA,QAAlB;A6Br2C9B,A7Bs2CG,UAAKI,MAAM,CAAC/d,MAAP,GAAgB,CAArB,EAAyBH,MAAM,CAACke,MAAP,GAAgBA,MAAhB;A6Br2C5B,A7Bs2CG,UAAK6V,MAAM,CAAC5zB,MAAP,GAAgB,CAArB,EAAyBH,MAAM,CAAC+zB,MAAP,GAAgBA,MAAhB;A6Br2C5B,A7Bu2CG;A6Bt2CH;AACA,A7Bu2CE/zB,IAAAA,MAAM,CAACyyB,MAAP,GAAgBA,MAAhB;A6Bt2CF,A7Bw2CE,WAAOzyB,MAAP,CA7JyB,CA+JzB;A6Bz2CF,A7B02CE;A6Bz2CF,A7B02CE;A6Bz2CF;AACA,A7By2CE,aAASg1B,gBAAT,CAA2BC,KAA3B,EAAmC;A6Bx2CrC,A7B02CG,UAAIC,MAAM,GAAG,EAAb;A6Bz2CH;AACA,A7By2CG,WAAM,IAAIC,GAAV,IAAiBF,KAAjB,EAAyB;A6Bx2C5B,A7B02CI,YAAIG,IAAI,GAAGH,KAAK,CAAEE,GAAF,CAAhB;A6Bz2CJ,A7B02CI,eAAOC,IAAI,CAACrX,QAAZ;A6Bz2CJ,A7B02CImX,QAAAA,MAAM,CAAC3nB,IAAP,CAAa6nB,IAAb;A6Bz2CJ,A7B22CI;A6B12CJ;AACA,A7B02CG,aAAOF,MAAP;A6Bz2CH,A7B22CG;A6B12CH,A7B42CE,GA/qB8E;A6B5rBhF,A7B62CCtiB,EAAAA,KAAK,EAAE,UAAWyiB,SAAX,EAAuB;A6B52C/B,A7B82CE,WAAO,IAAI,KAAKxiB,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,EAAmCuiB,SAAnC,CAAP;A6B72CF,A7B+2CE,GArrB8E;A6BzrBhF,A7Bg3CCviB,EAAAA,IAAI,EAAE,UAAW1S,MAAX,EAAmBi1B,SAAnB,EAA+B;A6B/2CtC,A7Bi3CE,QAAKA,SAAS,KAAKx2B,SAAnB,EAA+Bw2B,SAAS,GAAG,IAAZ;A6Bh3CjC,A7Bk3CE,SAAK1Y,IAAL,GAAYvc,MAAM,CAACuc,IAAnB;A6Bj3CF,A7Bm3CE,SAAKkO,EAAL,CAAQ/X,IAAR,CAAc1S,MAAM,CAACyqB,EAArB;A6Bl3CF,A7Bo3CE,SAAK4B,QAAL,CAAc3Z,IAAd,CAAoB1S,MAAM,CAACqsB,QAA3B;A6Bn3CF,A7Bo3CE,SAAKxJ,UAAL,CAAgBnQ,IAAhB,CAAsB1S,MAAM,CAAC6iB,UAA7B;A6Bn3CF,A7Bo3CE,SAAKrI,KAAL,CAAW9H,IAAX,CAAiB1S,MAAM,CAACwa,KAAxB;A6Bn3CF,A7Bq3CE,SAAKvB,MAAL,CAAYvG,IAAZ,CAAkB1S,MAAM,CAACiZ,MAAzB;A6Bp3CF,A7Bq3CE,SAAK4N,WAAL,CAAiBnU,IAAjB,CAAuB1S,MAAM,CAAC6mB,WAA9B;A6Bp3CF,A7Bs3CE,SAAKhK,gBAAL,GAAwB7c,MAAM,CAAC6c,gBAA/B;A6Br3CF,A7Bs3CE,SAAK0T,sBAAL,GAA8BvwB,MAAM,CAACuwB,sBAArC;A6Br3CF,A7Bu3CE,SAAKzB,MAAL,CAAYR,IAAZ,GAAmBtuB,MAAM,CAAC8uB,MAAP,CAAcR,IAAjC;A6Bt3CF,A7Bu3CE,SAAKkC,OAAL,GAAexwB,MAAM,CAACwwB,OAAtB;A6Bt3CF,A7Bw3CE,SAAKC,UAAL,GAAkBzwB,MAAM,CAACywB,UAAzB;A6Bv3CF,A7Bw3CE,SAAKC,aAAL,GAAqB1wB,MAAM,CAAC0wB,aAA5B;A6Bv3CF,A7By3CE,SAAKC,aAAL,GAAqB3wB,MAAM,CAAC2wB,aAA5B;A6Bx3CF,A7By3CE,SAAKC,WAAL,GAAmB5wB,MAAM,CAAC4wB,WAA1B;A6Bx3CF,A7B03CE,SAAKC,QAAL,GAAgB+C,IAAI,CAACsB,KAAL,CAAYtB,IAAI,CAACC,SAAL,CAAgB7zB,MAAM,CAAC6wB,QAAvB,CAAZ,CAAhB;A6Bz3CF;AACA,A7B03CE,QAAKoE,SAAS,KAAK,IAAnB,EAA0B;A6Bz3C5B,A7B23CG,WAAM,IAAIrnB,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG5N,MAAM,CAAC8vB,QAAP,CAAgB/vB,MAArC,EAA6C6N,CAAC,EAA9C,EAAoD;A6B13CvD,A7B43CI,YAAIglB,KAAK,GAAG5yB,MAAM,CAAC8vB,QAAP,CAAiBliB,CAAjB,CAAZ;A6B33CJ,A7B43CI,aAAKgF,GAAL,CAAUggB,KAAK,CAACpgB,KAAN,EAAV;A6B33CJ,A7B63CI;A6B53CJ,A7B83CG;A6B73CH;AACA,A7B83CE,WAAO,IAAP;A6B73CF,A7B+3CE;A6B93CF,A7B6pBgF,CAA3D,CAArB;A6B5pBA,A7Bi4CA;A6Bh4CA;AACA;AACA;AACA,A7Bi4CA,SAAS2iB,KAAT,GAAiB;A6Bh4CjB,A7Bk4CCvF,EAAAA,QAAQ,CAACzvB,IAAT,CAAe,IAAf;A6Bj4CD,A7Bm4CC,OAAK2M,IAAL,GAAY,OAAZ;A6Bl4CD,A7Bo4CC,OAAKsoB,UAAL,GAAkB,IAAlB;A6Bn4CD,A7Bo4CC,OAAKC,WAAL,GAAmB,IAAnB;A6Bn4CD,A7Bo4CC,OAAKC,GAAL,GAAW,IAAX;A6Bn4CD,A7Bq4CC,OAAKC,gBAAL,GAAwB,IAAxB;A6Bp4CD,A7Bs4CC,OAAKC,UAAL,GAAkB,IAAlB,CAZgB,CAYQ;A6Br4CzB;AACA,A7Bs4CC,MAAK,OAAOC,kBAAP,KAA8B,WAAnC,EAAiD;A6Br4ClD,A7Bu4CEA,IAAAA,kBAAkB,CAACjoB,aAAnB,CAAkC,IAAIkoB,WAAJ,CAAiB,SAAjB,EAA4B;A6Bt4ChE,A7Bs4CkEC,MAAAA,MAAM,EAAE;A6Br4C1E,A7Bq4CgE,KAA5B,CAAlC,EAFgD,CAEoC;A6Bp4CtF;AACA,A7Bq4CE;A6Bp4CF,A7Bs4CC;A6Br4CD;AACA,A7Bs4CAR,KAAK,CAACh2B,SAAN,GAAkBC,MAAM,CAACK,MAAP,CAAeL,MAAM,CAACge,MAAP,CAAewS,QAAQ,CAACzwB,SAAxB,CAAf,EAAoD;A6Br4CtE,A7Bu4CCsT,EAAAA,WAAW,EAAE0iB,KAFwD;A6Bp4CtE,A7Bw4CCS,EAAAA,OAAO,EAAE,IAJ4D;A6Bn4CtE,A7By4CCljB,EAAAA,IAAI,EAAE,UAAW1S,MAAX,EAAmBi1B,SAAnB,EAA+B;A6Bx4CtC,A7B04CErF,IAAAA,QAAQ,CAACzwB,SAAT,CAAmBuT,IAAnB,CAAwBvS,IAAxB,CAA8B,IAA9B,EAAoCH,MAApC,EAA4Ci1B,SAA5C;A6Bz4CF,A7B24CE,QAAKj1B,MAAM,CAACo1B,UAAP,KAAsB,IAA3B,EAAkC,KAAKA,UAAL,GAAkBp1B,MAAM,CAACo1B,UAAP,CAAkB5iB,KAAlB,EAAlB;A6B14CpC,A7B24CE,QAAKxS,MAAM,CAACq1B,WAAP,KAAuB,IAA5B,EAAmC,KAAKA,WAAL,GAAmBr1B,MAAM,CAACq1B,WAAP,CAAmB7iB,KAAnB,EAAnB;A6B14CrC,A7B24CE,QAAKxS,MAAM,CAACs1B,GAAP,KAAe,IAApB,EAA2B,KAAKA,GAAL,GAAWt1B,MAAM,CAACs1B,GAAP,CAAW9iB,KAAX,EAAX;A6B14C7B,A7B44CE,QAAKxS,MAAM,CAACu1B,gBAAP,KAA4B,IAAjC,EAAwC,KAAKA,gBAAL,GAAwBv1B,MAAM,CAACu1B,gBAAP,CAAwB/iB,KAAxB,EAAxB;A6B34C1C,A7B64CE,SAAKgjB,UAAL,GAAkBx1B,MAAM,CAACw1B,UAAzB;A6B54CF,A7B64CE,SAAK3Y,gBAAL,GAAwB7c,MAAM,CAAC6c,gBAA/B;A6B54CF,A7B84CE,WAAO,IAAP;A6B74CF,A7B+4CE,GArBoE;A6Bz3CtE,A7Bg5CCU,EAAAA,MAAM,EAAE,UAAWC,IAAX,EAAkB;A6B/4C3B,A7Bi5CE,QAAIwX,IAAI,GAAGpF,QAAQ,CAACzwB,SAAT,CAAmBoe,MAAnB,CAA0Bpd,IAA1B,CAAgC,IAAhC,EAAsCqd,IAAtC,CAAX;A6Bh5CF,A7Bk5CE,QAAK,KAAK4X,UAAL,KAAoB,IAAzB,EAAgCJ,IAAI,CAAC3C,MAAL,CAAY+C,UAAZ,GAAyB,KAAKA,UAAL,CAAgB7X,MAAhB,CAAwBC,IAAxB,CAAzB;A6Bj5ClC,A7Bk5CE,QAAK,KAAK6X,WAAL,KAAqB,IAA1B,EAAiCL,IAAI,CAAC3C,MAAL,CAAYgD,WAAZ,GAA0B,KAAKA,WAAL,CAAiB9X,MAAjB,CAAyBC,IAAzB,CAA1B;A6Bj5CnC,A7Bk5CE,QAAK,KAAK8X,GAAL,KAAa,IAAlB,EAAyBN,IAAI,CAAC3C,MAAL,CAAYiD,GAAZ,GAAkB,KAAKA,GAAL,CAAS/X,MAAT,EAAlB;A6Bj5C3B,A7Bm5CE,WAAOyX,IAAP;A6Bl5CF,A7Bo5CE,GAjCoE;A6Bl3CtE,A7Bq5CC9W,EAAAA,OAAO,EAAE,YAAY;A6Bp5CtB,A7Bs5CE,SAAK1Q,aAAL,CAAoB;A6Br5CtB,A7Bq5CwBV,MAAAA,IAAI,EAAE;A6Bp5C9B,A7Bo5CsB,KAApB;A6Bn5CF,A7Bq5CE;A6Bp5CF,A7B62CsE,CAApD,CAAlB;A6B52CA,A7Bu5CA,IAAI+oB,OAAO,GAAG,CACb,IAAItQ,OAAJ,EADa,EAEb,IAAIA,OAAJ,EAFa,EAGb,IAAIA,OAAJ,EAHa,EAIb,IAAIA,OAAJ,EAJa,EAKb,IAAIA,OAAJ,EALa,EAMb,IAAIA,OAAJ,EANa,EAOb,IAAIA,OAAJ,EAPa,EAQb,IAAIA,OAAJ,EARa,CAAd;A6Bt5CA;AACA,A7Bg6CA,IAAIuQ,SAAS,GAAG,IAAIvQ,OAAJ,EAAhB;A6B/5CA;AACA,A7Bg6CA,IAAIwQ,IAAI,GAAG,IAAIC,IAAJ,EAAX,EAEA;A6Bj6CA;AACA;AACA,A7Bi6CA,IAAIC,GAAG,GAAG,IAAI1Q,OAAJ,EAAV;A6Bh6CA;AACA,A7Bg6CA,IAAI2Q,KAAK,GAAG,IAAI3Q,OAAJ,EAAZ;A6B/5CA;AACA,A7B+5CA,IAAI4Q,GAAG,GAAG,IAAI5Q,OAAJ,EAAV,EAEA;A6Bh6CA;AACA;AACA,A7Bg6CA,IAAI6Q,GAAG,GAAG,IAAI7Q,OAAJ,EAAV;A6B/5CA;AACA,A7B+5CA,IAAI8Q,GAAG,GAAG,IAAI9Q,OAAJ,EAAV;A6B95CA;AACA,A7B85CA,IAAI+Q,GAAG,GAAG,IAAI/Q,OAAJ,EAAV;A6B75CA;AACA,A7B85CA,IAAIgR,OAAO,GAAG,IAAIhR,OAAJ,EAAd;A6B75CA;AACA,A7B65CA,IAAIiR,QAAQ,GAAG,IAAIjR,OAAJ,EAAf;A6B55CA;AACA,A7B45CA,IAAIkR,eAAe,GAAG,IAAIlR,OAAJ,EAAtB;A6B35CA;AACA,A7B25CA,IAAImR,SAAS,GAAG,IAAInR,OAAJ,EAAhB;A6B15CA,A7B45CA;A6B35CA;AACA;AACA;AACA;AACA;AACA,A7B25CA,SAASyQ,IAAT,CAAepnB,GAAf,EAAoBC,GAApB,EAA0B;A6B15C1B,A7B45CC,OAAKD,GAAL,GAAaA,GAAG,KAAKnQ,SAAV,GAAwBmQ,GAAxB,GAA8B,IAAI2W,OAAJ,CAAa,CAAEoR,QAAf,EAAyB,CAAEA,QAA3B,EAAqC,CAAEA,QAAvC,CAAzC;A6B35CD,A7B45CC,OAAK9nB,GAAL,GAAaA,GAAG,KAAKpQ,SAAV,GAAwBoQ,GAAxB,GAA8B,IAAI0W,OAAJ,CAAa,CAAEoR,QAAf,EAAyB,CAAEA,QAA3B,EAAqC,CAAEA,QAAvC,CAAzC;A6B35CD,A7B65CC;A6B55CD;AACA,A7B85CAv3B,MAAM,CAACK,MAAP,CAAeu2B,IAAI,CAAC72B,SAApB,EAA+B;A6B75C/B,A7B+5CCy3B,EAAAA,MAAM,EAAE,IAFsB;A6B55C/B,A7Bg6CCjlB,EAAAA,GAAG,EAAE,UAAW/C,GAAX,EAAgBC,GAAhB,EAAsB;A6B/5C5B,A7Bi6CE,SAAKD,GAAL,CAAS8D,IAAT,CAAe9D,GAAf;A6Bh6CF,A7Bi6CE,SAAKC,GAAL,CAAS6D,IAAT,CAAe7D,GAAf;A6Bh6CF,A7Bk6CE,WAAO,IAAP;A6Bj6CF,A7Bm6CE,GAX6B;A6Bv5C/B,A7Bo6CCgoB,EAAAA,YAAY,EAAE,UAAWnpB,KAAX,EAAmB;A6Bn6ClC,A7Bq6CE,QAAIopB,IAAI,GAAG,CAAEH,QAAb;A6Bp6CF,A7Bq6CE,QAAII,IAAI,GAAG,CAAEJ,QAAb;A6Bp6CF,A7Bq6CE,QAAIK,IAAI,GAAG,CAAEL,QAAb;A6Bp6CF,A7Bs6CE,QAAIM,IAAI,GAAG,CAAEN,QAAb;A6Br6CF,A7Bs6CE,QAAIO,IAAI,GAAG,CAAEP,QAAb;A6Br6CF,A7Bs6CE,QAAIQ,IAAI,GAAG,CAAER,QAAb;A6Br6CF;AACA,A7Bs6CE,SAAM,IAAI/oB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGH,KAAK,CAAC3N,MAA3B,EAAmC6N,CAAC,GAAGC,CAAvC,EAA0CD,CAAC,IAAI,CAA/C,EAAmD;A6Br6CrD,A7Bu6CG,UAAI3O,CAAC,GAAGyO,KAAK,CAAEE,CAAF,CAAb;A6Bt6CH,A7Bu6CG,UAAI2B,CAAC,GAAG7B,KAAK,CAAEE,CAAC,GAAG,CAAN,CAAb;A6Bt6CH,A7Bu6CG,UAAI0Q,CAAC,GAAG5Q,KAAK,CAAEE,CAAC,GAAG,CAAN,CAAb;A6Bt6CH,A7Bw6CG,UAAK3O,CAAC,GAAG63B,IAAT,EAAgBA,IAAI,GAAG73B,CAAP;A6Bv6CnB,A7Bw6CG,UAAKsQ,CAAC,GAAGwnB,IAAT,EAAgBA,IAAI,GAAGxnB,CAAP;A6Bv6CnB,A7Bw6CG,UAAK+O,CAAC,GAAG0Y,IAAT,EAAgBA,IAAI,GAAG1Y,CAAP;A6Bv6CnB,A7By6CG,UAAKrf,CAAC,GAAGg4B,IAAT,EAAgBA,IAAI,GAAGh4B,CAAP;A6Bx6CnB,A7By6CG,UAAKsQ,CAAC,GAAG2nB,IAAT,EAAgBA,IAAI,GAAG3nB,CAAP;A6Bx6CnB,A7By6CG,UAAK+O,CAAC,GAAG6Y,IAAT,EAAgBA,IAAI,GAAG7Y,CAAP;A6Bx6CnB,A7B06CG;A6Bz6CH;AACA,A7B06CE,SAAK1P,GAAL,CAAS+C,GAAT,CAAcmlB,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B;A6Bz6CF,A7B06CE,SAAKnoB,GAAL,CAAS8C,GAAT,CAAcslB,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B;A6Bz6CF,A7B26CE,WAAO,IAAP;A6B16CF,A7B46CE,GA5C6B;A6B/3C/B,A7B66CCC,EAAAA,sBAAsB,EAAE,UAAWzhB,SAAX,EAAuB;A6B56ChD,A7B86CE,QAAImhB,IAAI,GAAG,CAAEH,QAAb;A6B76CF,A7B86CE,QAAII,IAAI,GAAG,CAAEJ,QAAb;A6B76CF,A7B86CE,QAAIK,IAAI,GAAG,CAAEL,QAAb;A6B76CF,A7B+6CE,QAAIM,IAAI,GAAG,CAAEN,QAAb;A6B96CF,A7B+6CE,QAAIO,IAAI,GAAG,CAAEP,QAAb;A6B96CF,A7B+6CE,QAAIQ,IAAI,GAAG,CAAER,QAAb;A6B96CF;AACA,A7B+6CE,SAAM,IAAI/oB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG8H,SAAS,CAACoe,KAA/B,EAAsCnmB,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6B96CtD,A7Bg7CG,UAAI3O,CAAC,GAAG0W,SAAS,CAACC,IAAV,CAAgBhI,CAAhB,CAAR;A6B/6CH,A7Bg7CG,UAAI2B,CAAC,GAAGoG,SAAS,CAACE,IAAV,CAAgBjI,CAAhB,CAAR;A6B/6CH,A7Bg7CG,UAAI0Q,CAAC,GAAG3I,SAAS,CAACoK,IAAV,CAAgBnS,CAAhB,CAAR;A6B/6CH,A7Bi7CG,UAAK3O,CAAC,GAAG63B,IAAT,EAAgBA,IAAI,GAAG73B,CAAP;A6Bh7CnB,A7Bi7CG,UAAKsQ,CAAC,GAAGwnB,IAAT,EAAgBA,IAAI,GAAGxnB,CAAP;A6Bh7CnB,A7Bi7CG,UAAK+O,CAAC,GAAG0Y,IAAT,EAAgBA,IAAI,GAAG1Y,CAAP;A6Bh7CnB,A7Bk7CG,UAAKrf,CAAC,GAAGg4B,IAAT,EAAgBA,IAAI,GAAGh4B,CAAP;A6Bj7CnB,A7Bk7CG,UAAKsQ,CAAC,GAAG2nB,IAAT,EAAgBA,IAAI,GAAG3nB,CAAP;A6Bj7CnB,A7Bk7CG,UAAK+O,CAAC,GAAG6Y,IAAT,EAAgBA,IAAI,GAAG7Y,CAAP;A6Bj7CnB,A7Bm7CG;A6Bl7CH;AACA,A7Bm7CE,SAAK1P,GAAL,CAAS+C,GAAT,CAAcmlB,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B;A6Bl7CF,A7Bm7CE,SAAKnoB,GAAL,CAAS8C,GAAT,CAAcslB,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B;A6Bl7CF,A7Bo7CE,WAAO,IAAP;A6Bn7CF,A7Bq7CE,GA7E6B;A6Bv2C/B,A7Bs7CCE,EAAAA,aAAa,EAAE,UAAWC,MAAX,EAAoB;A6Br7CpC,A7Bu7CE,SAAKC,SAAL;A6Bt7CF;AACA,A7Bu7CE,SAAM,IAAI3pB,CAAC,GAAG,CAAR,EAAW4pB,EAAE,GAAGF,MAAM,CAACv3B,MAA7B,EAAqC6N,CAAC,GAAG4pB,EAAzC,EAA6C5pB,CAAC,EAA9C,EAAoD;A6Bt7CtD,A7Bw7CG,WAAK6pB,aAAL,CAAoBH,MAAM,CAAE1pB,CAAF,CAA1B;A6Bv7CH,A7By7CG;A6Bx7CH;AACA,A7By7CE,WAAO,IAAP;A6Bx7CF,A7B07CE,GA3F6B;A6B91C/B,A7B27CC8pB,EAAAA,oBAAoB,EAAE,UAAW3hB,MAAX,EAAmB4hB,IAAnB,EAA0B;A6B17CjD,A7B47CE,QAAIC,QAAQ,GAAG9B,SAAS,CAACpjB,IAAV,CAAgBilB,IAAhB,EAAuBrkB,cAAvB,CAAuC,GAAvC,CAAf;A6B37CF;AACA,A7B47CE,SAAK1E,GAAL,CAAS8D,IAAT,CAAeqD,MAAf,EAAwB7C,GAAxB,CAA6B0kB,QAA7B;A6B37CF,A7B47CE,SAAK/oB,GAAL,CAAS6D,IAAT,CAAeqD,MAAf,EAAwBnD,GAAxB,CAA6BglB,QAA7B;A6B37CF,A7B67CE,WAAO,IAAP;A6B57CF,A7B87CE,GAtG6B;A6Bv1C/B,A7B+7CCC,EAAAA,aAAa,EAAE,UAAWxF,MAAX,EAAoB;A6B97CpC,A7Bg8CE,SAAKkF,SAAL;A6B/7CF,A7Bi8CE,WAAO,KAAKO,cAAL,CAAqBzF,MAArB,CAAP;A6Bh8CF,A7Bk8CE,GA9G6B;A6Bn1C/B,A7Bm8CC7f,EAAAA,KAAK,EAAE,YAAY;A6Bl8CpB,A7Bo8CE,WAAO,IAAI,KAAKC,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;A6Bn8CF,A7Bq8CE,GApH6B;A6Bh1C/B,A7Bs8CCA,EAAAA,IAAI,EAAE,UAAWqlB,GAAX,EAAiB;A6Br8CxB,A7Bu8CE,SAAKnpB,GAAL,CAAS8D,IAAT,CAAeqlB,GAAG,CAACnpB,GAAnB;A6Bt8CF,A7Bu8CE,SAAKC,GAAL,CAAS6D,IAAT,CAAeqlB,GAAG,CAAClpB,GAAnB;A6Bt8CF,A7Bw8CE,WAAO,IAAP;A6Bv8CF,A7By8CE,GA7H6B;A6B30C/B,A7B08CC0oB,EAAAA,SAAS,EAAE,YAAY;A6Bz8CxB,A7B28CE,SAAK3oB,GAAL,CAAS3P,CAAT,GAAa,KAAK2P,GAAL,CAASW,CAAT,GAAa,KAAKX,GAAL,CAAS0P,CAAT,GAAa,CAAEqY,QAAzC;A6B18CF,A7B28CE,SAAK9nB,GAAL,CAAS5P,CAAT,GAAa,KAAK4P,GAAL,CAASU,CAAT,GAAa,KAAKV,GAAL,CAASyP,CAAT,GAAa,CAAEqY,QAAzC;A6B18CF,A7B48CE,WAAO,IAAP;A6B38CF,A7B68CE,GAtI6B;A6Bt0C/B,A7B88CCqB,EAAAA,OAAO,EAAE,YAAY;A6B78CtB,A7B+8CE;A6B98CF,A7Bg9CE,WAAS,KAAKnpB,GAAL,CAAS5P,CAAT,GAAa,KAAK2P,GAAL,CAAS3P,CAAxB,IAAiC,KAAK4P,GAAL,CAASU,CAAT,GAAa,KAAKX,GAAL,CAASW,CAAvD,IAAgE,KAAKV,GAAL,CAASyP,CAAT,GAAa,KAAK1P,GAAL,CAAS0P,CAA7F;A6B/8CF,A7Bi9CE,GA9I6B;A6Bl0C/B,A7Bk9CC2Z,EAAAA,SAAS,EAAE,UAAWv4B,MAAX,EAAoB;A6Bj9ChC,A7Bm9CE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bl9C9B,A7Bo9CGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,iDAAd;A6Bn9CH,A7Bo9CGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bn9CH,A7Bq9CG;A6Bp9CH;AACA,A7Bq9CE,WAAO,KAAKyS,OAAL,KAAiBt4B,MAAM,CAACiS,GAAP,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAjB,GAAyCjS,MAAM,CAACoT,UAAP,CAAmB,KAAKlE,GAAxB,EAA6B,KAAKC,GAAlC,EAAwCyE,cAAxC,CAAwD,GAAxD,CAAhD;A6Bp9CF,A7Bs9CE,GA3J6B;A6B1zC/B,A7Bu9CC4kB,EAAAA,OAAO,EAAE,UAAWx4B,MAAX,EAAoB;A6Bt9C9B,A7Bw9CE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bv9C9B,A7By9CGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,+CAAd;A6Bx9CH,A7By9CGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bx9CH,A7B09CG;A6Bz9CH;AACA,A7B09CE,WAAO,KAAKyS,OAAL,KAAiBt4B,MAAM,CAACiS,GAAP,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAjB,GAAyCjS,MAAM,CAACyT,UAAP,CAAmB,KAAKtE,GAAxB,EAA6B,KAAKD,GAAlC,CAAhD;A6Bz9CF,A7B29CE,GAxK6B;A6BlzC/B,A7B49CC6oB,EAAAA,aAAa,EAAE,UAAWU,KAAX,EAAmB;A6B39CnC,A7B69CE,SAAKvpB,GAAL,CAASA,GAAT,CAAcupB,KAAd;A6B59CF,A7B69CE,SAAKtpB,GAAL,CAASA,GAAT,CAAcspB,KAAd;A6B59CF,A7B89CE,WAAO,IAAP;A6B79CF,A7B+9CE,GAjL6B;A6B7yC/B,A7Bg+CCC,EAAAA,cAAc,EAAE,UAAWpG,MAAX,EAAoB;A6B/9CrC,A7Bi+CE,SAAKpjB,GAAL,CAASsE,GAAT,CAAc8e,MAAd;A6Bh+CF,A7Bi+CE,SAAKnjB,GAAL,CAAS+D,GAAT,CAAcof,MAAd;A6Bh+CF,A7Bk+CE,WAAO,IAAP;A6Bj+CF,A7Bm+CE,GA1L6B;A6BxyC/B,A7Bo+CCqG,EAAAA,cAAc,EAAE,UAAWnmB,MAAX,EAAoB;A6Bn+CrC,A7Bq+CE,SAAKtD,GAAL,CAASmE,SAAT,CAAoB,CAAEb,MAAtB;A6Bp+CF,A7Bq+CE,SAAKrD,GAAL,CAASkE,SAAT,CAAoBb,MAApB;A6Bp+CF,A7Bs+CE,WAAO,IAAP;A6Br+CF,A7Bu+CE,GAnM6B;A6BnyC/B,A7Bw+CC4lB,EAAAA,cAAc,EAAE,UAAWzF,MAAX,EAAoB;A6Bv+CrC,A7By+CE;A6Bx+CF,A7By+CE;A6Bx+CF,A7B0+CEA,IAAAA,MAAM,CAACH,iBAAP,CAA0B,KAA1B,EAAiC,KAAjC;A6Bz+CF,A7B2+CE,QAAIqC,QAAQ,GAAGlC,MAAM,CAACkC,QAAtB;A6B1+CF;AACA,A7B2+CE,QAAKA,QAAQ,KAAK91B,SAAlB,EAA8B;A6B1+ChC,A7B4+CG,UAAK81B,QAAQ,CAAC+D,WAAT,KAAyB,IAA9B,EAAqC;A6B3+CxC,A7B6+CI/D,QAAAA,QAAQ,CAACgE,kBAAT;A6B5+CJ,A7B8+CI;A6B7+CJ;AACA,A7B8+CGxC,MAAAA,IAAI,CAACrjB,IAAL,CAAW6hB,QAAQ,CAAC+D,WAApB;A6B7+CH;AACA,A7B6+CGvC,MAAAA,IAAI,CAACrX,YAAL,CAAmB2T,MAAM,CAACxL,WAA1B;A6B5+CH;AACA,A7B6+CG,WAAK2R,KAAL,CAAYzC,IAAZ;A6B5+CH,A7B8+CG;A6B7+CH;AACA,A7B8+CE,QAAIjG,QAAQ,GAAGuC,MAAM,CAACvC,QAAtB;A6B7+CF;AACA,A7B8+CE,SAAM,IAAIliB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGiiB,QAAQ,CAAC/vB,MAA9B,EAAsC6N,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAoD;A6B7+CtD,A7B++CG,WAAKkqB,cAAL,CAAqBhI,QAAQ,CAAEliB,CAAF,CAA7B;A6B9+CH,A7Bg/CG;A6B/+CH;AACA,A7Bg/CE,WAAO,IAAP;A6B/+CF,A7Bi/CE,GAvO6B;A6BzwC/B,A7Bk/CC6qB,EAAAA,aAAa,EAAE,UAAWN,KAAX,EAAmB;A6Bj/CnC,A7Bm/CE,WAAOA,KAAK,CAACl5B,CAAN,GAAU,KAAK2P,GAAL,CAAS3P,CAAnB,IAAwBk5B,KAAK,CAACl5B,CAAN,GAAU,KAAK4P,GAAL,CAAS5P,CAA3C,IACNk5B,KAAK,CAAC5oB,CAAN,GAAU,KAAKX,GAAL,CAASW,CADb,IACkB4oB,KAAK,CAAC5oB,CAAN,GAAU,KAAKV,GAAL,CAASU,CADrC,IAEN4oB,KAAK,CAAC7Z,CAAN,GAAU,KAAK1P,GAAL,CAAS0P,CAFb,IAEkB6Z,KAAK,CAAC7Z,CAAN,GAAU,KAAKzP,GAAL,CAASyP,CAFrC,GAEyC,KAFzC,GAEiD,IAFxD;A6Bl/CF,A7Bs/CE,GA/O6B;A6BtwC/B,A7Bu/CCoa,EAAAA,WAAW,EAAE,UAAWX,GAAX,EAAiB;A6Bt/C/B,A7Bw/CE,WAAO,KAAKnpB,GAAL,CAAS3P,CAAT,IAAc84B,GAAG,CAACnpB,GAAJ,CAAQ3P,CAAtB,IAA2B84B,GAAG,CAAClpB,GAAJ,CAAQ5P,CAAR,IAAa,KAAK4P,GAAL,CAAS5P,CAAjD,IACN,KAAK2P,GAAL,CAASW,CAAT,IAAcwoB,GAAG,CAACnpB,GAAJ,CAAQW,CADhB,IACqBwoB,GAAG,CAAClpB,GAAJ,CAAQU,CAAR,IAAa,KAAKV,GAAL,CAASU,CAD3C,IAEN,KAAKX,GAAL,CAAS0P,CAAT,IAAcyZ,GAAG,CAACnpB,GAAJ,CAAQ0P,CAFhB,IAEqByZ,GAAG,CAAClpB,GAAJ,CAAQyP,CAAR,IAAa,KAAKzP,GAAL,CAASyP,CAFlD;A6Bv/CF,A7B2/CE,GAvP6B;A6BnwC/B,A7B4/CCqa,EAAAA,YAAY,EAAE,UAAWR,KAAX,EAAkBz4B,MAAlB,EAA2B;A6B3/C1C,A7B6/CE;A6B5/CF,A7B6/CE;A6B5/CF,A7B8/CE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B7/C9B,A7B+/CGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,oDAAd;A6B9/CH,A7B+/CGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B9/CH,A7BggDG;A6B//CH;AACA,A7BggDE,WAAO7lB,MAAM,CAACiS,GAAP,CACN,CAAEwmB,KAAK,CAACl5B,CAAN,GAAU,KAAK2P,GAAL,CAAS3P,CAArB,KAA6B,KAAK4P,GAAL,CAAS5P,CAAT,GAAa,KAAK2P,GAAL,CAAS3P,CAAnD,CADM,EAEN,CAAEk5B,KAAK,CAAC5oB,CAAN,GAAU,KAAKX,GAAL,CAASW,CAArB,KAA6B,KAAKV,GAAL,CAASU,CAAT,GAAa,KAAKX,GAAL,CAASW,CAAnD,CAFM,EAGN,CAAE4oB,KAAK,CAAC7Z,CAAN,GAAU,KAAK1P,GAAL,CAAS0P,CAArB,KAA6B,KAAKzP,GAAL,CAASyP,CAAT,GAAa,KAAK1P,GAAL,CAAS0P,CAAnD,CAHM,CAAP;A6B//CF,A7BqgDE,GA3Q6B;A6BzvC/B,A7BsgDCsa,EAAAA,aAAa,EAAE,UAAWb,GAAX,EAAiB;A6BrgDjC,A7BugDE;A6BtgDF,A7BugDE,WAAOA,GAAG,CAAClpB,GAAJ,CAAQ5P,CAAR,GAAY,KAAK2P,GAAL,CAAS3P,CAArB,IAA0B84B,GAAG,CAACnpB,GAAJ,CAAQ3P,CAAR,GAAY,KAAK4P,GAAL,CAAS5P,CAA/C,IACN84B,GAAG,CAAClpB,GAAJ,CAAQU,CAAR,GAAY,KAAKX,GAAL,CAASW,CADf,IACoBwoB,GAAG,CAACnpB,GAAJ,CAAQW,CAAR,GAAY,KAAKV,GAAL,CAASU,CADzC,IAENwoB,GAAG,CAAClpB,GAAJ,CAAQyP,CAAR,GAAY,KAAK1P,GAAL,CAAS0P,CAFf,IAEoByZ,GAAG,CAACnpB,GAAJ,CAAQ0P,CAAR,GAAY,KAAKzP,GAAL,CAASyP,CAFzC,GAE6C,KAF7C,GAEqD,IAF5D;A6BtgDF,A7B0gDE,GApR6B;A6BrvC/B,A7B2gDCua,EAAAA,gBAAgB,EAAE,UAAWC,MAAX,EAAoB;A6B1gDvC,A7B4gDE;A6B3gDF,A7B4gDE,SAAKC,UAAL,CAAiBD,MAAM,CAAC/iB,MAAxB,EAAgC+f,SAAhC,EAHqC,CAKrC;A6B7gDF;AACA,A7B6gDE,WAAOA,SAAS,CAACjhB,iBAAV,CAA6BikB,MAAM,CAAC/iB,MAApC,KAAkD+iB,MAAM,CAAC/Q,MAAP,GAAgB+Q,MAAM,CAAC/Q,MAAhF;A6B5gDF,A7B8gDE,GA9R6B;A6B/uC/B,A7B+gDCiR,EAAAA,eAAe,EAAE,UAAWC,KAAX,EAAmB;A6B9gDrC,A7BghDE;A6B/gDF,A7BghDE;A6B/gDF,A7BihDE,QAAIrqB,GAAJ,EAASC,GAAT;A6BhhDF;AACA,A7BihDE,QAAKoqB,KAAK,CAACtR,MAAN,CAAa1oB,CAAb,GAAiB,CAAtB,EAA0B;A6BhhD5B,A7BkhDG2P,MAAAA,GAAG,GAAGqqB,KAAK,CAACtR,MAAN,CAAa1oB,CAAb,GAAiB,KAAK2P,GAAL,CAAS3P,CAAhC;A6BjhDH,A7BkhDG4P,MAAAA,GAAG,GAAGoqB,KAAK,CAACtR,MAAN,CAAa1oB,CAAb,GAAiB,KAAK4P,GAAL,CAAS5P,CAAhC;A6BjhDH,A7BmhDG,KALD,MAKO;A6BlhDT,A7BohDG2P,MAAAA,GAAG,GAAGqqB,KAAK,CAACtR,MAAN,CAAa1oB,CAAb,GAAiB,KAAK4P,GAAL,CAAS5P,CAAhC;A6BnhDH,A7BohDG4P,MAAAA,GAAG,GAAGoqB,KAAK,CAACtR,MAAN,CAAa1oB,CAAb,GAAiB,KAAK2P,GAAL,CAAS3P,CAAhC;A6BnhDH,A7BqhDG;A6BphDH;AACA,A7BqhDE,QAAKg6B,KAAK,CAACtR,MAAN,CAAapY,CAAb,GAAiB,CAAtB,EAA0B;A6BphD5B,A7BshDGX,MAAAA,GAAG,IAAIqqB,KAAK,CAACtR,MAAN,CAAapY,CAAb,GAAiB,KAAKX,GAAL,CAASW,CAAjC;A6BrhDH,A7BshDGV,MAAAA,GAAG,IAAIoqB,KAAK,CAACtR,MAAN,CAAapY,CAAb,GAAiB,KAAKV,GAAL,CAASU,CAAjC;A6BrhDH,A7BuhDG,KALD,MAKO;A6BthDT,A7BwhDGX,MAAAA,GAAG,IAAIqqB,KAAK,CAACtR,MAAN,CAAapY,CAAb,GAAiB,KAAKV,GAAL,CAASU,CAAjC;A6BvhDH,A7BwhDGV,MAAAA,GAAG,IAAIoqB,KAAK,CAACtR,MAAN,CAAapY,CAAb,GAAiB,KAAKX,GAAL,CAASW,CAAjC;A6BvhDH,A7ByhDG;A6BxhDH;AACA,A7ByhDE,QAAK0pB,KAAK,CAACtR,MAAN,CAAarJ,CAAb,GAAiB,CAAtB,EAA0B;A6BxhD5B,A7B0hDG1P,MAAAA,GAAG,IAAIqqB,KAAK,CAACtR,MAAN,CAAarJ,CAAb,GAAiB,KAAK1P,GAAL,CAAS0P,CAAjC;A6BzhDH,A7B0hDGzP,MAAAA,GAAG,IAAIoqB,KAAK,CAACtR,MAAN,CAAarJ,CAAb,GAAiB,KAAKzP,GAAL,CAASyP,CAAjC;A6BzhDH,A7B2hDG,KALD,MAKO;A6B1hDT,A7B4hDG1P,MAAAA,GAAG,IAAIqqB,KAAK,CAACtR,MAAN,CAAarJ,CAAb,GAAiB,KAAKzP,GAAL,CAASyP,CAAjC;A6B3hDH,A7B4hDGzP,MAAAA,GAAG,IAAIoqB,KAAK,CAACtR,MAAN,CAAarJ,CAAb,GAAiB,KAAK1P,GAAL,CAAS0P,CAAjC;A6B3hDH,A7B6hDG;A6B5hDH;AACA,A7B6hDE,WAAS1P,GAAG,IAAI,CAAEqqB,KAAK,CAACC,QAAf,IAA2BrqB,GAAG,IAAI,CAAEoqB,KAAK,CAACC,QAAnD;A6B5hDF,A7B8hDE,GA7U6B;A6BhtC/B,A7B+hDCC,EAAAA,kBAAkB,EAAE,UAAWC,QAAX,EAAsB;A6B9hD3C,A7BgiDE,QAAK,KAAKpB,OAAL,EAAL,EAAsB;A6B/hDxB,A7BiiDG,aAAO,KAAP;A6BhiDH,A7BkiDG,KANwC,CAQzC;A6BniDF;AACA;AACA,A7BkiDE,SAAKC,SAAL,CAAgB1B,OAAhB;A6BjiDF;AACA,A7BiiDEC,IAAAA,QAAQ,CAACrjB,UAAT,CAAqB,KAAKtE,GAA1B,EAA+B0nB,OAA/B,EAVyC,CAYzC;A6BliDF;AACA;AACA,A7BiiDEN,IAAAA,GAAG,CAAC9iB,UAAJ,CAAgBimB,QAAQ,CAACvoB,CAAzB,EAA4B0lB,OAA5B;A6BhiDF;AACA,A7BgiDEL,IAAAA,KAAK,CAAC/iB,UAAN,CAAkBimB,QAAQ,CAACtoB,CAA3B,EAA8BylB,OAA9B;A6B/hDF;AACA,A7B+hDEJ,IAAAA,GAAG,CAAChjB,UAAJ,CAAgBimB,QAAQ,CAACroB,CAAzB,EAA4BwlB,OAA5B,EAfyC,CAiBzC;A6BhiDF;AACA;AACA,A7B+hDEH,IAAAA,GAAG,CAACjjB,UAAJ,CAAgB+iB,KAAhB,EAAuBD,GAAvB;A6B9hDF;AACA,A7B8hDEI,IAAAA,GAAG,CAACljB,UAAJ,CAAgBgjB,GAAhB,EAAqBD,KAArB;A6B7hDF;AACA,A7B6hDEI,IAAAA,GAAG,CAACnjB,UAAJ,CAAgB8iB,GAAhB,EAAqBE,GAArB,EApByC,CAsBzC;A6B9hDF,A7B+hDE;A6B9hDF,A7B+hDE;A6B9hDF;AACA;AACA,A7B6hDE,QAAIkD,IAAI,GAAG,CACV,CADU,EACP,CAAEjD,GAAG,CAAC9X,CADC,EACE8X,GAAG,CAAC7mB,CADN,EACS,CADT,EACY,CAAE8mB,GAAG,CAAC/X,CADlB,EACqB+X,GAAG,CAAC9mB,CADzB,EAC4B,CAD5B,EAC+B,CAAE+mB,GAAG,CAAChY,CADrC,EACwCgY,GAAG,CAAC/mB,CAD5C,EAEV6mB,GAAG,CAAC9X,CAFM,EAEH,CAFG,EAEA,CAAE8X,GAAG,CAACn3B,CAFN,EAESo3B,GAAG,CAAC/X,CAFb,EAEgB,CAFhB,EAEmB,CAAE+X,GAAG,CAACp3B,CAFzB,EAE4Bq3B,GAAG,CAAChY,CAFhC,EAEmC,CAFnC,EAEsC,CAAEgY,GAAG,CAACr3B,CAF5C,EAGV,CAAEm3B,GAAG,CAAC7mB,CAHI,EAGD6mB,GAAG,CAACn3B,CAHH,EAGM,CAHN,EAGS,CAAEo3B,GAAG,CAAC9mB,CAHf,EAGkB8mB,GAAG,CAACp3B,CAHtB,EAGyB,CAHzB,EAG4B,CAAEq3B,GAAG,CAAC/mB,CAHlC,EAGqC+mB,GAAG,CAACr3B,CAHzC,EAG4C,CAH5C,CAAX;A6B5hDF;AACA,A7BgiDE,QAAK,CAAEq6B,UAAU,CAAED,IAAF,EAAQpD,GAAR,EAAaC,KAAb,EAAoBC,GAApB,EAAyBK,QAAzB,CAAjB,EAAuD;A6B/hDzD,A7BiiDG,aAAO,KAAP;A6BhiDH,A7BkiDG,KAlCwC,CAoCzC;A6BniDF;AACA;AACA,A7BkiDE6C,IAAAA,IAAI,GAAG,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,CAAP;A6BjiDF;AACA,A7BiiDE,QAAK,CAAEC,UAAU,CAAED,IAAF,EAAQpD,GAAR,EAAaC,KAAb,EAAoBC,GAApB,EAAyBK,QAAzB,CAAjB,EAAuD;A6BhiDzD,A7BkiDG,aAAO,KAAP;A6BjiDH,A7BmiDG,KA1CwC,CA4CzC;A6BpiDF,A7BqiDE;A6BpiDF;AACA;AACA,A7BmiDEC,IAAAA,eAAe,CAAC1P,YAAhB,CAA8BqP,GAA9B,EAAmCC,GAAnC;A6BliDF;AACA,A7BkiDEgD,IAAAA,IAAI,GAAG,CAAE5C,eAAe,CAACx3B,CAAlB,EAAqBw3B,eAAe,CAAClnB,CAArC,EAAwCknB,eAAe,CAACnY,CAAxD,CAAP;A6BjiDF,A7BmiDE,WAAOgb,UAAU,CAAED,IAAF,EAAQpD,GAAR,EAAaC,KAAb,EAAoBC,GAApB,EAAyBK,QAAzB,CAAjB;A6BliDF,A7BoiDE,GAlY6B;A6BjqC/B,A7BqiDCuC,EAAAA,UAAU,EAAE,UAAWZ,KAAX,EAAkBz4B,MAAlB,EAA2B;A6BpiDxC,A7BsiDE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6BriD9B,A7BuiDGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,kDAAd;A6BtiDH,A7BuiDGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6BtiDH,A7BwiDG;A6BviDH;AACA,A7BwiDE,WAAO7lB,MAAM,CAACgT,IAAP,CAAaylB,KAAb,EAAqBxpB,KAArB,CAA4B,KAAKC,GAAjC,EAAsC,KAAKC,GAA3C,CAAP;A6BviDF,A7ByiDE,GA/Y6B;A6BzpC/B,A7B0iDC0qB,EAAAA,eAAe,EAAE,UAAWpB,KAAX,EAAmB;A6BziDrC,A7B2iDE,QAAIqB,YAAY,GAAG1D,SAAS,CAACpjB,IAAV,CAAgBylB,KAAhB,EAAwBxpB,KAAxB,CAA+B,KAAKC,GAApC,EAAyC,KAAKC,GAA9C,CAAnB;A6B1iDF;AACA,A7B2iDE,WAAO2qB,YAAY,CAACtmB,GAAb,CAAkBilB,KAAlB,EAA0Bp4B,MAA1B,EAAP;A6B1iDF,A7B4iDE,GAvZ6B;A6BppC/B,A7B6iDC05B,EAAAA,iBAAiB,EAAE,UAAW/5B,MAAX,EAAoB;A6B5iDxC,A7B8iDE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B7iD9B,A7B+iDGmT,MAAAA,OAAO,CAACqE,KAAR,CAAe,yDAAf,EAF2B,CAG3B;A6B/iDH,A7BijDG;A6BhjDH;AACA,A7BijDE,SAAKgiB,SAAL,CAAgBv4B,MAAM,CAACqW,MAAvB;A6BhjDF,A7BkjDErW,IAAAA,MAAM,CAACqoB,MAAP,GAAgB,KAAKmQ,OAAL,CAAcpC,SAAd,EAA0B/1B,MAA1B,KAAqC,GAArD;A6BjjDF,A7BmjDE,WAAOL,MAAP;A6BljDF,A7BojDE,GAxa6B;A6B3oC/B,A7BqjDCg6B,EAAAA,SAAS,EAAE,UAAW3B,GAAX,EAAiB;A6BpjD7B,A7BsjDE,SAAKnpB,GAAL,CAASC,GAAT,CAAckpB,GAAG,CAACnpB,GAAlB;A6BrjDF,A7BsjDE,SAAKC,GAAL,CAASD,GAAT,CAAcmpB,GAAG,CAAClpB,GAAlB,EAH2B,CAK3B;A6BvjDF;AACA,A7BujDE,QAAK,KAAKmpB,OAAL,EAAL,EAAsB,KAAKT,SAAL;A6BtjDxB,A7BwjDE,WAAO,IAAP;A6BvjDF,A7ByjDE,GApb6B;A6BpoC/B,A7B0jDCiB,EAAAA,KAAK,EAAE,UAAWT,GAAX,EAAiB;A6BzjDzB,A7B2jDE,SAAKnpB,GAAL,CAASA,GAAT,CAAcmpB,GAAG,CAACnpB,GAAlB;A6B1jDF,A7B2jDE,SAAKC,GAAL,CAASA,GAAT,CAAckpB,GAAG,CAAClpB,GAAlB;A6B1jDF,A7B4jDE,WAAO,IAAP;A6B3jDF,A7B6jDE,GA7b6B;A6B/nC/B,A7B8jDC6P,EAAAA,YAAY,EAAE,UAAWzF,MAAX,EAAoB;A6B7jDnC,A7B+jDE;A6B9jDF,A7B+jDE,QAAK,KAAK+e,OAAL,EAAL,EAAsB,OAAO,IAAP,CAHW,CAKjC;A6BhkDF;AACA,A7BgkDEnC,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK/C,GAAL,CAAS3P,CAA3B,EAA8B,KAAK2P,GAAL,CAASW,CAAvC,EAA0C,KAAKX,GAAL,CAAS0P,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EANiC,CAM8C;A6B/jDjF;AACA;AACA,A7B8jDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK/C,GAAL,CAAS3P,CAA3B,EAA8B,KAAK2P,GAAL,CAASW,CAAvC,EAA0C,KAAKV,GAAL,CAASyP,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EAPiC,CAO8C;A6B7jDjF;AACA;AACA,A7B4jDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK/C,GAAL,CAAS3P,CAA3B,EAA8B,KAAK4P,GAAL,CAASU,CAAvC,EAA0C,KAAKX,GAAL,CAAS0P,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EARiC,CAQ8C;A6B3jDjF;AACA;AACA,A7B0jDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK/C,GAAL,CAAS3P,CAA3B,EAA8B,KAAK4P,GAAL,CAASU,CAAvC,EAA0C,KAAKV,GAAL,CAASyP,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EATiC,CAS8C;A6BzjDjF;AACA;AACA,A7BwjDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK9C,GAAL,CAAS5P,CAA3B,EAA8B,KAAK2P,GAAL,CAASW,CAAvC,EAA0C,KAAKX,GAAL,CAAS0P,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EAViC,CAU8C;A6BvjDjF;AACA;AACA,A7BsjDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK9C,GAAL,CAAS5P,CAA3B,EAA8B,KAAK2P,GAAL,CAASW,CAAvC,EAA0C,KAAKV,GAAL,CAASyP,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EAXiC,CAW8C;A6BrjDjF;AACA;AACA,A7BojDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK9C,GAAL,CAAS5P,CAA3B,EAA8B,KAAK4P,GAAL,CAASU,CAAvC,EAA0C,KAAKX,GAAL,CAAS0P,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EAZiC,CAY8C;A6BnjDjF;AACA;AACA,A7BkjDE4c,IAAAA,OAAO,CAAE,CAAF,CAAP,CAAalkB,GAAb,CAAkB,KAAK9C,GAAL,CAAS5P,CAA3B,EAA8B,KAAK4P,GAAL,CAASU,CAAvC,EAA0C,KAAKV,GAAL,CAASyP,CAAnD,EAAuDI,YAAvD,CAAqEzF,MAArE,EAbiC,CAa8C;A6BjjDjF;AACA;AACA,A7BijDE,SAAKoe,aAAL,CAAoBxB,OAApB;A6BhjDF,A7BkjDE,WAAO,IAAP;A6BjjDF,A7BmjDE,GAld6B;A6BhmC/B,A7BojDClb,EAAAA,SAAS,EAAE,UAAWnF,MAAX,EAAoB;A6BnjDhC,A7BqjDE,SAAK5G,GAAL,CAASgE,GAAT,CAAc4C,MAAd;A6BpjDF,A7BqjDE,SAAK3G,GAAL,CAAS+D,GAAT,CAAc4C,MAAd;A6BpjDF,A7BsjDE,WAAO,IAAP;A6BrjDF,A7BujDE,GA3d6B;A6B3lC/B,A7BwjDCF,EAAAA,MAAM,EAAE,UAAWyiB,GAAX,EAAiB;A6BvjD1B,A7ByjDE,WAAOA,GAAG,CAACnpB,GAAJ,CAAQ0G,MAAR,CAAgB,KAAK1G,GAArB,KAA8BmpB,GAAG,CAAClpB,GAAJ,CAAQyG,MAAR,CAAgB,KAAKzG,GAArB,CAArC;A6BxjDF,A7B0jDE;A6BzjDF,A7BwlC+B,CAA/B;A6BvlCA;AACA,A7B2jDA,SAASyqB,UAAT,CAAqBD,IAArB,EAA2BM,EAA3B,EAA+BvkB,EAA/B,EAAmCC,EAAnC,EAAuCukB,OAAvC,EAAiD;A6B1jDjD,A7B4jDC,MAAIhsB,CAAJ,EAAOisB,CAAP;A6B3jDD;AACA,A7B4jDC,OAAMjsB,CAAC,GAAG,CAAJ,EAAOisB,CAAC,GAAGR,IAAI,CAACt5B,MAAL,GAAc,CAA/B,EAAkC6N,CAAC,IAAIisB,CAAvC,EAA0CjsB,CAAC,IAAI,CAA/C,EAAmD;A6B3jDpD,A7B6jDE8oB,IAAAA,SAAS,CAACnhB,SAAV,CAAqB8jB,IAArB,EAA2BzrB,CAA3B,EAFkD,CAGlD;A6B7jDF;AACA;AACA,A7B4jDE,QAAImM,CAAC,GAAG6f,OAAO,CAAC36B,CAAR,GAAYP,IAAI,CAAC8V,GAAL,CAAUkiB,SAAS,CAACz3B,CAApB,CAAZ,GAAsC26B,OAAO,CAACrqB,CAAR,GAAY7Q,IAAI,CAAC8V,GAAL,CAAUkiB,SAAS,CAACnnB,CAApB,CAAlD,GAA4EqqB,OAAO,CAACtb,CAAR,GAAY5f,IAAI,CAAC8V,GAAL,CAAUkiB,SAAS,CAACpY,CAApB,CAAhG,CAJkD,CAKlD;A6B5jDF;AACA,A7B4jDE,QAAIwb,EAAE,GAAGH,EAAE,CAACxlB,GAAH,CAAQuiB,SAAR,CAAT;A6B3jDF,A7B4jDE,QAAIqD,EAAE,GAAG3kB,EAAE,CAACjB,GAAH,CAAQuiB,SAAR,CAAT;A6B3jDF,A7B4jDE,QAAIsD,EAAE,GAAG3kB,EAAE,CAAClB,GAAH,CAAQuiB,SAAR,CAAT,CARkD,CASlD;A6B5jDF;AACA,A7B4jDE,QAAKh4B,IAAI,CAACmQ,GAAL,CAAU,CAAEnQ,IAAI,CAACmQ,GAAL,CAAUirB,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,CAAZ,EAAoCt7B,IAAI,CAACkQ,GAAL,CAAUkrB,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,CAApC,IAA+DjgB,CAApE,EAAwE;A6B3jD1E,A7B6jDG;A6B5jDH,A7B6jDG;A6B5jDH,A7B6jDG,aAAO,KAAP;A6B5jDH,A7B8jDG;A6B7jDH,A7B+jDE;A6B9jDF;AACA,A7B+jDC,SAAO,IAAP;A6B9jDD,A7BgkDC;A6B/jDD;AACA,A7BgkDA,IAAIkgB,MAAM,GAAG,IAAIjE,IAAJ,EAAb;A6B/jDA,A7BikDA;A6BhkDA;AACA;AACA;AACA;AACA;AACA,A7BgkDA,SAASkE,MAAT,CAAiBnkB,MAAjB,EAAyBgS,MAAzB,EAAkC;A6B/jDlC,A7BikDC,OAAKhS,MAAL,GAAgBA,MAAM,KAAKtX,SAAb,GAA2BsX,MAA3B,GAAoC,IAAIwP,OAAJ,EAAlD;A6BhkDD,A7BikDC,OAAKwC,MAAL,GAAgBA,MAAM,KAAKtpB,SAAb,GAA2BspB,MAA3B,GAAoC,CAAlD;A6BhkDD,A7BkkDC;A6BjkDD;AACA,A7BkkDA3oB,MAAM,CAACK,MAAP,CAAey6B,MAAM,CAAC/6B,SAAtB,EAAiC;A6BjkDjC,A7BmkDCwS,EAAAA,GAAG,EAAE,UAAWoE,MAAX,EAAmBgS,MAAnB,EAA4B;A6BlkDlC,A7BokDE,SAAKhS,MAAL,CAAYrD,IAAZ,CAAkBqD,MAAlB;A6BnkDF,A7BokDE,SAAKgS,MAAL,GAAcA,MAAd;A6BnkDF,A7BqkDE,WAAO,IAAP;A6BpkDF,A7BskDE,GAT+B;A6B5jDjC,A7BukDCsP,EAAAA,aAAa,EAAE,UAAWC,MAAX,EAAmB6C,cAAnB,EAAoC;A6BtkDpD,A7BwkDE,QAAIpkB,MAAM,GAAG,KAAKA,MAAlB;A6BvkDF;AACA,A7BwkDE,QAAKokB,cAAc,KAAK17B,SAAxB,EAAoC;A6BvkDtC,A7BykDGsX,MAAAA,MAAM,CAACrD,IAAP,CAAaynB,cAAb;A6BxkDH,A7B0kDG,KAJD,MAIO;A6BzkDT,A7B2kDGF,MAAAA,MAAM,CAAC5C,aAAP,CAAsBC,MAAtB,EAA+BW,SAA/B,CAA0CliB,MAA1C;A6B1kDH,A7B4kDG;A6B3kDH;AACA,A7B4kDE,QAAIqkB,WAAW,GAAG,CAAlB;A6B3kDF;AACA,A7B4kDE,SAAM,IAAIxsB,CAAC,GAAG,CAAR,EAAW4pB,EAAE,GAAGF,MAAM,CAACv3B,MAA7B,EAAqC6N,CAAC,GAAG4pB,EAAzC,EAA6C5pB,CAAC,EAA9C,EAAoD;A6B3kDtD,A7B6kDGwsB,MAAAA,WAAW,GAAG17B,IAAI,CAACmQ,GAAL,CAAUurB,WAAV,EAAuBrkB,MAAM,CAAClB,iBAAP,CAA0ByiB,MAAM,CAAE1pB,CAAF,CAAhC,CAAvB,CAAd;A6B5kDH,A7B8kDG;A6B7kDH;AACA,A7B8kDE,SAAKma,MAAL,GAAcrpB,IAAI,CAAC4V,IAAL,CAAW8lB,WAAX,CAAd;A6B7kDF,A7B+kDE,WAAO,IAAP;A6B9kDF,A7BglDE,GArC+B;A6B1iDjC,A7BilDC5nB,EAAAA,KAAK,EAAE,YAAY;A6BhlDpB,A7BklDE,WAAO,IAAI,KAAKC,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;A6BjlDF,A7BmlDE,GA3C+B;A6BviDjC,A7BolDCA,EAAAA,IAAI,EAAE,UAAWomB,MAAX,EAAoB;A6BnlD3B,A7BqlDE,SAAK/iB,MAAL,CAAYrD,IAAZ,CAAkBomB,MAAM,CAAC/iB,MAAzB;A6BplDF,A7BqlDE,SAAKgS,MAAL,GAAc+Q,MAAM,CAAC/Q,MAArB;A6BplDF,A7BslDE,WAAO,IAAP;A6BrlDF,A7BulDE,GApD+B;A6BliDjC,A7BwlDCsS,EAAAA,KAAK,EAAE,YAAY;A6BvlDpB,A7BylDE,WAAS,KAAKtS,MAAL,IAAe,CAAxB;A6BxlDF,A7B0lDE,GA1D+B;A6B/hDjC,A7B2lDC0Q,EAAAA,aAAa,EAAE,UAAWN,KAAX,EAAmB;A6B1lDnC,A7B4lDE,WAASA,KAAK,CAACtjB,iBAAN,CAAyB,KAAKkB,MAA9B,KAA4C,KAAKgS,MAAL,GAAc,KAAKA,MAAxE;A6B3lDF,A7B6lDE,GAhE+B;A6B5hDjC,A7B8lDCwR,EAAAA,eAAe,EAAE,UAAWpB,KAAX,EAAmB;A6B7lDrC,A7B+lDE,WAASA,KAAK,CAACvjB,UAAN,CAAkB,KAAKmB,MAAvB,IAAkC,KAAKgS,MAAhD;A6B9lDF,A7BgmDE,GAtE+B;A6BzhDjC,A7BimDC8Q,EAAAA,gBAAgB,EAAE,UAAWC,MAAX,EAAoB;A6BhmDvC,A7BkmDE,QAAIwB,SAAS,GAAG,KAAKvS,MAAL,GAAc+Q,MAAM,CAAC/Q,MAArC;A6BjmDF,A7BmmDE,WAAO+Q,MAAM,CAAC/iB,MAAP,CAAclB,iBAAd,CAAiC,KAAKkB,MAAtC,KAAoDukB,SAAS,GAAGA,SAAvE;A6BlmDF,A7BomDE,GA9E+B;A6BrhDjC,A7BqmDC1B,EAAAA,aAAa,EAAE,UAAWb,GAAX,EAAiB;A6BpmDjC,A7BsmDE,WAAOA,GAAG,CAACc,gBAAJ,CAAsB,IAAtB,CAAP;A6BrmDF,A7BumDE,GApF+B;A6BlhDjC,A7BwmDCG,EAAAA,eAAe,EAAE,UAAWC,KAAX,EAAmB;A6BvmDrC,A7BymDE,WAAOv6B,IAAI,CAAC8V,GAAL,CAAUykB,KAAK,CAACM,eAAN,CAAuB,KAAKxjB,MAA5B,CAAV,KAAoD,KAAKgS,MAAhE;A6BxmDF,A7B0mDE,GA1F+B;A6B/gDjC,A7B2mDCgR,EAAAA,UAAU,EAAE,UAAWZ,KAAX,EAAkBz4B,MAAlB,EAA2B;A6B1mDxC,A7B4mDE,QAAI66B,aAAa,GAAG,KAAKxkB,MAAL,CAAYlB,iBAAZ,CAA+BsjB,KAA/B,CAApB;A6B3mDF;AACA,A7B4mDE,QAAKz4B,MAAM,KAAKjB,SAAhB,EAA4B;A6B3mD9B,A7B6mDGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,oDAAd;A6B5mDH,A7B6mDGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B5mDH,A7B8mDG;A6B7mDH;AACA,A7B8mDE7lB,IAAAA,MAAM,CAACgT,IAAP,CAAaylB,KAAb;A6B7mDF;AACA,A7B8mDE,QAAKoC,aAAa,GAAK,KAAKxS,MAAL,GAAc,KAAKA,MAA1C,EAAqD;A6B7mDvD,A7B+mDGroB,MAAAA,MAAM,CAACwT,GAAP,CAAY,KAAK6C,MAAjB,EAA0BtB,SAA1B;A6B9mDH,A7B+mDG/U,MAAAA,MAAM,CAAC4T,cAAP,CAAuB,KAAKyU,MAA5B,EAAqCnV,GAArC,CAA0C,KAAKmD,MAA/C;A6B9mDH,A7BgnDG;A6B/mDH;AACA,A7BgnDE,WAAOrW,MAAP;A6B/mDF,A7BinDE,GAlH+B;A6B9/CjC,A7BknDC86B,EAAAA,cAAc,EAAE,UAAW96B,MAAX,EAAoB;A6BjnDrC,A7BmnDE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6BlnD9B,A7BonDGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,wDAAd;A6BnnDH,A7BonDGnS,MAAAA,MAAM,GAAG,IAAIs2B,IAAJ,EAAT;A6BnnDH,A7BqnDG;A6BpnDH;AACA,A7BqnDEt2B,IAAAA,MAAM,CAACiS,GAAP,CAAY,KAAKoE,MAAjB,EAAyB,KAAKA,MAA9B;A6BpnDF,A7BqnDErW,IAAAA,MAAM,CAAC24B,cAAP,CAAuB,KAAKtQ,MAA5B;A6BpnDF,A7BsnDE,WAAOroB,MAAP;A6BrnDF,A7BunDE,GAlI+B;A6Bp/CjC,A7BwnDCgf,EAAAA,YAAY,EAAE,UAAWzF,MAAX,EAAoB;A6BvnDnC,A7BynDE,SAAKlD,MAAL,CAAY2I,YAAZ,CAA0BzF,MAA1B;A6BxnDF,A7BynDE,SAAK8O,MAAL,GAAc,KAAKA,MAAL,GAAc9O,MAAM,CAACyS,iBAAP,EAA5B;A6BxnDF,A7B0nDE,WAAO,IAAP;A6BznDF,A7B2nDE,GA3I+B;A6B/+CjC,A7B4nDC/Q,EAAAA,SAAS,EAAE,UAAWnF,MAAX,EAAoB;A6B3nDhC,A7B6nDE,SAAKO,MAAL,CAAYnD,GAAZ,CAAiB4C,MAAjB;A6B5nDF,A7B8nDE,WAAO,IAAP;A6B7nDF,A7B+nDE,GAnJ+B;A6B3+CjC,A7BgoDCF,EAAAA,MAAM,EAAE,UAAWwjB,MAAX,EAAoB;A6B/nD7B,A7BioDE,WAAOA,MAAM,CAAC/iB,MAAP,CAAcT,MAAd,CAAsB,KAAKS,MAA3B,KAAyC+iB,MAAM,CAAC/Q,MAAP,KAAkB,KAAKA,MAAvE;A6BhoDF,A7BkoDE;A6BjoDF,A7Bw+CiC,CAAjC;A6Bv+CA;AACA,A7BmoDA,IAAI0S,SAAS,GAAG,IAAIlV,OAAJ,EAAhB;A6BloDA;AACA,A7BkoDA,IAAImV,UAAU,GAAG,IAAInV,OAAJ,EAAjB;A6BjoDA;AACA,A7BioDA,IAAIoV,OAAO,GAAG,IAAIpV,OAAJ,EAAd;A6BhoDA;AACA,A7BgoDA,IAAIqV,KAAK,GAAG,IAAIrV,OAAJ,EAAZ;A6B/nDA;AACA,A7BgoDA,IAAIsV,MAAM,GAAG,IAAItV,OAAJ,EAAb;A6B/nDA;AACA,A7B+nDA,IAAIuV,MAAM,GAAG,IAAIvV,OAAJ,EAAb;A6B9nDA;AACA,A7B8nDA,IAAIwV,OAAO,GAAG,IAAIxV,OAAJ,EAAd;A6B7nDA,A7B+nDA;A6B9nDA;AACA;AACA;AACA;AACA,A7B8nDA,SAASyV,GAAT,CAAcC,MAAd,EAAsBC,SAAtB,EAAkC;A6B7nDlC,A7B+nDC,OAAKD,MAAL,GAAgBA,MAAM,KAAKx8B,SAAb,GAA2Bw8B,MAA3B,GAAoC,IAAI1V,OAAJ,EAAlD;A6B9nDD,A7B+nDC,OAAK2V,SAAL,GAAmBA,SAAS,KAAKz8B,SAAhB,GAA8By8B,SAA9B,GAA0C,IAAI3V,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAE,CAArB,CAA3D;A6B9nDD,A7BgoDC;A6B/nDD;AACA,A7BgoDAnmB,MAAM,CAACK,MAAP,CAAeu7B,GAAG,CAAC77B,SAAnB,EAA8B;A6B/nD9B,A7BioDCwS,EAAAA,GAAG,EAAE,UAAWspB,MAAX,EAAmBC,SAAnB,EAA+B;A6BhoDrC,A7BkoDE,SAAKD,MAAL,CAAYvoB,IAAZ,CAAkBuoB,MAAlB;A6BjoDF,A7BkoDE,SAAKC,SAAL,CAAexoB,IAAf,CAAqBwoB,SAArB;A6BjoDF,A7BmoDE,WAAO,IAAP;A6BloDF,A7BooDE,GAT4B;A6B1nD9B,A7BqoDC1oB,EAAAA,KAAK,EAAE,YAAY;A6BpoDpB,A7BsoDE,WAAO,IAAI,KAAKC,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;A6BroDF,A7BuoDE,GAf4B;A6BvnD9B,A7BwoDCA,EAAAA,IAAI,EAAE,UAAWyoB,GAAX,EAAiB;A6BvoDxB,A7ByoDE,SAAKF,MAAL,CAAYvoB,IAAZ,CAAkByoB,GAAG,CAACF,MAAtB;A6BxoDF,A7ByoDE,SAAKC,SAAL,CAAexoB,IAAf,CAAqByoB,GAAG,CAACD,SAAzB;A6BxoDF,A7B0oDE,WAAO,IAAP;A6BzoDF,A7B2oDE,GAxB4B;A6BlnD9B,A7B4oDCE,EAAAA,EAAE,EAAE,UAAW5rB,CAAX,EAAc9P,MAAd,EAAuB;A6B3oD5B,A7B6oDE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B5oD9B,A7B8oDGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,yCAAd;A6B7oDH,A7B8oDGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B7oDH,A7B+oDG;A6B9oDH;AACA,A7B+oDE,WAAO7lB,MAAM,CAACgT,IAAP,CAAa,KAAKwoB,SAAlB,EAA8B5nB,cAA9B,CAA8C9D,CAA9C,EAAkDoD,GAAlD,CAAuD,KAAKqoB,MAA5D,CAAP;A6B9oDF,A7BgpDE,GArC4B;A6B1mD9B,A7BipDC1Q,EAAAA,MAAM,EAAE,UAAW5X,CAAX,EAAe;A6BhpDxB,A7BkpDE,SAAKuoB,SAAL,CAAexoB,IAAf,CAAqBC,CAArB,EAAyBO,GAAzB,CAA8B,KAAK+nB,MAAnC,EAA4CxmB,SAA5C;A6BjpDF,A7BmpDE,WAAO,IAAP;A6BlpDF,A7BopDE,GA7C4B;A6BtmD9B,A7BqpDC4mB,EAAAA,MAAM,EAAE,UAAW7rB,CAAX,EAAe;A6BppDxB,A7BspDE,SAAKyrB,MAAL,CAAYvoB,IAAZ,CAAkB,KAAK0oB,EAAL,CAAS5rB,CAAT,EAAYirB,SAAZ,CAAlB;A6BrpDF,A7BupDE,WAAO,IAAP;A6BtpDF,A7BwpDE,GArD4B;A6BlmD9B,A7BypDCa,EAAAA,mBAAmB,EAAE,UAAWnD,KAAX,EAAkBz4B,MAAlB,EAA2B;A6BxpDjD,A7B0pDE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6BzpD9B,A7B2pDGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,0DAAd;A6B1pDH,A7B2pDGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B1pDH,A7B4pDG;A6B3pDH;AACA,A7B4pDE7lB,IAAAA,MAAM,CAACyT,UAAP,CAAmBglB,KAAnB,EAA0B,KAAK8C,MAA/B;A6B3pDF,A7B6pDE,QAAIM,iBAAiB,GAAG77B,MAAM,CAACyU,GAAP,CAAY,KAAK+mB,SAAjB,CAAxB;A6B5pDF;AACA,A7B6pDE,QAAKK,iBAAiB,GAAG,CAAzB,EAA6B;A6B5pD/B,A7B8pDG,aAAO77B,MAAM,CAACgT,IAAP,CAAa,KAAKuoB,MAAlB,CAAP;A6B7pDH,A7B+pDG;A6B9pDH;AACA,A7B+pDE,WAAOv7B,MAAM,CAACgT,IAAP,CAAa,KAAKwoB,SAAlB,EAA8B5nB,cAA9B,CAA8CioB,iBAA9C,EAAkE3oB,GAAlE,CAAuE,KAAKqoB,MAA5E,CAAP;A6B9pDF,A7BgqDE,GA5E4B;A6BnlD9B,A7BiqDC1B,EAAAA,eAAe,EAAE,UAAWpB,KAAX,EAAmB;A6BhqDrC,A7BkqDE,WAAOz5B,IAAI,CAAC4V,IAAL,CAAW,KAAKknB,iBAAL,CAAwBrD,KAAxB,CAAX,CAAP;A6BjqDF,A7BmqDE,GAlF4B;A6BhlD9B,A7BoqDCqD,EAAAA,iBAAiB,EAAE,UAAWrD,KAAX,EAAmB;A6BnqDvC,A7BqqDE,QAAIoD,iBAAiB,GAAGd,SAAS,CAACtnB,UAAV,CAAsBglB,KAAtB,EAA6B,KAAK8C,MAAlC,EAA2C9mB,GAA3C,CAAgD,KAAK+mB,SAArD,CAAxB,CAFqC,CAIrC;A6BtqDF;AACA;AACA,A7BsqDE,QAAKK,iBAAiB,GAAG,CAAzB,EAA6B;A6BrqD/B,A7BuqDG,aAAO,KAAKN,MAAL,CAAYpmB,iBAAZ,CAA+BsjB,KAA/B,CAAP;A6BtqDH,A7BwqDG;A6BvqDH;AACA,A7BwqDEsC,IAAAA,SAAS,CAAC/nB,IAAV,CAAgB,KAAKwoB,SAArB,EAAiC5nB,cAAjC,CAAiDioB,iBAAjD,EAAqE3oB,GAArE,CAA0E,KAAKqoB,MAA/E;A6BvqDF;AACA,A7BwqDE,WAAOR,SAAS,CAAC5lB,iBAAV,CAA6BsjB,KAA7B,CAAP;A6BvqDF,A7ByqDE,GApG4B;A6BpkD9B,A7B0qDCsD,EAAAA,mBAAmB,EAAE,UAAW9B,EAAX,EAAevkB,EAAf,EAAmBsmB,kBAAnB,EAAuCC,sBAAvC,EAAgE;A6BzqDtF,A7B2qDE;A6B1qDF,A7B2qDE;A6B1qDF,A7B2qDE;A6B1qDF,A7B2qDE;A6B1qDF,A7B2qDE;A6B1qDF,A7B2qDE;A6B1qDF,A7B4qDEjB,IAAAA,UAAU,CAAChoB,IAAX,CAAiBinB,EAAjB,EAAsB/mB,GAAtB,CAA2BwC,EAA3B,EAAgC9B,cAAhC,CAAgD,GAAhD;A6B3qDF;AACA,A7B2qDEqnB,IAAAA,OAAO,CAACjoB,IAAR,CAAc0C,EAAd,EAAmBlC,GAAnB,CAAwBymB,EAAxB,EAA6BllB,SAA7B;A6B1qDF;AACA,A7B0qDEmmB,IAAAA,KAAK,CAACloB,IAAN,CAAY,KAAKuoB,MAAjB,EAA0B/nB,GAA1B,CAA+BwnB,UAA/B;A6BzqDF;AACA,A7B0qDE,QAAIkB,SAAS,GAAGjC,EAAE,CAAC/kB,UAAH,CAAeQ,EAAf,IAAsB,GAAtC;A6BzqDF,A7B0qDE,QAAIymB,GAAG,GAAG,CAAE,KAAKX,SAAL,CAAe/mB,GAAf,CAAoBwmB,OAApB,CAAZ;A6BzqDF;AACA,A7ByqDE,QAAImB,EAAE,GAAGlB,KAAK,CAACzmB,GAAN,CAAW,KAAK+mB,SAAhB,CAAT;A6BxqDF;AACA,A7BwqDE,QAAI9rB,EAAE,GAAG,CAAEwrB,KAAK,CAACzmB,GAAN,CAAWwmB,OAAX,CAAX;A6BvqDF;AACA,A7BuqDE,QAAI5pB,CAAC,GAAG6pB,KAAK,CAACvmB,QAAN,EAAR;A6BtqDF;AACA,A7BsqDE,QAAIkF,GAAG,GAAG7a,IAAI,CAAC8V,GAAL,CAAU,IAAIqnB,GAAG,GAAGA,GAApB,CAAV;A6BrqDF,A7BsqDE,QAAIE,EAAJ,EAAQ3Y,EAAR,EAAY4Y,OAAZ,EAAqBC,MAArB;A6BrqDF;AACA,A7BsqDE,QAAK1iB,GAAG,GAAG,CAAX,EAAe;A6BrqDjB,A7BuqDG;A6BtqDH,A7BwqDGwiB,MAAAA,EAAE,GAAGF,GAAG,GAAGzsB,EAAN,GAAW0sB,EAAhB;A6BvqDH,A7BwqDG1Y,MAAAA,EAAE,GAAGyY,GAAG,GAAGC,EAAN,GAAW1sB,EAAhB;A6BvqDH,A7BwqDG6sB,MAAAA,MAAM,GAAGL,SAAS,GAAGriB,GAArB;A6BvqDH;AACA,A7BwqDG,UAAKwiB,EAAE,IAAI,CAAX,EAAe;A6BvqDlB,A7ByqDI,YAAK3Y,EAAE,IAAI,CAAE6Y,MAAb,EAAsB;A6BxqD1B,A7B0qDK,cAAK7Y,EAAE,IAAI6Y,MAAX,EAAoB;A6BzqDzB,A7B2qDM;A6B1qDN,A7B2qDM;A6B1qDN,A7B4qDM,gBAAIC,MAAM,GAAG,IAAI3iB,GAAjB;A6B3qDN,A7B4qDMwiB,YAAAA,EAAE,IAAIG,MAAN;A6B3qDN,A7B4qDM9Y,YAAAA,EAAE,IAAI8Y,MAAN;A6B3qDN,A7B4qDMF,YAAAA,OAAO,GAAGD,EAAE,IAAKA,EAAE,GAAGF,GAAG,GAAGzY,EAAX,GAAgB,IAAI0Y,EAAzB,CAAF,GAAkC1Y,EAAE,IAAKyY,GAAG,GAAGE,EAAN,GAAW3Y,EAAX,GAAgB,IAAIhU,EAAzB,CAApC,GAAoE2B,CAA9E;A6B3qDN,A7B6qDM,WAVD,MAUO;A6B5qDZ,A7B8qDM;A6B7qDN,A7B+qDMqS,YAAAA,EAAE,GAAGwY,SAAL;A6B9qDN,A7B+qDMG,YAAAA,EAAE,GAAGr9B,IAAI,CAACmQ,GAAL,CAAU,CAAV,EAAa,EAAIgtB,GAAG,GAAGzY,EAAN,GAAW0Y,EAAf,CAAb,CAAL;A6B9qDN,A7B+qDME,YAAAA,OAAO,GAAG,CAAED,EAAF,GAAOA,EAAP,GAAY3Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAd,GAAmC2B,CAA7C;A6B9qDN,A7BgrDM;A6B/qDN,A7BirDK,SAtBD,MAsBO;A6BhrDX,A7BkrDK;A6BjrDL,A7BmrDKqS,UAAAA,EAAE,GAAG,CAAEwY,SAAP;A6BlrDL,A7BmrDKG,UAAAA,EAAE,GAAGr9B,IAAI,CAACmQ,GAAL,CAAU,CAAV,EAAa,EAAIgtB,GAAG,GAAGzY,EAAN,GAAW0Y,EAAf,CAAb,CAAL;A6BlrDL,A7BmrDKE,UAAAA,OAAO,GAAG,CAAED,EAAF,GAAOA,EAAP,GAAY3Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAd,GAAmC2B,CAA7C;A6BlrDL,A7BorDK;A6BnrDL,A7BqrDI,OAlCD,MAkCO;A6BprDV,A7BsrDI,YAAKqS,EAAE,IAAI,CAAE6Y,MAAb,EAAsB;A6BrrD1B,A7BurDK;A6BtrDL,A7BwrDKF,UAAAA,EAAE,GAAGr9B,IAAI,CAACmQ,GAAL,CAAU,CAAV,EAAa,EAAI,CAAEgtB,GAAF,GAAQD,SAAR,GAAoBE,EAAxB,CAAb,CAAL;A6BvrDL,A7BwrDK1Y,UAAAA,EAAE,GAAK2Y,EAAE,GAAG,CAAP,GAAa,CAAEH,SAAf,GAA2Bl9B,IAAI,CAACkQ,GAAL,CAAUlQ,IAAI,CAACmQ,GAAL,CAAU,CAAE+sB,SAAZ,EAAuB,CAAExsB,EAAzB,CAAV,EAAyCwsB,SAAzC,CAAhC;A6BvrDL,A7BwrDKI,UAAAA,OAAO,GAAG,CAAED,EAAF,GAAOA,EAAP,GAAY3Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAd,GAAmC2B,CAA7C;A6BvrDL,A7ByrDK,SARD,MAQO,IAAKqS,EAAE,IAAI6Y,MAAX,EAAoB;A6BxrD/B,A7B0rDK;A6BzrDL,A7B2rDKF,UAAAA,EAAE,GAAG,CAAL;A6B1rDL,A7B2rDK3Y,UAAAA,EAAE,GAAG1kB,IAAI,CAACkQ,GAAL,CAAUlQ,IAAI,CAACmQ,GAAL,CAAU,CAAE+sB,SAAZ,EAAuB,CAAExsB,EAAzB,CAAV,EAAyCwsB,SAAzC,CAAL;A6B1rDL,A7B2rDKI,UAAAA,OAAO,GAAG5Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAF,GAAuB2B,CAAjC;A6B1rDL,A7B4rDK,SARM,MAQA;A6B3rDX,A7B6rDK;A6B5rDL,A7B8rDKgrB,UAAAA,EAAE,GAAGr9B,IAAI,CAACmQ,GAAL,CAAU,CAAV,EAAa,EAAIgtB,GAAG,GAAGD,SAAN,GAAkBE,EAAtB,CAAb,CAAL;A6B7rDL,A7B8rDK1Y,UAAAA,EAAE,GAAK2Y,EAAE,GAAG,CAAP,GAAaH,SAAb,GAAyBl9B,IAAI,CAACkQ,GAAL,CAAUlQ,IAAI,CAACmQ,GAAL,CAAU,CAAE+sB,SAAZ,EAAuB,CAAExsB,EAAzB,CAAV,EAAyCwsB,SAAzC,CAA9B;A6B7rDL,A7B8rDKI,UAAAA,OAAO,GAAG,CAAED,EAAF,GAAOA,EAAP,GAAY3Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAd,GAAmC2B,CAA7C;A6B7rDL,A7B+rDK;A6B9rDL,A7BgsDI;A6B/rDJ,A7BisDG,KAxED,MAwEO;A6BhsDT,A7BksDG;A6BjsDH,A7BmsDGqS,MAAAA,EAAE,GAAKyY,GAAG,GAAG,CAAR,GAAc,CAAED,SAAhB,GAA4BA,SAAjC;A6BlsDH,A7BmsDGG,MAAAA,EAAE,GAAGr9B,IAAI,CAACmQ,GAAL,CAAU,CAAV,EAAa,EAAIgtB,GAAG,GAAGzY,EAAN,GAAW0Y,EAAf,CAAb,CAAL;A6BlsDH,A7BmsDGE,MAAAA,OAAO,GAAG,CAAED,EAAF,GAAOA,EAAP,GAAY3Y,EAAE,IAAKA,EAAE,GAAG,IAAIhU,EAAd,CAAd,GAAmC2B,CAA7C;A6BlsDH,A7BosDG;A6BnsDH;AACA,A7BosDE,QAAK2qB,kBAAL,EAA0B;A6BnsD5B,A7BqsDGA,MAAAA,kBAAkB,CAAChpB,IAAnB,CAAyB,KAAKwoB,SAA9B,EAA0C5nB,cAA1C,CAA0DyoB,EAA1D,EAA+DnpB,GAA/D,CAAoE,KAAKqoB,MAAzE;A6BpsDH,A7BssDG;A6BrsDH;AACA,A7BssDE,QAAKU,sBAAL,EAA8B;A6BrsDhC,A7BusDGA,MAAAA,sBAAsB,CAACjpB,IAAvB,CAA6BioB,OAA7B,EAAuCrnB,cAAvC,CAAuD8P,EAAvD,EAA4DxQ,GAA5D,CAAiE8nB,UAAjE;A6BtsDH,A7BwsDG;A6BvsDH;AACA,A7BwsDE,WAAOsB,OAAP;A6BvsDF,A7BysDE,GA3N4B;A6B7+C9B,A7B0sDCG,EAAAA,eAAe,EAAE,UAAWrD,MAAX,EAAmBp5B,MAAnB,EAA4B;A6BzsD9C,A7B2sDE+6B,IAAAA,SAAS,CAACtnB,UAAV,CAAsB2lB,MAAM,CAAC/iB,MAA7B,EAAqC,KAAKklB,MAA1C;A6B1sDF;AACA,A7B0sDE,QAAImB,GAAG,GAAG3B,SAAS,CAACtmB,GAAV,CAAe,KAAK+mB,SAApB,CAAV;A6BzsDF;AACA,A7BysDE,QAAI3sB,EAAE,GAAGksB,SAAS,CAACtmB,GAAV,CAAesmB,SAAf,IAA6B2B,GAAG,GAAGA,GAA5C;A6BxsDF,A7BysDE,QAAIC,OAAO,GAAGvD,MAAM,CAAC/Q,MAAP,GAAgB+Q,MAAM,CAAC/Q,MAArC;A6BxsDF,A7B0sDE,QAAKxZ,EAAE,GAAG8tB,OAAV,EAAoB,OAAO,IAAP;A6BzsDtB,A7B2sDE,QAAIC,GAAG,GAAG59B,IAAI,CAAC4V,IAAL,CAAW+nB,OAAO,GAAG9tB,EAArB,CAAV,CAT4C,CAW5C;A6B5sDF;AACA,A7B4sDE,QAAIguB,EAAE,GAAGH,GAAG,GAAGE,GAAf,CAZ4C,CAc5C;A6B7sDF;AACA,A7B6sDE,QAAIE,EAAE,GAAGJ,GAAG,GAAGE,GAAf,CAf4C,CAiB5C;A6B9sDF;AACA,A7B8sDE,QAAKC,EAAE,GAAG,CAAL,IAAUC,EAAE,GAAG,CAApB,EAAwB,OAAO,IAAP,CAlBoB,CAoB5C;A6B/sDF,A7BgtDE;A6B/sDF,A7BgtDE;A6B/sDF;AACA,A7B+sDE,QAAKD,EAAE,GAAG,CAAV,EAAc,OAAO,KAAKnB,EAAL,CAASoB,EAAT,EAAa98B,MAAb,CAAP,CAvB8B,CAyB5C;A6BhtDF;AACA,A7BgtDE,WAAO,KAAK07B,EAAL,CAASmB,EAAT,EAAa78B,MAAb,CAAP;A6B/sDF,A7BitDE,GAzP4B;A6Bv9C9B,A7BktDCm5B,EAAAA,gBAAgB,EAAE,UAAWC,MAAX,EAAoB;A6BjtDvC,A7BmtDE,WAAO,KAAK0C,iBAAL,CAAwB1C,MAAM,CAAC/iB,MAA/B,KAA6C+iB,MAAM,CAAC/Q,MAAP,GAAgB+Q,MAAM,CAAC/Q,MAA3E;A6BltDF,A7BotDE,GA/P4B;A6Bp9C9B,A7BqtDC0U,EAAAA,eAAe,EAAE,UAAWxD,KAAX,EAAmB;A6BptDrC,A7BstDE,QAAI1R,WAAW,GAAG0R,KAAK,CAACtR,MAAN,CAAaxT,GAAb,CAAkB,KAAK+mB,SAAvB,CAAlB;A6BrtDF;AACA,A7BstDE,QAAK3T,WAAW,KAAK,CAArB,EAAyB;A6BrtD3B,A7ButDG;A6BttDH,A7ButDG,UAAK0R,KAAK,CAACM,eAAN,CAAuB,KAAK0B,MAA5B,MAAyC,CAA9C,EAAkD;A6BttDrD,A7BwtDI,eAAO,CAAP;A6BvtDJ,A7BytDI,OAPuB,CASxB;A6B1tDH;AACA;AACA,A7B0tDG,aAAO,IAAP;A6BztDH,A7B2tDG;A6B1tDH;AACA,A7B2tDE,QAAIzrB,CAAC,GAAG,EAAI,KAAKyrB,MAAL,CAAY9mB,GAAZ,CAAiB8kB,KAAK,CAACtR,MAAvB,IAAkCsR,KAAK,CAACC,QAA5C,IAAyD3R,WAAjE,CAnBmC,CAqBnC;A6B5tDF;AACA,A7B6tDE,WAAO/X,CAAC,IAAI,CAAL,GAASA,CAAT,GAAa,IAApB;A6B5tDF,A7B8tDE,GA1R4B;A6Bn8C9B,A7B+tDCktB,EAAAA,cAAc,EAAE,UAAWzD,KAAX,EAAkBv5B,MAAlB,EAA2B;A6B9tD5C,A7BguDE,QAAI8P,CAAC,GAAG,KAAKitB,eAAL,CAAsBxD,KAAtB,CAAR;A6B/tDF;AACA,A7BguDE,QAAKzpB,CAAC,KAAK,IAAX,EAAkB;A6B/tDpB,A7BiuDG,aAAO,IAAP;A6BhuDH,A7BkuDG;A6BjuDH;AACA,A7BkuDE,WAAO,KAAK4rB,EAAL,CAAS5rB,CAAT,EAAY9P,MAAZ,CAAP;A6BjuDF,A7BmuDE,GAxS4B;A6B17C9B,A7BouDCs5B,EAAAA,eAAe,EAAE,UAAWC,KAAX,EAAmB;A6BnuDrC,A7BquDE;A6BpuDF,A7BsuDE,QAAI0D,WAAW,GAAG1D,KAAK,CAACM,eAAN,CAAuB,KAAK0B,MAA5B,CAAlB;A6BruDF;AACA,A7BsuDE,QAAK0B,WAAW,KAAK,CAArB,EAAyB;A6BruD3B,A7BuuDG,aAAO,IAAP;A6BtuDH,A7BwuDG;A6BvuDH;AACA,A7BwuDE,QAAIpV,WAAW,GAAG0R,KAAK,CAACtR,MAAN,CAAaxT,GAAb,CAAkB,KAAK+mB,SAAvB,CAAlB;A6BvuDF;AACA,A7BwuDE,QAAK3T,WAAW,GAAGoV,WAAd,GAA4B,CAAjC,EAAqC;A6BvuDvC,A7ByuDG,aAAO,IAAP;A6BxuDH,A7B0uDG,KAlBkC,CAoBnC;A6B3uDF;AACA;AACA,A7B2uDE,WAAO,KAAP;A6B1uDF,A7B4uDE,GAlU4B;A6Bz6C9B,A7B6uDCC,EAAAA,YAAY,EAAE,UAAW7E,GAAX,EAAgBr4B,MAAhB,EAAyB;A6B5uDxC,A7B8uDE,QAAIm9B,IAAJ,EAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC;A6B7uDF,A7B+uDE,QAAIC,OAAO,GAAG,IAAI,KAAKjC,SAAL,CAAej8B,CAAjC;A6B9uDF,A7B8uDE,QACCm+B,OAAO,GAAG,IAAI,KAAKlC,SAAL,CAAe3rB,CAD9B;A6B7uDF,A7B6uDE,QAEC8tB,OAAO,GAAG,IAAI,KAAKnC,SAAL,CAAe5c,CAF9B;A6B5uDF,A7BgvDE,QAAI2c,MAAM,GAAG,KAAKA,MAAlB;A6B/uDF;AACA,A7BgvDE,QAAKkC,OAAO,IAAI,CAAhB,EAAoB;A6B/uDtB,A7BivDGN,MAAAA,IAAI,GAAG,CAAE9E,GAAG,CAACnpB,GAAJ,CAAQ3P,CAAR,GAAYg8B,MAAM,CAACh8B,CAArB,IAA2Bk+B,OAAlC;A6BhvDH,A7BivDGL,MAAAA,IAAI,GAAG,CAAE/E,GAAG,CAAClpB,GAAJ,CAAQ5P,CAAR,GAAYg8B,MAAM,CAACh8B,CAArB,IAA2Bk+B,OAAlC;A6BhvDH,A7BkvDG,KALD,MAKO;A6BjvDT,A7BmvDGN,MAAAA,IAAI,GAAG,CAAE9E,GAAG,CAAClpB,GAAJ,CAAQ5P,CAAR,GAAYg8B,MAAM,CAACh8B,CAArB,IAA2Bk+B,OAAlC;A6BlvDH,A7BmvDGL,MAAAA,IAAI,GAAG,CAAE/E,GAAG,CAACnpB,GAAJ,CAAQ3P,CAAR,GAAYg8B,MAAM,CAACh8B,CAArB,IAA2Bk+B,OAAlC;A6BlvDH,A7BovDG;A6BnvDH;AACA,A7BovDE,QAAKC,OAAO,IAAI,CAAhB,EAAoB;A6BnvDtB,A7BqvDGL,MAAAA,KAAK,GAAG,CAAEhF,GAAG,CAACnpB,GAAJ,CAAQW,CAAR,GAAY0rB,MAAM,CAAC1rB,CAArB,IAA2B6tB,OAAnC;A6BpvDH,A7BqvDGJ,MAAAA,KAAK,GAAG,CAAEjF,GAAG,CAAClpB,GAAJ,CAAQU,CAAR,GAAY0rB,MAAM,CAAC1rB,CAArB,IAA2B6tB,OAAnC;A6BpvDH,A7BsvDG,KALD,MAKO;A6BrvDT,A7BuvDGL,MAAAA,KAAK,GAAG,CAAEhF,GAAG,CAAClpB,GAAJ,CAAQU,CAAR,GAAY0rB,MAAM,CAAC1rB,CAArB,IAA2B6tB,OAAnC;A6BtvDH,A7BuvDGJ,MAAAA,KAAK,GAAG,CAAEjF,GAAG,CAACnpB,GAAJ,CAAQW,CAAR,GAAY0rB,MAAM,CAAC1rB,CAArB,IAA2B6tB,OAAnC;A6BtvDH,A7BwvDG;A6BvvDH;AACA,A7BwvDE,QAAOP,IAAI,GAAGG,KAAT,IAAsBD,KAAK,GAAGD,IAAnC,EAA4C,OAAO,IAAP,CAlCN,CAoCtC;A6BzvDF,A7B0vDE;A6BzvDF;AACA,A7B0vDE,QAAKC,KAAK,GAAGF,IAAR,IAAgBA,IAAI,KAAKA,IAA9B,EAAqCA,IAAI,GAAGE,KAAP;A6BzvDvC,A7B2vDE,QAAKC,KAAK,GAAGF,IAAR,IAAgBA,IAAI,KAAKA,IAA9B,EAAqCA,IAAI,GAAGE,KAAP;A6B1vDvC;AACA,A7B2vDE,QAAKK,OAAO,IAAI,CAAhB,EAAoB;A6B1vDtB,A7B4vDGJ,MAAAA,KAAK,GAAG,CAAElF,GAAG,CAACnpB,GAAJ,CAAQ0P,CAAR,GAAY2c,MAAM,CAAC3c,CAArB,IAA2B+e,OAAnC;A6B3vDH,A7B4vDGH,MAAAA,KAAK,GAAG,CAAEnF,GAAG,CAAClpB,GAAJ,CAAQyP,CAAR,GAAY2c,MAAM,CAAC3c,CAArB,IAA2B+e,OAAnC;A6B3vDH,A7B6vDG,KALD,MAKO;A6B5vDT,A7B8vDGJ,MAAAA,KAAK,GAAG,CAAElF,GAAG,CAAClpB,GAAJ,CAAQyP,CAAR,GAAY2c,MAAM,CAAC3c,CAArB,IAA2B+e,OAAnC;A6B7vDH,A7B8vDGH,MAAAA,KAAK,GAAG,CAAEnF,GAAG,CAACnpB,GAAJ,CAAQ0P,CAAR,GAAY2c,MAAM,CAAC3c,CAArB,IAA2B+e,OAAnC;A6B7vDH,A7B+vDG;A6B9vDH;AACA,A7B+vDE,QAAOR,IAAI,GAAGK,KAAT,IAAsBD,KAAK,GAAGH,IAAnC,EAA4C,OAAO,IAAP;A6B9vD9C,A7BgwDE,QAAKG,KAAK,GAAGJ,IAAR,IAAgBA,IAAI,KAAKA,IAA9B,EAAqCA,IAAI,GAAGI,KAAP;A6B/vDvC,A7BiwDE,QAAKC,KAAK,GAAGJ,IAAR,IAAgBA,IAAI,KAAKA,IAA9B,EAAqCA,IAAI,GAAGI,KAAP,CA3DC,CA6DtC;A6BlwDF;AACA,A7BmwDE,QAAKJ,IAAI,GAAG,CAAZ,EAAgB,OAAO,IAAP;A6BlwDlB,A7BowDE,WAAO,KAAK1B,EAAL,CAASyB,IAAI,IAAI,CAAR,GAAYA,IAAZ,GAAmBC,IAA5B,EAAkCp9B,MAAlC,CAAP;A6BnwDF,A7BqwDE,GAvY4B;A6B73C9B,A7BswDCk5B,EAAAA,aAAa,EAAE,UAAWb,GAAX,EAAiB;A6BrwDjC,A7BuwDE,WAAO,KAAK6E,YAAL,CAAmB7E,GAAnB,EAAwB0C,SAAxB,MAAwC,IAA/C;A6BtwDF,A7BwwDE,GA7Y4B;A6B13C9B,A7BywDC6C,EAAAA,iBAAiB,EAAE,UAAWzsB,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAoBwsB,eAApB,EAAqC79B,MAArC,EAA8C;A6BxwDlE,A7B0wDE;A6BzwDF,A7B2wDE;A6B1wDF,A7B4wDEm7B,IAAAA,MAAM,CAAC1nB,UAAP,CAAmBrC,CAAnB,EAAsBD,CAAtB;A6B3wDF;AACA,A7B2wDEiqB,IAAAA,MAAM,CAAC3nB,UAAP,CAAmBpC,CAAnB,EAAsBF,CAAtB;A6B1wDF;AACA,A7B0wDEkqB,IAAAA,OAAO,CAAChU,YAAR,CAAsB8T,MAAtB,EAA8BC,MAA9B,EARgE,CAUhE;A6B3wDF,A7B4wDE;A6B3wDF,A7B4wDE;A6B3wDF,A7B4wDE;A6B3wDF,A7B4wDE;A6B3wDF;AACA;AACA,A7B0wDE,QAAI0C,GAAG,GAAG,KAAKtC,SAAL,CAAe/mB,GAAf,CAAoB4mB,OAApB,CAAV;A6BzwDF,A7B0wDE,QAAI/7B,IAAJ;A6BzwDF;AACA,A7B0wDE,QAAKw+B,GAAG,GAAG,CAAX,EAAe;A6BzwDjB,A7B2wDG,UAAKD,eAAL,EAAuB,OAAO,IAAP;A6B1wD1B,A7B2wDGv+B,MAAAA,IAAI,GAAG,CAAP;A6B1wDH,A7B4wDG,KALD,MAKO,IAAKw+B,GAAG,GAAG,CAAX,EAAe;A6B3wDxB,A7B6wDGx+B,MAAAA,IAAI,GAAG,CAAE,CAAT;A6B5wDH,A7B6wDGw+B,MAAAA,GAAG,GAAG,CAAEA,GAAR;A6B5wDH,A7B8wDG,KALM,MAKA;A6B7wDT,A7B+wDG,aAAO,IAAP;A6B9wDH,A7BgxDG;A6B/wDH;AACA,A7BgxDE5C,IAAAA,KAAK,CAACznB,UAAN,CAAkB,KAAK8nB,MAAvB,EAA+BpqB,CAA/B;A6B/wDF;AACA,A7B+wDE,QAAI4sB,MAAM,GAAGz+B,IAAI,GAAG,KAAKk8B,SAAL,CAAe/mB,GAAf,CAAoB2mB,MAAM,CAAC/T,YAAP,CAAqB6T,KAArB,EAA4BE,MAA5B,CAApB,CAApB,CAnCgE,CAqChE;A6BhxDF;AACA,A7BgxDE,QAAK2C,MAAM,GAAG,CAAd,EAAkB;A6B/wDpB,A7BixDG,aAAO,IAAP;A6BhxDH,A7BkxDG;A6BjxDH;AACA,A7BkxDE,QAAIC,MAAM,GAAG1+B,IAAI,GAAG,KAAKk8B,SAAL,CAAe/mB,GAAf,CAAoB0mB,MAAM,CAACzmB,KAAP,CAAcwmB,KAAd,CAApB,CAApB,CA5CgE,CA8ChE;A6BnxDF;AACA,A7BmxDE,QAAK8C,MAAM,GAAG,CAAd,EAAkB;A6BlxDpB,A7BoxDG,aAAO,IAAP;A6BnxDH,A7BqxDG,KAnD+D,CAqDhE;A6BtxDF;AACA;AACA,A7BqxDE,QAAKD,MAAM,GAAGC,MAAT,GAAkBF,GAAvB,EAA6B;A6BpxD/B,A7BsxDG,aAAO,IAAP;A6BrxDH,A7BuxDG,KA1D+D,CA4DhE;A6BxxDF;AACA;AACA,A7BuxDE,QAAIG,GAAG,GAAG,CAAE3+B,IAAF,GAAS47B,KAAK,CAACzmB,GAAN,CAAW4mB,OAAX,CAAnB,CA7DgE,CA+DhE;A6BxxDF;AACA;AACA,A7BuxDE,QAAK4C,GAAG,GAAG,CAAX,EAAe;A6BtxDjB,A7BwxDG,aAAO,IAAP;A6BvxDH,A7ByxDG,KApE+D,CAsEhE;A6B1xDF;AACA;AACA,A7ByxDE,WAAO,KAAKvC,EAAL,CAASuC,GAAG,GAAGH,GAAf,EAAoB99B,MAApB,CAAP;A6BxxDF,A7B0xDE,GAxd4B;A6Bj0C9B,A7B2xDCgf,EAAAA,YAAY,EAAE,UAAW7E,OAAX,EAAqB;A6B1xDpC,A7B4xDE,SAAKohB,MAAL,CAAYvc,YAAZ,CAA0B7E,OAA1B;A6B3xDF,A7B4xDE,SAAKqhB,SAAL,CAAepU,kBAAf,CAAmCjN,OAAnC;A6B3xDF,A7B6xDE,WAAO,IAAP;A6B5xDF,A7B8xDE,GAje4B;A6B5zC9B,A7B+xDCvE,EAAAA,MAAM,EAAE,UAAW6lB,GAAX,EAAiB;A6B9xD1B,A7BgyDE,WAAOA,GAAG,CAACF,MAAJ,CAAW3lB,MAAX,CAAmB,KAAK2lB,MAAxB,KAAoCE,GAAG,CAACD,SAAJ,CAAc5lB,MAAd,CAAsB,KAAK4lB,SAA3B,CAA3C;A6B/xDF,A7BiyDE;A6BhyDF,A7ByzC8B,CAA9B;A6BxzCA,A7BmyDA;A6BlyDA;AACA;AACA;AACA,A7BmyDA,IAAI0C,QAAQ,GAAG,IAAIrY,OAAJ,EAAf;A6BlyDA;AACA,A7BkyDA,IAAIsY,QAAQ,GAAG,IAAItY,OAAJ,EAAf;A6BjyDA;AACA,A7BiyDA,IAAIuY,aAAa,GAAG,IAAI9nB,OAAJ,EAApB;A6BhyDA;AACA,A7BiyDA,SAAS+nB,KAAT,CAAgBpW,MAAhB,EAAwBuR,QAAxB,EAAmC;A6BhyDnC,A7BkyDC;A6BjyDD,A7BmyDC,OAAKvR,MAAL,GAAgBA,MAAM,KAAKlpB,SAAb,GAA2BkpB,MAA3B,GAAoC,IAAIpC,OAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAlD;A6BlyDD,A7BmyDC,OAAK2T,QAAL,GAAkBA,QAAQ,KAAKz6B,SAAf,GAA6By6B,QAA7B,GAAwC,CAAxD;A6BlyDD,A7BoyDC;A6BnyDD;AACA,A7BoyDA95B,MAAM,CAACK,MAAP,CAAes+B,KAAK,CAAC5+B,SAArB,EAAgC;A6BnyDhC,A7BqyDC6+B,EAAAA,OAAO,EAAE,IAFsB;A6BlyDhC,A7BsyDCrsB,EAAAA,GAAG,EAAE,UAAWgW,MAAX,EAAmBuR,QAAnB,EAA8B;A6BryDpC,A7BuyDE,SAAKvR,MAAL,CAAYjV,IAAZ,CAAkBiV,MAAlB;A6BtyDF,A7BuyDE,SAAKuR,QAAL,GAAgBA,QAAhB;A6BtyDF,A7BwyDE,WAAO,IAAP;A6BvyDF,A7ByyDE,GAX8B;A6B7xDhC,A7B0yDC+E,EAAAA,aAAa,EAAE,UAAWh/B,CAAX,EAAcsQ,CAAd,EAAiB+O,CAAjB,EAAoBzL,CAApB,EAAwB;A6BzyDxC,A7B2yDE,SAAK8U,MAAL,CAAYhW,GAAZ,CAAiB1S,CAAjB,EAAoBsQ,CAApB,EAAuB+O,CAAvB;A6B1yDF,A7B2yDE,SAAK4a,QAAL,GAAgBrmB,CAAhB;A6B1yDF,A7B4yDE,WAAO,IAAP;A6B3yDF,A7B6yDE,GApB8B;A6BxxDhC,A7B8yDCqrB,EAAAA,6BAA6B,EAAE,UAAWvW,MAAX,EAAmBwQ,KAAnB,EAA2B;A6B7yD3D,A7B+yDE,SAAKxQ,MAAL,CAAYjV,IAAZ,CAAkBiV,MAAlB;A6B9yDF,A7B+yDE,SAAKuR,QAAL,GAAgB,CAAEf,KAAK,CAAChkB,GAAN,CAAW,KAAKwT,MAAhB,CAAlB;A6B9yDF,A7BgzDE,WAAO,IAAP;A6B/yDF,A7BizDE,GA7B8B;A6BnxDhC,A7BkzDCwW,EAAAA,qBAAqB,EAAE,UAAWttB,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAqB;A6BjzD7C,A7BmzDE,QAAI4W,MAAM,GAAGiW,QAAQ,CAACzqB,UAAT,CAAqBpC,CAArB,EAAwBD,CAAxB,EAA4BsD,KAA5B,CAAmCypB,QAAQ,CAAC1qB,UAAT,CAAqBtC,CAArB,EAAwBC,CAAxB,CAAnC,EAAiE2D,SAAjE,EAAb,CAF2C,CAI3C;A6BpzDF;AACA;AACA,A7BozDE,SAAKypB,6BAAL,CAAoCvW,MAApC,EAA4C9W,CAA5C;A6BnzDF,A7BqzDE,WAAO,IAAP;A6BpzDF,A7BszDE,GAzC8B;A6B5wDhC,A7BuzDC2B,EAAAA,KAAK,EAAE,YAAY;A6BtzDpB,A7BwzDE,WAAO,IAAI,KAAKC,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;A6BvzDF,A7ByzDE,GA/C8B;A6BzwDhC,A7B0zDCA,EAAAA,IAAI,EAAE,UAAWumB,KAAX,EAAmB;A6BzzD1B,A7B2zDE,SAAKtR,MAAL,CAAYjV,IAAZ,CAAkBumB,KAAK,CAACtR,MAAxB;A6B1zDF,A7B2zDE,SAAKuR,QAAL,GAAgBD,KAAK,CAACC,QAAtB;A6B1zDF,A7B4zDE,WAAO,IAAP;A6B3zDF,A7B6zDE,GAxD8B;A6BpwDhC,A7B8zDCzkB,EAAAA,SAAS,EAAE,YAAY;A6B7zDxB,A7B+zDE;A6B9zDF,A7Bg0DE,QAAI2pB,mBAAmB,GAAG,MAAM,KAAKzW,MAAL,CAAY5nB,MAAZ,EAAhC;A6B/zDF,A7Bg0DE,SAAK4nB,MAAL,CAAYrU,cAAZ,CAA4B8qB,mBAA5B;A6B/zDF,A7Bg0DE,SAAKlF,QAAL,IAAiBkF,mBAAjB;A6B/zDF,A7Bi0DE,WAAO,IAAP;A6Bh0DF,A7Bk0DE,GApE8B;A6B7vDhC,A7Bm0DClqB,EAAAA,MAAM,EAAE,YAAY;A6Bl0DrB,A7Bo0DE,SAAKglB,QAAL,IAAiB,CAAE,CAAnB;A6Bn0DF,A7Bo0DE,SAAKvR,MAAL,CAAYzT,MAAZ;A6Bn0DF,A7Bq0DE,WAAO,IAAP;A6Bp0DF,A7Bs0DE,GA7E8B;A6BxvDhC,A7Bu0DCqlB,EAAAA,eAAe,EAAE,UAAWpB,KAAX,EAAmB;A6Bt0DrC,A7Bw0DE,WAAO,KAAKxQ,MAAL,CAAYxT,GAAZ,CAAiBgkB,KAAjB,IAA2B,KAAKe,QAAvC;A6Bv0DF,A7By0DE,GAnF8B;A6BrvDhC,A7B00DCmF,EAAAA,gBAAgB,EAAE,UAAWvF,MAAX,EAAoB;A6Bz0DvC,A7B20DE,WAAO,KAAKS,eAAL,CAAsBT,MAAM,CAAC/iB,MAA7B,IAAwC+iB,MAAM,CAAC/Q,MAAtD;A6B10DF,A7B40DE,GAzF8B;A6BlvDhC,A7B60DCuW,EAAAA,YAAY,EAAE,UAAWnG,KAAX,EAAkBz4B,MAAlB,EAA2B;A6B50D1C,A7B80DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B70D9B,A7B+0DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,qDAAd;A6B90DH,A7B+0DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B90DH,A7Bg1DG;A6B/0DH;AACA,A7Bg1DE,WAAO7lB,MAAM,CAACgT,IAAP,CAAa,KAAKiV,MAAlB,EAA2BrU,cAA3B,CAA2C,CAAE,KAAKimB,eAAL,CAAsBpB,KAAtB,CAA7C,EAA6EvlB,GAA7E,CAAkFulB,KAAlF,CAAP;A6B/0DF,A7Bi1DE,GAtG8B;A6B1uDhC,A7Bk1DCoG,EAAAA,aAAa,EAAE,UAAWC,IAAX,EAAiB9+B,MAAjB,EAA0B;A6Bj1D1C,A7Bm1DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bl1D9B,A7Bo1DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,sDAAd;A6Bn1DH,A7Bo1DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bn1DH,A7Bq1DG;A6Bp1DH;AACA,A7Bq1DE,QAAI2V,SAAS,GAAGsD,IAAI,CAACC,KAAL,CAAYb,QAAZ,CAAhB;A6Bp1DF,A7Bs1DE,QAAIrW,WAAW,GAAG,KAAKI,MAAL,CAAYxT,GAAZ,CAAiB+mB,SAAjB,CAAlB;A6Br1DF;AACA,A7Bs1DE,QAAK3T,WAAW,KAAK,CAArB,EAAyB;A6Br1D3B,A7Bu1DG;A6Bt1DH,A7Bu1DG,UAAK,KAAKgS,eAAL,CAAsBiF,IAAI,CAACE,KAA3B,MAAuC,CAA5C,EAAgD;A6Bt1DnD,A7Bw1DI,eAAOh/B,MAAM,CAACgT,IAAP,CAAa8rB,IAAI,CAACE,KAAlB,CAAP;A6Bv1DJ,A7By1DI,OAPuB,CASxB;A6B11DH;AACA;AACA,A7By1DG,aAAOjgC,SAAP;A6Bx1DH,A7B01DG;A6Bz1DH;AACA,A7B01DE,QAAI+Q,CAAC,GAAG,EAAIgvB,IAAI,CAACE,KAAL,CAAWvqB,GAAX,CAAgB,KAAKwT,MAArB,IAAgC,KAAKuR,QAAzC,IAAsD3R,WAA9D;A6Bz1DF;AACA,A7B01DE,QAAK/X,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,CAAlB,EAAsB;A6Bz1DxB,A7B21DG,aAAO/Q,SAAP;A6B11DH,A7B41DG;A6B31DH;AACA,A7B41DE,WAAOiB,MAAM,CAACgT,IAAP,CAAawoB,SAAb,EAAyB5nB,cAAzB,CAAyC9D,CAAzC,EAA6CoD,GAA7C,CAAkD4rB,IAAI,CAACE,KAAvD,CAAP;A6B31DF,A7B61DE,GA7I8B;A6B/sDhC,A7B81DCC,EAAAA,cAAc,EAAE,UAAWH,IAAX,EAAkB;A6B71DnC,A7B+1DE;A6B91DF,A7Bg2DE,QAAII,SAAS,GAAG,KAAKrF,eAAL,CAAsBiF,IAAI,CAACE,KAA3B,CAAhB;A6B/1DF,A7Bg2DE,QAAIG,OAAO,GAAG,KAAKtF,eAAL,CAAsBiF,IAAI,CAACM,GAA3B,CAAd;A6B/1DF,A7Bi2DE,WAASF,SAAS,GAAG,CAAZ,IAAiBC,OAAO,GAAG,CAA7B,IAAsCA,OAAO,GAAG,CAAV,IAAeD,SAAS,GAAG,CAAxE;A6Bh2DF,A7Bk2DE,GAxJ8B;A6BzsDhC,A7Bm2DChG,EAAAA,aAAa,EAAE,UAAWb,GAAX,EAAiB;A6Bl2DjC,A7Bo2DE,WAAOA,GAAG,CAACiB,eAAJ,CAAqB,IAArB,CAAP;A6Bn2DF,A7Bq2DE,GA9J8B;A6BtsDhC,A7Bs2DCH,EAAAA,gBAAgB,EAAE,UAAWC,MAAX,EAAoB;A6Br2DvC,A7Bu2DE,WAAOA,MAAM,CAACE,eAAP,CAAwB,IAAxB,CAAP;A6Bt2DF,A7Bw2DE,GApK8B;A6BnsDhC,A7By2DC+F,EAAAA,aAAa,EAAE,UAAWr/B,MAAX,EAAoB;A6Bx2DpC,A7B02DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bz2D9B,A7B22DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,sDAAd;A6B12DH,A7B22DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B12DH,A7B42DG;A6B32DH;AACA,A7B42DE,WAAO7lB,MAAM,CAACgT,IAAP,CAAa,KAAKiV,MAAlB,EAA2BrU,cAA3B,CAA2C,CAAE,KAAK4lB,QAAlD,CAAP;A6B32DF,A7B62DE,GAjL8B;A6B3rDhC,A7B82DCxa,EAAAA,YAAY,EAAE,UAAWzF,MAAX,EAAmB+lB,oBAAnB,EAA0C;A6B72DzD,A7B+2DE,QAAI3O,YAAY,GAAG2O,oBAAoB,IAAIlB,aAAa,CAAClkB,eAAd,CAA+BX,MAA/B,CAA3C;A6B92DF;AACA,A7B+2DE,QAAIgmB,cAAc,GAAG,KAAKF,aAAL,CAAoBnB,QAApB,EAA+Blf,YAA/B,CAA6CzF,MAA7C,CAArB;A6B92DF,A7Bg3DE,QAAI0O,MAAM,GAAG,KAAKA,MAAL,CAAYlU,YAAZ,CAA0B4c,YAA1B,EAAyC5b,SAAzC,EAAb;A6B/2DF,A7Bi3DE,SAAKykB,QAAL,GAAgB,CAAE+F,cAAc,CAAC9qB,GAAf,CAAoBwT,MAApB,CAAlB;A6Bh3DF,A7Bk3DE,WAAO,IAAP;A6Bj3DF,A7Bm3DE,GA/L8B;A6BnrDhC,A7Bo3DChN,EAAAA,SAAS,EAAE,UAAWnF,MAAX,EAAoB;A6Bn3DhC,A7Bq3DE,SAAK0jB,QAAL,IAAiB1jB,MAAM,CAACrB,GAAP,CAAY,KAAKwT,MAAjB,CAAjB;A6Bp3DF,A7Bs3DE,WAAO,IAAP;A6Br3DF,A7Bu3DE,GAvM8B;A6B/qDhC,A7Bw3DCrS,EAAAA,MAAM,EAAE,UAAW2jB,KAAX,EAAmB;A6Bv3D5B,A7By3DE,WAAOA,KAAK,CAACtR,MAAN,CAAarS,MAAb,CAAqB,KAAKqS,MAA1B,KAAwCsR,KAAK,CAACC,QAAN,KAAmB,KAAKA,QAAvE;A6Bx3DF,A7B03DE;A6Bz3DF,A7B4qDgC,CAAhC;A6B3qDA,A7B43DA;A6B33DA;AACA;AACA;AACA;AACA,A7B43DA,IAAIgG,KAAK,GAAG,IAAI3Z,OAAJ,EAAZ;A6B33DA;AACA,A7B23DA,IAAI4Z,KAAK,GAAG,IAAI5Z,OAAJ,EAAZ;A6B13DA;AACA,A7B03DA,IAAI6Z,KAAK,GAAG,IAAI7Z,OAAJ,EAAZ;A6Bz3DA;AACA,A7By3DA,IAAI8Z,GAAG,GAAG,IAAI9Z,OAAJ,EAAV;A6Bx3DA;AACA,A7By3DA,IAAI+Z,IAAI,GAAG,IAAI/Z,OAAJ,EAAX;A6Bx3DA;AACA,A7Bw3DA,IAAIga,IAAI,GAAG,IAAIha,OAAJ,EAAX;A6Bv3DA;AACA,A7Bu3DA,IAAIia,IAAI,GAAG,IAAIja,OAAJ,EAAX;A6Bt3DA;AACA,A7Bs3DA,IAAIka,IAAI,GAAG,IAAIla,OAAJ,EAAX;A6Br3DA;AACA,A7Bq3DA,IAAIma,IAAI,GAAG,IAAIna,OAAJ,EAAX;A6Bp3DA;AACA,A7Bo3DA,IAAIoa,IAAI,GAAG,IAAIpa,OAAJ,EAAX;A6Bn3DA;AACA,A7Bo3DA,SAASqa,QAAT,CAAmB/uB,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA6B;A6Bn3D7B,A7Bq3DC,OAAKF,CAAL,GAAWA,CAAC,KAAKpS,SAAR,GAAsBoS,CAAtB,GAA0B,IAAI0U,OAAJ,EAAnC;A6Bp3DD,A7Bq3DC,OAAKzU,CAAL,GAAWA,CAAC,KAAKrS,SAAR,GAAsBqS,CAAtB,GAA0B,IAAIyU,OAAJ,EAAnC;A6Bp3DD,A7Bq3DC,OAAKxU,CAAL,GAAWA,CAAC,KAAKtS,SAAR,GAAsBsS,CAAtB,GAA0B,IAAIwU,OAAJ,EAAnC;A6Bp3DD,A7Bs3DC;A6Br3DD;AACA,A7Bs3DAnmB,MAAM,CAACK,MAAP,CAAemgC,QAAf,EAAyB;A6Br3DzB,A7Bu3DCC,EAAAA,SAAS,EAAE,UAAWhvB,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAoBrR,MAApB,EAA6B;A6Bt3DzC,A7Bw3DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bv3D9B,A7By3DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,qDAAd;A6Bx3DH,A7By3DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bx3DH,A7B03DG;A6Bz3DH;AACA,A7B03DE7lB,IAAAA,MAAM,CAACyT,UAAP,CAAmBpC,CAAnB,EAAsBD,CAAtB;A6Bz3DF;AACA,A7By3DEouB,IAAAA,KAAK,CAAC/rB,UAAN,CAAkBtC,CAAlB,EAAqBC,CAArB;A6Bx3DF;AACA,A7Bw3DEpR,IAAAA,MAAM,CAAC0U,KAAP,CAAc8qB,KAAd;A6Bv3DF,A7By3DE,QAAIY,cAAc,GAAGpgC,MAAM,CAAC2U,QAAP,EAArB;A6Bx3DF;AACA,A7Bw3DE,QAAKyrB,cAAc,GAAG,CAAtB,EAA0B;A6Bv3D5B,A7By3DG,aAAOpgC,MAAM,CAAC4T,cAAP,CAAuB,IAAI5U,IAAI,CAAC4V,IAAL,CAAWwrB,cAAX,CAA3B,CAAP;A6Bx3DH,A7B03DG;A6Bz3DH;AACA,A7B03DE,WAAOpgC,MAAM,CAACiS,GAAP,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAP;A6Bz3DF,A7B23DE,GAxBuB;A6Bl2DzB,A7B43DC;A6B33DD,A7B43DC;A6B33DD,A7B43DCouB,EAAAA,YAAY,EAAE,UAAW5H,KAAX,EAAkBtnB,CAAlB,EAAqBC,CAArB,EAAwBC,CAAxB,EAA2BrR,MAA3B,EAAoC;A6B33DnD,A7B63DEw/B,IAAAA,KAAK,CAAC/rB,UAAN,CAAkBpC,CAAlB,EAAqBF,CAArB;A6B53DF;AACA,A7B43DEsuB,IAAAA,KAAK,CAAChsB,UAAN,CAAkBrC,CAAlB,EAAqBD,CAArB;A6B33DF;AACA,A7B23DEuuB,IAAAA,KAAK,CAACjsB,UAAN,CAAkBglB,KAAlB,EAAyBtnB,CAAzB;A6B13DF;AACA,A7B23DE,QAAImvB,KAAK,GAAGd,KAAK,CAAC/qB,GAAN,CAAW+qB,KAAX,CAAZ;A6B13DF;AACA,A7B03DE,QAAIe,KAAK,GAAGf,KAAK,CAAC/qB,GAAN,CAAWgrB,KAAX,CAAZ;A6Bz3DF;AACA,A7By3DE,QAAIe,KAAK,GAAGhB,KAAK,CAAC/qB,GAAN,CAAWirB,KAAX,CAAZ;A6Bx3DF;AACA,A7Bw3DE,QAAIe,KAAK,GAAGhB,KAAK,CAAChrB,GAAN,CAAWgrB,KAAX,CAAZ;A6Bv3DF;AACA,A7Bu3DE,QAAIiB,KAAK,GAAGjB,KAAK,CAAChrB,GAAN,CAAWirB,KAAX,CAAZ;A6Bt3DF;AACA,A7Bu3DE,QAAIiB,KAAK,GAAKL,KAAK,GAAGG,KAAR,GAAgBF,KAAK,GAAGA,KAAtC;A6Bt3DF;AACA,A7Bu3DE,QAAKvgC,MAAM,KAAKjB,SAAhB,EAA4B;A6Bt3D9B,A7Bw3DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,wDAAd;A6Bv3DH,A7Bw3DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bv3DH,A7By3DG,KAnBgD,CAqBjD;A6B13DF;AACA;AACA,A7By3DE,QAAK8a,KAAK,KAAK,CAAf,EAAmB;A6Bx3DrB,A7B03DG;A6Bz3DH,A7B03DG;A6Bz3DH,A7B03DG,aAAO3gC,MAAM,CAACiS,GAAP,CAAY,CAAE,CAAd,EAAiB,CAAE,CAAnB,EAAsB,CAAE,CAAxB,CAAP;A6Bz3DH,A7B23DG;A6B13DH;AACA,A7B23DE,QAAI2uB,QAAQ,GAAG,IAAID,KAAnB;A6B13DF,A7B23DE,QAAIE,CAAC,GAAG,CAAEJ,KAAK,GAAGD,KAAR,GAAgBD,KAAK,GAAGG,KAA1B,IAAoCE,QAA5C;A6B13DF,A7B23DE,QAAI3tB,CAAC,GAAG,CAAEqtB,KAAK,GAAGI,KAAR,GAAgBH,KAAK,GAAGC,KAA1B,IAAoCI,QAA5C,CAhCiD,CAkCjD;A6B53DF;AACA,A7B43DE,WAAO5gC,MAAM,CAACiS,GAAP,CAAY,IAAI4uB,CAAJ,GAAQ5tB,CAApB,EAAuBA,CAAvB,EAA0B4tB,CAA1B,CAAP;A6B33DF,A7B63DE,GAjEuB;A6B3zDzB,A7B83DC9H,EAAAA,aAAa,EAAE,UAAWN,KAAX,EAAkBtnB,CAAlB,EAAqBC,CAArB,EAAwBC,CAAxB,EAA4B;A6B73D5C,A7B+3DE6uB,IAAAA,QAAQ,CAACG,YAAT,CAAuB5H,KAAvB,EAA8BtnB,CAA9B,EAAiCC,CAAjC,EAAoCC,CAApC,EAAuCsuB,GAAvC;A6B93DF,A7Bg4DE,WAASA,GAAG,CAACpgC,CAAJ,IAAS,CAAX,IAAoBogC,GAAG,CAAC9vB,CAAJ,IAAS,CAA7B,IAAwC8vB,GAAG,CAACpgC,CAAJ,GAAQogC,GAAG,CAAC9vB,CAAd,IAAqB,CAAlE;A6B/3DF,A7Bi4DE,GAzEuB;A6BvzDzB,A7Bk4DCixB,EAAAA,KAAK,EAAE,UAAWrI,KAAX,EAAkB4B,EAAlB,EAAsBC,EAAtB,EAA0ByG,EAA1B,EAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,GAAxC,EAA6ClhC,MAA7C,EAAsD;A6Bj4D9D,A7Bm4DE,SAAKqgC,YAAL,CAAmB5H,KAAnB,EAA0B4B,EAA1B,EAA8BC,EAA9B,EAAkCyG,EAAlC,EAAsCpB,GAAtC;A6Bl4DF,A7Bo4DE3/B,IAAAA,MAAM,CAACiS,GAAP,CAAY,CAAZ,EAAe,CAAf;A6Bn4DF,A7Bo4DEjS,IAAAA,MAAM,CAACuT,eAAP,CAAwBytB,GAAxB,EAA6BrB,GAAG,CAACpgC,CAAjC;A6Bn4DF,A7Bo4DES,IAAAA,MAAM,CAACuT,eAAP,CAAwB0tB,GAAxB,EAA6BtB,GAAG,CAAC9vB,CAAjC;A6Bn4DF,A7Bo4DE7P,IAAAA,MAAM,CAACuT,eAAP,CAAwB2tB,GAAxB,EAA6BvB,GAAG,CAAC/gB,CAAjC;A6Bn4DF,A7Bq4DE,WAAO5e,MAAP;A6Bp4DF,A7Bs4DE,GAtFuB;A6B/yDzB,A7Bu4DCmhC,EAAAA,aAAa,EAAE,UAAWhwB,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAoBmqB,SAApB,EAAgC;A6Bt4DhD,A7Bw4DEgE,IAAAA,KAAK,CAAC/rB,UAAN,CAAkBpC,CAAlB,EAAqBD,CAArB;A6Bv4DF;AACA,A7Bu4DEquB,IAAAA,KAAK,CAAChsB,UAAN,CAAkBtC,CAAlB,EAAqBC,CAArB,EAH8C,CAK9C;A6Bx4DF;AACA;AACA,A7Bu4DE,WAASouB,KAAK,CAAC9qB,KAAN,CAAa+qB,KAAb,EAAqBhrB,GAArB,CAA0B+mB,SAA1B,IAAwC,CAA1C,GAAgD,IAAhD,GAAuD,KAA9D;A6Bt4DF,A7Bw4DE;A6Bv4DF,A7BuyDyB,CAAzB;A6BtyDA,A7B04DA97B,MAAM,CAACK,MAAP,CAAemgC,QAAQ,CAACzgC,SAAxB,EAAmC;A6Bz4DnC,A7B24DCwS,EAAAA,GAAG,EAAE,UAAWd,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAqB;A6B14D3B,A7B44DE,SAAKF,CAAL,CAAO6B,IAAP,CAAa7B,CAAb;A6B34DF,A7B44DE,SAAKC,CAAL,CAAO4B,IAAP,CAAa5B,CAAb;A6B34DF,A7B44DE,SAAKC,CAAL,CAAO2B,IAAP,CAAa3B,CAAb;A6B34DF,A7B64DE,WAAO,IAAP;A6B54DF,A7B84DE,GAViC;A6Bn4DnC,A7B+4DC+vB,EAAAA,uBAAuB,EAAE,UAAWxJ,MAAX,EAAmByJ,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAAgC;A6B94D1D,A7Bg5DE,SAAKpwB,CAAL,CAAO6B,IAAP,CAAa4kB,MAAM,CAAEyJ,EAAF,CAAnB;A6B/4DF,A7Bg5DE,SAAKjwB,CAAL,CAAO4B,IAAP,CAAa4kB,MAAM,CAAE0J,EAAF,CAAnB;A6B/4DF,A7Bg5DE,SAAKjwB,CAAL,CAAO2B,IAAP,CAAa4kB,MAAM,CAAE2J,EAAF,CAAnB;A6B/4DF,A7Bi5DE,WAAO,IAAP;A6Bh5DF,A7Bk5DE,GApBiC;A6B73DnC,A7Bm5DCzuB,EAAAA,KAAK,EAAE,YAAY;A6Bl5DpB,A7Bo5DE,WAAO,IAAI,KAAKC,WAAT,GAAuBC,IAAvB,CAA6B,IAA7B,CAAP;A6Bn5DF,A7Bq5DE,GA1BiC;A6B13DnC,A7Bs5DCA,EAAAA,IAAI,EAAE,UAAW0mB,QAAX,EAAsB;A6Br5D7B,A7Bu5DE,SAAKvoB,CAAL,CAAO6B,IAAP,CAAa0mB,QAAQ,CAACvoB,CAAtB;A6Bt5DF,A7Bu5DE,SAAKC,CAAL,CAAO4B,IAAP,CAAa0mB,QAAQ,CAACtoB,CAAtB;A6Bt5DF,A7Bu5DE,SAAKC,CAAL,CAAO2B,IAAP,CAAa0mB,QAAQ,CAACroB,CAAtB;A6Bt5DF,A7Bw5DE,WAAO,IAAP;A6Bv5DF,A7By5DE,GApCiC;A6Bp3DnC,A7B05DCmwB,EAAAA,OAAO,EAAE,YAAY;A6Bz5DtB,A7B25DEhC,IAAAA,KAAK,CAAC/rB,UAAN,CAAkB,KAAKpC,CAAvB,EAA0B,KAAKD,CAA/B;A6B15DF;AACA,A7B05DEquB,IAAAA,KAAK,CAAChsB,UAAN,CAAkB,KAAKtC,CAAvB,EAA0B,KAAKC,CAA/B;A6Bz5DF;AACA,A7B05DE,WAAOouB,KAAK,CAAC9qB,KAAN,CAAa+qB,KAAb,EAAqBp/B,MAArB,KAAgC,GAAvC;A6Bz5DF,A7B25DE,GA7CiC;A6B72DnC,A7B45DCohC,EAAAA,WAAW,EAAE,UAAWzhC,MAAX,EAAoB;A6B35DlC,A7B65DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6B55D9B,A7B85DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,uDAAd;A6B75DH,A7B85DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6B75DH,A7B+5DG;A6B95DH;AACA,A7B+5DE,WAAO7lB,MAAM,CAACoT,UAAP,CAAmB,KAAKjC,CAAxB,EAA2B,KAAKC,CAAhC,EAAoC8B,GAApC,CAAyC,KAAK7B,CAA9C,EAAkDuC,cAAlD,CAAkE,IAAI,CAAtE,CAAP;A6B95DF,A7Bg6DE,GA1DiC;A6Br2DnC,A7Bi6DCusB,EAAAA,SAAS,EAAE,UAAWngC,MAAX,EAAoB;A6Bh6DhC,A7Bk6DE,WAAOkgC,QAAQ,CAACC,SAAT,CAAoB,KAAKhvB,CAAzB,EAA4B,KAAKC,CAAjC,EAAoC,KAAKC,CAAzC,EAA4CrR,MAA5C,CAAP;A6Bj6DF,A7Bm6DE,GAhEiC;A6Bl2DnC,A7Bo6DC0hC,EAAAA,QAAQ,EAAE,UAAW1hC,MAAX,EAAoB;A6Bn6D/B,A7Bq6DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bp6D9B,A7Bs6DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,oDAAd;A6Br6DH,A7Bs6DGnS,MAAAA,MAAM,GAAG,IAAIq+B,KAAJ,EAAT;A6Br6DH,A7Bu6DG;A6Bt6DH;AACA,A7Bu6DE,WAAOr+B,MAAM,CAACy+B,qBAAP,CAA8B,KAAKttB,CAAnC,EAAsC,KAAKC,CAA3C,EAA8C,KAAKC,CAAnD,CAAP;A6Bt6DF,A7Bw6DE,GA7EiC;A6B11DnC,A7By6DCgvB,EAAAA,YAAY,EAAE,UAAW5H,KAAX,EAAkBz4B,MAAlB,EAA2B;A6Bx6D1C,A7B06DE,WAAOkgC,QAAQ,CAACG,YAAT,CAAuB5H,KAAvB,EAA8B,KAAKtnB,CAAnC,EAAsC,KAAKC,CAA3C,EAA8C,KAAKC,CAAnD,EAAsDrR,MAAtD,CAAP;A6Bz6DF,A7B26DE,GAnFiC;A6Bv1DnC,A7B46DC8gC,EAAAA,KAAK,EAAE,UAAWrI,KAAX,EAAkBuI,GAAlB,EAAuBC,GAAvB,EAA4BC,GAA5B,EAAiClhC,MAAjC,EAA0C;A6B36DlD,A7B66DE,WAAOkgC,QAAQ,CAACY,KAAT,CAAgBrI,KAAhB,EAAuB,KAAKtnB,CAA5B,EAA+B,KAAKC,CAApC,EAAuC,KAAKC,CAA5C,EAA+C2vB,GAA/C,EAAoDC,GAApD,EAAyDC,GAAzD,EAA8DlhC,MAA9D,CAAP;A6B56DF,A7B86DE,GAzFiC;A6Bp1DnC,A7B+6DC+4B,EAAAA,aAAa,EAAE,UAAWN,KAAX,EAAmB;A6B96DnC,A7Bg7DE,WAAOyH,QAAQ,CAACnH,aAAT,CAAwBN,KAAxB,EAA+B,KAAKtnB,CAApC,EAAuC,KAAKC,CAA5C,EAA+C,KAAKC,CAApD,CAAP;A6B/6DF,A7Bi7DE,GA/FiC;A6Bj1DnC,A7Bk7DC8vB,EAAAA,aAAa,EAAE,UAAW3F,SAAX,EAAuB;A6Bj7DvC,A7Bm7DE,WAAO0E,QAAQ,CAACiB,aAAT,CAAwB,KAAKhwB,CAA7B,EAAgC,KAAKC,CAArC,EAAwC,KAAKC,CAA7C,EAAgDmqB,SAAhD,CAAP;A6Bl7DF,A7Bo7DE,GArGiC;A6B90DnC,A7Bq7DCtC,EAAAA,aAAa,EAAE,UAAWb,GAAX,EAAiB;A6Bp7DjC,A7Bs7DE,WAAOA,GAAG,CAACoB,kBAAJ,CAAwB,IAAxB,CAAP;A6Br7DF,A7Bu7DE,GA3GiC;A6B30DnC,A7Bw7DCmC,EAAAA,mBAAmB,EAAE,UAAWlX,CAAX,EAAc1kB,MAAd,EAAuB;A6Bv7D7C,A7By7DE,QAAKA,MAAM,KAAKjB,SAAhB,EAA4B;A6Bx7D9B,A7B07DGmT,MAAAA,OAAO,CAACC,IAAR,CAAc,+DAAd;A6Bz7DH,A7B07DGnS,MAAAA,MAAM,GAAG,IAAI6lB,OAAJ,EAAT;A6Bz7DH,A7B27DG;A6B17DH;AACA,A7B27DE,QAAI1U,CAAC,GAAG,KAAKA,CAAb;A6B17DF,A7B07DE,QAAgBC,CAAC,GAAG,KAAKA,CAAzB;A6Bz7DF,A7By7DE,QAA4BC,CAAC,GAAG,KAAKA,CAArC;A6Bx7DF,A7By7DE,QAAI4B,CAAJ,EAAOE,CAAP,CAV2C,CAY3C;A6B17DF,A7B27DE;A6B17DF,A7B27DE;A6B17DF,A7B27DE;A6B17DF,A7B27DE;A6B17DF;AACA,A7B27DEysB,IAAAA,IAAI,CAACnsB,UAAL,CAAiBrC,CAAjB,EAAoBD,CAApB;A6B17DF;AACA,A7B07DE0uB,IAAAA,IAAI,CAACpsB,UAAL,CAAiBpC,CAAjB,EAAoBF,CAApB;A6Bz7DF;AACA,A7By7DE4uB,IAAAA,IAAI,CAACtsB,UAAL,CAAiBiR,CAAjB,EAAoBvT,CAApB;A6Bx7DF;AACA,A7Bw7DE,QAAIvC,EAAE,GAAGgxB,IAAI,CAACnrB,GAAL,CAAUsrB,IAAV,CAAT;A6Bv7DF;AACA,A7Bu7DE,QAAIlxB,EAAE,GAAGgxB,IAAI,CAACprB,GAAL,CAAUsrB,IAAV,CAAT;A6Bt7DF;AACA,A7Bs7DE,QAAKnxB,EAAE,IAAI,CAAN,IAAWC,EAAE,IAAI,CAAtB,EAA0B;A6Br7D5B,A7Bu7DG;A6Bt7DH,A7Bu7DG,aAAO7O,MAAM,CAACgT,IAAP,CAAa7B,CAAb,CAAP;A6Bt7DH,A7Bw7DG;A6Bv7DH;AACA,A7Bw7DE6uB,IAAAA,IAAI,CAACvsB,UAAL,CAAiBiR,CAAjB,EAAoBtT,CAApB;A6Bv7DF;AACA,A7Bu7DE,QAAItC,EAAE,GAAG8wB,IAAI,CAACnrB,GAAL,CAAUurB,IAAV,CAAT;A6Bt7DF;AACA,A7Bs7DE,QAAI2B,EAAE,GAAG9B,IAAI,CAACprB,GAAL,CAAUurB,IAAV,CAAT;A6Br7DF;AACA,A7Bq7DE,QAAKlxB,EAAE,IAAI,CAAN,IAAW6yB,EAAE,IAAI7yB,EAAtB,EAA2B;A6Bp7D7B,A7Bs7DG;A6Br7DH,A7Bs7DG,aAAO9O,MAAM,CAACgT,IAAP,CAAa5B,CAAb,CAAP;A6Br7DH,A7Bu7DG;A6Bt7DH;AACA,A7Bu7DE,QAAIwwB,EAAE,GAAGhzB,EAAE,GAAG+yB,EAAL,GAAU7yB,EAAE,GAAGD,EAAxB;A6Bt7DF;AACA,A7Bs7DE,QAAK+yB,EAAE,IAAI,CAAN,IAAWhzB,EAAE,IAAI,CAAjB,IAAsBE,EAAE,IAAI,CAAjC,EAAqC;A6Br7DvC,A7Bu7DGmE,MAAAA,CAAC,GAAGrE,EAAE,IAAKA,EAAE,GAAGE,EAAV,CAAN,CAFoC,CAGpC;A6Bv7DH;AACA,A7Bu7DG,aAAO9O,MAAM,CAACgT,IAAP,CAAa7B,CAAb,EAAiBoC,eAAjB,CAAkCqsB,IAAlC,EAAwC3sB,CAAxC,CAAP;A6Bt7DH,A7Bw7DG;A6Bv7DH;AACA,A7Bw7DEgtB,IAAAA,IAAI,CAACxsB,UAAL,CAAiBiR,CAAjB,EAAoBrT,CAApB;A6Bv7DF;AACA,A7Bu7DE,QAAIwwB,EAAE,GAAGjC,IAAI,CAACnrB,GAAL,CAAUwrB,IAAV,CAAT;A6Bt7DF;AACA,A7Bs7DE,QAAI6B,EAAE,GAAGjC,IAAI,CAACprB,GAAL,CAAUwrB,IAAV,CAAT;A6Br7DF;AACA,A7Bq7DE,QAAK6B,EAAE,IAAI,CAAN,IAAWD,EAAE,IAAIC,EAAtB,EAA2B;A6Bp7D7B,A7Bs7DG;A6Br7DH,A7Bs7DG,aAAO9hC,MAAM,CAACgT,IAAP,CAAa3B,CAAb,CAAP;A6Br7DH,A7Bu7DG;A6Bt7DH;AACA,A7Bu7DE,QAAI0wB,EAAE,GAAGF,EAAE,GAAGhzB,EAAL,GAAUD,EAAE,GAAGkzB,EAAxB;A6Bt7DF;AACA,A7Bs7DE,QAAKC,EAAE,IAAI,CAAN,IAAWlzB,EAAE,IAAI,CAAjB,IAAsBizB,EAAE,IAAI,CAAjC,EAAqC;A6Br7DvC,A7Bu7DG3uB,MAAAA,CAAC,GAAGtE,EAAE,IAAKA,EAAE,GAAGizB,EAAV,CAAN,CAFoC,CAGpC;A6Bv7DH;AACA,A7Bu7DG,aAAO9hC,MAAM,CAACgT,IAAP,CAAa7B,CAAb,EAAiBoC,eAAjB,CAAkCssB,IAAlC,EAAwC1sB,CAAxC,CAAP;A6Bt7DH,A7Bw7DG;A6Bv7DH;AACA,A7Bw7DE,QAAI6uB,EAAE,GAAGlzB,EAAE,GAAGgzB,EAAL,GAAUD,EAAE,GAAGF,EAAxB;A6Bv7DF;AACA,A7Bu7DE,QAAKK,EAAE,IAAI,CAAN,IAAaL,EAAE,GAAG7yB,EAAP,IAAe,CAA1B,IAAiC+yB,EAAE,GAAGC,EAAP,IAAe,CAAnD,EAAuD;A6Bt7DzD,A7Bw7DGhC,MAAAA,IAAI,CAACrsB,UAAL,CAAiBpC,CAAjB,EAAoBD,CAApB;A6Bv7DH;AACA,A7Bu7DG+B,MAAAA,CAAC,GAAG,CAAEwuB,EAAE,GAAG7yB,EAAP,KAAkB6yB,EAAE,GAAG7yB,EAAP,IAAgB+yB,EAAE,GAAGC,EAArB,CAAhB,CAAJ,CAHsD,CAItD;A6Bv7DH;AACA,A7Bu7DG,aAAO9hC,MAAM,CAACgT,IAAP,CAAa5B,CAAb,EAAiBmC,eAAjB,CAAkCusB,IAAlC,EAAwC3sB,CAAxC,CAAP,CALsD,CAKF;A6Bt7DvD,A7Bw7DG,KA5E0C,CA8E3C;A6Bz7DF;AACA;AACA,A7Bw7DE,QAAIwtB,KAAK,GAAG,KAAMqB,EAAE,GAAGD,EAAL,GAAUH,EAAhB,CAAZ,CA/E2C,CAgF3C;A6Bx7DF;AACA,A7Bw7DE3uB,IAAAA,CAAC,GAAG8uB,EAAE,GAAGpB,KAAT;A6Bv7DF,A7Bw7DExtB,IAAAA,CAAC,GAAGyuB,EAAE,GAAGjB,KAAT;A6Bv7DF,A7By7DE,WAAO3gC,MAAM,CAACgT,IAAP,CAAa7B,CAAb,EAAiBoC,eAAjB,CAAkCqsB,IAAlC,EAAwC3sB,CAAxC,EAA4CM,eAA5C,CAA6DssB,IAA7D,EAAmE1sB,CAAnE,CAAP;A6Bx7DF,A7B07DE,GAnMiC;A6BtvDnC,A7B27DCyC,EAAAA,MAAM,EAAE,UAAW8jB,QAAX,EAAsB;A6B17D/B,A7B47DE,WAAOA,QAAQ,CAACvoB,CAAT,CAAWyE,MAAX,CAAmB,KAAKzE,CAAxB,KAA+BuoB,QAAQ,CAACtoB,CAAT,CAAWwE,MAAX,CAAmB,KAAKxE,CAAxB,CAA/B,IAA8DsoB,QAAQ,CAACroB,CAAT,CAAWuE,MAAX,CAAmB,KAAKvE,CAAxB,CAArE;A6B37DF,A7B67DE;A6B57DF,A7BmvDmC,CAAnC;A6BlvDA,A7B+7DA;A6B97DA;AACA;AACA;AACA,A7B+7DA,IAAI4wB,cAAc,GAAG;A6B97DrB,A7B87DuB,eAAa,QAAf;A6B77DrB,A7B67D8C,kBAAgB,QAAzC;A6B57DrB,A7B47DwE,UAAQ,QAA3D;A6B37DrB,A7B27D0F,gBAAc,QAAnF;A6B17DrB,A7B07DkH,WAAS,QAAtG;A6Bz7DrB,A7B07DC,WAAS,QADW;A6Bx7DrB,A7By7DoB,YAAU,QADT;A6Bv7DrB,A7Bw7DwC,WAAS,QAD5B;A6Bt7DrB,A7Bu7D2D,oBAAkB,QADxD;A6Br7DrB,A7Bs7DuF,UAAQ,QAD1E;A6Bp7DrB,A7Bq7DyG,gBAAc,QADlG;A6Bn7DrB,A7Bq7DC,WAAS,QAFW;A6Bl7DrB,A7Bo7DoB,eAAa,QAFZ;A6Bj7DrB,A7Bm7D2C,eAAa,QAFnC;A6Bh7DrB,A7Bk7DkE,gBAAc,QAF3D;A6B/6DrB,A7Bi7D0F,eAAa,QAFlF;A6B96DrB,A7Bg7DiH,WAAS,QAFrG;A6B76DrB,A7Bg7DC,oBAAkB,QAHE;A6B56DrB,A7B+6D6B,cAAY,QAHpB;A6B36DrB,A7B86DmD,aAAW,QAHzC;A6B16DrB,A7B66DwE,UAAQ,QAH3D;A6Bz6DrB,A7B46D0F,cAAY,QAHjF;A6Bx6DrB,A7B26DgH,cAAY,QAHvG;A6Bv6DrB,A7B26DC,mBAAiB,QAJG;A6Bt6DrB,A7B06D4B,cAAY,QAJnB;A6Br6DrB,A7By6DkD,eAAa,QAJ1C;A6Bp6DrB,A7Bw6DyE,cAAY,QAJhE;A6Bn6DrB,A7Bu6D+F,eAAa,QAJvF;A6Bl6DrB,A7Bs6DsH,iBAAe,QAJhH;A6Bj6DrB,A7Bs6DC,oBAAkB,QALE;A6Bh6DrB,A7Bq6D6B,gBAAc,QALtB;A6B/5DrB,A7Bo6DqD,gBAAc,QAL9C;A6B95DrB,A7Bm6D6E,aAAW,QALnE;A6B75DrB,A7Bk6DkG,gBAAc,QAL3F;A6B55DrB,A7Bi6D0H,kBAAgB,QALrH;A6B35DrB,A7Bi6DC,mBAAiB,QANG;A6B15DrB,A7Bg6D4B,mBAAiB,QANxB;A6Bz5DrB,A7B+5DuD,mBAAiB,QANnD;A6Bx5DrB,A7B85DkF,mBAAiB,QAN9E;A6Bv5DrB,A7B65D6G,gBAAc,QANtG;A6Bt5DrB,A7B65DC,cAAY,QAPQ;A6Br5DrB,A7B45DuB,iBAAe,QAPjB;A6Bp5DrB,A7B25DgD,aAAW,QAPtC;A6Bn5DrB,A7B05DqE,aAAW,QAP3D;A6Bl5DrB,A7By5D0F,gBAAc,QAPnF;A6Bj5DrB,A7Bw5DkH,eAAa,QAP1G;A6Bh5DrB,A7Bw5DC,iBAAe,QARK;A6B/4DrB,A7Bu5D0B,iBAAe,QARpB;A6B94DrB,A7Bs5DmD,aAAW,QARzC;A6B74DrB,A7Bq5DwE,eAAa,QARhE;A6B54DrB,A7Bo5D+F,gBAAc,QARxF;A6B34DrB,A7Bm5DuH,UAAQ,QAR1G;A6B14DrB,A7Bm5DC,eAAa,QATO;A6Bz4DrB,A7Bk5DwB,UAAQ,QATX;A6Bx4DrB,A7Bi5D0C,WAAS,QAT9B;A6Bv4DrB,A7Bg5D6D,iBAAe,QATvD;A6Bt4DrB,A7B+4DsF,UAAQ,QATzE;A6Br4DrB,A7B84DwG,cAAY,QAT/F;A6Bp4DrB,A7B64D8H,aAAW,QATpH;A6Bn4DrB,A7B64DC,eAAa,QAVO;A6Bl4DrB,A7B44DwB,YAAU,QAVb;A6Bj4DrB,A7B24D4C,WAAS,QAVhC;A6Bh4DrB,A7B04D+D,WAAS,QAVnD;A6B/3DrB,A7By4DkF,cAAY,QAVzE;A6B93DrB,A7Bw4DwG,mBAAiB,QAVpG;A6B73DrB,A7Bu4DmI,eAAa,QAV3H;A6B53DrB,A7Bu4DC,kBAAgB,QAXI;A6B33DrB,A7Bs4D2B,eAAa,QAXnB;A6B13DrB,A7Bq4DkD,gBAAc,QAX3C;A6Bz3DrB,A7Bo4D0E,eAAa,QAXlE;A6Bx3DrB,A7Bm4DiG,0BAAwB,QAXpG;A6Bv3DrB,A7Bk4DmI,eAAa,QAX3H;A6Bt3DrB,A7Bk4DC,gBAAc,QAZM;A6Br3DrB,A7Bi4DyB,eAAa,QAZjB;A6Bp3DrB,A7Bg4DgD,eAAa,QAZxC;A6Bn3DrB,A7B+3DuE,iBAAe,QAZjE;A6Bl3DrB,A7B83DgG,mBAAiB,QAZ5F;A6Bj3DrB,A7B63D2H,kBAAgB,QAZtH;A6Bh3DrB,A7B63DC,oBAAkB,QAbE;A6B/2DrB,A7B43D6B,oBAAkB,QAb1B;A6B92DrB,A7B23DyD,oBAAkB,QAbtD;A6B72DrB,A7B03DqF,iBAAe,QAb/E;A6B52DrB,A7By3D8G,UAAQ,QAbjG;A6B32DrB,A7Bw3DgI,eAAa,QAbxH;A6B12DrB,A7Bw3DC,WAAS,QAdW;A6Bz2DrB,A7Bu3DoB,aAAW,QAdV;A6Bx2DrB,A7Bs3DyC,YAAU,QAd9B;A6Bv2DrB,A7Bq3D6D,sBAAoB,QAd5D;A6Bt2DrB,A7Bo3D2F,gBAAc,QAdpF;A6Br2DrB,A7Bm3DmH,kBAAgB,QAd9G;A6Bp2DrB,A7Bm3DC,kBAAgB,QAfI;A6Bn2DrB,A7Bk3D2B,oBAAkB,QAfxB;A6Bl2DrB,A7Bi3DuD,qBAAmB,QAfrD;A6Bj2DrB,A7Bg3DoF,uBAAqB,QAfpF;A6Bh2DrB,A7B+2DmH,qBAAmB,QAfjH;A6B/1DrB,A7B+2DC,qBAAmB,QAhBC;A6B91DrB,A7B82D8B,kBAAgB,QAhBzB;A6B71DrB,A7B62DwD,eAAa,QAhBhD;A6B51DrB,A7B42D+E,eAAa,QAhBvE;A6B31DrB,A7B22DsG,cAAY,QAhB7F;A6B11DrB,A7B02D4H,iBAAe,QAhBtH;A6Bz1DrB,A7B02DC,UAAQ,QAjBY;A6Bx1DrB,A7By2DmB,aAAW,QAjBT;A6Bv1DrB,A7Bw2DwC,WAAS,QAjB5B;A6Bt1DrB,A7Bu2D2D,eAAa,QAjBnD;A6Br1DrB,A7Bs2DkF,YAAU,QAjBvE;A6Bp1DrB,A7Bq2DsG,eAAa,QAjB9F;A6Bn1DrB,A7Bo2D6H,YAAU,QAjBlH;A6Bl1DrB,A7Bo2DC,mBAAiB,QAlBG;A6Bj1DrB,A7Bm2D4B,eAAa,QAlBpB;A6Bh1DrB,A7Bk2DmD,mBAAiB,QAlB/C;A6B/0DrB,A7Bi2D8E,mBAAiB,QAlB1E;A6B90DrB,A7Bg2DyG,gBAAc,QAlBlG;A6B70DrB,A7B+1DiI,eAAa,QAlBzH;A6B50DrB,A7B+1DC,UAAQ,QAnBY;A6B30DrB,A7B81DmB,UAAQ,QAnBN;A6B10DrB,A7B61DqC,UAAQ,QAnBxB;A6Bz0DrB,A7B41DuD,gBAAc,QAnBhD;A6Bx0DrB,A7B21D+E,YAAU,QAnBpE;A6Bv0DrB,A7B01DmG,mBAAiB,QAnB/F;A6Bt0DrB,A7By1D8H,SAAO,QAnBhH;A6Br0DrB,A7Bw1D+I,eAAa,QAnBvI;A6Bp0DrB,A7Bw1DC,eAAa,QApBO;A6Bn0DrB,A7Bu1DwB,iBAAe,QApBlB;A6Bl0DrB,A7Bs1DiD,YAAU,QApBtC;A6Bj0DrB,A7Bq1DqE,gBAAc,QApB9D;A6Bh0DrB,A7Bo1D6F,cAAY,QApBpF;A6B/zDrB,A7Bm1DmH,cAAY,QApB1G;A6B9zDrB,A7Bm1DC,YAAU,QArBU;A6B7zDrB,A7Bk1DqB,YAAU,QArBV;A6B5zDrB,A7Bi1DyC,aAAW,QArB/B;A6B3zDrB,A7Bg1D8D,eAAa,QArBtD;A6B1zDrB,A7B+0DqF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","file":"sketch.702e4367.js","sourceRoot":"..","sourcesContent":["// Polyfills\r\n\r\nif ( Number.EPSILON === undefined ) {\r\n\r\n\tNumber.EPSILON = Math.pow( 2, - 52 );\r\n\r\n}\r\n\r\nif ( Number.isInteger === undefined ) {\r\n\r\n\t// Missing in IE\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\r\n\r\n\tNumber.isInteger = function ( value ) {\r\n\r\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\r\n\r\n\t};\r\n\r\n}\r\n\r\n//\r\n\r\nif ( Math.sign === undefined ) {\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\r\n\r\n\tMath.sign = function ( x ) {\r\n\r\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\r\n\r\n\t};\r\n\r\n}\r\n\r\nif ( 'name' in Function.prototype === false ) {\r\n\r\n\t// Missing in IE\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\r\n\r\n\tObject.defineProperty( Function.prototype, 'name', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n}\r\n\r\nif ( Object.assign === undefined ) {\r\n\r\n\t// Missing in IE\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n\r\n\tObject.assign = function ( target ) {\r\n\r\n\t\tif ( target === undefined || target === null ) {\r\n\r\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\r\n\r\n\t\t}\r\n\r\n\t\tvar output = Object( target );\r\n\r\n\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\r\n\r\n\t\t\tvar source = arguments[ index ];\r\n\r\n\t\t\tif ( source !== undefined && source !== null ) {\r\n\r\n\t\t\t\tfor ( var nextKey in source ) {\r\n\r\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\r\n\r\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t};\r\n\r\n}\r\n\r\nvar REVISION = '114';\r\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\r\nvar TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\r\nvar CullFaceNone = 0;\r\nvar CullFaceBack = 1;\r\nvar CullFaceFront = 2;\r\nvar CullFaceFrontBack = 3;\r\nvar FrontFaceDirectionCW = 0;\r\nvar FrontFaceDirectionCCW = 1;\r\nvar BasicShadowMap = 0;\r\nvar PCFShadowMap = 1;\r\nvar PCFSoftShadowMap = 2;\r\nvar VSMShadowMap = 3;\r\nvar FrontSide = 0;\r\nvar BackSide = 1;\r\nvar DoubleSide = 2;\r\nvar FlatShading = 1;\r\nvar SmoothShading = 2;\r\nvar NoBlending = 0;\r\nvar NormalBlending = 1;\r\nvar AdditiveBlending = 2;\r\nvar SubtractiveBlending = 3;\r\nvar MultiplyBlending = 4;\r\nvar CustomBlending = 5;\r\nvar AddEquation = 100;\r\nvar SubtractEquation = 101;\r\nvar ReverseSubtractEquation = 102;\r\nvar MinEquation = 103;\r\nvar MaxEquation = 104;\r\nvar ZeroFactor = 200;\r\nvar OneFactor = 201;\r\nvar SrcColorFactor = 202;\r\nvar OneMinusSrcColorFactor = 203;\r\nvar SrcAlphaFactor = 204;\r\nvar OneMinusSrcAlphaFactor = 205;\r\nvar DstAlphaFactor = 206;\r\nvar OneMinusDstAlphaFactor = 207;\r\nvar DstColorFactor = 208;\r\nvar OneMinusDstColorFactor = 209;\r\nvar SrcAlphaSaturateFactor = 210;\r\nvar NeverDepth = 0;\r\nvar AlwaysDepth = 1;\r\nvar LessDepth = 2;\r\nvar LessEqualDepth = 3;\r\nvar EqualDepth = 4;\r\nvar GreaterEqualDepth = 5;\r\nvar GreaterDepth = 6;\r\nvar NotEqualDepth = 7;\r\nvar MultiplyOperation = 0;\r\nvar MixOperation = 1;\r\nvar AddOperation = 2;\r\nvar NoToneMapping = 0;\r\nvar LinearToneMapping = 1;\r\nvar ReinhardToneMapping = 2;\r\nvar Uncharted2ToneMapping = 3;\r\nvar CineonToneMapping = 4;\r\nvar ACESFilmicToneMapping = 5;\r\n\r\nvar UVMapping = 300;\r\nvar CubeReflectionMapping = 301;\r\nvar CubeRefractionMapping = 302;\r\nvar EquirectangularReflectionMapping = 303;\r\nvar EquirectangularRefractionMapping = 304;\r\nvar SphericalReflectionMapping = 305;\r\nvar CubeUVReflectionMapping = 306;\r\nvar CubeUVRefractionMapping = 307;\r\nvar RepeatWrapping = 1000;\r\nvar ClampToEdgeWrapping = 1001;\r\nvar MirroredRepeatWrapping = 1002;\r\nvar NearestFilter = 1003;\r\nvar NearestMipmapNearestFilter = 1004;\r\nvar NearestMipMapNearestFilter = 1004;\r\nvar NearestMipmapLinearFilter = 1005;\r\nvar NearestMipMapLinearFilter = 1005;\r\nvar LinearFilter = 1006;\r\nvar LinearMipmapNearestFilter = 1007;\r\nvar LinearMipMapNearestFilter = 1007;\r\nvar LinearMipmapLinearFilter = 1008;\r\nvar LinearMipMapLinearFilter = 1008;\r\nvar UnsignedByteType = 1009;\r\nvar ByteType = 1010;\r\nvar ShortType = 1011;\r\nvar UnsignedShortType = 1012;\r\nvar IntType = 1013;\r\nvar UnsignedIntType = 1014;\r\nvar FloatType = 1015;\r\nvar HalfFloatType = 1016;\r\nvar UnsignedShort4444Type = 1017;\r\nvar UnsignedShort5551Type = 1018;\r\nvar UnsignedShort565Type = 1019;\r\nvar UnsignedInt248Type = 1020;\r\nvar AlphaFormat = 1021;\r\nvar RGBFormat = 1022;\r\nvar RGBAFormat = 1023;\r\nvar LuminanceFormat = 1024;\r\nvar LuminanceAlphaFormat = 1025;\r\nvar RGBEFormat = RGBAFormat;\r\nvar DepthFormat = 1026;\r\nvar DepthStencilFormat = 1027;\r\nvar RedFormat = 1028;\r\nvar RedIntegerFormat = 1029;\r\nvar RGFormat = 1030;\r\nvar RGIntegerFormat = 1031;\r\nvar RGBIntegerFormat = 1032;\r\nvar RGBAIntegerFormat = 1033;\r\n\r\nvar RGB_S3TC_DXT1_Format = 33776;\r\nvar RGBA_S3TC_DXT1_Format = 33777;\r\nvar RGBA_S3TC_DXT3_Format = 33778;\r\nvar RGBA_S3TC_DXT5_Format = 33779;\r\nvar RGB_PVRTC_4BPPV1_Format = 35840;\r\nvar RGB_PVRTC_2BPPV1_Format = 35841;\r\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\r\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\r\nvar RGB_ETC1_Format = 36196;\r\nvar RGB_ETC2_Format = 37492;\r\nvar RGBA_ETC2_EAC_Format = 37496;\r\nvar RGBA_ASTC_4x4_Format = 37808;\r\nvar RGBA_ASTC_5x4_Format = 37809;\r\nvar RGBA_ASTC_5x5_Format = 37810;\r\nvar RGBA_ASTC_6x5_Format = 37811;\r\nvar RGBA_ASTC_6x6_Format = 37812;\r\nvar RGBA_ASTC_8x5_Format = 37813;\r\nvar RGBA_ASTC_8x6_Format = 37814;\r\nvar RGBA_ASTC_8x8_Format = 37815;\r\nvar RGBA_ASTC_10x5_Format = 37816;\r\nvar RGBA_ASTC_10x6_Format = 37817;\r\nvar RGBA_ASTC_10x8_Format = 37818;\r\nvar RGBA_ASTC_10x10_Format = 37819;\r\nvar RGBA_ASTC_12x10_Format = 37820;\r\nvar RGBA_ASTC_12x12_Format = 37821;\r\nvar SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\r\nvar SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\r\nvar SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\r\nvar SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\r\nvar SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\r\nvar SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\r\nvar SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\r\nvar SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\r\nvar SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\r\nvar SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\r\nvar SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\r\nvar SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\r\nvar SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\r\nvar SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\r\nvar LoopOnce = 2200;\r\nvar LoopRepeat = 2201;\r\nvar LoopPingPong = 2202;\r\nvar InterpolateDiscrete = 2300;\r\nvar InterpolateLinear = 2301;\r\nvar InterpolateSmooth = 2302;\r\nvar ZeroCurvatureEnding = 2400;\r\nvar ZeroSlopeEnding = 2401;\r\nvar WrapAroundEnding = 2402;\r\nvar TrianglesDrawMode = 0;\r\nvar TriangleStripDrawMode = 1;\r\nvar TriangleFanDrawMode = 2;\r\nvar LinearEncoding = 3000;\r\nvar sRGBEncoding = 3001;\r\nvar GammaEncoding = 3007;\r\nvar RGBEEncoding = 3002;\r\nvar LogLuvEncoding = 3003;\r\nvar RGBM7Encoding = 3004;\r\nvar RGBM16Encoding = 3005;\r\nvar RGBDEncoding = 3006;\r\nvar BasicDepthPacking = 3200;\r\nvar RGBADepthPacking = 3201;\r\nvar TangentSpaceNormalMap = 0;\r\nvar ObjectSpaceNormalMap = 1;\r\n\r\nvar ZeroStencilOp = 0;\r\nvar KeepStencilOp = 7680;\r\nvar ReplaceStencilOp = 7681;\r\nvar IncrementStencilOp = 7682;\r\nvar DecrementStencilOp = 7683;\r\nvar IncrementWrapStencilOp = 34055;\r\nvar DecrementWrapStencilOp = 34056;\r\nvar InvertStencilOp = 5386;\r\n\r\nvar NeverStencilFunc = 512;\r\nvar LessStencilFunc = 513;\r\nvar EqualStencilFunc = 514;\r\nvar LessEqualStencilFunc = 515;\r\nvar GreaterStencilFunc = 516;\r\nvar NotEqualStencilFunc = 517;\r\nvar GreaterEqualStencilFunc = 518;\r\nvar AlwaysStencilFunc = 519;\r\n\r\nvar StaticDrawUsage = 35044;\r\nvar DynamicDrawUsage = 35048;\r\nvar StreamDrawUsage = 35040;\r\nvar StaticReadUsage = 35045;\r\nvar DynamicReadUsage = 35049;\r\nvar StreamReadUsage = 35041;\r\nvar StaticCopyUsage = 35046;\r\nvar DynamicCopyUsage = 35050;\r\nvar StreamCopyUsage = 35042;\r\n\r\n/**\r\n * https://github.com/mrdoob/eventdispatcher.js/\r\n */\r\n\r\nfunction EventDispatcher() {}\r\n\r\nObject.assign( EventDispatcher.prototype, {\r\n\r\n\taddEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) this._listeners = {};\r\n\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\tif ( listeners[ type ] === undefined ) {\r\n\r\n\t\t\tlisteners[ type ] = [];\r\n\r\n\t\t}\r\n\r\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\r\n\r\n\t\t\tlisteners[ type ].push( listener );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\thasEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return false;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\r\n\r\n\t},\r\n\r\n\tremoveEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tvar index = listenerArray.indexOf( listener );\r\n\r\n\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\tlistenerArray.splice( index, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdispatchEvent: function ( event ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ event.type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tevent.target = this;\r\n\r\n\t\t\tvar array = listenerArray.slice( 0 );\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ].call( this, event );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author thezwap\r\n */\r\n\r\nvar _lut = [];\r\n\r\nfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\r\n\r\n}\r\n\r\nvar MathUtils = {\r\n\r\n\tDEG2RAD: Math.PI / 180,\r\n\tRAD2DEG: 180 / Math.PI,\r\n\r\n\tgenerateUUID: function () {\r\n\r\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n\r\n\t\tvar d0 = Math.random() * 0xffffffff | 0;\r\n\t\tvar d1 = Math.random() * 0xffffffff | 0;\r\n\t\tvar d2 = Math.random() * 0xffffffff | 0;\r\n\t\tvar d3 = Math.random() * 0xffffffff | 0;\r\n\t\tvar uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\r\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\r\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\r\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\r\n\r\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\r\n\t\treturn uuid.toUpperCase();\r\n\r\n\t},\r\n\r\n\tclamp: function ( value, min, max ) {\r\n\r\n\t\treturn Math.max( min, Math.min( max, value ) );\r\n\r\n\t},\r\n\r\n\t// compute euclidian modulo of m % n\r\n\t// https://en.wikipedia.org/wiki/Modulo_operation\r\n\r\n\teuclideanModulo: function ( n, m ) {\r\n\r\n\t\treturn ( ( n % m ) + m ) % m;\r\n\r\n\t},\r\n\r\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\r\n\r\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\r\n\r\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\r\n\r\n\t},\r\n\r\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\r\n\r\n\tlerp: function ( x, y, t ) {\r\n\r\n\t\treturn ( 1 - t ) * x + t * y;\r\n\r\n\t},\r\n\r\n\t// http://en.wikipedia.org/wiki/Smoothstep\r\n\r\n\tsmoothstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * ( 3 - 2 * x );\r\n\r\n\t},\r\n\r\n\tsmootherstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\r\n\r\n\t},\r\n\r\n\t// Random integer from <low, high> interval\r\n\r\n\trandInt: function ( low, high ) {\r\n\r\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\r\n\r\n\t},\r\n\r\n\t// Random float from <low, high> interval\r\n\r\n\trandFloat: function ( low, high ) {\r\n\r\n\t\treturn low + Math.random() * ( high - low );\r\n\r\n\t},\r\n\r\n\t// Random float from <-range/2, range/2> interval\r\n\r\n\trandFloatSpread: function ( range ) {\r\n\r\n\t\treturn range * ( 0.5 - Math.random() );\r\n\r\n\t},\r\n\r\n\tdegToRad: function ( degrees ) {\r\n\r\n\t\treturn degrees * MathUtils.DEG2RAD;\r\n\r\n\t},\r\n\r\n\tradToDeg: function ( radians ) {\r\n\r\n\t\treturn radians * MathUtils.RAD2DEG;\r\n\r\n\t},\r\n\r\n\tisPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\r\n\r\n\t},\r\n\r\n\tceilPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t},\r\n\r\n\tfloorPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t},\r\n\r\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\r\n\r\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\r\n\r\n\t\t// rotations are applied to the axes in the order specified by 'order'\r\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\r\n\t\t// angles are in radians\r\n\r\n\t\tvar cos = Math.cos;\r\n\t\tvar sin = Math.sin;\r\n\r\n\t\tvar c2 = cos( b / 2 );\r\n\t\tvar s2 = sin( b / 2 );\r\n\r\n\t\tvar c13 = cos( ( a + c ) / 2 );\r\n\t\tvar s13 = sin( ( a + c ) / 2 );\r\n\r\n\t\tvar c1_3 = cos( ( a - c ) / 2 );\r\n\t\tvar s1_3 = sin( ( a - c ) / 2 );\r\n\r\n\t\tvar c3_1 = cos( ( c - a ) / 2 );\r\n\t\tvar s3_1 = sin( ( c - a ) / 2 );\r\n\r\n\t\tif ( order === 'XYX' ) {\r\n\r\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\r\n\r\n\t\t} else if ( order === 'YZY' ) {\r\n\r\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\r\n\r\n\t\t} else if ( order === 'ZXZ' ) {\r\n\r\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\r\n\r\n\t\t} else if ( order === 'XZX' ) {\r\n\r\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\r\n\r\n\t\t} else if ( order === 'YXY' ) {\r\n\r\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\r\n\r\n\t\t} else if ( order === 'ZYZ' ) {\r\n\r\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author egraether / http://egraether.com/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n */\r\n\r\nfunction Vector2( x, y ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\r\n}\r\n\r\nObject.defineProperties( Vector2.prototype, {\r\n\r\n\t\"width\": {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.x;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.x = value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t\"height\": {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.y;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.y = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector2.prototype, {\r\n\r\n\tisVector2: true,\r\n\r\n\tset: function ( x, y ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tapplyMatrix3: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\r\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t},\r\n\r\n\tcross: function ( v ) {\r\n\r\n\t\treturn this.x * v.y - this.y * v.x;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t},\r\n\r\n\tmanhattanLength: function () {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t},\r\n\r\n\tangle: function () {\r\n\r\n\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\tvar angle = Math.atan2( - this.y, - this.x ) + Math.PI;\r\n\r\n\t\treturn angle;\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\r\n\t},\r\n\r\n\tmanhattanDistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateAround: function ( center, angle ) {\r\n\r\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\tvar x = this.x - center.x;\r\n\t\tvar y = this.y - center.y;\r\n\r\n\t\tthis.x = x * c - y * s + center.x;\r\n\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n * @author tschw\r\n */\r\n\r\nfunction Matrix3() {\r\n\r\n\tthis.elements = [\r\n\r\n\t\t1, 0, 0,\r\n\t\t0, 1, 0,\r\n\t\t0, 0, 1\r\n\r\n\t];\r\n\r\n\tif ( arguments.length > 0 ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( Matrix3.prototype, {\r\n\r\n\tisMatrix3: true,\r\n\r\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\r\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\r\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tidentity: function () {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0,\r\n\t\t\t0, 1, 0,\r\n\t\t\t0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t},\r\n\r\n\tcopy: function ( m ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = m.elements;\r\n\r\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\r\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\r\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\txAxis.setFromMatrix3Column( this, 0 );\r\n\t\tyAxis.setFromMatrix3Column( this, 1 );\r\n\t\tzAxis.setFromMatrix3Column( this, 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrix4: function ( m ) {\r\n\r\n\t\tvar me = m.elements;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\r\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\r\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t},\r\n\r\n\tpremultiply: function ( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t},\r\n\r\n\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\tvar ae = a.elements;\r\n\t\tvar be = b.elements;\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\r\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\r\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\r\n\r\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\r\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\r\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\r\n\r\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\r\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\r\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\r\n\r\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\r\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\r\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\r\n\r\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\r\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\r\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdeterminant: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n\t},\r\n\r\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\r\n\r\n\t\tif ( matrix && matrix.isMatrix4 ) {\r\n\r\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\r\n\r\n\t\t}\r\n\r\n\t\tvar me = matrix.elements,\r\n\t\t\tte = this.elements,\r\n\r\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\r\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\r\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\r\n\r\n\t\t\tt11 = n33 * n22 - n32 * n23,\r\n\t\t\tt12 = n32 * n13 - n33 * n12,\r\n\t\t\tt13 = n23 * n12 - n22 * n13,\r\n\r\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\r\n\r\n\t\tif ( det === 0 ) {\r\n\r\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\r\n\r\n\t\t\tif ( throwOnDegenerate === true ) {\r\n\r\n\t\t\t\tthrow new Error( msg );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( msg );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.identity();\r\n\r\n\t\t}\r\n\r\n\t\tvar detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\r\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\r\n\r\n\t\tte[ 3 ] = t12 * detInv;\r\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\r\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\r\n\r\n\t\tte[ 6 ] = t13 * detInv;\r\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\r\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranspose: function () {\r\n\r\n\t\tvar tmp, m = this.elements;\r\n\r\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\r\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\r\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetNormalMatrix: function ( matrix4 ) {\r\n\r\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\r\n\r\n\t},\r\n\r\n\ttransposeIntoArray: function ( r ) {\r\n\r\n\t\tvar m = this.elements;\r\n\r\n\t\tr[ 0 ] = m[ 0 ];\r\n\t\tr[ 1 ] = m[ 3 ];\r\n\t\tr[ 2 ] = m[ 6 ];\r\n\t\tr[ 3 ] = m[ 1 ];\r\n\t\tr[ 4 ] = m[ 4 ];\r\n\t\tr[ 5 ] = m[ 7 ];\r\n\t\tr[ 6 ] = m[ 2 ];\r\n\t\tr[ 7 ] = m[ 5 ];\r\n\t\tr[ 8 ] = m[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\t\tvar c = Math.cos( rotation );\r\n\t\tvar s = Math.sin( rotation );\r\n\r\n\t\tthis.set(\r\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\r\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\r\n\t\t\t0, 0, 1\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tscale: function ( sx, sy ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\r\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotate: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta );\r\n\t\tvar s = Math.sin( theta );\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\r\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\r\n\r\n\t\tte[ 0 ] = c * a11 + s * a21;\r\n\t\tte[ 3 ] = c * a12 + s * a22;\r\n\t\tte[ 6 ] = c * a13 + s * a23;\r\n\r\n\t\tte[ 1 ] = - s * a11 + c * a21;\r\n\t\tte[ 4 ] = - s * a12 + c * a22;\r\n\t\tte[ 7 ] = - s * a13 + c * a23;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( tx, ty ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\r\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( matrix ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = matrix.elements;\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author szimek / https://github.com/szimek/\r\n */\r\n\r\nvar _canvas;\r\n\r\nvar ImageUtils = {\r\n\r\n\tgetDataURL: function ( image ) {\r\n\r\n\t\tvar canvas;\r\n\r\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\r\n\r\n\t\t\treturn image.src;\r\n\r\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\r\n\r\n\t\t\tcanvas = image;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\r\n\r\n\t\t\t_canvas.width = image.width;\r\n\t\t\t_canvas.height = image.height;\r\n\r\n\t\t\tvar context = _canvas.getContext( '2d' );\r\n\r\n\t\t\tif ( image instanceof ImageData ) {\r\n\r\n\t\t\t\tcontext.putImageData( image, 0, 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcanvas = _canvas;\r\n\r\n\t\t}\r\n\r\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\r\n\r\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn canvas.toDataURL( 'image/png' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author szimek / https://github.com/szimek/\r\n */\r\n\r\nvar textureId = 0;\r\n\r\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\r\n\r\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\r\n\tthis.mipmaps = [];\r\n\r\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\r\n\r\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\r\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\r\n\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\r\n\r\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\r\n\r\n\tthis.format = format !== undefined ? format : RGBAFormat;\r\n\tthis.internalFormat = null;\r\n\tthis.type = type !== undefined ? type : UnsignedByteType;\r\n\r\n\tthis.offset = new Vector2( 0, 0 );\r\n\tthis.repeat = new Vector2( 1, 1 );\r\n\tthis.center = new Vector2( 0, 0 );\r\n\tthis.rotation = 0;\r\n\r\n\tthis.matrixAutoUpdate = true;\r\n\tthis.matrix = new Matrix3();\r\n\r\n\tthis.generateMipmaps = true;\r\n\tthis.premultiplyAlpha = false;\r\n\tthis.flipY = true;\r\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\r\n\r\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\r\n\t//\r\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\r\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\r\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\r\n\r\n\tthis.version = 0;\r\n\tthis.onUpdate = null;\r\n\r\n}\r\n\r\nTexture.DEFAULT_IMAGE = undefined;\r\nTexture.DEFAULT_MAPPING = UVMapping;\r\n\r\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Texture,\r\n\r\n\tisTexture: true,\r\n\r\n\tupdateMatrix: function () {\r\n\r\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.image = source.image;\r\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\r\n\r\n\t\tthis.mapping = source.mapping;\r\n\r\n\t\tthis.wrapS = source.wrapS;\r\n\t\tthis.wrapT = source.wrapT;\r\n\r\n\t\tthis.magFilter = source.magFilter;\r\n\t\tthis.minFilter = source.minFilter;\r\n\r\n\t\tthis.anisotropy = source.anisotropy;\r\n\r\n\t\tthis.format = source.format;\r\n\t\tthis.internalFormat = source.internalFormat;\r\n\t\tthis.type = source.type;\r\n\r\n\t\tthis.offset.copy( source.offset );\r\n\t\tthis.repeat.copy( source.repeat );\r\n\t\tthis.center.copy( source.center );\r\n\t\tthis.rotation = source.rotation;\r\n\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\t\tthis.matrix.copy( source.matrix );\r\n\r\n\t\tthis.generateMipmaps = source.generateMipmaps;\r\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\r\n\t\tthis.flipY = source.flipY;\r\n\t\tthis.unpackAlignment = source.unpackAlignment;\r\n\t\tthis.encoding = source.encoding;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.textures[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t\tvar output = {\r\n\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Texture',\r\n\t\t\t\tgenerator: 'Texture.toJSON'\r\n\t\t\t},\r\n\r\n\t\t\tuuid: this.uuid,\r\n\t\t\tname: this.name,\r\n\r\n\t\t\tmapping: this.mapping,\r\n\r\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\r\n\t\t\toffset: [ this.offset.x, this.offset.y ],\r\n\t\t\tcenter: [ this.center.x, this.center.y ],\r\n\t\t\trotation: this.rotation,\r\n\r\n\t\t\twrap: [ this.wrapS, this.wrapT ],\r\n\r\n\t\t\tformat: this.format,\r\n\t\t\ttype: this.type,\r\n\t\t\tencoding: this.encoding,\r\n\r\n\t\t\tminFilter: this.minFilter,\r\n\t\t\tmagFilter: this.magFilter,\r\n\t\t\tanisotropy: this.anisotropy,\r\n\r\n\t\t\tflipY: this.flipY,\r\n\r\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\r\n\t\t\tunpackAlignment: this.unpackAlignment\r\n\r\n\t\t};\r\n\r\n\t\tif ( this.image !== undefined ) {\r\n\r\n\t\t\t// TODO: Move to THREE.Image\r\n\r\n\t\t\tvar image = this.image;\r\n\r\n\t\t\tif ( image.uuid === undefined ) {\r\n\r\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\r\n\r\n\t\t\t\tvar url;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) {\r\n\r\n\t\t\t\t\t// process array of images e.g. CubeTexture\r\n\r\n\t\t\t\t\turl = [];\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// process single image\r\n\r\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.images[ image.uuid ] = {\r\n\t\t\t\t\tuuid: image.uuid,\r\n\t\t\t\t\turl: url\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.image = image.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.textures[ this.uuid ] = output;\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t},\r\n\r\n\ttransformUv: function ( uv ) {\r\n\r\n\t\tif ( this.mapping !== UVMapping ) return uv;\r\n\r\n\t\tuv.applyMatrix3( this.matrix );\r\n\r\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapS ) {\r\n\r\n\t\t\t\tcase RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapT ) {\r\n\r\n\t\t\t\tcase RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.flipY ) {\r\n\r\n\t\t\tuv.y = 1 - uv.y;\r\n\r\n\t\t}\r\n\r\n\t\treturn uv;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author egraether / http://egraether.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction Vector4( x, y, z, w ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\tthis.z = z || 0;\r\n\tthis.w = ( w !== undefined ) ? w : 1;\r\n\r\n}\r\n\r\nObject.defineProperties( Vector4.prototype, {\r\n\r\n\t\"width\": {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.z;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.z = value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t\"height\": {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.w;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.w = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector4.prototype, {\r\n\r\n\tisVector4: true,\r\n\r\n\tset: function ( x, y, z, w ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\t\tthis.w = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetW: function ( w ) {\r\n\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tcase 3: this.w = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tcase 3: return this.w;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\t\tthis.w += v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\t\tthis.w += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\t\tthis.w = a.w + b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\t\tthis.w += v.w * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\t\tthis.w -= v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\t\tthis.w -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\t\tthis.w = a.w - b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\t\tthis.z *= scalar;\r\n\t\tthis.w *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\r\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tsetAxisAngleFromQuaternion: function ( q ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\r\n\r\n\t\t// q is assumed to be normalized\r\n\r\n\t\tthis.w = 2 * Math.acos( q.w );\r\n\r\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\r\n\r\n\t\tif ( s < 0.0001 ) {\r\n\r\n\t\t\tthis.x = 1;\r\n\t\t\tthis.y = 0;\r\n\t\t\tthis.z = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.x = q.x / s;\r\n\t\t\tthis.y = q.y / s;\r\n\t\t\tthis.z = q.z / s;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar angle, x, y, z,\t\t// variables for result\r\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\r\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\r\n\r\n\t\t\tte = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\r\n\r\n\t\t\t// singularity found\r\n\t\t\t// first check for identity matrix which must have +1 for all terms\r\n\t\t\t// in leading diagonal and zero in other terms\r\n\r\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\r\n\r\n\t\t\t\t// this singularity is identity matrix so angle = 0\r\n\r\n\t\t\t\tthis.set( 1, 0, 0, 0 );\r\n\r\n\t\t\t\treturn this; // zero angle, arbitrary axis\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// otherwise this singularity is angle = 180\r\n\r\n\t\t\tangle = Math.PI;\r\n\r\n\t\t\tvar xx = ( m11 + 1 ) / 2;\r\n\t\t\tvar yy = ( m22 + 1 ) / 2;\r\n\t\t\tvar zz = ( m33 + 1 ) / 2;\r\n\t\t\tvar xy = ( m12 + m21 ) / 4;\r\n\t\t\tvar xz = ( m13 + m31 ) / 4;\r\n\t\t\tvar yz = ( m23 + m32 ) / 4;\r\n\r\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\r\n\r\n\t\t\t\t// m11 is the largest diagonal term\r\n\r\n\t\t\t\tif ( xx < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tx = Math.sqrt( xx );\r\n\t\t\t\t\ty = xy / x;\r\n\t\t\t\t\tz = xz / x;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( yy > zz ) {\r\n\r\n\t\t\t\t// m22 is the largest diagonal term\r\n\r\n\t\t\t\tif ( yy < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ty = Math.sqrt( yy );\r\n\t\t\t\t\tx = xy / y;\r\n\t\t\t\t\tz = yz / y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// m33 is the largest diagonal term so base result on this\r\n\r\n\t\t\t\tif ( zz < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tz = Math.sqrt( zz );\r\n\t\t\t\t\tx = xz / z;\r\n\t\t\t\t\ty = yz / z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.set( x, y, z, angle );\r\n\r\n\t\t\treturn this; // return 180 deg rotation\r\n\r\n\t\t}\r\n\r\n\t\t// as we have reached here there are no singularities so we can handle normally\r\n\r\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\r\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\r\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\r\n\r\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\r\n\r\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\r\n\t\t// caught by singularity test above, but I've left it in just in case\r\n\r\n\t\tthis.x = ( m32 - m23 ) / s;\r\n\t\tthis.y = ( m13 - m31 ) / s;\r\n\t\tthis.z = ( m21 - m12 ) / s;\r\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\t\tthis.w = Math.min( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\t\tthis.w = Math.max( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\t\tthis.w = Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\t\tthis.w = Math.ceil( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\t\tthis.w = Math.round( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\t\tthis.w = - this.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\r\n\r\n\t},\r\n\r\n\tmanhattanLength: function () {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\t\tthis.w += ( v.w - this.w ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\t\tthis.w = array[ offset + 3 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\t\tarray[ offset + 3 ] = this.w;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\t\tthis.z = attribute.getZ( index );\r\n\t\tthis.w = attribute.getW( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author szimek / https://github.com/szimek/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author Marius Kintel / https://github.com/kintel\r\n */\r\n\r\n/*\r\n In options, we can specify:\r\n * Texture parameters for an auto-generated target texture\r\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\r\n*/\r\nfunction WebGLRenderTarget( width, height, options ) {\r\n\r\n\tthis.width = width;\r\n\tthis.height = height;\r\n\r\n\tthis.scissor = new Vector4( 0, 0, width, height );\r\n\tthis.scissorTest = false;\r\n\r\n\tthis.viewport = new Vector4( 0, 0, width, height );\r\n\r\n\toptions = options || {};\r\n\r\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\r\n\r\n\tthis.texture.image = {};\r\n\tthis.texture.image.width = width;\r\n\tthis.texture.image.height = height;\r\n\r\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\r\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\r\n\r\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\r\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\r\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\r\n\r\n}\r\n\r\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: WebGLRenderTarget,\r\n\r\n\tisWebGLRenderTarget: true,\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tif ( this.width !== width || this.height !== height ) {\r\n\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\r\n\t\t\tthis.texture.image.width = width;\r\n\t\t\tthis.texture.image.height = height;\r\n\r\n\t\t\tthis.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.viewport.set( 0, 0, width, height );\r\n\t\tthis.scissor.set( 0, 0, width, height );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.width = source.width;\r\n\t\tthis.height = source.height;\r\n\r\n\t\tthis.viewport.copy( source.viewport );\r\n\r\n\t\tthis.texture = source.texture.clone();\r\n\r\n\t\tthis.depthBuffer = source.depthBuffer;\r\n\t\tthis.stencilBuffer = source.stencilBuffer;\r\n\t\tthis.depthTexture = source.depthTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n * @author Matt DesLauriers / @mattdesl\r\n */\r\n\r\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\r\n\r\n\tWebGLRenderTarget.call( this, width, height, options );\r\n\r\n\tthis.samples = 4;\r\n\r\n}\r\n\r\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\r\n\r\n\tconstructor: WebGLMultisampleRenderTarget,\r\n\r\n\tisWebGLMultisampleRenderTarget: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\r\n\r\n\t\tthis.samples = source.samples;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nfunction Quaternion( x, y, z, w ) {\r\n\r\n\tthis._x = x || 0;\r\n\tthis._y = y || 0;\r\n\tthis._z = z || 0;\r\n\tthis._w = ( w !== undefined ) ? w : 1;\r\n\r\n}\r\n\r\nObject.assign( Quaternion, {\r\n\r\n\tslerp: function ( qa, qb, qm, t ) {\r\n\r\n\t\treturn qm.copy( qa ).slerp( qb, t );\r\n\r\n\t},\r\n\r\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\r\n\r\n\t\t// fuzz-free, array-based Quaternion SLERP operation\r\n\r\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\r\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\r\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\r\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\r\n\r\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\r\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\r\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\r\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\r\n\r\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\r\n\r\n\t\t\tvar s = 1 - t,\r\n\r\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\r\n\r\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\r\n\t\t\t\tsqrSin = 1 - cos * cos;\r\n\r\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\r\n\t\t\tif ( sqrSin > Number.EPSILON ) {\r\n\r\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\r\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\r\n\r\n\t\t\t\ts = Math.sin( s * len ) / sin;\r\n\t\t\t\tt = Math.sin( t * len ) / sin;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar tDir = t * dir;\r\n\r\n\t\t\tx0 = x0 * s + x1 * tDir;\r\n\t\t\ty0 = y0 * s + y1 * tDir;\r\n\t\t\tz0 = z0 * s + z1 * tDir;\r\n\t\t\tw0 = w0 * s + w1 * tDir;\r\n\r\n\t\t\t// Normalize in case we just did a lerp:\r\n\t\t\tif ( s === 1 - t ) {\r\n\r\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\r\n\r\n\t\t\t\tx0 *= f;\r\n\t\t\t\ty0 *= f;\r\n\t\t\t\tz0 *= f;\r\n\t\t\t\tw0 *= f;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tdst[ dstOffset ] = x0;\r\n\t\tdst[ dstOffset + 1 ] = y0;\r\n\t\tdst[ dstOffset + 2 ] = z0;\r\n\t\tdst[ dstOffset + 3 ] = w0;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( Quaternion.prototype, {\r\n\r\n\tx: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._x;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._x = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ty: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._y;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._y = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tz: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._z;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._z = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tw: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._w;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._w = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Quaternion.prototype, {\r\n\r\n\tisQuaternion: true,\r\n\r\n\tset: function ( x, y, z, w ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._w = w;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\r\n\r\n\t},\r\n\r\n\tcopy: function ( quaternion ) {\r\n\r\n\t\tthis._x = quaternion.x;\r\n\t\tthis._y = quaternion.y;\r\n\t\tthis._z = quaternion.z;\r\n\t\tthis._w = quaternion.w;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromEuler: function ( euler, update ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\r\n\r\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\r\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\r\n\t\t//\tcontent/SpinCalc.m\r\n\r\n\t\tvar cos = Math.cos;\r\n\t\tvar sin = Math.sin;\r\n\r\n\t\tvar c1 = cos( x / 2 );\r\n\t\tvar c2 = cos( y / 2 );\r\n\t\tvar c3 = cos( z / 2 );\r\n\r\n\t\tvar s1 = sin( x / 2 );\r\n\t\tvar s2 = sin( y / 2 );\r\n\t\tvar s3 = sin( z / 2 );\r\n\r\n\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t}\r\n\r\n\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\r\n\r\n\t\tthis._x = axis.x * s;\r\n\t\tthis._y = axis.y * s;\r\n\t\tthis._z = axis.z * s;\r\n\t\tthis._w = Math.cos( halfAngle );\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromRotationMatrix: function ( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar te = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\r\n\r\n\t\t\ttrace = m11 + m22 + m33,\r\n\t\t\ts;\r\n\r\n\t\tif ( trace > 0 ) {\r\n\r\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\r\n\r\n\t\t\tthis._w = 0.25 / s;\r\n\t\t\tthis._x = ( m32 - m23 ) * s;\r\n\t\t\tthis._y = ( m13 - m31 ) * s;\r\n\t\t\tthis._z = ( m21 - m12 ) * s;\r\n\r\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\r\n\r\n\t\t\tthis._w = ( m32 - m23 ) / s;\r\n\t\t\tthis._x = 0.25 * s;\r\n\t\t\tthis._y = ( m12 + m21 ) / s;\r\n\t\t\tthis._z = ( m13 + m31 ) / s;\r\n\r\n\t\t} else if ( m22 > m33 ) {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\r\n\r\n\t\t\tthis._w = ( m13 - m31 ) / s;\r\n\t\t\tthis._x = ( m12 + m21 ) / s;\r\n\t\t\tthis._y = 0.25 * s;\r\n\t\t\tthis._z = ( m23 + m32 ) / s;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\r\n\r\n\t\t\tthis._w = ( m21 - m12 ) / s;\r\n\t\t\tthis._x = ( m13 + m31 ) / s;\r\n\t\t\tthis._y = ( m23 + m32 ) / s;\r\n\t\t\tthis._z = 0.25 * s;\r\n\r\n\t\t}\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\r\n\r\n\t\t// assumes direction vectors vFrom and vTo are normalized\r\n\r\n\t\tvar EPS = 0.000001;\r\n\r\n\t\tvar r = vFrom.dot( vTo ) + 1;\r\n\r\n\t\tif ( r < EPS ) {\r\n\r\n\t\t\tr = 0;\r\n\r\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\r\n\r\n\t\t\t\tthis._x = - vFrom.y;\r\n\t\t\t\tthis._y = vFrom.x;\r\n\t\t\t\tthis._z = 0;\r\n\t\t\t\tthis._w = r;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._y = - vFrom.z;\r\n\t\t\t\tthis._z = vFrom.y;\r\n\t\t\t\tthis._w = r;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\r\n\r\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\r\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\r\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\r\n\t\t\tthis._w = r;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.normalize();\r\n\r\n\t},\r\n\r\n\tangleTo: function ( q ) {\r\n\r\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\r\n\r\n\t},\r\n\r\n\trotateTowards: function ( q, step ) {\r\n\r\n\t\tvar angle = this.angleTo( q );\r\n\r\n\t\tif ( angle === 0 ) return this;\r\n\r\n\t\tvar t = Math.min( 1, step / angle );\r\n\r\n\t\tthis.slerp( q, t );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tinverse: function () {\r\n\r\n\t\t// quaternion is assumed to have unit length\r\n\r\n\t\treturn this.conjugate();\r\n\r\n\t},\r\n\r\n\tconjugate: function () {\r\n\r\n\t\tthis._x *= - 1;\r\n\t\tthis._y *= - 1;\r\n\t\tthis._z *= - 1;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\tvar l = this.length();\r\n\r\n\t\tif ( l === 0 ) {\r\n\r\n\t\t\tthis._x = 0;\r\n\t\t\tthis._y = 0;\r\n\t\t\tthis._z = 0;\r\n\t\t\tthis._w = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tl = 1 / l;\r\n\r\n\t\t\tthis._x = this._x * l;\r\n\t\t\tthis._y = this._y * l;\r\n\t\t\tthis._z = this._z * l;\r\n\t\t\tthis._w = this._w * l;\r\n\r\n\t\t}\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( q, p ) {\r\n\r\n\t\tif ( p !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\r\n\t\t\treturn this.multiplyQuaternions( q, p );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyQuaternions( this, q );\r\n\r\n\t},\r\n\r\n\tpremultiply: function ( q ) {\r\n\r\n\t\treturn this.multiplyQuaternions( q, this );\r\n\r\n\t},\r\n\r\n\tmultiplyQuaternions: function ( a, b ) {\r\n\r\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\r\n\r\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\r\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\r\n\r\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\r\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\r\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\r\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tslerp: function ( qb, t ) {\r\n\r\n\t\tif ( t === 0 ) return this;\r\n\t\tif ( t === 1 ) return this.copy( qb );\r\n\r\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\r\n\r\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\r\n\r\n\t\tif ( cosHalfTheta < 0 ) {\r\n\r\n\t\t\tthis._w = - qb._w;\r\n\t\t\tthis._x = - qb._x;\r\n\t\t\tthis._y = - qb._y;\r\n\t\t\tthis._z = - qb._z;\r\n\r\n\t\t\tcosHalfTheta = - cosHalfTheta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.copy( qb );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cosHalfTheta >= 1.0 ) {\r\n\r\n\t\t\tthis._w = w;\r\n\t\t\tthis._x = x;\r\n\t\t\tthis._y = y;\r\n\t\t\tthis._z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\r\n\r\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\r\n\r\n\t\t\tvar s = 1 - t;\r\n\t\t\tthis._w = s * w + t * this._w;\r\n\t\t\tthis._x = s * x + t * this._x;\r\n\t\t\tthis._y = s * y + t * this._y;\r\n\t\t\tthis._z = s * z + t * this._z;\r\n\r\n\t\t\tthis.normalize();\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\r\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\r\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\r\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\r\n\r\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\r\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\r\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\r\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( quaternion ) {\r\n\r\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis._x = array[ offset ];\r\n\t\tthis._y = array[ offset + 1 ];\r\n\t\tthis._z = array[ offset + 2 ];\r\n\t\tthis._w = array[ offset + 3 ];\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._w;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\t_onChange: function ( callback ) {\r\n\r\n\t\tthis._onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t_onChangeCallback: function () {}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author kile / http://kile.stravaganza.org/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author egraether / http://egraether.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nvar _vector = new Vector3();\r\nvar _quaternion = new Quaternion();\r\n\r\nfunction Vector3( x, y, z ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\tthis.z = z || 0;\r\n\r\n}\r\n\r\nObject.assign( Vector3.prototype, {\r\n\r\n\tisVector3: true,\r\n\r\n\tset: function ( x, y, z ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\r\n\t\t\treturn this.multiplyVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\t\tthis.z *= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\t\tthis.z *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x * b.x;\r\n\t\tthis.y = a.y * b.y;\r\n\t\tthis.z = a.z * b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyEuler: function ( euler ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\r\n\r\n\t},\r\n\r\n\tapplyAxisAngle: function ( axis, angle ) {\r\n\r\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\r\n\r\n\t},\r\n\r\n\tapplyMatrix3: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyNormalMatrix: function ( m ) {\r\n\r\n\t\treturn this.applyMatrix3( m ).normalize();\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\r\n\r\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\r\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\r\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyQuaternion: function ( q ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n\t\t// calculate quat * vector\r\n\r\n\t\tvar ix = qw * x + qy * z - qz * y;\r\n\t\tvar iy = qw * y + qz * x - qx * z;\r\n\t\tvar iz = qw * z + qx * y - qy * x;\r\n\t\tvar iw = - qx * x - qy * y - qz * z;\r\n\r\n\t\t// calculate result * inverse quat\r\n\r\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\r\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\r\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tproject: function ( camera ) {\r\n\r\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\r\n\r\n\t},\r\n\r\n\tunproject: function ( camera ) {\r\n\r\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\r\n\r\n\t},\r\n\r\n\ttransformDirection: function ( m ) {\r\n\r\n\t\t// input: THREE.Matrix4 affine matrix\r\n\t\t// vector interpreted as a direction\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\r\n\r\n\t\treturn this.normalize();\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\t\tthis.z /= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\r\n\r\n\t},\r\n\r\n\t// TODO lengthSquared?\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\r\n\r\n\t},\r\n\r\n\tmanhattanLength: function () {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tcross: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\r\n\t\t\treturn this.crossVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.crossVectors( this, v );\r\n\r\n\t},\r\n\r\n\tcrossVectors: function ( a, b ) {\r\n\r\n\t\tvar ax = a.x, ay = a.y, az = a.z;\r\n\t\tvar bx = b.x, by = b.y, bz = b.z;\r\n\r\n\t\tthis.x = ay * bz - az * by;\r\n\t\tthis.y = az * bx - ax * bz;\r\n\t\tthis.z = ax * by - ay * bx;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tprojectOnVector: function ( v ) {\r\n\r\n\t\tvar denominator = v.lengthSq();\r\n\r\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\r\n\r\n\t\tvar scalar = v.dot( this ) / denominator;\r\n\r\n\t\treturn this.copy( v ).multiplyScalar( scalar );\r\n\r\n\t},\r\n\r\n\tprojectOnPlane: function ( planeNormal ) {\r\n\r\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\r\n\r\n\t\treturn this.sub( _vector );\r\n\r\n\t},\r\n\r\n\treflect: function ( normal ) {\r\n\r\n\t\t// reflect incident vector off plane orthogonal to normal\r\n\t\t// normal is assumed to have unit length\r\n\r\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\r\n\r\n\t},\r\n\r\n\tangleTo: function ( v ) {\r\n\r\n\t\tvar denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\r\n\r\n\t\tif ( denominator === 0 ) return Math.PI / 2;\r\n\r\n\t\tvar theta = this.dot( v ) / denominator;\r\n\r\n\t\t// clamp, to handle numerical problems\r\n\r\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n\r\n\t\treturn dx * dx + dy * dy + dz * dz;\r\n\r\n\t},\r\n\r\n\tmanhattanDistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\r\n\r\n\t},\r\n\r\n\tsetFromSpherical: function ( s ) {\r\n\r\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\r\n\r\n\t},\r\n\r\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\r\n\r\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\r\n\r\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\r\n\t\tthis.y = Math.cos( phi ) * radius;\r\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCylindrical: function ( c ) {\r\n\r\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\r\n\r\n\t},\r\n\r\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\r\n\r\n\t\tthis.x = radius * Math.sin( theta );\r\n\t\tthis.y = y;\r\n\t\tthis.z = radius * Math.cos( theta );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrixPosition: function ( m ) {\r\n\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 12 ];\r\n\t\tthis.y = e[ 13 ];\r\n\t\tthis.z = e[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrixScale: function ( m ) {\r\n\r\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\r\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\r\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\tthis.x = sx;\r\n\t\tthis.y = sy;\r\n\t\tthis.z = sz;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrixColumn: function ( m, index ) {\r\n\r\n\t\treturn this.fromArray( m.elements, index * 4 );\r\n\r\n\t},\r\n\r\n\tsetFromMatrix3Column: function ( m, index ) {\r\n\r\n\t\treturn this.fromArray( m.elements, index * 3 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\t\tthis.z = attribute.getZ( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar _v1 = new Vector3();\r\nvar _m1 = new Matrix4();\r\nvar _zero = new Vector3( 0, 0, 0 );\r\nvar _one = new Vector3( 1, 1, 1 );\r\nvar _x = new Vector3();\r\nvar _y = new Vector3();\r\nvar _z = new Vector3();\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author jordi_ros / http://plattsoft.com\r\n * @author D1plo1d / http://github.com/D1plo1d\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author timknip / http://www.floorplanner.com/\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction Matrix4() {\r\n\r\n\tthis.elements = [\r\n\r\n\t\t1, 0, 0, 0,\r\n\t\t0, 1, 0, 0,\r\n\t\t0, 0, 1, 0,\r\n\t\t0, 0, 0, 1\r\n\r\n\t];\r\n\r\n\tif ( arguments.length > 0 ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( Matrix4.prototype, {\r\n\r\n\tisMatrix4: true,\r\n\r\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\r\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\r\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\r\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tidentity: function () {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, 1, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new Matrix4().fromArray( this.elements );\r\n\r\n\t},\r\n\r\n\tcopy: function ( m ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = m.elements;\r\n\r\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\r\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\r\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\r\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyPosition: function ( m ) {\r\n\r\n\t\tvar te = this.elements, me = m.elements;\r\n\r\n\t\tte[ 12 ] = me[ 12 ];\r\n\t\tte[ 13 ] = me[ 13 ];\r\n\t\tte[ 14 ] = me[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\txAxis.setFromMatrixColumn( this, 0 );\r\n\t\tyAxis.setFromMatrixColumn( this, 1 );\r\n\t\tzAxis.setFromMatrixColumn( this, 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\tthis.set(\r\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\r\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\r\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\r\n\t\t\t0, 0, 0, 1\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\textractRotation: function ( m ) {\r\n\r\n\t\t// this method does not support reflection matrices\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = m.elements;\r\n\r\n\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\r\n\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\r\n\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\r\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\r\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\r\n\t\tte[ 3 ] = 0;\r\n\r\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\r\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\r\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\r\n\t\tte[ 7 ] = 0;\r\n\r\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\r\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\r\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationFromEuler: function ( euler ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\r\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\r\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\r\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\r\n\r\n\t\tif ( euler.order === 'XYZ' ) {\r\n\r\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - c * f;\r\n\t\t\tte[ 8 ] = d;\r\n\r\n\t\t\tte[ 1 ] = af + be * d;\r\n\t\t\tte[ 5 ] = ae - bf * d;\r\n\t\t\tte[ 9 ] = - b * c;\r\n\r\n\t\t\tte[ 2 ] = bf - ae * d;\r\n\t\t\tte[ 6 ] = be + af * d;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YXZ' ) {\r\n\r\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce + df * b;\r\n\t\t\tte[ 4 ] = de * b - cf;\r\n\t\t\tte[ 8 ] = a * d;\r\n\r\n\t\t\tte[ 1 ] = a * f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b;\r\n\r\n\t\t\tte[ 2 ] = cf * b - de;\r\n\t\t\tte[ 6 ] = df + ce * b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZXY' ) {\r\n\r\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce - df * b;\r\n\t\t\tte[ 4 ] = - a * f;\r\n\t\t\tte[ 8 ] = de + cf * b;\r\n\r\n\t\t\tte[ 1 ] = cf + de * b;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = df - ce * b;\r\n\r\n\t\t\tte[ 2 ] = - a * d;\r\n\t\t\tte[ 6 ] = b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZYX' ) {\r\n\r\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = be * d - af;\r\n\t\t\tte[ 8 ] = ae * d + bf;\r\n\r\n\t\t\tte[ 1 ] = c * f;\r\n\t\t\tte[ 5 ] = bf * d + ae;\r\n\t\t\tte[ 9 ] = af * d - be;\r\n\r\n\t\t\tte[ 2 ] = - d;\r\n\t\t\tte[ 6 ] = b * c;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YZX' ) {\r\n\r\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = bd - ac * f;\r\n\t\t\tte[ 8 ] = bc * f + ad;\r\n\r\n\t\t\tte[ 1 ] = f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b * e;\r\n\r\n\t\t\tte[ 2 ] = - d * e;\r\n\t\t\tte[ 6 ] = ad * f + bc;\r\n\t\t\tte[ 10 ] = ac - bd * f;\r\n\r\n\t\t} else if ( euler.order === 'XZY' ) {\r\n\r\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - f;\r\n\t\t\tte[ 8 ] = d * e;\r\n\r\n\t\t\tte[ 1 ] = ac * f + bd;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = ad * f - bc;\r\n\r\n\t\t\tte[ 2 ] = bc * f - ad;\r\n\t\t\tte[ 6 ] = b * e;\r\n\t\t\tte[ 10 ] = bd * f + ac;\r\n\r\n\t\t}\r\n\r\n\t\t// bottom row\r\n\t\tte[ 3 ] = 0;\r\n\t\tte[ 7 ] = 0;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\t// last column\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationFromQuaternion: function ( q ) {\r\n\r\n\t\treturn this.compose( _zero, q, _one );\r\n\r\n\t},\r\n\r\n\tlookAt: function ( eye, target, up ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\t_z.subVectors( eye, target );\r\n\r\n\t\tif ( _z.lengthSq() === 0 ) {\r\n\r\n\t\t\t// eye and target are in the same position\r\n\r\n\t\t\t_z.z = 1;\r\n\r\n\t\t}\r\n\r\n\t\t_z.normalize();\r\n\t\t_x.crossVectors( up, _z );\r\n\r\n\t\tif ( _x.lengthSq() === 0 ) {\r\n\r\n\t\t\t// up and z are parallel\r\n\r\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\r\n\r\n\t\t\t\t_z.x += 0.0001;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_z.z += 0.0001;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_z.normalize();\r\n\t\t\t_x.crossVectors( up, _z );\r\n\r\n\t\t}\r\n\r\n\t\t_x.normalize();\r\n\t\t_y.crossVectors( _z, _x );\r\n\r\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\r\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\r\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( m, n ) {\r\n\r\n\t\tif ( n !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\r\n\t\t\treturn this.multiplyMatrices( m, n );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t},\r\n\r\n\tpremultiply: function ( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t},\r\n\r\n\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\tvar ae = a.elements;\r\n\t\tvar be = b.elements;\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\r\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\r\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\r\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\r\n\r\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\r\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\r\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\r\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\r\n\r\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\r\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\r\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\r\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\r\n\r\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\r\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\r\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\r\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\r\n\r\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\r\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\r\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\r\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\r\n\r\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\r\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\r\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\r\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\r\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdeterminant: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\r\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\r\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\r\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\r\n\r\n\t\t//TODO: make this more efficient\r\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\r\n\r\n\t\treturn (\r\n\t\t\tn41 * (\r\n\t\t\t\t+ n14 * n23 * n32\r\n\t\t\t\t - n13 * n24 * n32\r\n\t\t\t\t - n14 * n22 * n33\r\n\t\t\t\t + n12 * n24 * n33\r\n\t\t\t\t + n13 * n22 * n34\r\n\t\t\t\t - n12 * n23 * n34\r\n\t\t\t) +\r\n\t\t\tn42 * (\r\n\t\t\t\t+ n11 * n23 * n34\r\n\t\t\t\t - n11 * n24 * n33\r\n\t\t\t\t + n14 * n21 * n33\r\n\t\t\t\t - n13 * n21 * n34\r\n\t\t\t\t + n13 * n24 * n31\r\n\t\t\t\t - n14 * n23 * n31\r\n\t\t\t) +\r\n\t\t\tn43 * (\r\n\t\t\t\t+ n11 * n24 * n32\r\n\t\t\t\t - n11 * n22 * n34\r\n\t\t\t\t - n14 * n21 * n32\r\n\t\t\t\t + n12 * n21 * n34\r\n\t\t\t\t + n14 * n22 * n31\r\n\t\t\t\t - n12 * n24 * n31\r\n\t\t\t) +\r\n\t\t\tn44 * (\r\n\t\t\t\t- n13 * n22 * n31\r\n\t\t\t\t - n11 * n23 * n32\r\n\t\t\t\t + n11 * n22 * n33\r\n\t\t\t\t + n13 * n21 * n32\r\n\t\t\t\t - n12 * n21 * n33\r\n\t\t\t\t + n12 * n23 * n31\r\n\t\t\t)\r\n\r\n\t\t);\r\n\r\n\t},\r\n\r\n\ttranspose: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar tmp;\r\n\r\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\r\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\r\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\r\n\r\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\r\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\r\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetPosition: function ( x, y, z ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\tte[ 12 ] = x.x;\r\n\t\t\tte[ 13 ] = x.y;\r\n\t\t\tte[ 14 ] = x.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tte[ 12 ] = x;\r\n\t\t\tte[ 13 ] = y;\r\n\t\t\tte[ 14 ] = z;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetInverse: function ( m, throwOnDegenerate ) {\r\n\r\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\r\n\t\tvar te = this.elements,\r\n\t\t\tme = m.elements,\r\n\r\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\r\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\r\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\r\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\r\n\r\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\r\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\r\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\r\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\r\n\r\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\r\n\r\n\t\tif ( det === 0 ) {\r\n\r\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\r\n\r\n\t\t\tif ( throwOnDegenerate === true ) {\r\n\r\n\t\t\t\tthrow new Error( msg );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( msg );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.identity();\r\n\r\n\t\t}\r\n\r\n\t\tvar detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\r\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\r\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 4 ] = t12 * detInv;\r\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\r\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\r\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 8 ] = t13 * detInv;\r\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\r\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\r\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\r\n\r\n\t\tte[ 12 ] = t14 * detInv;\r\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\r\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\r\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tscale: function ( v ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar x = v.x, y = v.y, z = v.z;\r\n\r\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\r\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\r\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\r\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetMaxScaleOnAxis: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\r\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\r\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\r\n\r\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\r\n\r\n\t},\r\n\r\n\tmakeTranslation: function ( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, x,\r\n\t\t\t0, 1, 0, y,\r\n\t\t\t0, 0, 1, z,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationX: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, c, - s, 0,\r\n\t\t\t0, s, c, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationY: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t c, 0, s, 0,\r\n\t\t\t 0, 1, 0, 0,\r\n\t\t\t- s, 0, c, 0,\r\n\t\t\t 0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationZ: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tc, - s, 0, 0,\r\n\t\t\ts, c, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationAxis: function ( axis, angle ) {\r\n\r\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\r\n\r\n\t\tvar c = Math.cos( angle );\r\n\t\tvar s = Math.sin( angle );\r\n\t\tvar t = 1 - c;\r\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\r\n\t\tvar tx = t * x, ty = t * y;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\r\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\r\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\t return this;\r\n\r\n\t},\r\n\r\n\tmakeScale: function ( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tx, 0, 0, 0,\r\n\t\t\t0, y, 0, 0,\r\n\t\t\t0, 0, z, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeShear: function ( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, y, z, 0,\r\n\t\t\tx, 1, z, 0,\r\n\t\t\tx, y, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcompose: function ( position, quaternion, scale ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\r\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\r\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\r\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\r\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\r\n\r\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\r\n\r\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\r\n\t\tte[ 1 ] = ( xy + wz ) * sx;\r\n\t\tte[ 2 ] = ( xz - wy ) * sx;\r\n\t\tte[ 3 ] = 0;\r\n\r\n\t\tte[ 4 ] = ( xy - wz ) * sy;\r\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\r\n\t\tte[ 6 ] = ( yz + wx ) * sy;\r\n\t\tte[ 7 ] = 0;\r\n\r\n\t\tte[ 8 ] = ( xz + wy ) * sz;\r\n\t\tte[ 9 ] = ( yz - wx ) * sz;\r\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\tte[ 12 ] = position.x;\r\n\t\tte[ 13 ] = position.y;\r\n\t\tte[ 14 ] = position.z;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdecompose: function ( position, quaternion, scale ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\r\n\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\r\n\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\r\n\r\n\t\t// if determine is negative, we need to invert one scale\r\n\t\tvar det = this.determinant();\r\n\t\tif ( det < 0 ) sx = - sx;\r\n\r\n\t\tposition.x = te[ 12 ];\r\n\t\tposition.y = te[ 13 ];\r\n\t\tposition.z = te[ 14 ];\r\n\r\n\t\t// scale the rotation part\r\n\t\t_m1.copy( this );\r\n\r\n\t\tvar invSX = 1 / sx;\r\n\t\tvar invSY = 1 / sy;\r\n\t\tvar invSZ = 1 / sz;\r\n\r\n\t\t_m1.elements[ 0 ] *= invSX;\r\n\t\t_m1.elements[ 1 ] *= invSX;\r\n\t\t_m1.elements[ 2 ] *= invSX;\r\n\r\n\t\t_m1.elements[ 4 ] *= invSY;\r\n\t\t_m1.elements[ 5 ] *= invSY;\r\n\t\t_m1.elements[ 6 ] *= invSY;\r\n\r\n\t\t_m1.elements[ 8 ] *= invSZ;\r\n\t\t_m1.elements[ 9 ] *= invSZ;\r\n\t\t_m1.elements[ 10 ] *= invSZ;\r\n\r\n\t\tquaternion.setFromRotationMatrix( _m1 );\r\n\r\n\t\tscale.x = sx;\r\n\t\tscale.y = sy;\r\n\t\tscale.z = sz;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\r\n\r\n\t\tif ( far === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar x = 2 * near / ( right - left );\r\n\t\tvar y = 2 * near / ( top - bottom );\r\n\r\n\t\tvar a = ( right + left ) / ( right - left );\r\n\t\tvar b = ( top + bottom ) / ( top - bottom );\r\n\t\tvar c = - ( far + near ) / ( far - near );\r\n\t\tvar d = - 2 * far * near / ( far - near );\r\n\r\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar w = 1.0 / ( right - left );\r\n\t\tvar h = 1.0 / ( top - bottom );\r\n\t\tvar p = 1.0 / ( far - near );\r\n\r\n\t\tvar x = ( right + left ) * w;\r\n\t\tvar y = ( top + bottom ) * h;\r\n\t\tvar z = ( far + near ) * p;\r\n\r\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( matrix ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = matrix.elements;\r\n\r\n\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\r\n\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\t\tarray[ offset + 9 ] = te[ 9 ];\r\n\t\tarray[ offset + 10 ] = te[ 10 ];\r\n\t\tarray[ offset + 11 ] = te[ 11 ];\r\n\r\n\t\tarray[ offset + 12 ] = te[ 12 ];\r\n\t\tarray[ offset + 13 ] = te[ 13 ];\r\n\t\tarray[ offset + 14 ] = te[ 14 ];\r\n\t\tarray[ offset + 15 ] = te[ 15 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _matrix = new Matrix4();\r\nvar _quaternion$1 = new Quaternion();\r\n\r\nfunction Euler( x, y, z, order ) {\r\n\r\n\tthis._x = x || 0;\r\n\tthis._y = y || 0;\r\n\tthis._z = z || 0;\r\n\tthis._order = order || Euler.DefaultOrder;\r\n\r\n}\r\n\r\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\r\n\r\nEuler.DefaultOrder = 'XYZ';\r\n\r\nObject.defineProperties( Euler.prototype, {\r\n\r\n\tx: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._x;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._x = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ty: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._y;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._y = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tz: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._z;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._z = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\torder: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._order;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._order = value;\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Euler.prototype, {\r\n\r\n\tisEuler: true,\r\n\r\n\tset: function ( x, y, z, order ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._order = order || this._order;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\r\n\r\n\t},\r\n\r\n\tcopy: function ( euler ) {\r\n\r\n\t\tthis._x = euler._x;\r\n\t\tthis._y = euler._y;\r\n\t\tthis._z = euler._z;\r\n\t\tthis._order = euler._order;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromRotationMatrix: function ( m, order, update ) {\r\n\r\n\t\tvar clamp = MathUtils.clamp;\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar te = m.elements;\r\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\r\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\r\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\torder = order || this._order;\r\n\r\n\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\r\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._y = 0;\r\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\r\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\r\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\tthis._y = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\r\n\r\n\t\t}\r\n\r\n\t\tthis._order = order;\r\n\r\n\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromQuaternion: function ( q, order, update ) {\r\n\r\n\t\t_matrix.makeRotationFromQuaternion( q );\r\n\r\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\r\n\r\n\t},\r\n\r\n\tsetFromVector3: function ( v, order ) {\r\n\r\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\r\n\r\n\t},\r\n\r\n\treorder: function ( newOrder ) {\r\n\r\n\t\t// WARNING: this discards revolution information -bhouston\r\n\r\n\t\t_quaternion$1.setFromEuler( this );\r\n\r\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\r\n\r\n\t},\r\n\r\n\tequals: function ( euler ) {\r\n\r\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array ) {\r\n\r\n\t\tthis._x = array[ 0 ];\r\n\t\tthis._y = array[ 1 ];\r\n\t\tthis._z = array[ 2 ];\r\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._order;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\ttoVector3: function ( optionalResult ) {\r\n\r\n\t\tif ( optionalResult ) {\r\n\r\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn new Vector3( this._x, this._y, this._z );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_onChange: function ( callback ) {\r\n\r\n\t\tthis._onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t_onChangeCallback: function () {}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Layers() {\r\n\r\n\tthis.mask = 1 | 0;\r\n\r\n}\r\n\r\nObject.assign( Layers.prototype, {\r\n\r\n\tset: function ( channel ) {\r\n\r\n\t\tthis.mask = 1 << channel | 0;\r\n\r\n\t},\r\n\r\n\tenable: function ( channel ) {\r\n\r\n\t\tthis.mask |= 1 << channel | 0;\r\n\r\n\t},\r\n\r\n\tenableAll: function () {\r\n\r\n\t\tthis.mask = 0xffffffff | 0;\r\n\r\n\t},\r\n\r\n\ttoggle: function ( channel ) {\r\n\r\n\t\tthis.mask ^= 1 << channel | 0;\r\n\r\n\t},\r\n\r\n\tdisable: function ( channel ) {\r\n\r\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\r\n\r\n\t},\r\n\r\n\tdisableAll: function () {\r\n\r\n\t\tthis.mask = 0;\r\n\r\n\t},\r\n\r\n\ttest: function ( layers ) {\r\n\r\n\t\treturn ( this.mask & layers.mask ) !== 0;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar _object3DId = 0;\r\n\r\nvar _v1$1 = new Vector3();\r\nvar _q1 = new Quaternion();\r\nvar _m1$1 = new Matrix4();\r\nvar _target = new Vector3();\r\n\r\nvar _position = new Vector3();\r\nvar _scale = new Vector3();\r\nvar _quaternion$2 = new Quaternion();\r\n\r\nvar _xAxis = new Vector3( 1, 0, 0 );\r\nvar _yAxis = new Vector3( 0, 1, 0 );\r\nvar _zAxis = new Vector3( 0, 0, 1 );\r\n\r\nvar _addedEvent = { type: 'added' };\r\nvar _removedEvent = { type: 'removed' };\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author elephantatwork / www.elephantatwork.ch\r\n */\r\n\r\nfunction Object3D() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Object3D';\r\n\r\n\tthis.parent = null;\r\n\tthis.children = [];\r\n\r\n\tthis.up = Object3D.DefaultUp.clone();\r\n\r\n\tvar position = new Vector3();\r\n\tvar rotation = new Euler();\r\n\tvar quaternion = new Quaternion();\r\n\tvar scale = new Vector3( 1, 1, 1 );\r\n\r\n\tfunction onRotationChange() {\r\n\r\n\t\tquaternion.setFromEuler( rotation, false );\r\n\r\n\t}\r\n\r\n\tfunction onQuaternionChange() {\r\n\r\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\r\n\r\n\t}\r\n\r\n\trotation._onChange( onRotationChange );\r\n\tquaternion._onChange( onQuaternionChange );\r\n\r\n\tObject.defineProperties( this, {\r\n\t\tposition: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: position\r\n\t\t},\r\n\t\trotation: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: rotation\r\n\t\t},\r\n\t\tquaternion: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: quaternion\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: scale\r\n\t\t},\r\n\t\tmodelViewMatrix: {\r\n\t\t\tvalue: new Matrix4()\r\n\t\t},\r\n\t\tnormalMatrix: {\r\n\t\t\tvalue: new Matrix3()\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.matrix = new Matrix4();\r\n\tthis.matrixWorld = new Matrix4();\r\n\r\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\r\n\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\tthis.layers = new Layers();\r\n\tthis.visible = true;\r\n\r\n\tthis.castShadow = false;\r\n\tthis.receiveShadow = false;\r\n\r\n\tthis.frustumCulled = true;\r\n\tthis.renderOrder = 0;\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\r\nObject3D.DefaultMatrixAutoUpdate = true;\r\n\r\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Object3D,\r\n\r\n\tisObject3D: true,\r\n\r\n\tonBeforeRender: function () {},\r\n\tonAfterRender: function () {},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tthis.matrix.premultiply( matrix );\r\n\r\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\r\n\r\n\t},\r\n\r\n\tapplyQuaternion: function ( q ) {\r\n\r\n\t\tthis.quaternion.premultiply( q );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t},\r\n\r\n\tsetRotationFromEuler: function ( euler ) {\r\n\r\n\t\tthis.quaternion.setFromEuler( euler, true );\r\n\r\n\t},\r\n\r\n\tsetRotationFromMatrix: function ( m ) {\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( m );\r\n\r\n\t},\r\n\r\n\tsetRotationFromQuaternion: function ( q ) {\r\n\r\n\t\t// assumes q is normalized\r\n\r\n\t\tthis.quaternion.copy( q );\r\n\r\n\t},\r\n\r\n\trotateOnAxis: function ( axis, angle ) {\r\n\r\n\t\t// rotate object on axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\t_q1.setFromAxisAngle( axis, angle );\r\n\r\n\t\tthis.quaternion.multiply( _q1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateOnWorldAxis: function ( axis, angle ) {\r\n\r\n\t\t// rotate object on axis in world space\r\n\t\t// axis is assumed to be normalized\r\n\t\t// method assumes no rotated parent\r\n\r\n\t\t_q1.setFromAxisAngle( axis, angle );\r\n\r\n\t\tthis.quaternion.premultiply( _q1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _xAxis, angle );\r\n\r\n\t},\r\n\r\n\trotateY: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _yAxis, angle );\r\n\r\n\t},\r\n\r\n\trotateZ: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _zAxis, angle );\r\n\r\n\t},\r\n\r\n\ttranslateOnAxis: function ( axis, distance ) {\r\n\r\n\t\t// translate object by distance along axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\r\n\r\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslateX: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _xAxis, distance );\r\n\r\n\t},\r\n\r\n\ttranslateY: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _yAxis, distance );\r\n\r\n\t},\r\n\r\n\ttranslateZ: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _zAxis, distance );\r\n\r\n\t},\r\n\r\n\tlocalToWorld: function ( vector ) {\r\n\r\n\t\treturn vector.applyMatrix4( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tworldToLocal: function ( vector ) {\r\n\r\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\r\n\r\n\t},\r\n\r\n\tlookAt: function ( x, y, z ) {\r\n\r\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\t_target.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_target.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tvar parent = this.parent;\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\tif ( this.isCamera || this.isLight ) {\r\n\r\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\r\n\r\n\t\t}\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\r\n\r\n\t\tif ( parent ) {\r\n\r\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\r\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\r\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tadd: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.add( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( object === this ) {\r\n\r\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( object && object.isObject3D ) ) {\r\n\r\n\t\t\tif ( object.parent !== null ) {\r\n\r\n\t\t\t\tobject.parent.remove( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.parent = this;\r\n\t\t\tthis.children.push( object );\r\n\r\n\t\t\tobject.dispatchEvent( _addedEvent );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremove: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.remove( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar index = this.children.indexOf( object );\r\n\r\n\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\tobject.parent = null;\r\n\t\t\tthis.children.splice( index, 1 );\r\n\r\n\t\t\tobject.dispatchEvent( _removedEvent );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tattach: function ( object ) {\r\n\r\n\t\t// adds object as a child of this, while maintaining the object's world transform\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\t_m1$1.getInverse( this.matrixWorld );\r\n\r\n\t\tif ( object.parent !== null ) {\r\n\r\n\t\t\tobject.parent.updateWorldMatrix( true, false );\r\n\r\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\r\n\r\n\t\t}\r\n\r\n\t\tobject.applyMatrix4( _m1$1 );\r\n\r\n\t\tobject.updateWorldMatrix( false, false );\r\n\r\n\t\tthis.add( object );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetObjectById: function ( id ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'id', id );\r\n\r\n\t},\r\n\r\n\tgetObjectByName: function ( name ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'name', name );\r\n\r\n\t},\r\n\r\n\tgetObjectByProperty: function ( name, value ) {\r\n\r\n\t\tif ( this[ name ] === value ) return this;\r\n\r\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar child = this.children[ i ];\r\n\t\t\tvar object = child.getObjectByProperty( name, value );\r\n\r\n\t\t\tif ( object !== undefined ) {\r\n\r\n\t\t\t\treturn object;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\r\n\t},\r\n\r\n\tgetWorldPosition: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tgetWorldQuaternion: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\r\n\t\t\ttarget = new Quaternion();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetWorldScale: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetWorldDirection: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\tvar e = this.matrixWorld.elements;\r\n\r\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\r\n\r\n\t},\r\n\r\n\traycast: function () {},\r\n\r\n\ttraverse: function ( callback ) {\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tvar children = this.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverse( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseVisible: function ( callback ) {\r\n\r\n\t\tif ( this.visible === false ) return;\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tvar children = this.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverseVisible( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseAncestors: function ( callback ) {\r\n\r\n\t\tvar parent = this.parent;\r\n\r\n\t\tif ( parent !== null ) {\r\n\r\n\t\t\tcallback( parent );\r\n\r\n\t\t\tparent.traverseAncestors( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrix: function () {\r\n\r\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\r\n\r\n\t\tthis.matrixWorldNeedsUpdate = true;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\r\n\r\n\t\t\tif ( this.parent === null ) {\r\n\r\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\t\t\tforce = true;\r\n\r\n\t\t}\r\n\r\n\t\t// update children\r\n\r\n\t\tvar children = this.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].updateMatrixWorld( force );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\r\n\r\n\t\tvar parent = this.parent;\r\n\r\n\t\tif ( updateParents === true && parent !== null ) {\r\n\r\n\t\t\tparent.updateWorldMatrix( true, false );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tif ( this.parent === null ) {\r\n\r\n\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// update children\r\n\r\n\t\tif ( updateChildren === true ) {\r\n\r\n\t\t\tvar children = this.children;\r\n\r\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\t// meta is a string when called from JSON.stringify\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tvar output = {};\r\n\r\n\t\t// meta is a hash used to collect geometries, materials.\r\n\t\t// not providing it implies that this is the root object\r\n\t\t// being serialized.\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\t// initialize meta obj\r\n\t\t\tmeta = {\r\n\t\t\t\tgeometries: {},\r\n\t\t\t\tmaterials: {},\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {},\r\n\t\t\t\tshapes: {}\r\n\t\t\t};\r\n\r\n\t\t\toutput.metadata = {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Object',\r\n\t\t\t\tgenerator: 'Object3D.toJSON'\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t// standard Object3D serialization\r\n\r\n\t\tvar object = {};\r\n\r\n\t\tobject.uuid = this.uuid;\r\n\t\tobject.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) object.name = this.name;\r\n\t\tif ( this.castShadow === true ) object.castShadow = true;\r\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\r\n\t\tif ( this.visible === false ) object.visible = false;\r\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\r\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\r\n\r\n\t\tobject.layers = this.layers.mask;\r\n\t\tobject.matrix = this.matrix.toArray();\r\n\r\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\r\n\r\n\t\t// object specific properties\r\n\r\n\t\tif ( this.isInstancedMesh ) {\r\n\r\n\t\t\tobject.type = 'InstancedMesh';\r\n\t\t\tobject.count = this.count;\r\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tfunction serialize( library, element ) {\r\n\r\n\t\t\tif ( library[ element.uuid ] === undefined ) {\r\n\r\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn element.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\r\n\r\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\r\n\r\n\t\t\tvar parameters = this.geometry.parameters;\r\n\r\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\r\n\r\n\t\t\t\tvar shapes = parameters.shapes;\r\n\r\n\t\t\t\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar shape = shapes[ i ];\r\n\r\n\t\t\t\t\t\tserialize( meta.shapes, shape );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tserialize( meta.shapes, shapes );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.material !== undefined ) {\r\n\r\n\t\t\tif ( Array.isArray( this.material ) ) {\r\n\r\n\t\t\t\tvar uuids = [];\r\n\r\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobject.material = uuids;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.children.length > 0 ) {\r\n\r\n\t\t\tobject.children = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\r\n\r\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tvar geometries = extractFromCache( meta.geometries );\r\n\t\t\tvar materials = extractFromCache( meta.materials );\r\n\t\t\tvar textures = extractFromCache( meta.textures );\r\n\t\t\tvar images = extractFromCache( meta.images );\r\n\t\t\tvar shapes = extractFromCache( meta.shapes );\r\n\r\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\r\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\r\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\r\n\t\t\tif ( images.length > 0 ) output.images = images;\r\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\r\n\r\n\t\t}\r\n\r\n\t\toutput.object = object;\r\n\r\n\t\treturn output;\r\n\r\n\t\t// extract data from the cache hash\r\n\t\t// remove metadata on each item\r\n\t\t// and return as array\r\n\t\tfunction extractFromCache( cache ) {\r\n\r\n\t\t\tvar values = [];\r\n\t\t\tfor ( var key in cache ) {\r\n\r\n\t\t\t\tvar data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function ( recursive ) {\r\n\r\n\t\treturn new this.constructor().copy( this, recursive );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tif ( recursive === undefined ) recursive = true;\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.up.copy( source.up );\r\n\r\n\t\tthis.position.copy( source.position );\r\n\t\tthis.quaternion.copy( source.quaternion );\r\n\t\tthis.scale.copy( source.scale );\r\n\r\n\t\tthis.matrix.copy( source.matrix );\r\n\t\tthis.matrixWorld.copy( source.matrixWorld );\r\n\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\r\n\r\n\t\tthis.layers.mask = source.layers.mask;\r\n\t\tthis.visible = source.visible;\r\n\r\n\t\tthis.castShadow = source.castShadow;\r\n\t\tthis.receiveShadow = source.receiveShadow;\r\n\r\n\t\tthis.frustumCulled = source.frustumCulled;\r\n\t\tthis.renderOrder = source.renderOrder;\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\tif ( recursive === true ) {\r\n\r\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = source.children[ i ];\r\n\t\t\t\tthis.add( child.clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Scene() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Scene';\r\n\r\n\tthis.background = null;\r\n\tthis.environment = null;\r\n\tthis.fog = null;\r\n\r\n\tthis.overrideMaterial = null;\r\n\r\n\tthis.autoUpdate = true; // checked by the renderer\r\n\r\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\r\n\r\n\t}\r\n\r\n}\r\n\r\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Scene,\r\n\r\n\tisScene: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tif ( source.background !== null ) this.background = source.background.clone();\r\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\r\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\r\n\r\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\r\n\r\n\t\tthis.autoUpdate = source.autoUpdate;\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\r\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\r\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar _points = [\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3(),\r\n\tnew Vector3()\r\n];\r\n\r\nvar _vector$1 = new Vector3();\r\n\r\nvar _box = new Box3();\r\n\r\n// triangle centered vertices\r\n\r\nvar _v0 = new Vector3();\r\nvar _v1$2 = new Vector3();\r\nvar _v2 = new Vector3();\r\n\r\n// triangle edge vectors\r\n\r\nvar _f0 = new Vector3();\r\nvar _f1 = new Vector3();\r\nvar _f2 = new Vector3();\r\n\r\nvar _center = new Vector3();\r\nvar _extents = new Vector3();\r\nvar _triangleNormal = new Vector3();\r\nvar _testAxis = new Vector3();\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction Box3( min, max ) {\r\n\r\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\r\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\r\n\r\n}\r\n\r\n\r\nObject.assign( Box3.prototype, {\r\n\r\n\tisBox3: true,\r\n\r\n\tset: function ( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromArray: function ( array ) {\r\n\r\n\t\tvar minX = + Infinity;\r\n\t\tvar minY = + Infinity;\r\n\t\tvar minZ = + Infinity;\r\n\r\n\t\tvar maxX = - Infinity;\r\n\t\tvar maxY = - Infinity;\r\n\t\tvar maxZ = - Infinity;\r\n\r\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\tvar x = array[ i ];\r\n\t\t\tvar y = array[ i + 1 ];\r\n\t\t\tvar z = array[ i + 2 ];\r\n\r\n\t\t\tif ( x < minX ) minX = x;\r\n\t\t\tif ( y < minY ) minY = y;\r\n\t\t\tif ( z < minZ ) minZ = z;\r\n\r\n\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\tif ( y > maxY ) maxY = y;\r\n\t\t\tif ( z > maxZ ) maxZ = z;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min.set( minX, minY, minZ );\r\n\t\tthis.max.set( maxX, maxY, maxZ );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromBufferAttribute: function ( attribute ) {\r\n\r\n\t\tvar minX = + Infinity;\r\n\t\tvar minY = + Infinity;\r\n\t\tvar minZ = + Infinity;\r\n\r\n\t\tvar maxX = - Infinity;\r\n\t\tvar maxY = - Infinity;\r\n\t\tvar maxZ = - Infinity;\r\n\r\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\r\n\r\n\t\t\tvar x = attribute.getX( i );\r\n\t\t\tvar y = attribute.getY( i );\r\n\t\t\tvar z = attribute.getZ( i );\r\n\r\n\t\t\tif ( x < minX ) minX = x;\r\n\t\t\tif ( y < minY ) minY = y;\r\n\t\t\tif ( z < minZ ) minZ = z;\r\n\r\n\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\tif ( y > maxY ) maxY = y;\r\n\t\t\tif ( z > maxZ ) maxZ = z;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min.set( minX, minY, minZ );\r\n\t\tthis.max.set( maxX, maxY, maxZ );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCenterAndSize: function ( center, size ) {\r\n\r\n\t\tvar halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\r\n\r\n\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromObject: function ( object ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\treturn this.expandByObject( object );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeEmpty: function () {\r\n\r\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\r\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tisEmpty: function () {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\r\n\r\n\t},\r\n\r\n\tgetCenter: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tgetSize: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\r\n\r\n\t},\r\n\r\n\texpandByPoint: function ( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByVector: function ( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByScalar: function ( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByObject: function ( object ) {\r\n\r\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\r\n\t\t// accounting for both the object's, and children's, world transforms\r\n\r\n\t\tobject.updateWorldMatrix( false, false );\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( geometry !== undefined ) {\r\n\r\n\t\t\tif ( geometry.boundingBox === null ) {\r\n\r\n\t\t\t\tgeometry.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_box.copy( geometry.boundingBox );\r\n\t\t\t_box.applyMatrix4( object.matrixWorld );\r\n\r\n\t\t\tthis.union( _box );\r\n\r\n\t\t}\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.expandByObject( children[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\r\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\r\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\r\n\r\n\t},\r\n\r\n\tcontainsBox: function ( box ) {\r\n\r\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\r\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\r\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\r\n\r\n\t},\r\n\r\n\tgetParameter: function ( point, target ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\r\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\t// using 6 splitting planes to rule out intersections.\r\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\r\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\t// Find the point on the AABB closest to the sphere center.\r\n\t\tthis.clampPoint( sphere.center, _vector$1 );\r\n\r\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\r\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\r\n\r\n\t},\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\t// We compute the minimum and maximum dot product values. If those values\r\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\r\n\r\n\t\tvar min, max;\r\n\r\n\t\tif ( plane.normal.x > 0 ) {\r\n\r\n\t\t\tmin = plane.normal.x * this.min.x;\r\n\t\t\tmax = plane.normal.x * this.max.x;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin = plane.normal.x * this.max.x;\r\n\t\t\tmax = plane.normal.x * this.min.x;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.y > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.y * this.min.y;\r\n\t\t\tmax += plane.normal.y * this.max.y;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.y * this.max.y;\r\n\t\t\tmax += plane.normal.y * this.min.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.z > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.z * this.min.z;\r\n\t\t\tmax += plane.normal.z * this.max.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.z * this.max.z;\r\n\t\t\tmax += plane.normal.z * this.min.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\r\n\r\n\t},\r\n\r\n\tintersectsTriangle: function ( triangle ) {\r\n\r\n\t\tif ( this.isEmpty() ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// compute box center and extents\r\n\t\tthis.getCenter( _center );\r\n\t\t_extents.subVectors( this.max, _center );\r\n\r\n\t\t// translate triangle to aabb origin\r\n\t\t_v0.subVectors( triangle.a, _center );\r\n\t\t_v1$2.subVectors( triangle.b, _center );\r\n\t\t_v2.subVectors( triangle.c, _center );\r\n\r\n\t\t// compute edge vectors for triangle\r\n\t\t_f0.subVectors( _v1$2, _v0 );\r\n\t\t_f1.subVectors( _v2, _v1$2 );\r\n\t\t_f2.subVectors( _v0, _v2 );\r\n\r\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\r\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\r\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\r\n\t\tvar axes = [\r\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\r\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\r\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\r\n\t\t];\r\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// test 3 face normals from the aabb\r\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\r\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// finally testing the face normal of the triangle\r\n\t\t// use already existing triangle edge vectors here\r\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\r\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\r\n\r\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( point ).clamp( this.min, this.max );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\tvar clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\r\n\r\n\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t},\r\n\r\n\tgetBoundingSphere: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\r\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\r\n\r\n\t\t}\r\n\r\n\t\tthis.getCenter( target.center );\r\n\r\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tintersect: function ( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\r\n\t\tif ( this.isEmpty() ) this.makeEmpty();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tunion: function ( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\t// transform of empty box is an empty box.\r\n\t\tif ( this.isEmpty() ) return this;\r\n\r\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\r\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\r\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\r\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\r\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\r\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\r\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\r\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\r\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\r\n\r\n\t\tthis.setFromPoints( _points );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction satForAxes( axes, v0, v1, v2, extents ) {\r\n\r\n\tvar i, j;\r\n\r\n\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\r\n\r\n\t\t_testAxis.fromArray( axes, i );\r\n\t\t// project the aabb onto the seperating axis\r\n\t\tvar r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\r\n\t\t// project all 3 vertices of the triangle onto the seperating axis\r\n\t\tvar p0 = v0.dot( _testAxis );\r\n\t\tvar p1 = v1.dot( _testAxis );\r\n\t\tvar p2 = v2.dot( _testAxis );\r\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\r\n\r\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\r\n\t\t\t// the axis is seperating and we can exit\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nvar _box$1 = new Box3();\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Sphere( center, radius ) {\r\n\r\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\r\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\r\n\r\n}\r\n\r\nObject.assign( Sphere.prototype, {\r\n\r\n\tset: function ( center, radius ) {\r\n\r\n\t\tthis.center.copy( center );\r\n\t\tthis.radius = radius;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points, optionalCenter ) {\r\n\r\n\t\tvar center = this.center;\r\n\r\n\t\tif ( optionalCenter !== undefined ) {\r\n\r\n\t\t\tcenter.copy( optionalCenter );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\r\n\r\n\t\t}\r\n\r\n\t\tvar maxRadiusSq = 0;\r\n\r\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( sphere ) {\r\n\r\n\t\tthis.center.copy( sphere.center );\r\n\t\tthis.radius = sphere.radius;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tempty: function () {\r\n\r\n\t\treturn ( this.radius <= 0 );\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\tvar radiusSum = this.radius + sphere.radius;\r\n\r\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn box.intersectsSphere( this );\r\n\r\n\t},\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, target ) {\r\n\r\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.copy( point );\r\n\r\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\r\n\r\n\t\t\ttarget.sub( this.center ).normalize();\r\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\r\n\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetBoundingBox: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\r\n\t\t\ttarget = new Box3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.set( this.center, this.center );\r\n\t\ttarget.expandByScalar( this.radius );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tthis.center.applyMatrix4( matrix );\r\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.center.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( sphere ) {\r\n\r\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar _vector$2 = new Vector3();\r\nvar _segCenter = new Vector3();\r\nvar _segDir = new Vector3();\r\nvar _diff = new Vector3();\r\n\r\nvar _edge1 = new Vector3();\r\nvar _edge2 = new Vector3();\r\nvar _normal = new Vector3();\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nfunction Ray( origin, direction ) {\r\n\r\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\r\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\r\n\r\n}\r\n\r\nObject.assign( Ray.prototype, {\r\n\r\n\tset: function ( origin, direction ) {\r\n\r\n\t\tthis.origin.copy( origin );\r\n\t\tthis.direction.copy( direction );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( ray ) {\r\n\r\n\t\tthis.origin.copy( ray.origin );\r\n\t\tthis.direction.copy( ray.direction );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tat: function ( t, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\r\n\r\n\t},\r\n\r\n\tlookAt: function ( v ) {\r\n\r\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trecast: function ( t ) {\r\n\r\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclosestPointToPoint: function ( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.subVectors( point, this.origin );\r\n\r\n\t\tvar directionDistance = target.dot( this.direction );\r\n\r\n\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\treturn target.copy( this.origin );\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\r\n\r\n\t},\r\n\r\n\tdistanceSqToPoint: function ( point ) {\r\n\r\n\t\tvar directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\r\n\r\n\t\t// point behind the ray\r\n\r\n\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\treturn this.origin.distanceToSquared( point );\r\n\r\n\t\t}\r\n\r\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t\treturn _vector$2.distanceToSquared( point );\r\n\r\n\t},\r\n\r\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\r\n\r\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\r\n\t\t// It returns the min distance between the ray and the segment\r\n\t\t// defined by v0 and v1\r\n\t\t// It can also set two optional targets :\r\n\t\t// - The closest point on the ray\r\n\t\t// - The closest point on the segment\r\n\r\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\r\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\r\n\t\t_diff.copy( this.origin ).sub( _segCenter );\r\n\r\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\r\n\t\tvar a01 = - this.direction.dot( _segDir );\r\n\t\tvar b0 = _diff.dot( this.direction );\r\n\t\tvar b1 = - _diff.dot( _segDir );\r\n\t\tvar c = _diff.lengthSq();\r\n\t\tvar det = Math.abs( 1 - a01 * a01 );\r\n\t\tvar s0, s1, sqrDist, extDet;\r\n\r\n\t\tif ( det > 0 ) {\r\n\r\n\t\t\t// The ray and segment are not parallel.\r\n\r\n\t\t\ts0 = a01 * b1 - b0;\r\n\t\t\ts1 = a01 * b0 - b1;\r\n\t\t\textDet = segExtent * det;\r\n\r\n\t\t\tif ( s0 >= 0 ) {\r\n\r\n\t\t\t\tif ( s1 >= - extDet ) {\r\n\r\n\t\t\t\t\tif ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t\t// region 0\r\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\r\n\r\n\t\t\t\t\t\tvar invDet = 1 / det;\r\n\t\t\t\t\t\ts0 *= invDet;\r\n\t\t\t\t\t\ts1 *= invDet;\r\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// region 1\r\n\r\n\t\t\t\t\t\ts1 = segExtent;\r\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// region 5\r\n\r\n\t\t\t\t\ts1 = - segExtent;\r\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( s1 <= - extDet ) {\r\n\r\n\t\t\t\t\t// region 4\r\n\r\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\r\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t} else if ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t// region 3\r\n\r\n\t\t\t\t\ts0 = 0;\r\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// region 2\r\n\r\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\r\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Ray and segment are parallel.\r\n\r\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\r\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t}\r\n\r\n\t\tif ( optionalPointOnRay ) {\r\n\r\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\r\n\r\n\t\t}\r\n\r\n\t\tif ( optionalPointOnSegment ) {\r\n\r\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\r\n\r\n\t\t}\r\n\r\n\t\treturn sqrDist;\r\n\r\n\t},\r\n\r\n\tintersectSphere: function ( sphere, target ) {\r\n\r\n\t\t_vector$2.subVectors( sphere.center, this.origin );\r\n\t\tvar tca = _vector$2.dot( this.direction );\r\n\t\tvar d2 = _vector$2.dot( _vector$2 ) - tca * tca;\r\n\t\tvar radius2 = sphere.radius * sphere.radius;\r\n\r\n\t\tif ( d2 > radius2 ) return null;\r\n\r\n\t\tvar thc = Math.sqrt( radius2 - d2 );\r\n\r\n\t\t// t0 = first intersect point - entrance on front of sphere\r\n\t\tvar t0 = tca - thc;\r\n\r\n\t\t// t1 = second intersect point - exit point on back of sphere\r\n\t\tvar t1 = tca + thc;\r\n\r\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\r\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\r\n\r\n\t\t// test to see if t0 is behind the ray:\r\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\r\n\t\t// in order to always return an intersect point that is in front of the ray.\r\n\t\tif ( t0 < 0 ) return this.at( t1, target );\r\n\r\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\r\n\t\treturn this.at( t0, target );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\r\n\r\n\t},\r\n\r\n\tdistanceToPlane: function ( plane ) {\r\n\r\n\t\tvar denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t// line is coplanar, return origin\r\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\r\n\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\r\n\r\n\t\t// Return if the ray never intersects the plane\r\n\r\n\t\treturn t >= 0 ? t : null;\r\n\r\n\t},\r\n\r\n\tintersectPlane: function ( plane, target ) {\r\n\r\n\t\tvar t = this.distanceToPlane( plane );\r\n\r\n\t\tif ( t === null ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.at( t, target );\r\n\r\n\t},\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\t// check if the ray lies on the plane first\r\n\r\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\r\n\r\n\t\tif ( distToPoint === 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tvar denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator * distToPoint < 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\t// ray origin is behind the plane (and is pointing behind it)\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tintersectBox: function ( box, target ) {\r\n\r\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\r\n\r\n\t\tvar invdirx = 1 / this.direction.x,\r\n\t\t\tinvdiry = 1 / this.direction.y,\r\n\t\t\tinvdirz = 1 / this.direction.z;\r\n\r\n\t\tvar origin = this.origin;\r\n\r\n\t\tif ( invdirx >= 0 ) {\r\n\r\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\r\n\r\n\t\t}\r\n\r\n\t\tif ( invdiry >= 0 ) {\r\n\r\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\r\n\r\n\t\t// These lines also handle the case where tmin or tmax is NaN\r\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\r\n\r\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\r\n\r\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\r\n\r\n\t\tif ( invdirz >= 0 ) {\r\n\r\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\r\n\r\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\r\n\r\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\r\n\r\n\t\t//return point closest to the ray (positive side)\r\n\r\n\t\tif ( tmax < 0 ) return null;\r\n\r\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\r\n\r\n\t},\r\n\r\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\r\n\r\n\t\t// Compute the offset origin, edges, and normal.\r\n\r\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\r\n\r\n\t\t_edge1.subVectors( b, a );\r\n\t\t_edge2.subVectors( c, a );\r\n\t\t_normal.crossVectors( _edge1, _edge2 );\r\n\r\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\r\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\r\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\r\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\r\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\r\n\t\tvar DdN = this.direction.dot( _normal );\r\n\t\tvar sign;\r\n\r\n\t\tif ( DdN > 0 ) {\r\n\r\n\t\t\tif ( backfaceCulling ) return null;\r\n\t\t\tsign = 1;\r\n\r\n\t\t} else if ( DdN < 0 ) {\r\n\r\n\t\t\tsign = - 1;\r\n\t\t\tDdN = - DdN;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t_diff.subVectors( this.origin, a );\r\n\t\tvar DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\r\n\r\n\t\t// b1 < 0, no intersection\r\n\t\tif ( DdQxE2 < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\r\n\r\n\t\t// b2 < 0, no intersection\r\n\t\tif ( DdE1xQ < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// b1+b2 > 1, no intersection\r\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// Line intersects triangle, check if ray does.\r\n\t\tvar QdN = - sign * _diff.dot( _normal );\r\n\r\n\t\t// t < 0, no intersection\r\n\t\tif ( QdN < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// Ray intersects triangle.\r\n\t\treturn this.at( QdN / DdN, target );\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix4 ) {\r\n\r\n\t\tthis.origin.applyMatrix4( matrix4 );\r\n\t\tthis.direction.transformDirection( matrix4 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( ray ) {\r\n\r\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _vector1 = new Vector3();\r\nvar _vector2 = new Vector3();\r\nvar _normalMatrix = new Matrix3();\r\n\r\nfunction Plane( normal, constant ) {\r\n\r\n\t// normal is assumed to be normalized\r\n\r\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\r\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\r\n\r\n}\r\n\r\nObject.assign( Plane.prototype, {\r\n\r\n\tisPlane: true,\r\n\r\n\tset: function ( normal, constant ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = constant;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponents: function ( x, y, z, w ) {\r\n\r\n\t\tthis.normal.set( x, y, z );\r\n\t\tthis.constant = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = - point.dot( this.normal );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCoplanarPoints: function ( a, b, c ) {\r\n\r\n\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\r\n\r\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\r\n\r\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( plane ) {\r\n\r\n\t\tthis.normal.copy( plane.normal );\r\n\t\tthis.constant = plane.constant;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\r\n\r\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\r\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\r\n\t\tthis.constant *= inverseNormalLength;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.constant *= - 1;\r\n\t\tthis.normal.negate();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn this.normal.dot( point ) + this.constant;\r\n\r\n\t},\r\n\r\n\tdistanceToSphere: function ( sphere ) {\r\n\r\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\r\n\r\n\t},\r\n\r\n\tprojectPoint: function ( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\r\n\r\n\t},\r\n\r\n\tintersectLine: function ( line, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar direction = line.delta( _vector1 );\r\n\r\n\t\tvar denominator = this.normal.dot( direction );\r\n\r\n\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t// line is coplanar, return origin\r\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\r\n\r\n\t\t\t\treturn target.copy( line.start );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Unsure if this is the correct method to handle this case.\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\r\n\r\n\t\tif ( t < 0 || t > 1 ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\r\n\r\n\t},\r\n\r\n\tintersectsLine: function ( line ) {\r\n\r\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\r\n\r\n\t\tvar startSign = this.distanceToPoint( line.start );\r\n\t\tvar endSign = this.distanceToPoint( line.end );\r\n\r\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn box.intersectsPlane( this );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\treturn sphere.intersectsPlane( this );\r\n\r\n\t},\r\n\r\n\tcoplanarPoint: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\r\n\r\n\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\r\n\r\n\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\r\n\r\n\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\tthis.constant = - referencePoint.dot( normal );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.constant -= offset.dot( this.normal );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( plane ) {\r\n\r\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _v0$1 = new Vector3();\r\nvar _v1$3 = new Vector3();\r\nvar _v2$1 = new Vector3();\r\nvar _v3 = new Vector3();\r\n\r\nvar _vab = new Vector3();\r\nvar _vac = new Vector3();\r\nvar _vbc = new Vector3();\r\nvar _vap = new Vector3();\r\nvar _vbp = new Vector3();\r\nvar _vcp = new Vector3();\r\n\r\nfunction Triangle( a, b, c ) {\r\n\r\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\r\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\r\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\r\n\r\n}\r\n\r\nObject.assign( Triangle, {\r\n\r\n\tgetNormal: function ( a, b, c, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.subVectors( c, b );\r\n\t\t_v0$1.subVectors( a, b );\r\n\t\ttarget.cross( _v0$1 );\r\n\r\n\t\tvar targetLengthSq = target.lengthSq();\r\n\t\tif ( targetLengthSq > 0 ) {\r\n\r\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( 0, 0, 0 );\r\n\r\n\t},\r\n\r\n\t// static/instance method to calculate barycentric coordinates\r\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\r\n\tgetBarycoord: function ( point, a, b, c, target ) {\r\n\r\n\t\t_v0$1.subVectors( c, a );\r\n\t\t_v1$3.subVectors( b, a );\r\n\t\t_v2$1.subVectors( point, a );\r\n\r\n\t\tvar dot00 = _v0$1.dot( _v0$1 );\r\n\t\tvar dot01 = _v0$1.dot( _v1$3 );\r\n\t\tvar dot02 = _v0$1.dot( _v2$1 );\r\n\t\tvar dot11 = _v1$3.dot( _v1$3 );\r\n\t\tvar dot12 = _v1$3.dot( _v2$1 );\r\n\r\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\t// collinear or singular triangle\r\n\t\tif ( denom === 0 ) {\r\n\r\n\t\t\t// arbitrary location outside of triangle?\r\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\r\n\t\t\treturn target.set( - 2, - 1, - 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvar invDenom = 1 / denom;\r\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\r\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\r\n\r\n\t\t// barycentric coordinates must always sum to 1\r\n\t\treturn target.set( 1 - u - v, v, u );\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point, a, b, c ) {\r\n\r\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\r\n\r\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\r\n\r\n\t},\r\n\r\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\r\n\r\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\r\n\r\n\t\ttarget.set( 0, 0 );\r\n\t\ttarget.addScaledVector( uv1, _v3.x );\r\n\t\ttarget.addScaledVector( uv2, _v3.y );\r\n\t\ttarget.addScaledVector( uv3, _v3.z );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tisFrontFacing: function ( a, b, c, direction ) {\r\n\r\n\t\t_v0$1.subVectors( c, b );\r\n\t\t_v1$3.subVectors( a, b );\r\n\r\n\t\t// strictly front facing\r\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Triangle.prototype, {\r\n\r\n\tset: function ( a, b, c ) {\r\n\r\n\t\tthis.a.copy( a );\r\n\t\tthis.b.copy( b );\r\n\t\tthis.c.copy( c );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\r\n\r\n\t\tthis.a.copy( points[ i0 ] );\r\n\t\tthis.b.copy( points[ i1 ] );\r\n\t\tthis.c.copy( points[ i2 ] );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( triangle ) {\r\n\r\n\t\tthis.a.copy( triangle.a );\r\n\t\tthis.b.copy( triangle.b );\r\n\t\tthis.c.copy( triangle.c );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetArea: function () {\r\n\r\n\t\t_v0$1.subVectors( this.c, this.b );\r\n\t\t_v1$3.subVectors( this.a, this.b );\r\n\r\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\r\n\r\n\t},\r\n\r\n\tgetMidpoint: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\r\n\r\n\t},\r\n\r\n\tgetNormal: function ( target ) {\r\n\r\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\r\n\r\n\t},\r\n\r\n\tgetPlane: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\r\n\t\t\ttarget = new Plane();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\r\n\r\n\t},\r\n\r\n\tgetBarycoord: function ( point, target ) {\r\n\r\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\r\n\r\n\t},\r\n\r\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\r\n\r\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\r\n\r\n\t},\r\n\r\n\tisFrontFacing: function ( direction ) {\r\n\r\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn box.intersectsTriangle( this );\r\n\r\n\t},\r\n\r\n\tclosestPointToPoint: function ( p, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar a = this.a, b = this.b, c = this.c;\r\n\t\tvar v, w;\r\n\r\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\r\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\r\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\r\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\r\n\t\t// the point lies in with the minimum amount of redundant computation.\r\n\r\n\t\t_vab.subVectors( b, a );\r\n\t\t_vac.subVectors( c, a );\r\n\t\t_vap.subVectors( p, a );\r\n\t\tvar d1 = _vab.dot( _vap );\r\n\t\tvar d2 = _vac.dot( _vap );\r\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\r\n\r\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\r\n\t\t\treturn target.copy( a );\r\n\r\n\t\t}\r\n\r\n\t\t_vbp.subVectors( p, b );\r\n\t\tvar d3 = _vab.dot( _vbp );\r\n\t\tvar d4 = _vac.dot( _vbp );\r\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\r\n\r\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\r\n\t\t\treturn target.copy( b );\r\n\r\n\t\t}\r\n\r\n\t\tvar vc = d1 * d4 - d3 * d2;\r\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\r\n\r\n\t\t\tv = d1 / ( d1 - d3 );\r\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\r\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\r\n\r\n\t\t}\r\n\r\n\t\t_vcp.subVectors( p, c );\r\n\t\tvar d5 = _vab.dot( _vcp );\r\n\t\tvar d6 = _vac.dot( _vcp );\r\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\r\n\r\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\r\n\t\t\treturn target.copy( c );\r\n\r\n\t\t}\r\n\r\n\t\tvar vb = d5 * d2 - d1 * d6;\r\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\r\n\r\n\t\t\tw = d2 / ( d2 - d6 );\r\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\r\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\r\n\r\n\t\t}\r\n\r\n\t\tvar va = d3 * d6 - d5 * d4;\r\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\r\n\r\n\t\t\t_vbc.subVectors( c, b );\r\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\r\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\r\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\r\n\r\n\t\t}\r\n\r\n\t\t// face region\r\n\t\tvar denom = 1 / ( va + vb + vc );\r\n\t\t// u = va * denom\r\n\t\tv = vb * denom;\r\n\t\tw = vc * denom;\r\n\r\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\r\n\r\n\t},\r\n\r\n\tequals: function ( triangle ) {\r\n\r\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\r\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\r\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\r\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\r\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\r\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\r\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\r\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\r\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\r\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\r\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\r\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\r\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\r\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\r\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\r\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\r\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\r\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\r\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\r\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\r\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\r\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\r\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\r\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\r\n\r\nvar _hslA = { h: 0, s: 0, l: 0 };\r\nvar _hslB = { h: 0, s: 0, l: 0 };\r\n\r\nfunction Color( r, g, b ) {\r\n\r\n\tif ( g === undefined && b === undefined ) {\r\n\r\n\t\t// r is THREE.Color, hex or string\r\n\t\treturn this.set( r );\r\n\r\n\t}\r\n\r\n\treturn this.setRGB( r, g, b );\r\n\r\n}\r\n\r\nfunction hue2rgb( p, q, t ) {\r\n\r\n\tif ( t < 0 ) t += 1;\r\n\tif ( t > 1 ) t -= 1;\r\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\r\n\tif ( t < 1 / 2 ) return q;\r\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\r\n\treturn p;\r\n\r\n}\r\n\r\nfunction SRGBToLinear( c ) {\r\n\r\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\r\n\r\n}\r\n\r\nfunction LinearToSRGB( c ) {\r\n\r\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\r\n\r\n}\r\n\r\nObject.assign( Color.prototype, {\r\n\r\n\tisColor: true,\r\n\r\n\tr: 1, g: 1, b: 1,\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value && value.isColor ) {\r\n\r\n\t\t\tthis.copy( value );\r\n\r\n\t\t} else if ( typeof value === 'number' ) {\r\n\r\n\t\t\tthis.setHex( value );\r\n\r\n\t\t} else if ( typeof value === 'string' ) {\r\n\r\n\t\t\tthis.setStyle( value );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.r = scalar;\r\n\t\tthis.g = scalar;\r\n\t\tthis.b = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetHex: function ( hex ) {\r\n\r\n\t\thex = Math.floor( hex );\r\n\r\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\r\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\r\n\t\tthis.b = ( hex & 255 ) / 255;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRGB: function ( r, g, b ) {\r\n\r\n\t\tthis.r = r;\r\n\t\tthis.g = g;\r\n\t\tthis.b = b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetHSL: function ( h, s, l ) {\r\n\r\n\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\t\th = MathUtils.euclideanModulo( h, 1 );\r\n\t\ts = MathUtils.clamp( s, 0, 1 );\r\n\t\tl = MathUtils.clamp( l, 0, 1 );\r\n\r\n\t\tif ( s === 0 ) {\r\n\r\n\t\t\tthis.r = this.g = this.b = l;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\r\n\t\t\tvar q = ( 2 * l ) - p;\r\n\r\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\r\n\t\t\tthis.g = hue2rgb( q, p, h );\r\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetStyle: function ( style ) {\r\n\r\n\t\tfunction handleAlpha( string ) {\r\n\r\n\t\t\tif ( string === undefined ) return;\r\n\r\n\t\t\tif ( parseFloat( string ) < 1 ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tvar m;\r\n\r\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\r\n\r\n\t\t\t// rgb / hsl\r\n\r\n\t\t\tvar color;\r\n\t\t\tvar name = m[ 1 ];\r\n\t\t\tvar components = m[ 2 ];\r\n\r\n\t\t\tswitch ( name ) {\r\n\r\n\t\t\t\tcase 'rgb':\r\n\t\t\t\tcase 'rgba':\r\n\r\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'hsl':\r\n\t\t\t\tcase 'hsla':\r\n\r\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\r\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\r\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\r\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\r\n\r\n\t\t\t// hex color\r\n\r\n\t\t\tvar hex = m[ 1 ];\r\n\t\t\tvar size = hex.length;\r\n\r\n\t\t\tif ( size === 3 ) {\r\n\r\n\t\t\t\t// #ff0\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t} else if ( size === 6 ) {\r\n\r\n\t\t\t\t// #ff0000\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( style && style.length > 0 ) {\r\n\r\n\t\t\treturn this.setColorName( style );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetColorName: function ( style ) {\r\n\r\n\t\t// color keywords\r\n\t\tvar hex = _colorKeywords[ style ];\r\n\r\n\t\tif ( hex !== undefined ) {\r\n\r\n\t\t\t// red\r\n\t\t\tthis.setHex( hex );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// unknown color\r\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.r, this.g, this.b );\r\n\r\n\t},\r\n\r\n\tcopy: function ( color ) {\r\n\r\n\t\tthis.r = color.r;\r\n\t\tthis.g = color.g;\r\n\t\tthis.b = color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\r\n\r\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\r\n\r\n\t\tthis.r = Math.pow( color.r, gammaFactor );\r\n\t\tthis.g = Math.pow( color.g, gammaFactor );\r\n\t\tthis.b = Math.pow( color.b, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\r\n\r\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\r\n\r\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\r\n\r\n\t\tthis.r = Math.pow( color.r, safeInverse );\r\n\t\tthis.g = Math.pow( color.g, safeInverse );\r\n\t\tthis.b = Math.pow( color.b, safeInverse );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertGammaToLinear: function ( gammaFactor ) {\r\n\r\n\t\tthis.copyGammaToLinear( this, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertLinearToGamma: function ( gammaFactor ) {\r\n\r\n\t\tthis.copyLinearToGamma( this, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopySRGBToLinear: function ( color ) {\r\n\r\n\t\tthis.r = SRGBToLinear( color.r );\r\n\t\tthis.g = SRGBToLinear( color.g );\r\n\t\tthis.b = SRGBToLinear( color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyLinearToSRGB: function ( color ) {\r\n\r\n\t\tthis.r = LinearToSRGB( color.r );\r\n\t\tthis.g = LinearToSRGB( color.g );\r\n\t\tthis.b = LinearToSRGB( color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertSRGBToLinear: function () {\r\n\r\n\t\tthis.copySRGBToLinear( this );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertLinearToSRGB: function () {\r\n\r\n\t\tthis.copyLinearToSRGB( this );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetHex: function () {\r\n\r\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\r\n\r\n\t},\r\n\r\n\tgetHexString: function () {\r\n\r\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\r\n\r\n\t},\r\n\r\n\tgetHSL: function ( target ) {\r\n\r\n\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\r\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\r\n\r\n\t\t}\r\n\r\n\t\tvar r = this.r, g = this.g, b = this.b;\r\n\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar min = Math.min( r, g, b );\r\n\r\n\t\tvar hue, saturation;\r\n\t\tvar lightness = ( min + max ) / 2.0;\r\n\r\n\t\tif ( min === max ) {\r\n\r\n\t\t\thue = 0;\r\n\t\t\tsaturation = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar delta = max - min;\r\n\r\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\r\n\r\n\t\t\tswitch ( max ) {\r\n\r\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\r\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\r\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\thue /= 6;\r\n\r\n\t\t}\r\n\r\n\t\ttarget.h = hue;\r\n\t\ttarget.s = saturation;\r\n\t\ttarget.l = lightness;\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetStyle: function () {\r\n\r\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\r\n\r\n\t},\r\n\r\n\toffsetHSL: function ( h, s, l ) {\r\n\r\n\t\tthis.getHSL( _hslA );\r\n\r\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\r\n\r\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( color ) {\r\n\r\n\t\tthis.r += color.r;\r\n\t\tthis.g += color.g;\r\n\t\tthis.b += color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddColors: function ( color1, color2 ) {\r\n\r\n\t\tthis.r = color1.r + color2.r;\r\n\t\tthis.g = color1.g + color2.g;\r\n\t\tthis.b = color1.b + color2.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.r += s;\r\n\t\tthis.g += s;\r\n\t\tthis.b += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( color ) {\r\n\r\n\t\tthis.r = Math.max( 0, this.r - color.r );\r\n\t\tthis.g = Math.max( 0, this.g - color.g );\r\n\t\tthis.b = Math.max( 0, this.b - color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( color ) {\r\n\r\n\t\tthis.r *= color.r;\r\n\t\tthis.g *= color.g;\r\n\t\tthis.b *= color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tthis.r *= s;\r\n\t\tthis.g *= s;\r\n\t\tthis.b *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerp: function ( color, alpha ) {\r\n\r\n\t\tthis.r += ( color.r - this.r ) * alpha;\r\n\t\tthis.g += ( color.g - this.g ) * alpha;\r\n\t\tthis.b += ( color.b - this.b ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpHSL: function ( color, alpha ) {\r\n\r\n\t\tthis.getHSL( _hslA );\r\n\t\tcolor.getHSL( _hslB );\r\n\r\n\t\tvar h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\r\n\t\tvar s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\r\n\t\tvar l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\r\n\r\n\t\tthis.setHSL( h, s, l );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( c ) {\r\n\r\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.r = array[ offset ];\r\n\t\tthis.g = array[ offset + 1 ];\r\n\t\tthis.b = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.r;\r\n\t\tarray[ offset + 1 ] = this.g;\r\n\t\tarray[ offset + 2 ] = this.b;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\treturn this.getHex();\r\n\r\n\t}\r\n\r\n} );\r\n\r\nColor.NAMES = _colorKeywords;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction Face3( a, b, c, normal, color, materialIndex ) {\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.c = c;\r\n\r\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\r\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\r\n\r\n\tthis.color = ( color && color.isColor ) ? color : new Color();\r\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\r\n\r\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\r\n\r\n}\r\n\r\nObject.assign( Face3.prototype, {\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.a = source.a;\r\n\t\tthis.b = source.b;\r\n\t\tthis.c = source.c;\r\n\r\n\t\tthis.normal.copy( source.normal );\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.materialIndex = source.materialIndex;\r\n\r\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nvar materialId = 0;\r\n\r\nfunction Material() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Material';\r\n\r\n\tthis.fog = true;\r\n\r\n\tthis.blending = NormalBlending;\r\n\tthis.side = FrontSide;\r\n\tthis.flatShading = false;\r\n\tthis.vertexColors = false;\r\n\r\n\tthis.opacity = 1;\r\n\tthis.transparent = false;\r\n\r\n\tthis.blendSrc = SrcAlphaFactor;\r\n\tthis.blendDst = OneMinusSrcAlphaFactor;\r\n\tthis.blendEquation = AddEquation;\r\n\tthis.blendSrcAlpha = null;\r\n\tthis.blendDstAlpha = null;\r\n\tthis.blendEquationAlpha = null;\r\n\r\n\tthis.depthFunc = LessEqualDepth;\r\n\tthis.depthTest = true;\r\n\tthis.depthWrite = true;\r\n\r\n\tthis.stencilWriteMask = 0xff;\r\n\tthis.stencilFunc = AlwaysStencilFunc;\r\n\tthis.stencilRef = 0;\r\n\tthis.stencilFuncMask = 0xff;\r\n\tthis.stencilFail = KeepStencilOp;\r\n\tthis.stencilZFail = KeepStencilOp;\r\n\tthis.stencilZPass = KeepStencilOp;\r\n\tthis.stencilWrite = false;\r\n\r\n\tthis.clippingPlanes = null;\r\n\tthis.clipIntersection = false;\r\n\tthis.clipShadows = false;\r\n\r\n\tthis.shadowSide = null;\r\n\r\n\tthis.colorWrite = true;\r\n\r\n\tthis.precision = null; // override the renderer's default precision for this material\r\n\r\n\tthis.polygonOffset = false;\r\n\tthis.polygonOffsetFactor = 0;\r\n\tthis.polygonOffsetUnits = 0;\r\n\r\n\tthis.dithering = false;\r\n\r\n\tthis.alphaTest = 0;\r\n\tthis.premultipliedAlpha = false;\r\n\r\n\tthis.visible = true;\r\n\r\n\tthis.toneMapped = true;\r\n\r\n\tthis.userData = {};\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Material,\r\n\r\n\tisMaterial: true,\r\n\r\n\tonBeforeCompile: function () {},\r\n\r\n\tsetValues: function ( values ) {\r\n\r\n\t\tif ( values === undefined ) return;\r\n\r\n\t\tfor ( var key in values ) {\r\n\r\n\t\t\tvar newValue = values[ key ];\r\n\r\n\t\t\tif ( newValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// for backward compatability if shading is set in the constructor\r\n\t\t\tif ( key === 'shading' ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar currentValue = this[ key ];\r\n\r\n\t\t\tif ( currentValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( currentValue && currentValue.isColor ) {\r\n\r\n\t\t\t\tcurrentValue.set( newValue );\r\n\r\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\r\n\r\n\t\t\t\tcurrentValue.copy( newValue );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis[ key ] = newValue;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Material',\r\n\t\t\t\tgenerator: 'Material.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard Material serialization\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\r\n\r\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\r\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\r\n\r\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\r\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\r\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\r\n\r\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\r\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\r\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\r\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\r\n\r\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\r\n\r\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\r\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\r\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\r\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\r\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\r\n\r\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\r\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\r\n\r\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\r\n\t\t\tdata.bumpScale = this.bumpScale;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\r\n\r\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\r\n\t\t\tdata.normalMapType = this.normalMapType;\r\n\t\t\tdata.normalScale = this.normalScale.toArray();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\r\n\r\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\r\n\t\t\tdata.displacementScale = this.displacementScale;\r\n\t\t\tdata.displacementBias = this.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\r\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\r\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.envMap && this.envMap.isTexture ) {\r\n\r\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\r\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\r\n\t\t\tdata.refractionRatio = this.refractionRatio;\r\n\r\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\r\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\r\n\r\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors ) data.vertexColors = true;\r\n\r\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\r\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\r\n\r\n\t\tdata.depthFunc = this.depthFunc;\r\n\t\tdata.depthTest = this.depthTest;\r\n\t\tdata.depthWrite = this.depthWrite;\r\n\r\n\t\tdata.stencilWrite = this.stencilWrite;\r\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\r\n\t\tdata.stencilFunc = this.stencilFunc;\r\n\t\tdata.stencilRef = this.stencilRef;\r\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\r\n\t\tdata.stencilFail = this.stencilFail;\r\n\t\tdata.stencilZFail = this.stencilZFail;\r\n\t\tdata.stencilZPass = this.stencilZPass;\r\n\r\n\t\t// rotation (SpriteMaterial)\r\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\r\n\r\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\r\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\r\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\r\n\r\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\r\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t// TODO: Copied from Object3D.toJSON\r\n\r\n\t\tfunction extractFromCache( cache ) {\r\n\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tfor ( var key in cache ) {\r\n\r\n\t\t\t\tvar data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tvar textures = extractFromCache( meta.textures );\r\n\t\t\tvar images = extractFromCache( meta.images );\r\n\r\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\r\n\t\t\tif ( images.length > 0 ) data.images = images;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.fog = source.fog;\r\n\r\n\t\tthis.blending = source.blending;\r\n\t\tthis.side = source.side;\r\n\t\tthis.flatShading = source.flatShading;\r\n\t\tthis.vertexColors = source.vertexColors;\r\n\r\n\t\tthis.opacity = source.opacity;\r\n\t\tthis.transparent = source.transparent;\r\n\r\n\t\tthis.blendSrc = source.blendSrc;\r\n\t\tthis.blendDst = source.blendDst;\r\n\t\tthis.blendEquation = source.blendEquation;\r\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\r\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\r\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\r\n\r\n\t\tthis.depthFunc = source.depthFunc;\r\n\t\tthis.depthTest = source.depthTest;\r\n\t\tthis.depthWrite = source.depthWrite;\r\n\r\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\r\n\t\tthis.stencilFunc = source.stencilFunc;\r\n\t\tthis.stencilRef = source.stencilRef;\r\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\r\n\t\tthis.stencilFail = source.stencilFail;\r\n\t\tthis.stencilZFail = source.stencilZFail;\r\n\t\tthis.stencilZPass = source.stencilZPass;\r\n\t\tthis.stencilWrite = source.stencilWrite;\r\n\r\n\t\tvar srcPlanes = source.clippingPlanes,\r\n\t\t\tdstPlanes = null;\r\n\r\n\t\tif ( srcPlanes !== null ) {\r\n\r\n\t\t\tvar n = srcPlanes.length;\r\n\t\t\tdstPlanes = new Array( n );\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i )\r\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\tthis.clippingPlanes = dstPlanes;\r\n\t\tthis.clipIntersection = source.clipIntersection;\r\n\t\tthis.clipShadows = source.clipShadows;\r\n\r\n\t\tthis.shadowSide = source.shadowSide;\r\n\r\n\t\tthis.colorWrite = source.colorWrite;\r\n\r\n\t\tthis.precision = source.precision;\r\n\r\n\t\tthis.polygonOffset = source.polygonOffset;\r\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\r\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\r\n\r\n\t\tthis.dithering = source.dithering;\r\n\r\n\t\tthis.alphaTest = source.alphaTest;\r\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\r\n\r\n\t\tthis.visible = source.visible;\r\n\r\n\t\tthis.toneMapped = source.toneMapped;\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperty( Material.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  depthTest: <bool>,\r\n *  depthWrite: <bool>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshBasicMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshBasicMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // emissive\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\r\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\r\n\r\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\r\n\r\nMeshBasicMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _vector$3 = new Vector3();\r\n\r\nfunction BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tif ( Array.isArray( array ) ) {\r\n\r\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\r\n\r\n\t}\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.array = array;\r\n\tthis.itemSize = itemSize;\r\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\r\n\tthis.normalized = normalized === true;\r\n\r\n\tthis.usage = StaticDrawUsage;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( BufferAttribute.prototype, {\r\n\r\n\tisBufferAttribute: true,\r\n\r\n\tonUploadCallback: function () {},\r\n\r\n\tsetUsage: function ( value ) {\r\n\r\n\t\tthis.usage = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.itemSize = source.itemSize;\r\n\t\tthis.count = source.count;\r\n\t\tthis.normalized = source.normalized;\r\n\r\n\t\tthis.usage = source.usage;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.itemSize;\r\n\t\tindex2 *= attribute.itemSize;\r\n\r\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyArray: function ( array ) {\r\n\r\n\t\tthis.array.set( array );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyColorsArray: function ( colors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar color = colors[ i ];\r\n\r\n\t\t\tif ( color === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\r\n\t\t\t\tcolor = new Color();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = color.r;\r\n\t\t\tarray[ offset ++ ] = color.g;\r\n\t\t\tarray[ offset ++ ] = color.b;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector2sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector2();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector3sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector4sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector4();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\t\t\tarray[ offset ++ ] = vector.w;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix3: function ( m ) {\r\n\r\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$3.x = this.getX( i );\r\n\t\t\t_vector$3.y = this.getY( i );\r\n\t\t\t_vector$3.z = this.getZ( i );\r\n\r\n\t\t\t_vector$3.applyMatrix3( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$3.x = this.getX( i );\r\n\t\t\t_vector$3.y = this.getY( i );\r\n\t\t\t_vector$3.z = this.getZ( i );\r\n\r\n\t\t\t_vector$3.applyMatrix4( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyNormalMatrix: function ( m ) {\r\n\r\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$3.x = this.getX( i );\r\n\t\t\t_vector$3.y = this.getY( i );\r\n\t\t\t_vector$3.z = this.getZ( i );\r\n\r\n\t\t\t_vector$3.applyNormalMatrix( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttransformDirection: function ( m ) {\r\n\r\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$3.x = this.getX( i );\r\n\t\t\t_vector$3.y = this.getY( i );\r\n\t\t\t_vector$3.z = this.getZ( i );\r\n\r\n\t\t\t_vector$3.transformDirection( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize ];\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.array[ index * this.itemSize ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 1 ];\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 2 ];\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 3 ];\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\t\tthis.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tonUpload: function ( callback ) {\r\n\r\n\t\tthis.onUploadCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\treturn {\r\n\t\t\titemSize: this.itemSize,\r\n\t\t\ttype: this.array.constructor.name,\r\n\t\t\tarray: Array.prototype.slice.call( this.array ),\r\n\t\t\tnormalized: this.normalized\r\n\t\t};\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\r\n\r\n\r\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\r\n\r\n\r\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\r\n\r\n\r\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\r\n\r\n\r\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\r\n\r\n\r\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\r\n\r\n\r\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\r\n\r\n\r\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\r\n\r\n\r\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction DirectGeometry() {\r\n\r\n\tthis.vertices = [];\r\n\tthis.normals = [];\r\n\tthis.colors = [];\r\n\tthis.uvs = [];\r\n\tthis.uvs2 = [];\r\n\r\n\tthis.groups = [];\r\n\r\n\tthis.morphTargets = {};\r\n\r\n\tthis.skinWeights = [];\r\n\tthis.skinIndices = [];\r\n\r\n\t// this.lineDistances = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\t// update flags\r\n\r\n\tthis.verticesNeedUpdate = false;\r\n\tthis.normalsNeedUpdate = false;\r\n\tthis.colorsNeedUpdate = false;\r\n\tthis.uvsNeedUpdate = false;\r\n\tthis.groupsNeedUpdate = false;\r\n\r\n}\r\n\r\nObject.assign( DirectGeometry.prototype, {\r\n\r\n\tcomputeGroups: function ( geometry ) {\r\n\r\n\t\tvar group;\r\n\t\tvar groups = [];\r\n\t\tvar materialIndex = undefined;\r\n\r\n\t\tvar faces = geometry.faces;\r\n\r\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\t// materials\r\n\r\n\t\t\tif ( face.materialIndex !== materialIndex ) {\r\n\r\n\t\t\t\tmaterialIndex = face.materialIndex;\r\n\r\n\t\t\t\tif ( group !== undefined ) {\r\n\r\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\r\n\t\t\t\t\tgroups.push( group );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgroup = {\r\n\t\t\t\t\tstart: i * 3,\r\n\t\t\t\t\tmaterialIndex: materialIndex\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( group !== undefined ) {\r\n\r\n\t\t\tgroup.count = ( i * 3 ) - group.start;\r\n\t\t\tgroups.push( group );\r\n\r\n\t\t}\r\n\r\n\t\tthis.groups = groups;\r\n\r\n\t},\r\n\r\n\tfromGeometry: function ( geometry ) {\r\n\r\n\t\tvar faces = geometry.faces;\r\n\t\tvar vertices = geometry.vertices;\r\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\r\n\r\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\r\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\r\n\r\n\t\t// morphs\r\n\r\n\t\tvar morphTargets = geometry.morphTargets;\r\n\t\tvar morphTargetsLength = morphTargets.length;\r\n\r\n\t\tvar morphTargetsPosition;\r\n\r\n\t\tif ( morphTargetsLength > 0 ) {\r\n\r\n\t\t\tmorphTargetsPosition = [];\r\n\r\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\r\n\r\n\t\t\t\tmorphTargetsPosition[ i ] = {\r\n\t\t\t\t\tname: morphTargets[ i ].name,\r\n\t\t\t\t \tdata: []\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\r\n\r\n\t\t}\r\n\r\n\t\tvar morphNormals = geometry.morphNormals;\r\n\t\tvar morphNormalsLength = morphNormals.length;\r\n\r\n\t\tvar morphTargetsNormal;\r\n\r\n\t\tif ( morphNormalsLength > 0 ) {\r\n\r\n\t\t\tmorphTargetsNormal = [];\r\n\r\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\r\n\r\n\t\t\t\tmorphTargetsNormal[ i ] = {\r\n\t\t\t\t\tname: morphNormals[ i ].name,\r\n\t\t\t\t \tdata: []\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\r\n\r\n\t\t}\r\n\r\n\t\t// skins\r\n\r\n\t\tvar skinIndices = geometry.skinIndices;\r\n\t\tvar skinWeights = geometry.skinWeights;\r\n\r\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\r\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\r\n\r\n\t\t//\r\n\r\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\r\n\r\n\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\tif ( vertexNormals.length === 3 ) {\r\n\r\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar normal = face.normal;\r\n\r\n\t\t\t\tthis.normals.push( normal, normal, normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar vertexColors = face.vertexColors;\r\n\r\n\t\t\tif ( vertexColors.length === 3 ) {\r\n\r\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar color = face.color;\r\n\r\n\t\t\t\tthis.colors.push( color, color, color );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexUv === true ) {\r\n\r\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\r\n\r\n\t\t\t\tif ( vertexUvs !== undefined ) {\r\n\r\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\r\n\r\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexUv2 === true ) {\r\n\r\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\r\n\r\n\t\t\t\tif ( vertexUvs !== undefined ) {\r\n\r\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\r\n\r\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// morphs\r\n\r\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\r\n\r\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\r\n\r\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\r\n\r\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\r\n\r\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// skins\r\n\r\n\t\t\tif ( hasSkinIndices ) {\r\n\r\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasSkinWeights ) {\r\n\r\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.computeGroups( geometry );\r\n\r\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\r\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\r\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\r\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\r\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\r\n\r\n\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction arrayMax( array ) {\r\n\r\n\tif ( array.length === 0 ) return - Infinity;\r\n\r\n\tvar max = array[ 0 ];\r\n\r\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\r\n\r\n\t\tif ( array[ i ] > max ) max = array[ i ];\r\n\r\n\t}\r\n\r\n\treturn max;\r\n\r\n}\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\r\n\r\nvar _m1$2 = new Matrix4();\r\nvar _obj = new Object3D();\r\nvar _offset = new Vector3();\r\nvar _box$2 = new Box3();\r\nvar _boxMorphTargets = new Box3();\r\nvar _vector$4 = new Vector3();\r\n\r\nfunction BufferGeometry() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'BufferGeometry';\r\n\r\n\tthis.index = null;\r\n\tthis.attributes = {};\r\n\r\n\tthis.morphAttributes = {};\r\n\tthis.morphTargetsRelative = false;\r\n\r\n\tthis.groups = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\tthis.drawRange = { start: 0, count: Infinity };\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: BufferGeometry,\r\n\r\n\tisBufferGeometry: true,\r\n\r\n\tgetIndex: function () {\r\n\r\n\t\treturn this.index;\r\n\r\n\t},\r\n\r\n\tsetIndex: function ( index ) {\r\n\r\n\t\tif ( Array.isArray( index ) ) {\r\n\r\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.index = index;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name ) {\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tsetAttribute: function ( name, attribute ) {\r\n\r\n\t\tthis.attributes[ name ] = attribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdeleteAttribute: function ( name ) {\r\n\r\n\t\tdelete this.attributes[ name ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddGroup: function ( start, count, materialIndex ) {\r\n\r\n\t\tthis.groups.push( {\r\n\r\n\t\t\tstart: start,\r\n\t\t\tcount: count,\r\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tclearGroups: function () {\r\n\r\n\t\tthis.groups = [];\r\n\r\n\t},\r\n\r\n\tsetDrawRange: function ( start, count ) {\r\n\r\n\t\tthis.drawRange.start = start;\r\n\t\tthis.drawRange.count = count;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tvar position = this.attributes.position;\r\n\r\n\t\tif ( position !== undefined ) {\r\n\r\n\t\t\tposition.applyMatrix4( matrix );\r\n\r\n\t\t\tposition.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tvar normal = this.attributes.normal;\r\n\r\n\t\tif ( normal !== undefined ) {\r\n\r\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\r\n\r\n\t\t\tnormal.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tvar tangent = this.attributes.tangent;\r\n\r\n\t\tif ( tangent !== undefined ) {\r\n\r\n\t\t\ttangent.transformDirection( matrix );\r\n\r\n\t\t\ttangent.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingBox !== null ) {\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world x-axis\r\n\r\n\t\t_m1$2.makeRotationX( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateY: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world y-axis\r\n\r\n\t\t_m1$2.makeRotationY( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateZ: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world z-axis\r\n\r\n\t\t_m1$2.makeRotationZ( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( x, y, z ) {\r\n\r\n\t\t// translate geometry\r\n\r\n\t\t_m1$2.makeTranslation( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1$2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tscale: function ( x, y, z ) {\r\n\r\n\t\t// scale geometry\r\n\r\n\t\t_m1$2.makeScale( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1$2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlookAt: function ( vector ) {\r\n\r\n\t\t_obj.lookAt( vector );\r\n\r\n\t\t_obj.updateMatrix();\r\n\r\n\t\tthis.applyMatrix4( _obj.matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcenter: function () {\r\n\r\n\t\tthis.computeBoundingBox();\r\n\r\n\t\tthis.boundingBox.getCenter( _offset ).negate();\r\n\r\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromObject: function ( object ) {\r\n\r\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( object.isPoints || object.isLine ) {\r\n\r\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\r\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\r\n\r\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\r\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\r\n\r\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\r\n\r\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\r\n\r\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object.isMesh ) {\r\n\r\n\t\t\tif ( geometry && geometry.isGeometry ) {\r\n\r\n\t\t\t\tthis.fromGeometry( geometry );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tvar position = [];\r\n\r\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar point = points[ i ];\r\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\r\n\r\n\t\t}\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateFromObject: function ( object ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( object.isMesh ) {\r\n\r\n\t\t\tvar direct = geometry.__directGeometry;\r\n\r\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\r\n\r\n\t\t\t\tdirect = undefined;\r\n\t\t\t\tgeometry.elementsNeedUpdate = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( direct === undefined ) {\r\n\r\n\t\t\t\treturn this.fromGeometry( geometry );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\r\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\r\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\r\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\r\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\r\n\r\n\t\t\tgeometry.verticesNeedUpdate = false;\r\n\t\t\tgeometry.normalsNeedUpdate = false;\r\n\t\t\tgeometry.colorsNeedUpdate = false;\r\n\t\t\tgeometry.uvsNeedUpdate = false;\r\n\t\t\tgeometry.groupsNeedUpdate = false;\r\n\r\n\t\t\tgeometry = direct;\r\n\r\n\t\t}\r\n\r\n\t\tvar attribute;\r\n\r\n\t\tif ( geometry.verticesNeedUpdate === true ) {\r\n\r\n\t\t\tattribute = this.attributes.position;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.verticesNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.normalsNeedUpdate === true ) {\r\n\r\n\t\t\tattribute = this.attributes.normal;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.normalsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.colorsNeedUpdate === true ) {\r\n\r\n\t\t\tattribute = this.attributes.color;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.colorsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvsNeedUpdate ) {\r\n\r\n\t\t\tattribute = this.attributes.uv;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.uvsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\r\n\r\n\t\t\tattribute = this.attributes.lineDistance;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.groupsNeedUpdate ) {\r\n\r\n\t\t\tgeometry.computeGroups( object.geometry );\r\n\t\t\tthis.groups = geometry.groups;\r\n\r\n\t\t\tgeometry.groupsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tfromGeometry: function ( geometry ) {\r\n\r\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\r\n\r\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\r\n\r\n\t},\r\n\r\n\tfromDirectGeometry: function ( geometry ) {\r\n\r\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\r\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\r\n\r\n\t\tif ( geometry.normals.length > 0 ) {\r\n\r\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\r\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\r\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvs.length > 0 ) {\r\n\r\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\r\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvs2.length > 0 ) {\r\n\r\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\r\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\r\n\r\n\t\t}\r\n\r\n\t\t// groups\r\n\r\n\t\tthis.groups = geometry.groups;\r\n\r\n\t\t// morphs\r\n\r\n\t\tfor ( var name in geometry.morphTargets ) {\r\n\r\n\t\t\tvar array = [];\r\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\r\n\r\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar morphTarget = morphTargets[ i ];\r\n\r\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\r\n\t\t\t\tattribute.name = morphTarget.name;\r\n\r\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphAttributes[ name ] = array;\r\n\r\n\t\t}\r\n\r\n\t\t// skinning\r\n\r\n\t\tif ( geometry.skinIndices.length > 0 ) {\r\n\r\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\r\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.skinWeights.length > 0 ) {\r\n\r\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\r\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeBoundingBox: function () {\r\n\r\n\t\tif ( this.boundingBox === null ) {\r\n\r\n\t\t\tthis.boundingBox = new Box3();\r\n\r\n\t\t}\r\n\r\n\t\tvar position = this.attributes.position;\r\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\r\n\r\n\t\tif ( position !== undefined ) {\r\n\r\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\r\n\r\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\r\n\r\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.boundingBox.makeEmpty();\r\n\r\n\t\t}\r\n\r\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeBoundingSphere: function () {\r\n\r\n\t\tif ( this.boundingSphere === null ) {\r\n\r\n\t\t\tthis.boundingSphere = new Sphere();\r\n\r\n\t\t}\r\n\r\n\t\tvar position = this.attributes.position;\r\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\t// first, find the center of the bounding sphere\r\n\r\n\t\t\tvar center = this.boundingSphere.center;\r\n\r\n\t\t\t_box$2.setFromBufferAttribute( position );\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\r\n\r\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\r\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\r\n\r\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\r\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\r\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_box$2.getCenter( center );\r\n\r\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\r\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\r\n\r\n\t\t\tvar maxRadiusSq = 0;\r\n\r\n\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\r\n\r\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\r\n\r\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\tvar morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\r\n\r\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\r\n\t\t\t\t\t\t\t_vector$4.add( _offset );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\t// backwards compatibility\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function () {\r\n\r\n\t\tvar index = this.index;\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tif ( attributes.position ) {\r\n\r\n\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\tif ( attributes.normal === undefined ) {\r\n\r\n\t\t\t\tthis.setAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// reset existing normals to zero\r\n\r\n\t\t\t\tvar array = attributes.normal.array;\r\n\r\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tarray[ i ] = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar normals = attributes.normal.array;\r\n\r\n\t\t\tvar vA, vB, vC;\r\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\r\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\r\n\r\n\t\t\t// indexed elements\r\n\r\n\t\t\tif ( index ) {\r\n\r\n\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\r\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\r\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\r\n\r\n\t\t\t\t\tpA.fromArray( positions, vA );\r\n\t\t\t\t\tpB.fromArray( positions, vB );\r\n\t\t\t\t\tpC.fromArray( positions, vC );\r\n\r\n\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\tnormals[ vA ] += cb.x;\r\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\r\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\r\n\r\n\t\t\t\t\tnormals[ vB ] += cb.x;\r\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\r\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\r\n\r\n\t\t\t\t\tnormals[ vC ] += cb.x;\r\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\r\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\r\n\r\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\r\n\r\n\t\t\t\t\tpA.fromArray( positions, i );\r\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\r\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\r\n\r\n\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\tnormals[ i ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\r\n\r\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\r\n\r\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.normalizeNormals();\r\n\r\n\t\t\tattributes.normal.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmerge: function ( geometry, offset ) {\r\n\r\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( offset === undefined ) {\r\n\r\n\t\t\toffset = 0;\r\n\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\r\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\r\n\r\n\t\t\tvar attribute1 = attributes[ key ];\r\n\t\t\tvar attributeArray1 = attribute1.array;\r\n\r\n\t\t\tvar attribute2 = geometry.attributes[ key ];\r\n\t\t\tvar attributeArray2 = attribute2.array;\r\n\r\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\r\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\r\n\r\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\r\n\r\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalizeNormals: function () {\r\n\r\n\t\tvar normals = this.attributes.normal;\r\n\r\n\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\r\n\r\n\t\t\t_vector$4.x = normals.getX( i );\r\n\t\t\t_vector$4.y = normals.getY( i );\r\n\t\t\t_vector$4.z = normals.getZ( i );\r\n\r\n\t\t\t_vector$4.normalize();\r\n\r\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoNonIndexed: function () {\r\n\r\n\t\tfunction convertBufferAttribute( attribute, indices ) {\r\n\r\n\t\t\tvar array = attribute.array;\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\r\n\r\n\t\t\tvar index = 0, index2 = 0;\r\n\r\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tindex = indices[ i ] * itemSize;\r\n\r\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\r\n\r\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new BufferAttribute( array2, itemSize );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.index === null ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar geometry2 = new BufferGeometry();\r\n\r\n\t\tvar indices = this.index.array;\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\t// attributes\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ name ];\r\n\r\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\r\n\r\n\t\t\tgeometry2.setAttribute( name, newAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// morph attributes\r\n\r\n\t\tvar morphAttributes = this.morphAttributes;\r\n\r\n\t\tfor ( name in morphAttributes ) {\r\n\r\n\t\t\tvar morphArray = [];\r\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\r\n\r\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar attribute = morphAttribute[ i ];\r\n\r\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\r\n\r\n\t\t\t\tmorphArray.push( newAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\r\n\r\n\t\t}\r\n\r\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t// groups\r\n\r\n\t\tvar groups = this.groups;\r\n\r\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry2;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'BufferGeometry',\r\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard BufferGeometry serialization\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\r\n\r\n\t\tif ( this.parameters !== undefined ) {\r\n\r\n\t\t\tvar parameters = this.parameters;\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tdata.data = { attributes: {} };\r\n\r\n\t\tvar index = this.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tdata.data.index = {\r\n\t\t\t\ttype: index.array.constructor.name,\r\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ key ];\r\n\r\n\t\t\tvar attributeData = attribute.toJSON();\r\n\r\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\r\n\r\n\t\t\tdata.data.attributes[ key ] = attributeData;\r\n\r\n\t\t}\r\n\r\n\t\tvar morphAttributes = {};\r\n\t\tvar hasMorphAttributes = false;\r\n\r\n\t\tfor ( var key in this.morphAttributes ) {\r\n\r\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\r\n\r\n\t\t\tvar array = [];\r\n\r\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar attribute = attributeArray[ i ];\r\n\r\n\t\t\t\tvar attributeData = attribute.toJSON();\r\n\r\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\r\n\r\n\t\t\t\tarray.push( attributeData );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( array.length > 0 ) {\r\n\r\n\t\t\t\tmorphAttributes[ key ] = array;\r\n\r\n\t\t\t\thasMorphAttributes = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( hasMorphAttributes ) {\r\n\r\n\t\t\tdata.data.morphAttributes = morphAttributes;\r\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = this.groups;\r\n\r\n\t\tif ( groups.length > 0 ) {\r\n\r\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar boundingSphere = this.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tdata.data.boundingSphere = {\r\n\t\t\t\tcenter: boundingSphere.center.toArray(),\r\n\t\t\t\tradius: boundingSphere.radius\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\t/*\r\n\t\t // Handle primitives\r\n\r\n\t\t var parameters = this.parameters;\r\n\r\n\t\t if ( parameters !== undefined ) {\r\n\r\n\t\t var values = [];\r\n\r\n\t\t for ( var key in parameters ) {\r\n\r\n\t\t values.push( parameters[ key ] );\r\n\r\n\t\t }\r\n\r\n\t\t var geometry = Object.create( this.constructor.prototype );\r\n\t\t this.constructor.apply( geometry, values );\r\n\t\t return geometry;\r\n\r\n\t\t }\r\n\r\n\t\t return new this.constructor().copy( this );\r\n\t\t */\r\n\r\n\t\treturn new BufferGeometry().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tvar name, i, l;\r\n\r\n\t\t// reset\r\n\r\n\t\tthis.index = null;\r\n\t\tthis.attributes = {};\r\n\t\tthis.morphAttributes = {};\r\n\t\tthis.groups = [];\r\n\t\tthis.boundingBox = null;\r\n\t\tthis.boundingSphere = null;\r\n\r\n\t\t// name\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\t// index\r\n\r\n\t\tvar index = source.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tthis.setIndex( index.clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// attributes\r\n\r\n\t\tvar attributes = source.attributes;\r\n\r\n\t\tfor ( name in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ name ];\r\n\t\t\tthis.setAttribute( name, attribute.clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// morph attributes\r\n\r\n\t\tvar morphAttributes = source.morphAttributes;\r\n\r\n\t\tfor ( name in morphAttributes ) {\r\n\r\n\t\t\tvar array = [];\r\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\r\n\r\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphAttributes[ name ] = array;\r\n\r\n\t\t}\r\n\r\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\r\n\r\n\t\t// groups\r\n\r\n\t\tvar groups = source.groups;\r\n\r\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// bounding box\r\n\r\n\t\tvar boundingBox = source.boundingBox;\r\n\r\n\t\tif ( boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// bounding sphere\r\n\r\n\t\tvar boundingSphere = source.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// draw range\r\n\r\n\t\tthis.drawRange.start = source.drawRange.start;\r\n\t\tthis.drawRange.count = source.drawRange.count;\r\n\r\n\t\t// user data\r\n\r\n\t\tthis.userData = source.userData;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author jonobr1 / http://jonobr1.com/\r\n */\r\n\r\nvar _inverseMatrix = new Matrix4();\r\nvar _ray = new Ray();\r\nvar _sphere = new Sphere();\r\n\r\nvar _vA = new Vector3();\r\nvar _vB = new Vector3();\r\nvar _vC = new Vector3();\r\n\r\nvar _tempA = new Vector3();\r\nvar _tempB = new Vector3();\r\nvar _tempC = new Vector3();\r\n\r\nvar _morphA = new Vector3();\r\nvar _morphB = new Vector3();\r\nvar _morphC = new Vector3();\r\n\r\nvar _uvA = new Vector2();\r\nvar _uvB = new Vector2();\r\nvar _uvC = new Vector2();\r\n\r\nvar _intersectionPoint = new Vector3();\r\nvar _intersectionPointWorld = new Vector3();\r\n\r\nfunction Mesh( geometry, material ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Mesh';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n}\r\n\r\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Mesh,\r\n\r\n\tisMesh: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tif ( source.morphTargetInfluences !== undefined ) {\r\n\r\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\r\n\r\n\t\t}\r\n\r\n\t\tif ( source.morphTargetDictionary !== undefined ) {\r\n\r\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\t\tvar m, ml, name;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tvar morphAttributes = geometry.morphAttributes;\r\n\t\t\tvar keys = Object.keys( morphAttributes );\r\n\r\n\t\t\tif ( keys.length > 0 ) {\r\n\r\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\r\n\r\n\t\t\t\tif ( morphAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\r\n\r\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar morphTargets = geometry.morphTargets;\r\n\r\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\t\tvar material = this.material;\r\n\t\tvar matrixWorld = this.matrixWorld;\r\n\r\n\t\tif ( material === undefined ) return;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere.copy( geometry.boundingSphere );\r\n\t\t_sphere.applyMatrix4( matrixWorld );\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix.getInverse( matrixWorld );\r\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\r\n\r\n\t\t// Check boundingBox before continuing\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\r\n\r\n\t\t}\r\n\r\n\t\tvar intersection;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tvar a, b, c;\r\n\t\t\tvar index = geometry.index;\r\n\t\t\tvar position = geometry.attributes.position;\r\n\t\t\tvar morphPosition = geometry.morphAttributes.position;\r\n\t\t\tvar morphTargetsRelative = geometry.morphTargetsRelative;\r\n\t\t\tvar uv = geometry.attributes.uv;\r\n\t\t\tvar uv2 = geometry.attributes.uv2;\r\n\t\t\tvar groups = geometry.groups;\r\n\t\t\tvar drawRange = geometry.drawRange;\r\n\t\t\tvar i, j, il, jl;\r\n\t\t\tvar group, groupMaterial;\r\n\t\t\tvar start, end;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t// indexed buffer geometry\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tgroup = groups[ i ];\r\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\r\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\t\t\ta = index.getX( j );\r\n\t\t\t\t\t\t\tb = index.getX( j + 1 );\r\n\t\t\t\t\t\t\tc = index.getX( j + 2 );\r\n\r\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\r\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\r\n\t\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\r\n\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\ta = index.getX( i );\r\n\t\t\t\t\t\tb = index.getX( i + 1 );\r\n\t\t\t\t\t\tc = index.getX( i + 2 );\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( position !== undefined ) {\r\n\r\n\t\t\t\t// non-indexed buffer geometry\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tgroup = groups[ i ];\r\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\r\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\t\t\ta = j;\r\n\t\t\t\t\t\t\tb = j + 1;\r\n\t\t\t\t\t\t\tc = j + 2;\r\n\r\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\r\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\r\n\t\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\r\n\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\ta = i;\r\n\t\t\t\t\t\tb = i + 1;\r\n\t\t\t\t\t\tc = i + 2;\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tvar fvA, fvB, fvC;\r\n\t\t\tvar isMultiMaterial = Array.isArray( material );\r\n\r\n\t\t\tvar vertices = geometry.vertices;\r\n\t\t\tvar faces = geometry.faces;\r\n\t\t\tvar uvs;\r\n\r\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\r\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\r\n\r\n\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tvar face = faces[ f ];\r\n\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\r\n\r\n\t\t\t\tif ( faceMaterial === undefined ) continue;\r\n\r\n\t\t\t\tfvA = vertices[ face.a ];\r\n\t\t\t\tfvB = vertices[ face.b ];\r\n\t\t\t\tfvC = vertices[ face.c ];\r\n\r\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\r\n\r\n\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\r\n\r\n\t\t\t\t\t\tvar uvs_f = uvs[ f ];\r\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\r\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\r\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\r\n\r\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tintersection.face = face;\r\n\t\t\t\t\tintersection.faceIndex = f;\r\n\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\r\n\r\n\tvar intersect;\r\n\r\n\tif ( material.side === BackSide ) {\r\n\r\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\r\n\r\n\t} else {\r\n\r\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\r\n\r\n\t}\r\n\r\n\tif ( intersect === null ) return null;\r\n\r\n\t_intersectionPointWorld.copy( point );\r\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\r\n\r\n\tvar distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\r\n\r\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\r\n\r\n\treturn {\r\n\t\tdistance: distance,\r\n\t\tpoint: _intersectionPointWorld.clone(),\r\n\t\tobject: object\r\n\t};\r\n\r\n}\r\n\r\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\r\n\r\n\t_vA.fromBufferAttribute( position, a );\r\n\t_vB.fromBufferAttribute( position, b );\r\n\t_vC.fromBufferAttribute( position, c );\r\n\r\n\tvar morphInfluences = object.morphTargetInfluences;\r\n\r\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\r\n\r\n\t\t_morphA.set( 0, 0, 0 );\r\n\t\t_morphB.set( 0, 0, 0 );\r\n\t\t_morphC.set( 0, 0, 0 );\r\n\r\n\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar influence = morphInfluences[ i ];\r\n\t\t\tvar morphAttribute = morphPosition[ i ];\r\n\r\n\t\t\tif ( influence === 0 ) continue;\r\n\r\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\r\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\r\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\r\n\r\n\t\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\r\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\r\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\r\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\r\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_vA.add( _morphA );\r\n\t\t_vB.add( _morphB );\r\n\t\t_vC.add( _morphC );\r\n\r\n\t}\r\n\r\n\tvar intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tif ( uv ) {\r\n\r\n\t\t\t_uvA.fromBufferAttribute( uv, a );\r\n\t\t\t_uvB.fromBufferAttribute( uv, b );\r\n\t\t\t_uvC.fromBufferAttribute( uv, c );\r\n\r\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv2 ) {\r\n\r\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\r\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\r\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\r\n\r\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\r\n\r\n\t\t}\r\n\r\n\t\tvar face = new Face3( a, b, c );\r\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\r\n\r\n\t\tintersection.face = face;\r\n\r\n\t}\r\n\r\n\treturn intersection;\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author kile / http://kile.stravaganza.org/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _geometryId = 0; // Geometry uses even numbers as Id\r\nvar _m1$3 = new Matrix4();\r\nvar _obj$1 = new Object3D();\r\nvar _offset$1 = new Vector3();\r\n\r\nfunction Geometry() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Geometry';\r\n\r\n\tthis.vertices = [];\r\n\tthis.colors = [];\r\n\tthis.faces = [];\r\n\tthis.faceVertexUvs = [[]];\r\n\r\n\tthis.morphTargets = [];\r\n\tthis.morphNormals = [];\r\n\r\n\tthis.skinWeights = [];\r\n\tthis.skinIndices = [];\r\n\r\n\tthis.lineDistances = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\t// update flags\r\n\r\n\tthis.elementsNeedUpdate = false;\r\n\tthis.verticesNeedUpdate = false;\r\n\tthis.uvsNeedUpdate = false;\r\n\tthis.normalsNeedUpdate = false;\r\n\tthis.colorsNeedUpdate = false;\r\n\tthis.lineDistancesNeedUpdate = false;\r\n\tthis.groupsNeedUpdate = false;\r\n\r\n}\r\n\r\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Geometry,\r\n\r\n\tisGeometry: true,\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar vertex = this.vertices[ i ];\r\n\t\t\tvertex.applyMatrix4( matrix );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ i ];\r\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingBox !== null ) {\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t}\r\n\r\n\t\tthis.verticesNeedUpdate = true;\r\n\t\tthis.normalsNeedUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world x-axis\r\n\r\n\t\t_m1$3.makeRotationX( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$3 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateY: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world y-axis\r\n\r\n\t\t_m1$3.makeRotationY( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$3 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateZ: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world z-axis\r\n\r\n\t\t_m1$3.makeRotationZ( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1$3 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( x, y, z ) {\r\n\r\n\t\t// translate geometry\r\n\r\n\t\t_m1$3.makeTranslation( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1$3 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tscale: function ( x, y, z ) {\r\n\r\n\t\t// scale geometry\r\n\r\n\t\t_m1$3.makeScale( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1$3 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlookAt: function ( vector ) {\r\n\r\n\t\t_obj$1.lookAt( vector );\r\n\r\n\t\t_obj$1.updateMatrix();\r\n\r\n\t\tthis.applyMatrix4( _obj$1.matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tfromBufferGeometry: function ( geometry ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\tif ( attributes.position === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\r\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\r\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\r\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\r\n\r\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\r\n\r\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\r\n\r\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\r\n\r\n\t\t\tif ( colors !== undefined ) {\r\n\r\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction addFace( a, b, c, materialIndex ) {\r\n\r\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\r\n\t\t\t\tscope.colors[ a ].clone(),\r\n\t\t\t\tscope.colors[ b ].clone(),\r\n\t\t\t\tscope.colors[ c ].clone() ];\r\n\r\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\r\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\r\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\r\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\r\n\t\t\t];\r\n\r\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\r\n\r\n\t\t\tscope.faces.push( face );\r\n\r\n\t\t\tif ( uvs !== undefined ) {\r\n\r\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\r\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\r\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\r\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\r\n\t\t\t\t] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvs2 !== undefined ) {\r\n\r\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\r\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\r\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\r\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\r\n\t\t\t\t] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = geometry.groups;\r\n\r\n\t\tif ( groups.length > 0 ) {\r\n\r\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\r\n\r\n\t\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\t\tvar start = group.start;\r\n\t\t\t\tvar count = group.count;\r\n\r\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\tif ( indices !== undefined ) {\r\n\r\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( indices !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\r\n\r\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\r\n\r\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.computeFaceNormals();\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcenter: function () {\r\n\r\n\t\tthis.computeBoundingBox();\r\n\r\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\r\n\r\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\tthis.computeBoundingSphere();\r\n\r\n\t\tvar center = this.boundingSphere.center;\r\n\t\tvar radius = this.boundingSphere.radius;\r\n\r\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\r\n\r\n\t\tvar matrix = new Matrix4();\r\n\t\tmatrix.set(\r\n\t\t\ts, 0, 0, - s * center.x,\r\n\t\t\t0, s, 0, - s * center.y,\r\n\t\t\t0, 0, s, - s * center.z,\r\n\t\t\t0, 0, 0, 1\r\n\t\t);\r\n\r\n\t\tthis.applyMatrix4( matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\tvar cb = new Vector3(), ab = new Vector3();\r\n\r\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ f ];\r\n\r\n\t\t\tvar vA = this.vertices[ face.a ];\r\n\t\t\tvar vB = this.vertices[ face.b ];\r\n\t\t\tvar vC = this.vertices[ face.c ];\r\n\r\n\t\t\tcb.subVectors( vC, vB );\r\n\t\t\tab.subVectors( vA, vB );\r\n\t\t\tcb.cross( ab );\r\n\r\n\t\t\tcb.normalize();\r\n\r\n\t\t\tface.normal.copy( cb );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function ( areaWeighted ) {\r\n\r\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\r\n\r\n\t\tvar v, vl, f, fl, face, vertices;\r\n\r\n\t\tvertices = new Array( this.vertices.length );\r\n\r\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\r\n\r\n\t\t\tvertices[ v ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tif ( areaWeighted ) {\r\n\r\n\t\t\t// vertex normals weighted by triangle areas\r\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\r\n\r\n\t\t\tvar vA, vB, vC;\r\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tvA = this.vertices[ face.a ];\r\n\t\t\t\tvB = this.vertices[ face.b ];\r\n\t\t\t\tvC = this.vertices[ face.c ];\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tvertices[ face.a ].add( cb );\r\n\t\t\t\tvertices[ face.b ].add( cb );\r\n\t\t\t\tvertices[ face.c ].add( cb );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.computeFaceNormals();\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tvertices[ face.a ].add( face.normal );\r\n\t\t\t\tvertices[ face.b ].add( face.normal );\r\n\t\t\t\tvertices[ face.c ].add( face.normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\r\n\r\n\t\t\tvertices[ v ].normalize();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\tif ( vertexNormals.length === 3 ) {\r\n\r\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\r\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\r\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\r\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\r\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.faces.length > 0 ) {\r\n\r\n\t\t\tthis.normalsNeedUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeFlatVertexNormals: function () {\r\n\r\n\t\tvar f, fl, face;\r\n\r\n\t\tthis.computeFaceNormals();\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\tif ( vertexNormals.length === 3 ) {\r\n\r\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\r\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\r\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\r\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\r\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.faces.length > 0 ) {\r\n\r\n\t\t\tthis.normalsNeedUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeMorphNormals: function () {\r\n\r\n\t\tvar i, il, f, fl, face;\r\n\r\n\t\t// save original normals\r\n\t\t// - create temp variables on first access\r\n\t\t//   otherwise just copy (for faster repeated calls)\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tif ( ! face.__originalFaceNormal ) {\r\n\r\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\r\n\r\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\r\n\r\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// use temp geometry to compute face and vertex normals for each morph\r\n\r\n\t\tvar tmpGeo = new Geometry();\r\n\t\ttmpGeo.faces = this.faces;\r\n\r\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\t// create on first access\r\n\r\n\t\t\tif ( ! this.morphNormals[ i ] ) {\r\n\r\n\t\t\t\tthis.morphNormals[ i ] = {};\r\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\r\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\r\n\r\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\r\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\r\n\r\n\t\t\t\tvar faceNormal, vertexNormals;\r\n\r\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\t\tfaceNormal = new Vector3();\r\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\r\n\r\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\r\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar morphNormals = this.morphNormals[ i ];\r\n\r\n\t\t\t// set vertices to morph target\r\n\r\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\r\n\r\n\t\t\t// compute morph normals\r\n\r\n\t\t\ttmpGeo.computeFaceNormals();\r\n\t\t\ttmpGeo.computeVertexNormals();\r\n\r\n\t\t\t// store morph normals\r\n\r\n\t\t\tvar faceNormal, vertexNormals;\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\r\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\r\n\r\n\t\t\t\tfaceNormal.copy( face.normal );\r\n\r\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\r\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\r\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// restore original normals\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tface.normal = face.__originalFaceNormal;\r\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeBoundingBox: function () {\r\n\r\n\t\tif ( this.boundingBox === null ) {\r\n\r\n\t\t\tthis.boundingBox = new Box3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.boundingBox.setFromPoints( this.vertices );\r\n\r\n\t},\r\n\r\n\tcomputeBoundingSphere: function () {\r\n\r\n\t\tif ( this.boundingSphere === null ) {\r\n\r\n\t\t\tthis.boundingSphere = new Sphere();\r\n\r\n\t\t}\r\n\r\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\r\n\r\n\t},\r\n\r\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\r\n\r\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar normalMatrix,\r\n\t\t\tvertexOffset = this.vertices.length,\r\n\t\t\tvertices1 = this.vertices,\r\n\t\t\tvertices2 = geometry.vertices,\r\n\t\t\tfaces1 = this.faces,\r\n\t\t\tfaces2 = geometry.faces,\r\n\t\t\tcolors1 = this.colors,\r\n\t\t\tcolors2 = geometry.colors;\r\n\r\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\r\n\r\n\t\tif ( matrix !== undefined ) {\r\n\r\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// vertices\r\n\r\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar vertex = vertices2[ i ];\r\n\r\n\t\t\tvar vertexCopy = vertex.clone();\r\n\r\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\r\n\r\n\t\t\tvertices1.push( vertexCopy );\r\n\r\n\t\t}\r\n\r\n\t\t// colors\r\n\r\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\r\n\r\n\t\t\tcolors1.push( colors2[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// faces\r\n\r\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\r\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\r\n\t\t\t\tfaceVertexColors = face.vertexColors;\r\n\r\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\r\n\t\t\tfaceCopy.normal.copy( face.normal );\r\n\r\n\t\t\tif ( normalMatrix !== undefined ) {\r\n\r\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\r\n\r\n\t\t\t\tif ( normalMatrix !== undefined ) {\r\n\r\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfaceCopy.color.copy( face.color );\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tcolor = faceVertexColors[ j ];\r\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\r\n\r\n\t\t\tfaces1.push( faceCopy );\r\n\r\n\t\t}\r\n\r\n\t\t// uvs\r\n\r\n\t\tfor ( var i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar faceVertexUvs2 = geometry.faceVertexUvs[ i ];\r\n\r\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tvar uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\r\n\r\n\t\t\t\tfor ( var k = 0, kl = uvs2.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmergeMesh: function ( mesh ) {\r\n\r\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\r\n\r\n\t\tthis.merge( mesh.geometry, mesh.matrix );\r\n\r\n\t},\r\n\r\n\t/*\r\n\t * Checks for duplicate vertices with hashmap.\r\n\t * Duplicated vertices are removed\r\n\t * and faces' vertices are updated.\r\n\t */\r\n\r\n\tmergeVertices: function () {\r\n\r\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\r\n\t\tvar unique = [], changes = [];\r\n\r\n\t\tvar v, key;\r\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\r\n\t\tvar precision = Math.pow( 10, precisionPoints );\r\n\t\tvar i, il, face;\r\n\t\tvar indices, j, jl;\r\n\r\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tv = this.vertices[ i ];\r\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\r\n\r\n\t\t\tif ( verticesMap[ key ] === undefined ) {\r\n\r\n\t\t\t\tverticesMap[ key ] = i;\r\n\t\t\t\tunique.push( this.vertices[ i ] );\r\n\t\t\t\tchanges[ i ] = unique.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\r\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// if faces are completely degenerate after merging vertices, we\r\n\t\t// have to remove them from the geometry.\r\n\t\tvar faceIndicesToRemove = [];\r\n\r\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tface = this.faces[ i ];\r\n\r\n\t\t\tface.a = changes[ face.a ];\r\n\t\t\tface.b = changes[ face.b ];\r\n\t\t\tface.c = changes[ face.c ];\r\n\r\n\t\t\tindices = [ face.a, face.b, face.c ];\r\n\r\n\t\t\t// if any duplicate vertices are found in a Face3\r\n\t\t\t// we have to remove the face as nothing can be saved\r\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\r\n\r\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\r\n\r\n\t\t\t\t\tfaceIndicesToRemove.push( i );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\tvar idx = faceIndicesToRemove[ i ];\r\n\r\n\t\t\tthis.faces.splice( idx, 1 );\r\n\r\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Use unique set of vertices\r\n\r\n\t\tvar diff = this.vertices.length - unique.length;\r\n\t\tthis.vertices = unique;\r\n\t\treturn diff;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.vertices = [];\r\n\r\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar point = points[ i ];\r\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsortFacesByMaterialIndex: function () {\r\n\r\n\t\tvar faces = this.faces;\r\n\t\tvar length = faces.length;\r\n\r\n\t\t// tag faces\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tfaces[ i ]._id = i;\r\n\r\n\t\t}\r\n\r\n\t\t// sort faces\r\n\r\n\t\tfunction materialIndexSort( a, b ) {\r\n\r\n\t\t\treturn a.materialIndex - b.materialIndex;\r\n\r\n\t\t}\r\n\r\n\t\tfaces.sort( materialIndexSort );\r\n\r\n\t\t// sort uvs\r\n\r\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\r\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\r\n\r\n\t\tvar newUvs1, newUvs2;\r\n\r\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\r\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar id = faces[ i ]._id;\r\n\r\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\r\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\r\n\r\n\t\t}\r\n\r\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\r\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Geometry',\r\n\t\t\t\tgenerator: 'Geometry.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard Geometry serialization\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.parameters !== undefined ) {\r\n\r\n\t\t\tvar parameters = this.parameters;\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tvar vertices = [];\r\n\r\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\r\n\r\n\t\t\tvar vertex = this.vertices[ i ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t\tvar faces = [];\r\n\t\tvar normals = [];\r\n\t\tvar normalsHash = {};\r\n\t\tvar colors = [];\r\n\t\tvar colorsHash = {};\r\n\t\tvar uvs = [];\r\n\t\tvar uvsHash = {};\r\n\r\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ i ];\r\n\r\n\t\t\tvar hasMaterial = true;\r\n\t\t\tvar hasFaceUv = false; // deprecated\r\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\r\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\r\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\r\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\r\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\r\n\r\n\t\t\tvar faceType = 0;\r\n\r\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\r\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\r\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\r\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\r\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\r\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\r\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\r\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\r\n\r\n\t\t\tfaces.push( faceType );\r\n\t\t\tfaces.push( face.a, face.b, face.c );\r\n\t\t\tfaces.push( face.materialIndex );\r\n\r\n\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\tvar vertexColors = face.vertexColors;\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction setBit( value, position, enabled ) {\r\n\r\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getNormalIndex( normal ) {\r\n\r\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\r\n\r\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn normalsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\treturn normalsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getColorIndex( color ) {\r\n\r\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\r\n\r\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn colorsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcolorsHash[ hash ] = colors.length;\r\n\t\t\tcolors.push( color.getHex() );\r\n\r\n\t\t\treturn colorsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getUvIndex( uv ) {\r\n\r\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\r\n\r\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn uvsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\treturn uvsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tdata.data = {};\r\n\r\n\t\tdata.data.vertices = vertices;\r\n\t\tdata.data.normals = normals;\r\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\r\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\r\n\t\tdata.data.faces = faces;\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\t/*\r\n\t\t // Handle primitives\r\n\r\n\t\t var parameters = this.parameters;\r\n\r\n\t\t if ( parameters !== undefined ) {\r\n\r\n\t\t var values = [];\r\n\r\n\t\t for ( var key in parameters ) {\r\n\r\n\t\t values.push( parameters[ key ] );\r\n\r\n\t\t }\r\n\r\n\t\t var geometry = Object.create( this.constructor.prototype );\r\n\t\t this.constructor.apply( geometry, values );\r\n\t\t return geometry;\r\n\r\n\t\t }\r\n\r\n\t\t return new this.constructor().copy( this );\r\n\t\t */\r\n\r\n\t\treturn new Geometry().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tvar i, il, j, jl, k, kl;\r\n\r\n\t\t// reset\r\n\r\n\t\tthis.vertices = [];\r\n\t\tthis.colors = [];\r\n\t\tthis.faces = [];\r\n\t\tthis.faceVertexUvs = [[]];\r\n\t\tthis.morphTargets = [];\r\n\t\tthis.morphNormals = [];\r\n\t\tthis.skinWeights = [];\r\n\t\tthis.skinIndices = [];\r\n\t\tthis.lineDistances = [];\r\n\t\tthis.boundingBox = null;\r\n\t\tthis.boundingSphere = null;\r\n\r\n\t\t// name\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\t// vertices\r\n\r\n\t\tvar vertices = source.vertices;\r\n\r\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// colors\r\n\r\n\t\tvar colors = source.colors;\r\n\r\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.colors.push( colors[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// faces\r\n\r\n\t\tvar faces = source.faces;\r\n\r\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.faces.push( faces[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// face vertex uvs\r\n\r\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\r\n\r\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\r\n\r\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\r\n\r\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\tvar uv = uvs[ k ];\r\n\r\n\t\t\t\t\tuvsCopy.push( uv.clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// morph targets\r\n\r\n\t\tvar morphTargets = source.morphTargets;\r\n\r\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar morphTarget = {};\r\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\r\n\r\n\t\t\t// vertices\r\n\r\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\r\n\r\n\t\t\t\tmorphTarget.vertices = [];\r\n\r\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// normals\r\n\r\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\r\n\r\n\t\t\t\tmorphTarget.normals = [];\r\n\r\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphTargets.push( morphTarget );\r\n\r\n\t\t}\r\n\r\n\t\t// morph normals\r\n\r\n\t\tvar morphNormals = source.morphNormals;\r\n\r\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar morphNormal = {};\r\n\r\n\t\t\t// vertex normals\r\n\r\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\r\n\r\n\t\t\t\tmorphNormal.vertexNormals = [];\r\n\r\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\r\n\t\t\t\t\tvar destVertexNormal = {};\r\n\r\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\r\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\r\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\r\n\r\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// face normals\r\n\r\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\r\n\r\n\t\t\t\tmorphNormal.faceNormals = [];\r\n\r\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphNormals.push( morphNormal );\r\n\r\n\t\t}\r\n\r\n\t\t// skin weights\r\n\r\n\t\tvar skinWeights = source.skinWeights;\r\n\r\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// skin indices\r\n\r\n\t\tvar skinIndices = source.skinIndices;\r\n\r\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\t// line distances\r\n\r\n\t\tvar lineDistances = source.lineDistances;\r\n\r\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t// bounding box\r\n\r\n\t\tvar boundingBox = source.boundingBox;\r\n\r\n\t\tif ( boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// bounding sphere\r\n\r\n\t\tvar boundingSphere = source.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// update flags\r\n\r\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\r\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\r\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\r\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\r\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\r\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\r\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// BoxGeometry\r\n\r\nclass BoxGeometry extends Geometry {\r\n\r\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'BoxGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdepth: depth,\r\n\t\t\twidthSegments: widthSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\tdepthSegments: depthSegments\r\n\t\t};\r\n\r\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\r\n\t\tthis.mergeVertices();\r\n\r\n\t}\r\n\r\n}\r\n\r\n// BoxBufferGeometry\r\n\r\nclass BoxBufferGeometry extends BufferGeometry {\r\n\r\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'BoxBufferGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdepth: depth,\r\n\t\t\twidthSegments: widthSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\tdepthSegments: depthSegments\r\n\t\t};\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\twidth = width || 1;\r\n\t\theight = height || 1;\r\n\t\tdepth = depth || 1;\r\n\r\n\t\t// segments\r\n\r\n\t\twidthSegments = Math.floor( widthSegments ) || 1;\r\n\t\theightSegments = Math.floor( heightSegments ) || 1;\r\n\t\tdepthSegments = Math.floor( depthSegments ) || 1;\r\n\r\n\t\t// buffers\r\n\r\n\t\tvar indices = [];\r\n\t\tvar vertices = [];\r\n\t\tvar normals = [];\r\n\t\tvar uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tvar numberOfVertices = 0;\r\n\t\tvar groupStart = 0;\r\n\r\n\t\t// build each side of the box geometry\r\n\r\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\r\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\r\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\r\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\r\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\r\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\r\n\r\n\t\t\tvar segmentWidth = width / gridX;\r\n\t\t\tvar segmentHeight = height / gridY;\r\n\r\n\t\t\tvar widthHalf = width / 2;\r\n\t\t\tvar heightHalf = height / 2;\r\n\t\t\tvar depthHalf = depth / 2;\r\n\r\n\t\t\tvar gridX1 = gridX + 1;\r\n\t\t\tvar gridY1 = gridY + 1;\r\n\r\n\t\t\tvar vertexCounter = 0;\r\n\t\t\tvar groupCount = 0;\r\n\r\n\t\t\tvar ix, iy;\r\n\r\n\t\t\tvar vector = new Vector3();\r\n\r\n\t\t\t// generate vertices, normals and uvs\r\n\r\n\t\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\t\t\tvar y = iy * segmentHeight - heightHalf;\r\n\r\n\t\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\t\t\tvar x = ix * segmentWidth - widthHalf;\r\n\r\n\t\t\t\t\t// set values to correct vector component\r\n\r\n\t\t\t\t\tvector[ u ] = x * udir;\r\n\t\t\t\t\tvector[ v ] = y * vdir;\r\n\t\t\t\t\tvector[ w ] = depthHalf;\r\n\r\n\t\t\t\t\t// now apply vector to vertex buffer\r\n\r\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\r\n\r\n\t\t\t\t\t// set values to correct vector component\r\n\r\n\t\t\t\t\tvector[ u ] = 0;\r\n\t\t\t\t\tvector[ v ] = 0;\r\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\r\n\r\n\t\t\t\t\t// now apply vector to normal buffer\r\n\r\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\r\n\r\n\t\t\t\t\t// uvs\r\n\r\n\t\t\t\t\tuvs.push( ix / gridX );\r\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\r\n\r\n\t\t\t\t\t// counters\r\n\r\n\t\t\t\t\tvertexCounter += 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// indices\r\n\r\n\t\t\t// 1. you need three indices to draw a single face\r\n\t\t\t// 2. a single segment consists of two faces\r\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\r\n\r\n\t\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\r\n\t\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\r\n\t\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\t\t\t// faces\r\n\r\n\t\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t\t\t// increase counter\r\n\r\n\t\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\r\n\r\n\t\t\t// calculate new start value for groups\r\n\r\n\t\t\tgroupStart += groupCount;\r\n\r\n\t\t\t// update total number of vertices\r\n\r\n\t\t\tnumberOfVertices += vertexCounter;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Uniform Utilities\r\n */\r\n\r\nfunction cloneUniforms( src ) {\r\n\r\n\tvar dst = {};\r\n\r\n\tfor ( var u in src ) {\r\n\r\n\t\tdst[ u ] = {};\r\n\r\n\t\tfor ( var p in src[ u ] ) {\r\n\r\n\t\t\tvar property = src[ u ][ p ];\r\n\r\n\t\t\tif ( property && ( property.isColor ||\r\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\r\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\r\n\t\t\t\tproperty.isTexture ) ) {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property.clone();\r\n\r\n\t\t\t} else if ( Array.isArray( property ) ) {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property.slice();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn dst;\r\n\r\n}\r\n\r\nfunction mergeUniforms( uniforms ) {\r\n\r\n\tvar merged = {};\r\n\r\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\r\n\r\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\r\n\r\n\t\tfor ( var p in tmp ) {\r\n\r\n\t\t\tmerged[ p ] = tmp[ p ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn merged;\r\n\r\n}\r\n\r\n// Legacy\r\n\r\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\r\n\r\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\r\n\r\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  defines: { \"label\" : \"value\" },\r\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\r\n *\r\n *  fragmentShader: <string>,\r\n *  vertexShader: <string>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  lights: <bool>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction ShaderMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'ShaderMaterial';\r\n\r\n\tthis.defines = {};\r\n\tthis.uniforms = {};\r\n\r\n\tthis.vertexShader = default_vertex;\r\n\tthis.fragmentShader = default_fragment;\r\n\r\n\tthis.linewidth = 1;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false; // set to use scene fog\r\n\tthis.lights = false; // set to use scene lights\r\n\tthis.clipping = false; // set to use user-defined clipping planes\r\n\r\n\tthis.skinning = false; // set to use skinning attribute streams\r\n\tthis.morphTargets = false; // set to use morph targets\r\n\tthis.morphNormals = false; // set to use morph normals\r\n\r\n\tthis.extensions = {\r\n\t\tderivatives: false, // set to use derivatives\r\n\t\tfragDepth: false, // set to use fragment depth values\r\n\t\tdrawBuffers: false, // set to use draw buffers\r\n\t\tshaderTextureLOD: false // set to use shader texture LOD\r\n\t};\r\n\r\n\t// When rendered geometry doesn't include these attributes but the material does,\r\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\r\n\tthis.defaultAttributeValues = {\r\n\t\t'color': [ 1, 1, 1 ],\r\n\t\t'uv': [ 0, 0 ],\r\n\t\t'uv2': [ 0, 0 ]\r\n\t};\r\n\r\n\tthis.index0AttributeName = undefined;\r\n\tthis.uniformsNeedUpdate = false;\r\n\r\n\tif ( parameters !== undefined ) {\r\n\r\n\t\tif ( parameters.attributes !== undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n}\r\n\r\nShaderMaterial.prototype = Object.create( Material.prototype );\r\nShaderMaterial.prototype.constructor = ShaderMaterial;\r\n\r\nShaderMaterial.prototype.isShaderMaterial = true;\r\n\r\nShaderMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.fragmentShader = source.fragmentShader;\r\n\tthis.vertexShader = source.vertexShader;\r\n\r\n\tthis.uniforms = cloneUniforms( source.uniforms );\r\n\r\n\tthis.defines = Object.assign( {}, source.defines );\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\tthis.lights = source.lights;\r\n\tthis.clipping = source.clipping;\r\n\r\n\tthis.skinning = source.skinning;\r\n\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\tthis.extensions = source.extensions;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nShaderMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = Material.prototype.toJSON.call( this, meta );\r\n\r\n\tdata.uniforms = {};\r\n\r\n\tfor ( var name in this.uniforms ) {\r\n\r\n\t\tvar uniform = this.uniforms[ name ];\r\n\t\tvar value = uniform.value;\r\n\r\n\t\tif ( value && value.isTexture ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 't',\r\n\t\t\t\tvalue: value.toJSON( meta ).uuid\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isColor ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'c',\r\n\t\t\t\tvalue: value.getHex()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector2 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v2',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector3 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v3',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector4 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v4',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isMatrix3 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'm3',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isMatrix4 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'm4',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\tvalue: value\r\n\t\t\t};\r\n\r\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\r\n\r\n\tdata.vertexShader = this.vertexShader;\r\n\tdata.fragmentShader = this.fragmentShader;\r\n\r\n\tvar extensions = {};\r\n\r\n\tfor ( var key in this.extensions ) {\r\n\r\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\r\n\r\n\t}\r\n\r\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nfunction Camera() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Camera';\r\n\r\n\tthis.matrixWorldInverse = new Matrix4();\r\n\r\n\tthis.projectionMatrix = new Matrix4();\r\n\tthis.projectionMatrixInverse = new Matrix4();\r\n\r\n}\r\n\r\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Camera,\r\n\r\n\tisCamera: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\r\n\r\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\r\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetWorldDirection: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\tvar e = this.matrixWorld.elements;\r\n\r\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\r\n\r\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\r\n\r\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author greggman / http://games.greggman.com/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author tschw\r\n */\r\n\r\nfunction PerspectiveCamera( fov, aspect, near, far ) {\r\n\r\n\tCamera.call( this );\r\n\r\n\tthis.type = 'PerspectiveCamera';\r\n\r\n\tthis.fov = fov !== undefined ? fov : 50;\r\n\tthis.zoom = 1;\r\n\r\n\tthis.near = near !== undefined ? near : 0.1;\r\n\tthis.far = far !== undefined ? far : 2000;\r\n\tthis.focus = 10;\r\n\r\n\tthis.aspect = aspect !== undefined ? aspect : 1;\r\n\tthis.view = null;\r\n\r\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\r\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\r\n\r\n\tthis.updateProjectionMatrix();\r\n\r\n}\r\n\r\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\r\n\r\n\tconstructor: PerspectiveCamera,\r\n\r\n\tisPerspectiveCamera: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tCamera.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.fov = source.fov;\r\n\t\tthis.zoom = source.zoom;\r\n\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\t\tthis.focus = source.focus;\r\n\r\n\t\tthis.aspect = source.aspect;\r\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\r\n\r\n\t\tthis.filmGauge = source.filmGauge;\r\n\t\tthis.filmOffset = source.filmOffset;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\r\n\t *\r\n\t * The default film gauge is 35, so that the focal length can be specified for\r\n\t * a 35mm (full frame) camera.\r\n\t *\r\n\t * Values for focal length and film gauge must have the same unit.\r\n\t */\r\n\tsetFocalLength: function ( focalLength ) {\r\n\r\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\r\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\r\n\r\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Calculates the focal length from the current .fov and .filmGauge.\r\n\t */\r\n\tgetFocalLength: function () {\r\n\r\n\t\tvar vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\r\n\r\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\r\n\r\n\t},\r\n\r\n\tgetEffectiveFOV: function () {\r\n\r\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\r\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\r\n\r\n\t},\r\n\r\n\tgetFilmWidth: function () {\r\n\r\n\t\t// film not completely covered in portrait format (aspect < 1)\r\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\tgetFilmHeight: function () {\r\n\r\n\t\t// film not completely covered in landscape format (aspect > 1)\r\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\r\n\t * multi-monitor/multi-machine setups.\r\n\t *\r\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\r\n\t * the monitors are in grid like this\r\n\t *\r\n\t *   +---+---+---+\r\n\t *   | A | B | C |\r\n\t *   +---+---+---+\r\n\t *   | D | E | F |\r\n\t *   +---+---+---+\r\n\t *\r\n\t * then for each monitor you would call it like this\r\n\t *\r\n\t *   var w = 1920;\r\n\t *   var h = 1080;\r\n\t *   var fullWidth = w * 3;\r\n\t *   var fullHeight = h * 2;\r\n\t *\r\n\t *   --A--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\r\n\t *   --B--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\r\n\t *   --C--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\r\n\t *   --D--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\r\n\t *   --E--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\r\n\t *   --F--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\r\n\t *\r\n\t *   Note there is no reason monitors have to be the same size or in a grid.\r\n\t */\r\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\r\n\r\n\t\tthis.aspect = fullWidth / fullHeight;\r\n\r\n\t\tif ( this.view === null ) {\r\n\r\n\t\t\tthis.view = {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tfullWidth: 1,\r\n\t\t\t\tfullHeight: 1,\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tthis.view.enabled = true;\r\n\t\tthis.view.fullWidth = fullWidth;\r\n\t\tthis.view.fullHeight = fullHeight;\r\n\t\tthis.view.offsetX = x;\r\n\t\tthis.view.offsetY = y;\r\n\t\tthis.view.width = width;\r\n\t\tthis.view.height = height;\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tclearViewOffset: function () {\r\n\r\n\t\tif ( this.view !== null ) {\r\n\r\n\t\t\tthis.view.enabled = false;\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tupdateProjectionMatrix: function () {\r\n\r\n\t\tvar near = this.near,\r\n\t\t\ttop = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom,\r\n\t\t\theight = 2 * top,\r\n\t\t\twidth = this.aspect * height,\r\n\t\t\tleft = - 0.5 * width,\r\n\t\t\tview = this.view;\r\n\r\n\t\tif ( this.view !== null && this.view.enabled ) {\r\n\r\n\t\t\tvar fullWidth = view.fullWidth,\r\n\t\t\t\tfullHeight = view.fullHeight;\r\n\r\n\t\t\tleft += view.offsetX * width / fullWidth;\r\n\t\t\ttop -= view.offsetY * height / fullHeight;\r\n\t\t\twidth *= view.width / fullWidth;\r\n\t\t\theight *= view.height / fullHeight;\r\n\r\n\t\t}\r\n\r\n\t\tvar skew = this.filmOffset;\r\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\r\n\r\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\r\n\r\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.fov = this.fov;\r\n\t\tdata.object.zoom = this.zoom;\r\n\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\t\tdata.object.focus = this.focus;\r\n\r\n\t\tdata.object.aspect = this.aspect;\r\n\r\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\r\n\r\n\t\tdata.object.filmGauge = this.filmGauge;\r\n\t\tdata.object.filmOffset = this.filmOffset;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * Camera for rendering cube maps\r\n *\t- renders scene into axis-aligned cube\r\n *\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nvar fov = 90, aspect = 1;\r\n\r\nfunction CubeCamera( near, far, cubeResolution, options ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'CubeCamera';\r\n\r\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPX.up.set( 0, - 1, 0 );\r\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\r\n\tthis.add( cameraPX );\r\n\r\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNX.up.set( 0, - 1, 0 );\r\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\r\n\tthis.add( cameraNX );\r\n\r\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPY.up.set( 0, 0, 1 );\r\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\r\n\tthis.add( cameraPY );\r\n\r\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNY.up.set( 0, 0, - 1 );\r\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\r\n\tthis.add( cameraNY );\r\n\r\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPZ.up.set( 0, - 1, 0 );\r\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\r\n\tthis.add( cameraPZ );\r\n\r\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNZ.up.set( 0, - 1, 0 );\r\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\r\n\tthis.add( cameraNZ );\r\n\r\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\r\n\r\n\tthis.renderTarget = new WebGLCubeRenderTarget( cubeResolution, options );\r\n\tthis.renderTarget.texture.name = \"CubeCamera\";\r\n\r\n\tthis.update = function ( renderer, scene ) {\r\n\r\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tvar renderTarget = this.renderTarget;\r\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 0 );\r\n\t\trenderer.render( scene, cameraPX );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 1 );\r\n\t\trenderer.render( scene, cameraNX );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 2 );\r\n\t\trenderer.render( scene, cameraPY );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 3 );\r\n\t\trenderer.render( scene, cameraNY );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 4 );\r\n\t\trenderer.render( scene, cameraPZ );\r\n\r\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 5 );\r\n\t\trenderer.render( scene, cameraNZ );\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t};\r\n\r\n\tthis.clear = function ( renderer, color, depth, stencil ) {\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tvar renderTarget = this.renderTarget;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\trenderer.setRenderTarget( renderTarget, i );\r\n\r\n\t\t\trenderer.clear( color, depth, stencil );\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t};\r\n\r\n}\r\n\r\nCubeCamera.prototype = Object.create( Object3D.prototype );\r\nCubeCamera.prototype.constructor = CubeCamera;\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\r\n\r\n\tif ( Number.isInteger( options ) ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\r\n\r\n\t\toptions = dummy;\r\n\r\n\t}\r\n\r\n\tWebGLRenderTarget.call( this, size, size, options );\r\n\r\n}\r\n\r\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\r\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\r\n\r\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\r\n\r\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\r\n\r\n\tthis.texture.type = texture.type;\r\n\tthis.texture.format = texture.format;\r\n\tthis.texture.encoding = texture.encoding;\r\n\r\n\tvar scene = new Scene();\r\n\r\n\tvar shader = {\r\n\r\n\t\tuniforms: {\r\n\t\t\ttEquirect: { value: null },\r\n\t\t},\r\n\r\n\t\tvertexShader: [\r\n\r\n\t\t\t\"varying vec3 vWorldDirection;\",\r\n\r\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\r\n\r\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\r\n\r\n\t\t\t\"}\",\r\n\r\n\t\t\t\"void main() {\",\r\n\r\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\r\n\r\n\t\t\t\"\t#include <begin_vertex>\",\r\n\t\t\t\"\t#include <project_vertex>\",\r\n\r\n\t\t\t\"}\"\r\n\r\n\t\t].join( '\\n' ),\r\n\r\n\t\tfragmentShader: [\r\n\r\n\t\t\t\"uniform sampler2D tEquirect;\",\r\n\r\n\t\t\t\"varying vec3 vWorldDirection;\",\r\n\r\n\t\t\t\"#define RECIPROCAL_PI 0.31830988618\",\r\n\t\t\t\"#define RECIPROCAL_PI2 0.15915494\",\r\n\r\n\t\t\t\"void main() {\",\r\n\r\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\r\n\r\n\t\t\t\"\tvec2 sampleUV;\",\r\n\r\n\t\t\t\"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\r\n\r\n\t\t\t\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\r\n\r\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\r\n\r\n\t\t\t\"}\"\r\n\r\n\t\t].join( '\\n' ),\r\n\t};\r\n\r\n\tvar material = new ShaderMaterial( {\r\n\r\n\t\ttype: 'CubemapFromEquirect',\r\n\r\n\t\tuniforms: cloneUniforms( shader.uniforms ),\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tside: BackSide,\r\n\t\tblending: NoBlending\r\n\r\n\t} );\r\n\r\n\tmaterial.uniforms.tEquirect.value = texture;\r\n\r\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\r\n\r\n\tscene.add( mesh );\r\n\r\n\tvar camera = new CubeCamera( 1, 10, 1 );\r\n\r\n\tcamera.renderTarget = this;\r\n\tcamera.renderTarget.texture.name = 'CubeCameraTexture';\r\n\r\n\tcamera.update( renderer, scene );\r\n\r\n\tmesh.geometry.dispose();\r\n\tmesh.material.dispose();\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\r\n\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\r\n\r\n\tthis.generateMipmaps = false;\r\n\tthis.flipY = false;\r\n\tthis.unpackAlignment = 1;\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nDataTexture.prototype = Object.create( Texture.prototype );\r\nDataTexture.prototype.constructor = DataTexture;\r\n\r\nDataTexture.prototype.isDataTexture = true;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _sphere$1 = new Sphere();\r\nvar _vector$5 = new Vector3();\r\n\r\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\r\n\r\n\tthis.planes = [\r\n\r\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\r\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\r\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\r\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\r\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\r\n\t\t( p5 !== undefined ) ? p5 : new Plane()\r\n\r\n\t];\r\n\r\n}\r\n\r\nObject.assign( Frustum.prototype, {\r\n\r\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tplanes[ 0 ].copy( p0 );\r\n\t\tplanes[ 1 ].copy( p1 );\r\n\t\tplanes[ 2 ].copy( p2 );\r\n\t\tplanes[ 3 ].copy( p3 );\r\n\t\tplanes[ 4 ].copy( p4 );\r\n\t\tplanes[ 5 ].copy( p5 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( frustum ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromProjectionMatrix: function ( m ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\t\tvar me = m.elements;\r\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\r\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\r\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\r\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\r\n\r\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\r\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\r\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\r\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\r\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\r\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tintersectsObject: function ( object ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\r\n\r\n\t\treturn this.intersectsSphere( _sphere$1 );\r\n\r\n\t},\r\n\r\n\tintersectsSprite: function ( sprite ) {\r\n\r\n\t\t_sphere$1.center.set( 0, 0, 0 );\r\n\t\t_sphere$1.radius = 0.7071067811865476;\r\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\r\n\r\n\t\treturn this.intersectsSphere( _sphere$1 );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\t\tvar center = sphere.center;\r\n\t\tvar negRadius = - sphere.radius;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\r\n\r\n\t\t\tif ( distance < negRadius ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tvar plane = planes[ i ];\r\n\r\n\t\t\t// corner at max distance\r\n\r\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\r\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\r\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\r\n\r\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * Uniforms library for shared webgl shaders\r\n */\r\n\r\nvar UniformsLib = {\r\n\r\n\tcommon: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\r\n\t\tmap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() },\r\n\t\tuv2Transform: { value: new Matrix3() },\r\n\r\n\t\talphaMap: { value: null },\r\n\r\n\t},\r\n\r\n\tspecularmap: {\r\n\r\n\t\tspecularMap: { value: null },\r\n\r\n\t},\r\n\r\n\tenvmap: {\r\n\r\n\t\tenvMap: { value: null },\r\n\t\tflipEnvMap: { value: - 1 },\r\n\t\treflectivity: { value: 1.0 },\r\n\t\trefractionRatio: { value: 0.98 },\r\n\t\tmaxMipLevel: { value: 0 }\r\n\r\n\t},\r\n\r\n\taomap: {\r\n\r\n\t\taoMap: { value: null },\r\n\t\taoMapIntensity: { value: 1 }\r\n\r\n\t},\r\n\r\n\tlightmap: {\r\n\r\n\t\tlightMap: { value: null },\r\n\t\tlightMapIntensity: { value: 1 }\r\n\r\n\t},\r\n\r\n\temissivemap: {\r\n\r\n\t\temissiveMap: { value: null }\r\n\r\n\t},\r\n\r\n\tbumpmap: {\r\n\r\n\t\tbumpMap: { value: null },\r\n\t\tbumpScale: { value: 1 }\r\n\r\n\t},\r\n\r\n\tnormalmap: {\r\n\r\n\t\tnormalMap: { value: null },\r\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\r\n\r\n\t},\r\n\r\n\tdisplacementmap: {\r\n\r\n\t\tdisplacementMap: { value: null },\r\n\t\tdisplacementScale: { value: 1 },\r\n\t\tdisplacementBias: { value: 0 }\r\n\r\n\t},\r\n\r\n\troughnessmap: {\r\n\r\n\t\troughnessMap: { value: null }\r\n\r\n\t},\r\n\r\n\tmetalnessmap: {\r\n\r\n\t\tmetalnessMap: { value: null }\r\n\r\n\t},\r\n\r\n\tgradientmap: {\r\n\r\n\t\tgradientMap: { value: null }\r\n\r\n\t},\r\n\r\n\tfog: {\r\n\r\n\t\tfogDensity: { value: 0.00025 },\r\n\t\tfogNear: { value: 1 },\r\n\t\tfogFar: { value: 2000 },\r\n\t\tfogColor: { value: new Color( 0xffffff ) }\r\n\r\n\t},\r\n\r\n\tlights: {\r\n\r\n\t\tambientLightColor: { value: [] },\r\n\r\n\t\tlightProbe: { value: [] },\r\n\r\n\t\tdirectionalLights: { value: [], properties: {\r\n\t\t\tdirection: {},\r\n\t\t\tcolor: {}\r\n\t\t} },\r\n\r\n\t\tdirectionalLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {}\r\n\t\t} },\r\n\r\n\t\tdirectionalShadowMap: { value: [] },\r\n\t\tdirectionalShadowMatrix: { value: [] },\r\n\r\n\t\tspotLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\tdirection: {},\r\n\t\t\tdistance: {},\r\n\t\t\tconeCos: {},\r\n\t\t\tpenumbraCos: {},\r\n\t\t\tdecay: {}\r\n\t\t} },\r\n\r\n\t\tspotLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {}\r\n\t\t} },\r\n\r\n\t\tspotShadowMap: { value: [] },\r\n\t\tspotShadowMatrix: { value: [] },\r\n\r\n\t\tpointLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\tdecay: {},\r\n\t\t\tdistance: {}\r\n\t\t} },\r\n\r\n\t\tpointLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {},\r\n\t\t\tshadowCameraNear: {},\r\n\t\t\tshadowCameraFar: {}\r\n\t\t} },\r\n\r\n\t\tpointShadowMap: { value: [] },\r\n\t\tpointShadowMatrix: { value: [] },\r\n\r\n\t\themisphereLights: { value: [], properties: {\r\n\t\t\tdirection: {},\r\n\t\t\tskyColor: {},\r\n\t\t\tgroundColor: {}\r\n\t\t} },\r\n\r\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\r\n\t\trectAreaLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\twidth: {},\r\n\t\t\theight: {}\r\n\t\t} }\r\n\r\n\t},\r\n\r\n\tpoints: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\t\tsize: { value: 1.0 },\r\n\t\tscale: { value: 1.0 },\r\n\t\tmap: { value: null },\r\n\t\talphaMap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() }\r\n\r\n\t},\r\n\r\n\tsprite: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\r\n\t\trotation: { value: 0.0 },\r\n\t\tmap: { value: null },\r\n\t\talphaMap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() }\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLAnimation() {\r\n\r\n\tvar context = null;\r\n\tvar isAnimating = false;\r\n\tvar animationLoop = null;\r\n\r\n\tfunction onAnimationFrame( time, frame ) {\r\n\r\n\t\tif ( isAnimating === false ) return;\r\n\r\n\t\tanimationLoop( time, frame );\r\n\r\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tstart: function () {\r\n\r\n\t\t\tif ( isAnimating === true ) return;\r\n\t\t\tif ( animationLoop === null ) return;\r\n\r\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\r\n\r\n\t\t\tisAnimating = true;\r\n\r\n\t\t},\r\n\r\n\t\tstop: function () {\r\n\r\n\t\t\tisAnimating = false;\r\n\r\n\t\t},\r\n\r\n\t\tsetAnimationLoop: function ( callback ) {\r\n\r\n\t\t\tanimationLoop = callback;\r\n\r\n\t\t},\r\n\r\n\t\tsetContext: function ( value ) {\r\n\r\n\t\t\tcontext = value;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLAttributes( gl, capabilities ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tvar buffers = new WeakMap();\r\n\r\n\tfunction createBuffer( attribute, bufferType ) {\r\n\r\n\t\tvar array = attribute.array;\r\n\t\tvar usage = attribute.usage;\r\n\r\n\t\tvar buffer = gl.createBuffer();\r\n\r\n\t\tgl.bindBuffer( bufferType, buffer );\r\n\t\tgl.bufferData( bufferType, array, usage );\r\n\r\n\t\tattribute.onUploadCallback();\r\n\r\n\t\tvar type = 5126;\r\n\r\n\t\tif ( array instanceof Float32Array ) {\r\n\r\n\t\t\ttype = 5126;\r\n\r\n\t\t} else if ( array instanceof Float64Array ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\r\n\r\n\t\t} else if ( array instanceof Uint16Array ) {\r\n\r\n\t\t\ttype = 5123;\r\n\r\n\t\t} else if ( array instanceof Int16Array ) {\r\n\r\n\t\t\ttype = 5122;\r\n\r\n\t\t} else if ( array instanceof Uint32Array ) {\r\n\r\n\t\t\ttype = 5125;\r\n\r\n\t\t} else if ( array instanceof Int32Array ) {\r\n\r\n\t\t\ttype = 5124;\r\n\r\n\t\t} else if ( array instanceof Int8Array ) {\r\n\r\n\t\t\ttype = 5120;\r\n\r\n\t\t} else if ( array instanceof Uint8Array ) {\r\n\r\n\t\t\ttype = 5121;\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tbuffer: buffer,\r\n\t\t\ttype: type,\r\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\r\n\t\t\tversion: attribute.version\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\r\n\r\n\t\tvar array = attribute.array;\r\n\t\tvar updateRange = attribute.updateRange;\r\n\r\n\t\tgl.bindBuffer( bufferType, buffer );\r\n\r\n\t\tif ( updateRange.count === - 1 ) {\r\n\r\n\t\t\t// Not using update ranges\r\n\r\n\t\t\tgl.bufferSubData( bufferType, 0, array );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\r\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\r\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tupdateRange.count = - 1; // reset range\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction get( attribute ) {\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\treturn buffers.get( attribute );\r\n\r\n\t}\r\n\r\n\tfunction remove( attribute ) {\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\tvar data = buffers.get( attribute );\r\n\r\n\t\tif ( data ) {\r\n\r\n\t\t\tgl.deleteBuffer( data.buffer );\r\n\r\n\t\t\tbuffers.delete( attribute );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction update( attribute, bufferType ) {\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\tvar data = buffers.get( attribute );\r\n\r\n\t\tif ( data === undefined ) {\r\n\r\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\r\n\r\n\t\t} else if ( data.version < attribute.version ) {\r\n\r\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\r\n\r\n\t\t\tdata.version = attribute.version;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tget: get,\r\n\t\tremove: remove,\r\n\t\tupdate: update\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// PlaneGeometry\r\n\r\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'PlaneGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\r\nPlaneGeometry.prototype.constructor = PlaneGeometry;\r\n\r\n// PlaneBufferGeometry\r\n\r\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'PlaneBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments\r\n\t};\r\n\r\n\twidth = width || 1;\r\n\theight = height || 1;\r\n\r\n\tvar width_half = width / 2;\r\n\tvar height_half = height / 2;\r\n\r\n\tvar gridX = Math.floor( widthSegments ) || 1;\r\n\tvar gridY = Math.floor( heightSegments ) || 1;\r\n\r\n\tvar gridX1 = gridX + 1;\r\n\tvar gridY1 = gridY + 1;\r\n\r\n\tvar segment_width = width / gridX;\r\n\tvar segment_height = height / gridY;\r\n\r\n\tvar ix, iy;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\tvar y = iy * segment_height - height_half;\r\n\r\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\tvar x = ix * segment_width - width_half;\r\n\r\n\t\t\tvertices.push( x, - y, 0 );\r\n\r\n\t\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t\tuvs.push( ix / gridX );\r\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// indices\r\n\r\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\tvar a = ix + gridX1 * iy;\r\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\r\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\t// faces\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\r\n\r\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\r\n\r\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\r\n\r\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\r\n\r\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\r\n\r\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\r\n\r\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\r\n\r\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\r\n\r\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\r\n\r\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\r\n\r\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\r\n\r\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\r\n\r\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\r\n\r\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\r\n\r\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\r\n\r\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\r\n\r\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\r\n\r\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\r\n\r\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\r\n\r\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\r\n\r\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\r\n\r\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\r\n\r\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\r\n\r\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\r\n\r\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\r\n\r\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\r\n\r\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\r\n\r\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\r\n\r\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\r\n\r\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\r\n\r\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\r\n\r\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\r\n\r\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\r\n\r\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\r\n\r\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\r\n\r\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\r\n\r\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\r\n\r\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\r\n\r\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\r\n\r\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\r\n\r\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\r\n\r\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\r\n\r\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\r\n\r\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\r\n\r\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\r\n\r\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\r\n\r\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\r\n\r\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\r\n\r\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\r\n\r\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\r\n\r\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\r\n\r\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\r\n\r\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\r\n\r\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\r\n\r\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\r\n\r\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\r\n\r\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\r\n\r\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\r\n\r\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\r\n\r\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\r\n\r\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\r\n\r\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\r\n\r\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\r\n\r\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\r\n\r\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\r\n\r\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\r\n\r\nvar clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\r\n\r\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\r\n\r\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\r\n\r\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\r\n\r\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\r\n\r\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\r\n\r\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\r\n\r\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\r\n\r\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\r\n\r\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\r\n\r\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\r\n\r\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\r\n\r\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\r\n\r\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\r\n\r\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\r\n\r\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\r\n\r\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\r\n\r\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\r\n\r\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\r\n\r\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\r\n\r\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\r\n\r\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\r\n\r\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\r\n\r\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\r\n\r\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\r\n\r\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\r\n\r\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\r\n\r\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\r\n\r\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\r\n\r\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\r\n\r\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\r\n\r\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\r\n\r\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\r\n\r\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\r\n\r\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\r\n\r\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\r\n\r\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\r\n\r\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\r\n\r\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\r\n\r\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar ShaderChunk = {\r\n\talphamap_fragment: alphamap_fragment,\r\n\talphamap_pars_fragment: alphamap_pars_fragment,\r\n\talphatest_fragment: alphatest_fragment,\r\n\taomap_fragment: aomap_fragment,\r\n\taomap_pars_fragment: aomap_pars_fragment,\r\n\tbegin_vertex: begin_vertex,\r\n\tbeginnormal_vertex: beginnormal_vertex,\r\n\tbsdfs: bsdfs,\r\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\r\n\tclipping_planes_fragment: clipping_planes_fragment,\r\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\r\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\r\n\tclipping_planes_vertex: clipping_planes_vertex,\r\n\tcolor_fragment: color_fragment,\r\n\tcolor_pars_fragment: color_pars_fragment,\r\n\tcolor_pars_vertex: color_pars_vertex,\r\n\tcolor_vertex: color_vertex,\r\n\tcommon: common,\r\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\r\n\tdefaultnormal_vertex: defaultnormal_vertex,\r\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\r\n\tdisplacementmap_vertex: displacementmap_vertex,\r\n\temissivemap_fragment: emissivemap_fragment,\r\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\r\n\tencodings_fragment: encodings_fragment,\r\n\tencodings_pars_fragment: encodings_pars_fragment,\r\n\tenvmap_fragment: envmap_fragment,\r\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\r\n\tenvmap_pars_fragment: envmap_pars_fragment,\r\n\tenvmap_pars_vertex: envmap_pars_vertex,\r\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\r\n\tenvmap_vertex: envmap_vertex,\r\n\tfog_vertex: fog_vertex,\r\n\tfog_pars_vertex: fog_pars_vertex,\r\n\tfog_fragment: fog_fragment,\r\n\tfog_pars_fragment: fog_pars_fragment,\r\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\r\n\tlightmap_fragment: lightmap_fragment,\r\n\tlightmap_pars_fragment: lightmap_pars_fragment,\r\n\tlights_lambert_vertex: lights_lambert_vertex,\r\n\tlights_pars_begin: lights_pars_begin,\r\n\tlights_toon_fragment: lights_toon_fragment,\r\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\r\n\tlights_phong_fragment: lights_phong_fragment,\r\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\r\n\tlights_physical_fragment: lights_physical_fragment,\r\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\r\n\tlights_fragment_begin: lights_fragment_begin,\r\n\tlights_fragment_maps: lights_fragment_maps,\r\n\tlights_fragment_end: lights_fragment_end,\r\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\r\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\r\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\r\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\r\n\tmap_fragment: map_fragment,\r\n\tmap_pars_fragment: map_pars_fragment,\r\n\tmap_particle_fragment: map_particle_fragment,\r\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\r\n\tmetalnessmap_fragment: metalnessmap_fragment,\r\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\r\n\tmorphnormal_vertex: morphnormal_vertex,\r\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\r\n\tmorphtarget_vertex: morphtarget_vertex,\r\n\tnormal_fragment_begin: normal_fragment_begin,\r\n\tnormal_fragment_maps: normal_fragment_maps,\r\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\r\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\r\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\r\n\tclearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\r\n\tpacking: packing,\r\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\r\n\tproject_vertex: project_vertex,\r\n\tdithering_fragment: dithering_fragment,\r\n\tdithering_pars_fragment: dithering_pars_fragment,\r\n\troughnessmap_fragment: roughnessmap_fragment,\r\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\r\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\r\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\r\n\tshadowmap_vertex: shadowmap_vertex,\r\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\r\n\tskinbase_vertex: skinbase_vertex,\r\n\tskinning_pars_vertex: skinning_pars_vertex,\r\n\tskinning_vertex: skinning_vertex,\r\n\tskinnormal_vertex: skinnormal_vertex,\r\n\tspecularmap_fragment: specularmap_fragment,\r\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\r\n\ttonemapping_fragment: tonemapping_fragment,\r\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\r\n\tuv_pars_fragment: uv_pars_fragment,\r\n\tuv_pars_vertex: uv_pars_vertex,\r\n\tuv_vertex: uv_vertex,\r\n\tuv2_pars_fragment: uv2_pars_fragment,\r\n\tuv2_pars_vertex: uv2_pars_vertex,\r\n\tuv2_vertex: uv2_vertex,\r\n\tworldpos_vertex: worldpos_vertex,\r\n\r\n\tbackground_frag: background_frag,\r\n\tbackground_vert: background_vert,\r\n\tcube_frag: cube_frag,\r\n\tcube_vert: cube_vert,\r\n\tdepth_frag: depth_frag,\r\n\tdepth_vert: depth_vert,\r\n\tdistanceRGBA_frag: distanceRGBA_frag,\r\n\tdistanceRGBA_vert: distanceRGBA_vert,\r\n\tequirect_frag: equirect_frag,\r\n\tequirect_vert: equirect_vert,\r\n\tlinedashed_frag: linedashed_frag,\r\n\tlinedashed_vert: linedashed_vert,\r\n\tmeshbasic_frag: meshbasic_frag,\r\n\tmeshbasic_vert: meshbasic_vert,\r\n\tmeshlambert_frag: meshlambert_frag,\r\n\tmeshlambert_vert: meshlambert_vert,\r\n\tmeshmatcap_frag: meshmatcap_frag,\r\n\tmeshmatcap_vert: meshmatcap_vert,\r\n\tmeshtoon_frag: meshtoon_frag,\r\n\tmeshtoon_vert: meshtoon_vert,\r\n\tmeshphong_frag: meshphong_frag,\r\n\tmeshphong_vert: meshphong_vert,\r\n\tmeshphysical_frag: meshphysical_frag,\r\n\tmeshphysical_vert: meshphysical_vert,\r\n\tnormal_frag: normal_frag,\r\n\tnormal_vert: normal_vert,\r\n\tpoints_frag: points_frag,\r\n\tpoints_vert: points_vert,\r\n\tshadow_frag: shadow_frag,\r\n\tshadow_vert: shadow_vert,\r\n\tsprite_frag: sprite_frag,\r\n\tsprite_vert: sprite_vert\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n */\r\n\r\nvar ShaderLib = {\r\n\r\n\tbasic: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\r\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\r\n\r\n\t},\r\n\r\n\tlambert: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\r\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\r\n\r\n\t},\r\n\r\n\tphong: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\r\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\r\n\t\t\t\tshininess: { value: 30 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshphong_vert,\r\n\t\tfragmentShader: ShaderChunk.meshphong_frag\r\n\r\n\t},\r\n\r\n\tstandard: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.roughnessmap,\r\n\t\t\tUniformsLib.metalnessmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\r\n\t\t\t\troughness: { value: 0.5 },\r\n\t\t\t\tmetalness: { value: 0.5 },\r\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\r\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\r\n\r\n\t},\r\n\r\n\ttoon: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.gradientmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\r\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\r\n\t\t\t\tshininess: { value: 30 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\r\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\r\n\r\n\t},\r\n\r\n\tmatcap: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tmatcap: { value: null }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\r\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\r\n\r\n\t},\r\n\r\n\tpoints: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.points,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.points_vert,\r\n\t\tfragmentShader: ShaderChunk.points_frag\r\n\r\n\t},\r\n\r\n\tdashed: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tscale: { value: 1 },\r\n\t\t\t\tdashSize: { value: 1 },\r\n\t\t\t\ttotalSize: { value: 2 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.linedashed_vert,\r\n\t\tfragmentShader: ShaderChunk.linedashed_frag\r\n\r\n\t},\r\n\r\n\tdepth: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.displacementmap\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.depth_vert,\r\n\t\tfragmentShader: ShaderChunk.depth_frag\r\n\r\n\t},\r\n\r\n\tnormal: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\t{\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.normal_vert,\r\n\t\tfragmentShader: ShaderChunk.normal_frag\r\n\r\n\t},\r\n\r\n\tsprite: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.sprite,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.sprite_vert,\r\n\t\tfragmentShader: ShaderChunk.sprite_frag\r\n\r\n\t},\r\n\r\n\tbackground: {\r\n\r\n\t\tuniforms: {\r\n\t\t\tuvTransform: { value: new Matrix3() },\r\n\t\t\tt2D: { value: null },\r\n\t\t},\r\n\r\n\t\tvertexShader: ShaderChunk.background_vert,\r\n\t\tfragmentShader: ShaderChunk.background_frag\r\n\r\n\t},\r\n\t/* -------------------------------------------------------------------------\r\n\t//\tCube map shader\r\n\t ------------------------------------------------------------------------- */\r\n\r\n\tcube: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\t{\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.cube_vert,\r\n\t\tfragmentShader: ShaderChunk.cube_frag\r\n\r\n\t},\r\n\r\n\tequirect: {\r\n\r\n\t\tuniforms: {\r\n\t\t\ttEquirect: { value: null },\r\n\t\t},\r\n\r\n\t\tvertexShader: ShaderChunk.equirect_vert,\r\n\t\tfragmentShader: ShaderChunk.equirect_frag\r\n\r\n\t},\r\n\r\n\tdistanceRGBA: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\t{\r\n\t\t\t\treferencePosition: { value: new Vector3() },\r\n\t\t\t\tnearDistance: { value: 1 },\r\n\t\t\t\tfarDistance: { value: 1000 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\r\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\r\n\r\n\t},\r\n\r\n\tshadow: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.lights,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t},\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.shadow_vert,\r\n\t\tfragmentShader: ShaderChunk.shadow_frag\r\n\r\n\t}\r\n\r\n};\r\n\r\nShaderLib.physical = {\r\n\r\n\tuniforms: mergeUniforms( [\r\n\t\tShaderLib.standard.uniforms,\r\n\t\t{\r\n\t\t\ttransparency: { value: 0 },\r\n\t\t\tclearcoat: { value: 0 },\r\n\t\t\tclearcoatRoughness: { value: 0 },\r\n\t\t\tsheen: { value: new Color( 0x000000 ) },\r\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\r\n\t\t\tclearcoatNormalMap: { value: null },\r\n\t\t}\r\n\t] ),\r\n\r\n\tvertexShader: ShaderChunk.meshphysical_vert,\r\n\tfragmentShader: ShaderChunk.meshphysical_frag\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\r\n\r\n\tvar clearColor = new Color( 0x000000 );\r\n\tvar clearAlpha = 0;\r\n\r\n\tvar planeMesh;\r\n\tvar boxMesh;\r\n\r\n\tvar currentBackground = null;\r\n\tvar currentBackgroundVersion = 0;\r\n\tvar currentTonemapping = null;\r\n\r\n\tfunction render( renderList, scene, camera, forceClear ) {\r\n\r\n\t\tvar background = scene.background;\r\n\r\n\t\t// Ignore background in AR\r\n\t\t// TODO: Reconsider this.\r\n\r\n\t\tvar xr = renderer.xr;\r\n\t\tvar session = xr.getSession && xr.getSession();\r\n\r\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\r\n\r\n\t\t\tbackground = null;\r\n\r\n\t\t}\r\n\r\n\t\tif ( background === null ) {\r\n\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t} else if ( background && background.isColor ) {\r\n\r\n\t\t\tsetClear( background, 1 );\r\n\t\t\tforceClear = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderer.autoClear || forceClear ) {\r\n\r\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\r\n\t\t}\r\n\r\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\r\n\r\n\t\t\tif ( boxMesh === undefined ) {\r\n\r\n\t\t\t\tboxMesh = new Mesh(\r\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\r\n\t\t\t\t\tnew ShaderMaterial( {\r\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\r\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\r\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\r\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\r\n\t\t\t\t\t\tside: BackSide,\r\n\t\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\t\tfog: false\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\r\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\r\n\r\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// enable code injection for non-built-in material\r\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tobjects.update( boxMesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar texture = background.isWebGLCubeRenderTarget ? background.texture : background;\r\n\r\n\t\t\tboxMesh.material.uniforms.envMap.value = texture;\r\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? - 1 : 1;\r\n\r\n\t\t\tif ( currentBackground !== background ||\r\n\t\t\t\tcurrentBackgroundVersion !== texture.version ||\r\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\r\n\r\n\t\t\t\tboxMesh.material.needsUpdate = true;\r\n\r\n\t\t\t\tcurrentBackground = background;\r\n\t\t\t\tcurrentBackgroundVersion = texture.version;\r\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// push to the pre-sorted opaque render list\r\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\r\n\r\n\t\t} else if ( background && background.isTexture ) {\r\n\r\n\t\t\tif ( planeMesh === undefined ) {\r\n\r\n\t\t\t\tplaneMesh = new Mesh(\r\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\r\n\t\t\t\t\tnew ShaderMaterial( {\r\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\r\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\r\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\r\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\r\n\t\t\t\t\t\tside: FrontSide,\r\n\t\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\t\tfog: false\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\r\n\r\n\t\t\t\t// enable code injection for non-built-in material\r\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tobjects.update( planeMesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\r\n\r\n\t\t\tif ( background.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tbackground.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\r\n\r\n\t\t\tif ( currentBackground !== background ||\r\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\r\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\r\n\r\n\t\t\t\tplaneMesh.material.needsUpdate = true;\r\n\r\n\t\t\t\tcurrentBackground = background;\r\n\t\t\t\tcurrentBackgroundVersion = background.version;\r\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// push to the pre-sorted opaque render list\r\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setClear( color, alpha ) {\r\n\r\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tgetClearColor: function () {\r\n\r\n\t\t\treturn clearColor;\r\n\r\n\t\t},\r\n\t\tsetClearColor: function ( color, alpha ) {\r\n\r\n\t\t\tclearColor.set( color );\r\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t},\r\n\t\tgetClearAlpha: function () {\r\n\r\n\t\t\treturn clearAlpha;\r\n\r\n\t\t},\r\n\t\tsetClearAlpha: function ( alpha ) {\r\n\r\n\t\t\tclearAlpha = alpha;\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t},\r\n\t\trender: render\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tvar mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\tgl.drawArrays( mode, start, count );\r\n\r\n\t\tinfo.update( count, mode );\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( geometry, start, count, primcount ) {\r\n\r\n\t\tif ( primcount === 0 ) return;\r\n\r\n\t\tvar extension, methodName;\r\n\r\n\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\textension = gl;\r\n\t\t\tmethodName = 'drawArraysInstanced';\r\n\r\n\t\t} else {\r\n\r\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\textension[ methodName ]( mode, start, count, primcount );\r\n\r\n\t\tinfo.update( count, mode, primcount );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLCapabilities( gl, extensions, parameters ) {\r\n\r\n\tvar maxAnisotropy;\r\n\r\n\tfunction getMaxAnisotropy() {\r\n\r\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\r\n\r\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaxAnisotropy = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn maxAnisotropy;\r\n\r\n\t}\r\n\r\n\tfunction getMaxPrecision( precision ) {\r\n\r\n\t\tif ( precision === 'highp' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\r\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'highp';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprecision = 'mediump';\r\n\r\n\t\t}\r\n\r\n\t\tif ( precision === 'mediump' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\r\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'mediump';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn 'lowp';\r\n\r\n\t}\r\n\r\n\t/* eslint-disable no-undef */\r\n\tvar isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\r\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\r\n\t/* eslint-enable no-undef */\r\n\r\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\r\n\tvar maxPrecision = getMaxPrecision( precision );\r\n\r\n\tif ( maxPrecision !== precision ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\r\n\t\tprecision = maxPrecision;\r\n\r\n\t}\r\n\r\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\r\n\r\n\tvar maxTextures = gl.getParameter( 34930 );\r\n\tvar maxVertexTextures = gl.getParameter( 35660 );\r\n\tvar maxTextureSize = gl.getParameter( 3379 );\r\n\tvar maxCubemapSize = gl.getParameter( 34076 );\r\n\r\n\tvar maxAttributes = gl.getParameter( 34921 );\r\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\r\n\tvar maxVaryings = gl.getParameter( 36348 );\r\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\r\n\r\n\tvar vertexTextures = maxVertexTextures > 0;\r\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\r\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\r\n\r\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\r\n\r\n\treturn {\r\n\r\n\t\tisWebGL2: isWebGL2,\r\n\r\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\r\n\t\tgetMaxPrecision: getMaxPrecision,\r\n\r\n\t\tprecision: precision,\r\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\r\n\r\n\t\tmaxTextures: maxTextures,\r\n\t\tmaxVertexTextures: maxVertexTextures,\r\n\t\tmaxTextureSize: maxTextureSize,\r\n\t\tmaxCubemapSize: maxCubemapSize,\r\n\r\n\t\tmaxAttributes: maxAttributes,\r\n\t\tmaxVertexUniforms: maxVertexUniforms,\r\n\t\tmaxVaryings: maxVaryings,\r\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\r\n\r\n\t\tvertexTextures: vertexTextures,\r\n\t\tfloatFragmentTextures: floatFragmentTextures,\r\n\t\tfloatVertexTextures: floatVertexTextures,\r\n\r\n\t\tmaxSamples: maxSamples\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author tschw\r\n */\r\n\r\nfunction WebGLClipping() {\r\n\r\n\tvar scope = this,\r\n\r\n\t\tglobalState = null,\r\n\t\tnumGlobalPlanes = 0,\r\n\t\tlocalClippingEnabled = false,\r\n\t\trenderingShadows = false,\r\n\r\n\t\tplane = new Plane(),\r\n\t\tviewNormalMatrix = new Matrix3(),\r\n\r\n\t\tuniform = { value: null, needsUpdate: false };\r\n\r\n\tthis.uniform = uniform;\r\n\tthis.numPlanes = 0;\r\n\tthis.numIntersection = 0;\r\n\r\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\r\n\r\n\t\tvar enabled =\r\n\t\t\tplanes.length !== 0 ||\r\n\t\t\tenableLocalClipping ||\r\n\t\t\t// enable state of previous frame - the clipping code has to\r\n\t\t\t// run another frame in order to reset the state:\r\n\t\t\tnumGlobalPlanes !== 0 ||\r\n\t\t\tlocalClippingEnabled;\r\n\r\n\t\tlocalClippingEnabled = enableLocalClipping;\r\n\r\n\t\tglobalState = projectPlanes( planes, camera, 0 );\r\n\t\tnumGlobalPlanes = planes.length;\r\n\r\n\t\treturn enabled;\r\n\r\n\t};\r\n\r\n\tthis.beginShadows = function () {\r\n\r\n\t\trenderingShadows = true;\r\n\t\tprojectPlanes( null );\r\n\r\n\t};\r\n\r\n\tthis.endShadows = function () {\r\n\r\n\t\trenderingShadows = false;\r\n\t\tresetGlobalState();\r\n\r\n\t};\r\n\r\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\r\n\r\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\r\n\r\n\t\t\t// there's no local clipping\r\n\r\n\t\t\tif ( renderingShadows ) {\r\n\r\n\t\t\t\t// there's no global clipping\r\n\r\n\t\t\t\tprojectPlanes( null );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresetGlobalState();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\r\n\t\t\t\tlGlobal = nGlobal * 4,\r\n\r\n\t\t\t\tdstArray = cache.clippingState || null;\r\n\r\n\t\t\tuniform.value = dstArray; // ensure unique state\r\n\r\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\r\n\r\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\r\n\r\n\t\t\t\tdstArray[ i ] = globalState[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcache.clippingState = dstArray;\r\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\r\n\t\t\tthis.numPlanes += nGlobal;\r\n\r\n\t\t}\r\n\r\n\r\n\t};\r\n\r\n\tfunction resetGlobalState() {\r\n\r\n\t\tif ( uniform.value !== globalState ) {\r\n\r\n\t\t\tuniform.value = globalState;\r\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = numGlobalPlanes;\r\n\t\tscope.numIntersection = 0;\r\n\r\n\t}\r\n\r\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\r\n\r\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\r\n\t\t\tdstArray = null;\r\n\r\n\t\tif ( nPlanes !== 0 ) {\r\n\r\n\t\t\tdstArray = uniform.value;\r\n\r\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\r\n\r\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\r\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\r\n\r\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\r\n\r\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\r\n\r\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\r\n\r\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\r\n\r\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\r\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniform.value = dstArray;\r\n\t\t\tuniform.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = nPlanes;\r\n\t\tscope.numIntersection = 0;\r\n\r\n\t\treturn dstArray;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLExtensions( gl ) {\r\n\r\n\tvar extensions = {};\r\n\r\n\treturn {\r\n\r\n\t\tget: function ( name ) {\r\n\r\n\t\t\tif ( extensions[ name ] !== undefined ) {\r\n\r\n\t\t\t\treturn extensions[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar extension;\r\n\r\n\t\t\tswitch ( name ) {\r\n\r\n\t\t\t\tcase 'WEBGL_depth_texture':\r\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\r\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\r\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\r\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\textension = gl.getExtension( name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\textensions[ name ] = extension;\r\n\r\n\t\t\treturn extension;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLGeometries( gl, attributes, info ) {\r\n\r\n\tvar geometries = new WeakMap();\r\n\tvar wireframeAttributes = new WeakMap();\r\n\r\n\tfunction onGeometryDispose( event ) {\r\n\r\n\t\tvar geometry = event.target;\r\n\t\tvar buffergeometry = geometries.get( geometry );\r\n\r\n\t\tif ( buffergeometry.index !== null ) {\r\n\r\n\t\t\tattributes.remove( buffergeometry.index );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var name in buffergeometry.attributes ) {\r\n\r\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tgeometries.delete( geometry );\r\n\r\n\t\tvar attribute = wireframeAttributes.get( buffergeometry );\r\n\r\n\t\tif ( attribute ) {\r\n\r\n\t\t\tattributes.remove( attribute );\r\n\t\t\twireframeAttributes.delete( buffergeometry );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tinfo.memory.geometries --;\r\n\r\n\t}\r\n\r\n\tfunction get( object, geometry ) {\r\n\r\n\t\tvar buffergeometry = geometries.get( geometry );\r\n\r\n\t\tif ( buffergeometry ) return buffergeometry;\r\n\r\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tbuffergeometry = geometry;\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\r\n\r\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbuffergeometry = geometry._bufferGeometry;\r\n\r\n\t\t}\r\n\r\n\t\tgeometries.set( geometry, buffergeometry );\r\n\r\n\t\tinfo.memory.geometries ++;\r\n\r\n\t\treturn buffergeometry;\r\n\r\n\t}\r\n\r\n\tfunction update( geometry ) {\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar geometryAttributes = geometry.attributes;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tattributes.update( index, 34963 );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var name in geometryAttributes ) {\r\n\r\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\r\n\r\n\t\t}\r\n\r\n\t\t// morph targets\r\n\r\n\t\tvar morphAttributes = geometry.morphAttributes;\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar array = morphAttributes[ name ];\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tattributes.update( array[ i ], 34962 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateWireframeAttribute( geometry ) {\r\n\r\n\t\tvar indices = [];\r\n\r\n\t\tvar geometryIndex = geometry.index;\r\n\t\tvar geometryPosition = geometry.attributes.position;\r\n\t\tvar version = 0;\r\n\r\n\t\tif ( geometryIndex !== null ) {\r\n\r\n\t\t\tvar array = geometryIndex.array;\r\n\t\t\tversion = geometryIndex.version;\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\t\tvar a = array[ i + 0 ];\r\n\t\t\t\tvar b = array[ i + 1 ];\r\n\t\t\t\tvar c = array[ i + 2 ];\r\n\r\n\t\t\t\tindices.push( a, b, b, c, c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar array = geometryPosition.array;\r\n\t\t\tversion = geometryPosition.version;\r\n\r\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\r\n\r\n\t\t\t\tvar a = i + 0;\r\n\t\t\t\tvar b = i + 1;\r\n\t\t\t\tvar c = i + 2;\r\n\r\n\t\t\t\tindices.push( a, b, b, c, c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\r\n\t\tattribute.version = version;\r\n\r\n\t\tattributes.update( attribute, 34963 );\r\n\r\n\t\t//\r\n\r\n\t\tvar previousAttribute = wireframeAttributes.get( geometry );\r\n\r\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\r\n\r\n\t\t//\r\n\r\n\t\twireframeAttributes.set( geometry, attribute );\r\n\r\n\t}\r\n\r\n\tfunction getWireframeAttribute( geometry ) {\r\n\r\n\t\tvar currentAttribute = wireframeAttributes.get( geometry );\r\n\r\n\t\tif ( currentAttribute ) {\r\n\r\n\t\t\tvar geometryIndex = geometry.index;\r\n\r\n\t\t\tif ( geometryIndex !== null ) {\r\n\r\n\t\t\t\t// if the attribute is obsolete, create a new one\r\n\r\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\r\n\r\n\t\t\t\t\tupdateWireframeAttribute( geometry );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tupdateWireframeAttribute( geometry );\r\n\r\n\t\t}\r\n\r\n\t\treturn wireframeAttributes.get( geometry );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tget: get,\r\n\t\tupdate: update,\r\n\r\n\t\tgetWireframeAttribute: getWireframeAttribute\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tvar mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tvar type, bytesPerElement;\r\n\r\n\tfunction setIndex( value ) {\r\n\r\n\t\ttype = value.type;\r\n\t\tbytesPerElement = value.bytesPerElement;\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\r\n\r\n\t\tinfo.update( count, mode );\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( geometry, start, count, primcount ) {\r\n\r\n\t\tif ( primcount === 0 ) return;\r\n\r\n\t\tvar extension, methodName;\r\n\r\n\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\textension = gl;\r\n\t\t\tmethodName = 'drawElementsInstanced';\r\n\r\n\t\t} else {\r\n\r\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\r\n\r\n\t\tinfo.update( count, mode, primcount );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.setIndex = setIndex;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n}\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nfunction WebGLInfo( gl ) {\r\n\r\n\tvar memory = {\r\n\t\tgeometries: 0,\r\n\t\ttextures: 0\r\n\t};\r\n\r\n\tvar render = {\r\n\t\tframe: 0,\r\n\t\tcalls: 0,\r\n\t\ttriangles: 0,\r\n\t\tpoints: 0,\r\n\t\tlines: 0\r\n\t};\r\n\r\n\tfunction update( count, mode, instanceCount ) {\r\n\r\n\t\tinstanceCount = instanceCount || 1;\r\n\r\n\t\trender.calls ++;\r\n\r\n\t\tswitch ( mode ) {\r\n\r\n\t\t\tcase 4:\r\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\trender.lines += instanceCount * count;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\trender.points += instanceCount * count;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction reset() {\r\n\r\n\t\trender.frame ++;\r\n\t\trender.calls = 0;\r\n\t\trender.triangles = 0;\r\n\t\trender.points = 0;\r\n\t\trender.lines = 0;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tmemory: memory,\r\n\t\trender: render,\r\n\t\tprograms: null,\r\n\t\tautoReset: true,\r\n\t\treset: reset,\r\n\t\tupdate: update\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction absNumericalSort( a, b ) {\r\n\r\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\r\n\r\n}\r\n\r\nfunction WebGLMorphtargets( gl ) {\r\n\r\n\tvar influencesList = {};\r\n\tvar morphInfluences = new Float32Array( 8 );\r\n\r\n\tfunction update( object, geometry, material, program ) {\r\n\r\n\t\tvar objectInfluences = object.morphTargetInfluences;\r\n\r\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\r\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\r\n\r\n\t\tvar length = objectInfluences === undefined ? 0 : objectInfluences.length;\r\n\r\n\t\tvar influences = influencesList[ geometry.id ];\r\n\r\n\t\tif ( influences === undefined ) {\r\n\r\n\t\t\t// initialise list\r\n\r\n\t\t\tinfluences = [];\r\n\r\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tinfluencesList[ geometry.id ] = influences;\r\n\r\n\t\t}\r\n\r\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\r\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\r\n\r\n\t\t// Remove current morphAttributes\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar influence = influences[ i ];\r\n\r\n\t\t\tif ( influence[ 1 ] !== 0 ) {\r\n\r\n\t\t\t\tif ( morphTargets ) geometry.deleteAttribute( 'morphTarget' + i );\r\n\t\t\t\tif ( morphNormals ) geometry.deleteAttribute( 'morphNormal' + i );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Collect influences\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar influence = influences[ i ];\r\n\r\n\t\t\tinfluence[ 0 ] = i;\r\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\r\n\r\n\t\t}\r\n\r\n\t\tinfluences.sort( absNumericalSort );\r\n\r\n\t\t// Add morphAttributes\r\n\r\n\t\tvar morphInfluencesSum = 0;\r\n\r\n\t\tfor ( var i = 0; i < 8; i ++ ) {\r\n\r\n\t\t\tvar influence = influences[ i ];\r\n\r\n\t\t\tif ( influence ) {\r\n\r\n\t\t\t\tvar index = influence[ 0 ];\r\n\t\t\t\tvar value = influence[ 1 ];\r\n\r\n\t\t\t\tif ( value ) {\r\n\r\n\t\t\t\t\tif ( morphTargets ) geometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\r\n\t\t\t\t\tif ( morphNormals ) geometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\r\n\r\n\t\t\t\t\tmorphInfluences[ i ] = value;\r\n\t\t\t\t\tmorphInfluencesSum += value;\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmorphInfluences[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\r\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\r\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\r\n\t\tvar morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\r\n\r\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\r\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tupdate: update\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLObjects( gl, geometries, attributes, info ) {\r\n\r\n\tvar updateMap = new WeakMap();\r\n\r\n\tfunction update( object ) {\r\n\r\n\t\tvar frame = info.render.frame;\r\n\r\n\t\tvar geometry = object.geometry;\r\n\t\tvar buffergeometry = geometries.get( object, geometry );\r\n\r\n\t\t// Update once per frame\r\n\r\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\r\n\r\n\t\t\tif ( geometry.isGeometry ) {\r\n\r\n\t\t\t\tbuffergeometry.updateFromObject( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometries.update( buffergeometry );\r\n\r\n\t\t\tupdateMap.set( buffergeometry, frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh ) {\r\n\r\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\r\n\r\n\t\t}\r\n\r\n\t\treturn buffergeometry;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tupdateMap = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tupdate: update,\r\n\t\tdispose: dispose\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\r\n\r\n\timages = images !== undefined ? images : [];\r\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\r\n\tformat = format !== undefined ? format : RGBFormat;\r\n\r\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.flipY = false;\r\n\r\n}\r\n\r\nCubeTexture.prototype = Object.create( Texture.prototype );\r\nCubeTexture.prototype.constructor = CubeTexture;\r\n\r\nCubeTexture.prototype.isCubeTexture = true;\r\n\r\nObject.defineProperty( CubeTexture.prototype, 'images', {\r\n\r\n\tget: function () {\r\n\r\n\t\treturn this.image;\r\n\r\n\t},\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tthis.image = value;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author Takahiro https://github.com/takahirox\r\n */\r\n\r\nfunction DataTexture2DArray( data, width, height, depth ) {\r\n\r\n\tTexture.call( this, null );\r\n\r\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\r\n\r\n\tthis.magFilter = NearestFilter;\r\n\tthis.minFilter = NearestFilter;\r\n\r\n\tthis.wrapR = ClampToEdgeWrapping;\r\n\r\n\tthis.generateMipmaps = false;\r\n\tthis.flipY = false;\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\r\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\r\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\r\n\r\n/**\r\n * @author Artur Trzesiok\r\n */\r\n\r\nfunction DataTexture3D( data, width, height, depth ) {\r\n\r\n\t// We're going to add .setXXX() methods for setting properties later.\r\n\t// Users can still set in DataTexture3D directly.\r\n\t//\r\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\r\n\t// \ttexture.anisotropy = 16;\r\n\t//\r\n\t// See #14839\r\n\r\n\tTexture.call( this, null );\r\n\r\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\r\n\r\n\tthis.magFilter = NearestFilter;\r\n\tthis.minFilter = NearestFilter;\r\n\r\n\tthis.wrapR = ClampToEdgeWrapping;\r\n\r\n\tthis.generateMipmaps = false;\r\n\tthis.flipY = false;\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n\r\n}\r\n\r\nDataTexture3D.prototype = Object.create( Texture.prototype );\r\nDataTexture3D.prototype.constructor = DataTexture3D;\r\nDataTexture3D.prototype.isDataTexture3D = true;\r\n\r\n/**\r\n * @author tschw\r\n * @author Mugen87 / https://github.com/Mugen87\r\n * @author mrdoob / http://mrdoob.com/\r\n *\r\n * Uniforms of a program.\r\n * Those form a tree structure with a special top-level container for the root,\r\n * which you get by calling 'new WebGLUniforms( gl, program )'.\r\n *\r\n *\r\n * Properties of inner nodes including the top-level container:\r\n *\r\n * .seq - array of nested uniforms\r\n * .map - nested uniforms by name\r\n *\r\n *\r\n * Methods of all nodes except the top-level container:\r\n *\r\n * .setValue( gl, value, [textures] )\r\n *\r\n * \t\tuploads a uniform value(s)\r\n *  \tthe 'textures' parameter is needed for sampler uniforms\r\n *\r\n *\r\n * Static methods of the top-level container (textures factorizations):\r\n *\r\n * .upload( gl, seq, values, textures )\r\n *\r\n * \t\tsets uniforms in 'seq' to 'values[id].value'\r\n *\r\n * .seqWithValue( seq, values ) : filteredSeq\r\n *\r\n * \t\tfilters 'seq' entries with corresponding entry in values\r\n *\r\n *\r\n * Methods of the top-level container (textures factorizations):\r\n *\r\n * .setValue( gl, name, value, textures )\r\n *\r\n * \t\tsets uniform with  name 'name' to 'value'\r\n *\r\n * .setOptional( gl, obj, prop )\r\n *\r\n * \t\tlike .set for an optional property of the object\r\n *\r\n */\r\n\r\nvar emptyTexture = new Texture();\r\nvar emptyTexture2dArray = new DataTexture2DArray();\r\nvar emptyTexture3d = new DataTexture3D();\r\nvar emptyCubeTexture = new CubeTexture();\r\n\r\n// --- Utilities ---\r\n\r\n// Array Caches (provide typed arrays for temporary by size)\r\n\r\nvar arrayCacheF32 = [];\r\nvar arrayCacheI32 = [];\r\n\r\n// Float32Array caches used for uploading Matrix uniforms\r\n\r\nvar mat4array = new Float32Array( 16 );\r\nvar mat3array = new Float32Array( 9 );\r\nvar mat2array = new Float32Array( 4 );\r\n\r\n// Flattening for arrays of vectors and matrices\r\n\r\nfunction flatten( array, nBlocks, blockSize ) {\r\n\r\n\tvar firstElem = array[ 0 ];\r\n\r\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\r\n\t// unoptimized: ! isNaN( firstElem )\r\n\t// see http://jacksondunstan.com/articles/983\r\n\r\n\tvar n = nBlocks * blockSize,\r\n\t\tr = arrayCacheF32[ n ];\r\n\r\n\tif ( r === undefined ) {\r\n\r\n\t\tr = new Float32Array( n );\r\n\t\tarrayCacheF32[ n ] = r;\r\n\r\n\t}\r\n\r\n\tif ( nBlocks !== 0 ) {\r\n\r\n\t\tfirstElem.toArray( r, 0 );\r\n\r\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\r\n\r\n\t\t\toffset += blockSize;\r\n\t\t\tarray[ i ].toArray( r, offset );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn r;\r\n\r\n}\r\n\r\nfunction arraysEqual( a, b ) {\r\n\r\n\tif ( a.length !== b.length ) return false;\r\n\r\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\r\n\r\n\t\tif ( a[ i ] !== b[ i ] ) return false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nfunction copyArray( a, b ) {\r\n\r\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\r\n\r\n\t\ta[ i ] = b[ i ];\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Texture unit allocation\r\n\r\nfunction allocTexUnits( textures, n ) {\r\n\r\n\tvar r = arrayCacheI32[ n ];\r\n\r\n\tif ( r === undefined ) {\r\n\r\n\t\tr = new Int32Array( n );\r\n\t\tarrayCacheI32[ n ] = r;\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i !== n; ++ i )\r\n\t\tr[ i ] = textures.allocateTextureUnit();\r\n\r\n\treturn r;\r\n\r\n}\r\n\r\n// --- Setters ---\r\n\r\n// Note: Defining these methods externally, because they come in a bunch\r\n// and this way their names minify.\r\n\r\n// Single scalar\r\n\r\nfunction setValueV1f( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1f( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\n// Single float vector (from flat array or THREE.VectorN)\r\n\r\nfunction setValueV2f( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\r\n\r\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform2fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueV3f( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\r\n\r\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\t\t\tcache[ 2 ] = v.z;\r\n\r\n\t\t}\r\n\r\n\t} else if ( v.r !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\r\n\r\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\r\n\r\n\t\t\tcache[ 0 ] = v.r;\r\n\t\t\tcache[ 1 ] = v.g;\r\n\t\t\tcache[ 2 ] = v.b;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform3fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueV4f( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\r\n\r\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\t\t\tcache[ 2 ] = v.z;\r\n\t\t\tcache[ 3 ] = v.w;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform4fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Single matrix (from flat array or MatrixN)\r\n\r\nfunction setValueM2( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat2array.set( elements );\r\n\r\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueM3( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat3array.set( elements );\r\n\r\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueM4( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat4array.set( elements );\r\n\r\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Single texture (2D / Cube)\r\n\r\nfunction setValueT1( gl, v, textures ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\r\n\r\n}\r\n\r\nfunction setValueT2DArray1( gl, v, textures ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\r\n\r\n}\r\n\r\nfunction setValueT3D1( gl, v, textures ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\r\n\r\n}\r\n\r\nfunction setValueT6( gl, v, textures ) {\r\n\r\n\tvar cache = this.cache;\r\n\tvar unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\r\n\r\n}\r\n\r\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\r\n\r\nfunction setValueV1i( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1i( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\nfunction setValueV2i( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform2iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV3i( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform3iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV4i( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform4iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\n// uint\r\n\r\nfunction setValueV1ui( gl, v ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1ui( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\n// Helper to pick the right setter for the singular case\r\n\r\nfunction getSingularSetter( type ) {\r\n\r\n\tswitch ( type ) {\r\n\r\n\t\tcase 0x1406: return setValueV1f; // FLOAT\r\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\r\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\r\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\r\n\r\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\r\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\r\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\r\n\r\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\r\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\r\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\r\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\r\n\r\n\t\tcase 0x1405: return setValueV1ui; // UINT\r\n\r\n\t\tcase 0x8b5e: // SAMPLER_2D\r\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\r\n\t\tcase 0x8dca: // INT_SAMPLER_2D\r\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\r\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\r\n\t\t\treturn setValueT1;\r\n\r\n\t\tcase 0x8b5f: // SAMPLER_3D\r\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\r\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\r\n\t\t\treturn setValueT3D1;\r\n\r\n\t\tcase 0x8b60: // SAMPLER_CUBE\r\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\r\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\r\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\r\n\t\t\treturn setValueT6;\r\n\r\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\r\n\t\t\treturn setValueT2DArray1;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Array of scalars\r\nfunction setValueV1fArray( gl, v ) {\r\n\r\n\tgl.uniform1fv( this.addr, v );\r\n\r\n}\r\n\r\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\r\nfunction setValueV1iArray( gl, v ) {\r\n\r\n\tgl.uniform1iv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV2iArray( gl, v ) {\r\n\r\n\tgl.uniform2iv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV3iArray( gl, v ) {\r\n\r\n\tgl.uniform3iv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV4iArray( gl, v ) {\r\n\r\n\tgl.uniform4iv( this.addr, v );\r\n\r\n}\r\n\r\n\r\n// Array of vectors (flat or from THREE classes)\r\n\r\nfunction setValueV2fArray( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 2 );\r\n\r\n\tgl.uniform2fv( this.addr, data );\r\n\r\n}\r\n\r\nfunction setValueV3fArray( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 3 );\r\n\r\n\tgl.uniform3fv( this.addr, data );\r\n\r\n}\r\n\r\nfunction setValueV4fArray( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 4 );\r\n\r\n\tgl.uniform4fv( this.addr, data );\r\n\r\n}\r\n\r\n// Array of matrices (flat or from THREE clases)\r\n\r\nfunction setValueM2Array( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 4 );\r\n\r\n\tgl.uniformMatrix2fv( this.addr, false, data );\r\n\r\n}\r\n\r\nfunction setValueM3Array( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 9 );\r\n\r\n\tgl.uniformMatrix3fv( this.addr, false, data );\r\n\r\n}\r\n\r\nfunction setValueM4Array( gl, v ) {\r\n\r\n\tvar data = flatten( v, this.size, 16 );\r\n\r\n\tgl.uniformMatrix4fv( this.addr, false, data );\r\n\r\n}\r\n\r\n// Array of textures (2D / Cube)\r\n\r\nfunction setValueT1Array( gl, v, textures ) {\r\n\r\n\tvar n = v.length;\r\n\r\n\tvar units = allocTexUnits( textures, n );\r\n\r\n\tgl.uniform1iv( this.addr, units );\r\n\r\n\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueT6Array( gl, v, textures ) {\r\n\r\n\tvar n = v.length;\r\n\r\n\tvar units = allocTexUnits( textures, n );\r\n\r\n\tgl.uniform1iv( this.addr, units );\r\n\r\n\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Helper to pick the right setter for a pure (bottom-level) array\r\n\r\nfunction getPureArraySetter( type ) {\r\n\r\n\tswitch ( type ) {\r\n\r\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\r\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\r\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\r\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\r\n\r\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\r\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\r\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\r\n\r\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\r\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\r\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\r\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\r\n\r\n\t\tcase 0x8b5e: // SAMPLER_2D\r\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\r\n\t\tcase 0x8dca: // INT_SAMPLER_2D\r\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\r\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\r\n\t\t\treturn setValueT1Array;\r\n\r\n\t\tcase 0x8b60: // SAMPLER_CUBE\r\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\r\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\r\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\r\n\t\t\treturn setValueT6Array;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// --- Uniform Classes ---\r\n\r\nfunction SingleUniform( id, activeInfo, addr ) {\r\n\r\n\tthis.id = id;\r\n\tthis.addr = addr;\r\n\tthis.cache = [];\r\n\tthis.setValue = getSingularSetter( activeInfo.type );\r\n\r\n\t// this.path = activeInfo.name; // DEBUG\r\n\r\n}\r\n\r\nfunction PureArrayUniform( id, activeInfo, addr ) {\r\n\r\n\tthis.id = id;\r\n\tthis.addr = addr;\r\n\tthis.cache = [];\r\n\tthis.size = activeInfo.size;\r\n\tthis.setValue = getPureArraySetter( activeInfo.type );\r\n\r\n\t// this.path = activeInfo.name; // DEBUG\r\n\r\n}\r\n\r\nPureArrayUniform.prototype.updateCache = function ( data ) {\r\n\r\n\tvar cache = this.cache;\r\n\r\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\r\n\r\n\t\tthis.cache = new Float32Array( data.length );\r\n\r\n\t}\r\n\r\n\tcopyArray( cache, data );\r\n\r\n};\r\n\r\nfunction StructuredUniform( id ) {\r\n\r\n\tthis.id = id;\r\n\r\n\tthis.seq = [];\r\n\tthis.map = {};\r\n\r\n}\r\n\r\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\r\n\r\n\tvar seq = this.seq;\r\n\r\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tvar u = seq[ i ];\r\n\t\tu.setValue( gl, value[ u.id ], textures );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// --- Top-level ---\r\n\r\n// Parser - builds up the property tree from the path strings\r\n\r\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\r\n\r\n// extracts\r\n// \t- the identifier (member name or array index)\r\n//  - followed by an optional right bracket (found when array index)\r\n//  - followed by an optional left bracket or dot (type of subscript)\r\n//\r\n// Note: These portions can be read in a non-overlapping fashion and\r\n// allow straightforward parsing of the hierarchy that WebGL encodes\r\n// in the uniform names.\r\n\r\nfunction addUniform( container, uniformObject ) {\r\n\r\n\tcontainer.seq.push( uniformObject );\r\n\tcontainer.map[ uniformObject.id ] = uniformObject;\r\n\r\n}\r\n\r\nfunction parseUniform( activeInfo, addr, container ) {\r\n\r\n\tvar path = activeInfo.name,\r\n\t\tpathLength = path.length;\r\n\r\n\t// reset RegExp object, because of the early exit of a previous run\r\n\tRePathPart.lastIndex = 0;\r\n\r\n\twhile ( true ) {\r\n\r\n\t\tvar match = RePathPart.exec( path ),\r\n\t\t\tmatchEnd = RePathPart.lastIndex,\r\n\r\n\t\t\tid = match[ 1 ],\r\n\t\t\tidIsIndex = match[ 2 ] === ']',\r\n\t\t\tsubscript = match[ 3 ];\r\n\r\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\r\n\r\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\r\n\r\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\r\n\r\n\t\t\taddUniform( container, subscript === undefined ?\r\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\r\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// step into inner node / create it in case it doesn't exist\r\n\r\n\t\t\tvar map = container.map, next = map[ id ];\r\n\r\n\t\t\tif ( next === undefined ) {\r\n\r\n\t\t\t\tnext = new StructuredUniform( id );\r\n\t\t\t\taddUniform( container, next );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcontainer = next;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Root Container\r\n\r\nfunction WebGLUniforms( gl, program ) {\r\n\r\n\tthis.seq = [];\r\n\tthis.map = {};\r\n\r\n\tvar n = gl.getProgramParameter( program, 35718 );\r\n\r\n\tfor ( var i = 0; i < n; ++ i ) {\r\n\r\n\t\tvar info = gl.getActiveUniform( program, i ),\r\n\t\t\taddr = gl.getUniformLocation( program, info.name );\r\n\r\n\t\tparseUniform( info, addr, this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\r\n\r\n\tvar u = this.map[ name ];\r\n\r\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\r\n\r\n};\r\n\r\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\r\n\r\n\tvar v = object[ name ];\r\n\r\n\tif ( v !== undefined ) this.setValue( gl, name, v );\r\n\r\n};\r\n\r\n\r\n// Static interface\r\n\r\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\r\n\r\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tvar u = seq[ i ],\r\n\t\t\tv = values[ u.id ];\r\n\r\n\t\tif ( v.needsUpdate !== false ) {\r\n\r\n\t\t\t// note: always updating when .needsUpdate is undefined\r\n\t\t\tu.setValue( gl, v.value, textures );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nWebGLUniforms.seqWithValue = function ( seq, values ) {\r\n\r\n\tvar r = [];\r\n\r\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tvar u = seq[ i ];\r\n\t\tif ( u.id in values ) r.push( u );\r\n\r\n\t}\r\n\r\n\treturn r;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLShader( gl, type, string ) {\r\n\r\n\tvar shader = gl.createShader( type );\r\n\r\n\tgl.shaderSource( shader, string );\r\n\tgl.compileShader( shader );\r\n\r\n\treturn shader;\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar programIdCount = 0;\r\n\r\nfunction addLineNumbers( string ) {\r\n\r\n\tvar lines = string.split( '\\n' );\r\n\r\n\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\r\n\r\n\t}\r\n\r\n\treturn lines.join( '\\n' );\r\n\r\n}\r\n\r\nfunction getEncodingComponents( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear', '( value )' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB', '( value )' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE', '( value )' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\r\n\t\tcase LogLuvEncoding:\r\n\t\t\treturn [ 'LogLuv', '( value )' ];\r\n\t\tdefault:\r\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction getShaderErrors( gl, shader, type ) {\r\n\r\n\tvar status = gl.getShaderParameter( shader, 35713 );\r\n\tvar log = gl.getShaderInfoLog( shader ).trim();\r\n\r\n\tif ( status && log === '' ) return '';\r\n\r\n\t// --enable-privileged-webgl-extension\r\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\r\n\r\n\tvar source = gl.getShaderSource( shader );\r\n\r\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\r\n\r\n}\r\n\r\nfunction getTexelDecodingFunction( functionName, encoding ) {\r\n\r\n\tvar components = getEncodingComponents( encoding );\r\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\r\n\r\n}\r\n\r\nfunction getTexelEncodingFunction( functionName, encoding ) {\r\n\r\n\tvar components = getEncodingComponents( encoding );\r\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\r\n\r\n}\r\n\r\nfunction getToneMappingFunction( functionName, toneMapping ) {\r\n\r\n\tvar toneMappingName;\r\n\r\n\tswitch ( toneMapping ) {\r\n\r\n\t\tcase LinearToneMapping:\r\n\t\t\ttoneMappingName = 'Linear';\r\n\t\t\tbreak;\r\n\r\n\t\tcase ReinhardToneMapping:\r\n\t\t\ttoneMappingName = 'Reinhard';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Uncharted2ToneMapping:\r\n\t\t\ttoneMappingName = 'Uncharted2';\r\n\t\t\tbreak;\r\n\r\n\t\tcase CineonToneMapping:\r\n\t\t\ttoneMappingName = 'OptimizedCineon';\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACESFilmicToneMapping:\r\n\t\t\ttoneMappingName = 'ACESFilmic';\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\r\n\r\n\t}\r\n\r\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\r\n\r\n}\r\n\r\nfunction generateExtensions( parameters ) {\r\n\r\n\tvar chunks = [\r\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\r\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\r\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\r\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\r\n\t];\r\n\r\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\r\n\r\n}\r\n\r\nfunction generateDefines( defines ) {\r\n\r\n\tvar chunks = [];\r\n\r\n\tfor ( var name in defines ) {\r\n\r\n\t\tvar value = defines[ name ];\r\n\r\n\t\tif ( value === false ) continue;\r\n\r\n\t\tchunks.push( '#define ' + name + ' ' + value );\r\n\r\n\t}\r\n\r\n\treturn chunks.join( '\\n' );\r\n\r\n}\r\n\r\nfunction fetchAttributeLocations( gl, program ) {\r\n\r\n\tvar attributes = {};\r\n\r\n\tvar n = gl.getProgramParameter( program, 35721 );\r\n\r\n\tfor ( var i = 0; i < n; i ++ ) {\r\n\r\n\t\tvar info = gl.getActiveAttrib( program, i );\r\n\t\tvar name = info.name;\r\n\r\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\r\n\r\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\r\n\r\n\t}\r\n\r\n\treturn attributes;\r\n\r\n}\r\n\r\nfunction filterEmptyLine( string ) {\r\n\r\n\treturn string !== '';\r\n\r\n}\r\n\r\nfunction replaceLightNums( string, parameters ) {\r\n\r\n\treturn string\r\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\r\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\r\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\r\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\r\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\r\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\r\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\r\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\r\n\r\n}\r\n\r\nfunction replaceClippingPlaneNums( string, parameters ) {\r\n\r\n\treturn string\r\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\r\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\r\n\r\n}\r\n\r\n// Resolve Includes\r\n\r\nvar includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\r\n\r\nfunction resolveIncludes( string ) {\r\n\r\n\treturn string.replace( includePattern, includeReplacer );\r\n\r\n}\r\n\r\nfunction includeReplacer( match, include ) {\r\n\r\n\tvar string = ShaderChunk[ include ];\r\n\r\n\tif ( string === undefined ) {\r\n\r\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\r\n\r\n\t}\r\n\r\n\treturn resolveIncludes( string );\r\n\r\n}\r\n\r\n// Unroll Loops\r\n\r\nvar loopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\r\n\r\nfunction unrollLoops( string ) {\r\n\r\n\treturn string.replace( loopPattern, loopReplacer );\r\n\r\n}\r\n\r\nfunction loopReplacer( match, start, end, snippet ) {\r\n\r\n\tvar string = '';\r\n\r\n\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\r\n\r\n\t\tstring += snippet\r\n\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\r\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\r\n\r\n\t}\r\n\r\n\treturn string;\r\n\r\n}\r\n\r\n//\r\n\r\nfunction generatePrecision( parameters ) {\r\n\r\n\tvar precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\r\n\r\n\tif ( parameters.precision === \"highp\" ) {\r\n\r\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\r\n\r\n\t} else if ( parameters.precision === \"mediump\" ) {\r\n\r\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\r\n\r\n\t} else if ( parameters.precision === \"lowp\" ) {\r\n\r\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\r\n\r\n\t}\r\n\r\n\treturn precisionstring;\r\n\r\n}\r\n\r\nfunction generateShadowMapTypeDefine( parameters ) {\r\n\r\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\r\n\r\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\r\n\r\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\r\n\r\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\r\n\r\n\t}\r\n\r\n\treturn shadowMapTypeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapTypeDefine( parameters ) {\r\n\r\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.envMapMode ) {\r\n\r\n\t\t\tcase CubeReflectionMapping:\r\n\t\t\tcase CubeRefractionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\tcase CubeUVRefractionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase EquirectangularReflectionMapping:\r\n\t\t\tcase EquirectangularRefractionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase SphericalReflectionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapTypeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapModeDefine( parameters ) {\r\n\r\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.envMapMode ) {\r\n\r\n\t\t\tcase CubeRefractionMapping:\r\n\t\t\tcase EquirectangularRefractionMapping:\r\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapModeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapBlendingDefine( parameters ) {\r\n\r\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.combine ) {\r\n\r\n\t\t\tcase MultiplyOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MixOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase AddOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapBlendingDefine;\r\n\r\n}\r\n\r\nfunction WebGLProgram( renderer, cacheKey, parameters ) {\r\n\r\n\tvar gl = renderer.getContext();\r\n\r\n\tvar defines = parameters.defines;\r\n\r\n\tvar vertexShader = parameters.vertexShader;\r\n\tvar fragmentShader = parameters.fragmentShader;\r\n\tvar shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\r\n\tvar envMapTypeDefine = generateEnvMapTypeDefine( parameters );\r\n\tvar envMapModeDefine = generateEnvMapModeDefine( parameters );\r\n\tvar envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\r\n\r\n\r\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\r\n\r\n\tvar customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\r\n\r\n\tvar customDefines = generateDefines( defines );\r\n\r\n\tvar program = gl.createProgram();\r\n\r\n\tvar prefixVertex, prefixFragment;\r\n\r\n\tif ( parameters.isRawShaderMaterial ) {\r\n\r\n\t\tprefixVertex = [\r\n\r\n\t\t\tcustomDefines\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tif ( prefixVertex.length > 0 ) {\r\n\r\n\t\t\tprefixVertex += '\\n';\r\n\r\n\t\t}\r\n\r\n\t\tprefixFragment = [\r\n\r\n\t\t\tcustomExtensions,\r\n\t\t\tcustomDefines\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tif ( prefixFragment.length > 0 ) {\r\n\r\n\t\t\tprefixFragment += '\\n';\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tprefixVertex = [\r\n\r\n\t\t\tgeneratePrecision( parameters ),\r\n\r\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\r\n\r\n\t\t\tcustomDefines,\r\n\r\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\r\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\r\n\r\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\r\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\r\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\r\n\r\n\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\r\n\r\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\r\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\r\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\r\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\r\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\r\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\r\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\r\n\r\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\r\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\r\n\r\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\r\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\r\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\r\n\r\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t'uniform mat4 modelMatrix;',\r\n\t\t\t'uniform mat4 modelViewMatrix;',\r\n\t\t\t'uniform mat4 projectionMatrix;',\r\n\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t'uniform mat3 normalMatrix;',\r\n\t\t\t'uniform vec3 cameraPosition;',\r\n\t\t\t'uniform bool isOrthographic;',\r\n\r\n\t\t\t'#ifdef USE_INSTANCING',\r\n\r\n\t\t\t' attribute mat4 instanceMatrix;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'attribute vec3 position;',\r\n\t\t\t'attribute vec3 normal;',\r\n\t\t\t'attribute vec2 uv;',\r\n\r\n\t\t\t'#ifdef USE_TANGENT',\r\n\r\n\t\t\t'\tattribute vec4 tangent;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_COLOR',\r\n\r\n\t\t\t'\tattribute vec3 color;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_MORPHTARGETS',\r\n\r\n\t\t\t'\tattribute vec3 morphTarget0;',\r\n\t\t\t'\tattribute vec3 morphTarget1;',\r\n\t\t\t'\tattribute vec3 morphTarget2;',\r\n\t\t\t'\tattribute vec3 morphTarget3;',\r\n\r\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\r\n\r\n\t\t\t'\t\tattribute vec3 morphNormal0;',\r\n\t\t\t'\t\tattribute vec3 morphNormal1;',\r\n\t\t\t'\t\tattribute vec3 morphNormal2;',\r\n\t\t\t'\t\tattribute vec3 morphNormal3;',\r\n\r\n\t\t\t'\t#else',\r\n\r\n\t\t\t'\t\tattribute vec3 morphTarget4;',\r\n\t\t\t'\t\tattribute vec3 morphTarget5;',\r\n\t\t\t'\t\tattribute vec3 morphTarget6;',\r\n\t\t\t'\t\tattribute vec3 morphTarget7;',\r\n\r\n\t\t\t'\t#endif',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_SKINNING',\r\n\r\n\t\t\t'\tattribute vec4 skinIndex;',\r\n\t\t\t'\tattribute vec4 skinWeight;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'\\n'\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tprefixFragment = [\r\n\r\n\t\t\tcustomExtensions,\r\n\r\n\t\t\tgeneratePrecision( parameters ),\r\n\r\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\r\n\r\n\t\t\tcustomDefines,\r\n\r\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\r\n\r\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\r\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\r\n\r\n\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\r\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\r\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\r\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\r\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\r\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\r\n\r\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\r\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\r\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\r\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\r\n\r\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\r\n\r\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\r\n\r\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\r\n\r\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\r\n\r\n\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t'uniform vec3 cameraPosition;',\r\n\t\t\t'uniform bool isOrthographic;',\r\n\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\r\n\r\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\r\n\r\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding || parameters.lightMapEncoding ) ?\r\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\r\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\r\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\r\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\r\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\r\n\t\t\tparameters.lightMapEncoding ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\r\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\r\n\r\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\r\n\r\n\t\t\t'\\n'\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t}\r\n\r\n\tvertexShader = resolveIncludes( vertexShader );\r\n\tvertexShader = replaceLightNums( vertexShader, parameters );\r\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\r\n\r\n\tfragmentShader = resolveIncludes( fragmentShader );\r\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\r\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\r\n\r\n\tvertexShader = unrollLoops( vertexShader );\r\n\tfragmentShader = unrollLoops( fragmentShader );\r\n\r\n\tif ( parameters.isWebGL2 && ! parameters.isRawShaderMaterial ) {\r\n\r\n\t\tvar isGLSL3ShaderMaterial = false;\r\n\r\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\r\n\r\n\t\tif ( parameters.isShaderMaterial &&\r\n\t\t\tvertexShader.match( versionRegex ) !== null &&\r\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\r\n\r\n\t\t\tisGLSL3ShaderMaterial = true;\r\n\r\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\r\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\r\n\r\n\t\t}\r\n\r\n\t\t// GLSL 3.0 conversion\r\n\r\n\t\tprefixVertex = [\r\n\t\t\t'#version 300 es\\n',\r\n\t\t\t'#define attribute in',\r\n\t\t\t'#define varying out',\r\n\t\t\t'#define texture2D texture'\r\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\r\n\r\n\t\tprefixFragment = [\r\n\t\t\t'#version 300 es\\n',\r\n\t\t\t'#define varying in',\r\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\r\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\r\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\r\n\t\t\t'#define texture2D texture',\r\n\t\t\t'#define textureCube texture',\r\n\t\t\t'#define texture2DProj textureProj',\r\n\t\t\t'#define texture2DLodEXT textureLod',\r\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\r\n\t\t\t'#define textureCubeLodEXT textureLod',\r\n\t\t\t'#define texture2DGradEXT textureGrad',\r\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\r\n\t\t\t'#define textureCubeGradEXT textureGrad'\r\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\r\n\r\n\t}\r\n\r\n\tvar vertexGlsl = prefixVertex + vertexShader;\r\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\r\n\r\n\t// console.log( '*VERTEX*', vertexGlsl );\r\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\r\n\r\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\r\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\r\n\r\n\tgl.attachShader( program, glVertexShader );\r\n\tgl.attachShader( program, glFragmentShader );\r\n\r\n\t// Force a particular attribute to index 0.\r\n\r\n\tif ( parameters.index0AttributeName !== undefined ) {\r\n\r\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\r\n\r\n\t} else if ( parameters.morphTargets === true ) {\r\n\r\n\t\t// programs with morphTargets displace position out of attribute 0\r\n\t\tgl.bindAttribLocation( program, 0, 'position' );\r\n\r\n\t}\r\n\r\n\tgl.linkProgram( program );\r\n\r\n\t// check for link errors\r\n\tif ( renderer.debug.checkShaderErrors ) {\r\n\r\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\r\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\r\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\r\n\r\n\t\tvar runnable = true;\r\n\t\tvar haveDiagnostics = true;\r\n\r\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\r\n\r\n\t\t\trunnable = false;\r\n\r\n\t\t\tvar vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\r\n\t\t\tvar fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\r\n\r\n\t\t} else if ( programLog !== '' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\r\n\r\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\r\n\r\n\t\t\thaveDiagnostics = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( haveDiagnostics ) {\r\n\r\n\t\t\tthis.diagnostics = {\r\n\r\n\t\t\t\trunnable: runnable,\r\n\r\n\t\t\t\tprogramLog: programLog,\r\n\r\n\t\t\t\tvertexShader: {\r\n\r\n\t\t\t\t\tlog: vertexLog,\r\n\t\t\t\t\tprefix: prefixVertex\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tfragmentShader: {\r\n\r\n\t\t\t\t\tlog: fragmentLog,\r\n\t\t\t\t\tprefix: prefixFragment\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// clean up\r\n\r\n\tgl.detachShader( program, glVertexShader );\r\n\tgl.detachShader( program, glFragmentShader );\r\n\r\n\tgl.deleteShader( glVertexShader );\r\n\tgl.deleteShader( glFragmentShader );\r\n\r\n\t// set up caching for uniform locations\r\n\r\n\tvar cachedUniforms;\r\n\r\n\tthis.getUniforms = function () {\r\n\r\n\t\tif ( cachedUniforms === undefined ) {\r\n\r\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\r\n\r\n\t\t}\r\n\r\n\t\treturn cachedUniforms;\r\n\r\n\t};\r\n\r\n\t// set up caching for attribute locations\r\n\r\n\tvar cachedAttributes;\r\n\r\n\tthis.getAttributes = function () {\r\n\r\n\t\tif ( cachedAttributes === undefined ) {\r\n\r\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\r\n\r\n\t\t}\r\n\r\n\t\treturn cachedAttributes;\r\n\r\n\t};\r\n\r\n\t// free resource\r\n\r\n\tthis.destroy = function () {\r\n\r\n\t\tgl.deleteProgram( program );\r\n\t\tthis.program = undefined;\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.name = parameters.shaderName;\r\n\tthis.id = programIdCount ++;\r\n\tthis.cacheKey = cacheKey;\r\n\tthis.usedTimes = 1;\r\n\tthis.program = program;\r\n\tthis.vertexShader = glVertexShader;\r\n\tthis.fragmentShader = glFragmentShader;\r\n\r\n\treturn this;\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\r\n\r\n\tvar programs = [];\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\tvar logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\r\n\tvar floatVertexTextures = capabilities.floatVertexTextures;\r\n\tvar precision = capabilities.precision;\r\n\tvar maxVertexUniforms = capabilities.maxVertexUniforms;\r\n\tvar vertexTextures = capabilities.vertexTextures;\r\n\r\n\tvar shaderIDs = {\r\n\t\tMeshDepthMaterial: 'depth',\r\n\t\tMeshDistanceMaterial: 'distanceRGBA',\r\n\t\tMeshNormalMaterial: 'normal',\r\n\t\tMeshBasicMaterial: 'basic',\r\n\t\tMeshLambertMaterial: 'lambert',\r\n\t\tMeshPhongMaterial: 'phong',\r\n\t\tMeshToonMaterial: 'toon',\r\n\t\tMeshStandardMaterial: 'physical',\r\n\t\tMeshPhysicalMaterial: 'physical',\r\n\t\tMeshMatcapMaterial: 'matcap',\r\n\t\tLineBasicMaterial: 'basic',\r\n\t\tLineDashedMaterial: 'dashed',\r\n\t\tPointsMaterial: 'points',\r\n\t\tShadowMaterial: 'shadow',\r\n\t\tSpriteMaterial: 'sprite'\r\n\t};\r\n\r\n\tvar parameterNames = [\r\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\",\r\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\r\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\r\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\r\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\r\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\r\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\r\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\r\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\r\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\r\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\r\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\r\n\t\t\"sheen\"\r\n\t];\r\n\r\n\tfunction getShaderObject( material, shaderID ) {\r\n\r\n\t\tvar shaderobject;\r\n\r\n\t\tif ( shaderID ) {\r\n\r\n\t\t\tvar shader = ShaderLib[ shaderID ];\r\n\r\n\t\t\tshaderobject = {\r\n\t\t\t\tname: material.type,\r\n\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\r\n\t\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\t\tfragmentShader: shader.fragmentShader\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tshaderobject = {\r\n\t\t\t\tname: material.type,\r\n\t\t\t\tuniforms: material.uniforms,\r\n\t\t\t\tvertexShader: material.vertexShader,\r\n\t\t\t\tfragmentShader: material.fragmentShader\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\treturn shaderobject;\r\n\r\n\t}\r\n\r\n\tfunction allocateBones( object ) {\r\n\r\n\t\tvar skeleton = object.skeleton;\r\n\t\tvar bones = skeleton.bones;\r\n\r\n\t\tif ( floatVertexTextures ) {\r\n\r\n\t\t\treturn 1024;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// default for when object is not specified\r\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\r\n\t\t\t//\r\n\t\t\t//  - leave some extra space for other uniforms\r\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\r\n\t\t\t//    (up to 54 should be safe)\r\n\r\n\t\t\tvar nVertexUniforms = maxVertexUniforms;\r\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\r\n\r\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\r\n\r\n\t\t\tif ( maxBones < bones.length ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn maxBones;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getTextureEncodingFromMap( map ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t} else if ( map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n\tthis.getParameters = function ( material, lights, shadows, scene, nClipPlanes, nClipIntersection, object ) {\r\n\r\n\t\tvar fog = scene.fog;\r\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\r\n\t\tvar envMap = material.envMap || environment;\r\n\r\n\t\tvar shaderID = shaderIDs[ material.type ];\r\n\r\n\t\t// heuristics to create shader parameters according to lights in the scene\r\n\t\t// (not to blow over maxLights budget)\r\n\r\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\r\n\r\n\t\tif ( material.precision !== null ) {\r\n\r\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\r\n\r\n\t\t\tif ( precision !== material.precision ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar shaderobject = getShaderObject( material, shaderID );\r\n\t\tmaterial.onBeforeCompile( shaderobject, renderer );\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tvar parameters = {\r\n\r\n\t\t\tisWebGL2: isWebGL2,\r\n\r\n\t\t\tshaderID: shaderID,\r\n\t\t\tshaderName: shaderobject.name,\r\n\r\n\t\t\tuniforms: shaderobject.uniforms,\r\n\t\t\tvertexShader: shaderobject.vertexShader,\r\n\t\t\tfragmentShader: shaderobject.fragmentShader,\r\n\t\t\tdefines: material.defines,\r\n\r\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial,\r\n\t\t\tisShaderMaterial: material.isShaderMaterial,\r\n\r\n\t\t\tprecision: precision,\r\n\r\n\t\t\tinstancing: object.isInstancedMesh === true,\r\n\r\n\t\t\tsupportsVertexTextures: vertexTextures,\r\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\r\n\t\t\tmap: !! material.map,\r\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\r\n\t\t\tmatcap: !! material.matcap,\r\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\r\n\t\t\tenvMap: !! envMap,\r\n\t\t\tenvMapMode: envMap && envMap.mapping,\r\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\r\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\r\n\t\t\tlightMap: !! material.lightMap,\r\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\r\n\t\t\taoMap: !! material.aoMap,\r\n\t\t\temissiveMap: !! material.emissiveMap,\r\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\r\n\t\t\tbumpMap: !! material.bumpMap,\r\n\t\t\tnormalMap: !! material.normalMap,\r\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\r\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\r\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\r\n\t\t\tdisplacementMap: !! material.displacementMap,\r\n\t\t\troughnessMap: !! material.roughnessMap,\r\n\t\t\tmetalnessMap: !! material.metalnessMap,\r\n\t\t\tspecularMap: !! material.specularMap,\r\n\t\t\talphaMap: !! material.alphaMap,\r\n\r\n\t\t\tgradientMap: !! material.gradientMap,\r\n\r\n\t\t\tsheen: !! material.sheen,\r\n\r\n\t\t\tcombine: material.combine,\r\n\r\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\r\n\t\t\tvertexColors: material.vertexColors,\r\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.displacementMap,\r\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap ) && !! material.displacementMap,\r\n\r\n\t\t\tfog: !! fog,\r\n\t\t\tuseFog: material.fog,\r\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\r\n\r\n\t\t\tflatShading: material.flatShading,\r\n\r\n\t\t\tsizeAttenuation: material.sizeAttenuation,\r\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\r\n\r\n\t\t\tskinning: material.skinning && maxBones > 0,\r\n\t\t\tmaxBones: maxBones,\r\n\t\t\tuseVertexTexture: floatVertexTextures,\r\n\r\n\t\t\tmorphTargets: material.morphTargets,\r\n\t\t\tmorphNormals: material.morphNormals,\r\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\r\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\r\n\r\n\t\t\tnumDirLights: lights.directional.length,\r\n\t\t\tnumPointLights: lights.point.length,\r\n\t\t\tnumSpotLights: lights.spot.length,\r\n\t\t\tnumRectAreaLights: lights.rectArea.length,\r\n\t\t\tnumHemiLights: lights.hemi.length,\r\n\r\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\r\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\r\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\r\n\r\n\t\t\tnumClippingPlanes: nClipPlanes,\r\n\t\t\tnumClipIntersection: nClipIntersection,\r\n\r\n\t\t\tdithering: material.dithering,\r\n\r\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\r\n\t\t\tshadowMapType: renderer.shadowMap.type,\r\n\r\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\r\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\r\n\r\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\r\n\r\n\t\t\talphaTest: material.alphaTest,\r\n\t\t\tdoubleSided: material.side === DoubleSide,\r\n\t\t\tflipSided: material.side === BackSide,\r\n\r\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\r\n\r\n\t\t\tindex0AttributeName: material.index0AttributeName,\r\n\r\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\r\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\r\n\t\t\textensionDrawbuffers: material.extensions && material.extensions.drawBuffers,\r\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\r\n\r\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.get( 'EXT_frag_depth' ) !== null,\r\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.get( 'WEBGL_draw_buffers' ) !== null,\r\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) !== null,\r\n\r\n\t\t\tonBeforeCompile: material.onBeforeCompile\r\n\r\n\t\t};\r\n\r\n\t\treturn parameters;\r\n\r\n\t};\r\n\r\n\tthis.getProgramCacheKey = function ( parameters ) {\r\n\r\n\t\tvar array = [];\r\n\r\n\t\tif ( parameters.shaderID ) {\r\n\r\n\t\t\tarray.push( parameters.shaderID );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tarray.push( parameters.fragmentShader );\r\n\t\t\tarray.push( parameters.vertexShader );\r\n\r\n\t\t}\r\n\r\n\t\tif ( parameters.defines !== undefined ) {\r\n\r\n\t\t\tfor ( var name in parameters.defines ) {\r\n\r\n\t\t\t\tarray.push( name );\r\n\t\t\t\tarray.push( parameters.defines[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( parameters.isRawShaderMaterial === undefined ) {\r\n\r\n\t\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\r\n\r\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray.push( renderer.outputEncoding );\r\n\t\t\tarray.push( renderer.gammaFactor );\r\n\r\n\t\t}\r\n\r\n\t\tarray.push( parameters.onBeforeCompile.toString() );\r\n\r\n\t\treturn array.join();\r\n\r\n\t};\r\n\r\n\tthis.acquireProgram = function ( parameters, cacheKey ) {\r\n\r\n\t\tvar program;\r\n\r\n\t\t// Check if code has been already compiled\r\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\r\n\r\n\t\t\tvar preexistingProgram = programs[ p ];\r\n\r\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\r\n\r\n\t\t\t\tprogram = preexistingProgram;\r\n\t\t\t\t++ program.usedTimes;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters );\r\n\t\t\tprograms.push( program );\r\n\r\n\t\t}\r\n\r\n\t\treturn program;\r\n\r\n\t};\r\n\r\n\tthis.releaseProgram = function ( program ) {\r\n\r\n\t\tif ( -- program.usedTimes === 0 ) {\r\n\r\n\t\t\t// Remove from unordered set\r\n\t\t\tvar i = programs.indexOf( program );\r\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\r\n\t\t\tprograms.pop();\r\n\r\n\t\t\t// Free WebGL resources\r\n\t\t\tprogram.destroy();\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// Exposed for resource monitoring & error feedback via renderer.info:\r\n\tthis.programs = programs;\r\n\r\n}\r\n\r\n/**\r\n * @author fordacious / fordacious.github.io\r\n */\r\n\r\nfunction WebGLProperties() {\r\n\r\n\tvar properties = new WeakMap();\r\n\r\n\tfunction get( object ) {\r\n\r\n\t\tvar map = properties.get( object );\r\n\r\n\t\tif ( map === undefined ) {\r\n\r\n\t\t\tmap = {};\r\n\t\t\tproperties.set( object, map );\r\n\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\r\n\t}\r\n\r\n\tfunction remove( object ) {\r\n\r\n\t\tproperties.delete( object );\r\n\r\n\t}\r\n\r\n\tfunction update( object, key, value ) {\r\n\r\n\t\tproperties.get( object )[ key ] = value;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tproperties = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tremove: remove,\r\n\t\tupdate: update,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction painterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.program !== b.program ) {\r\n\r\n\t\treturn a.program.id - b.program.id;\r\n\r\n\t} else if ( a.material.id !== b.material.id ) {\r\n\r\n\t\treturn a.material.id - b.material.id;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn a.z - b.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction reversePainterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn b.z - a.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction WebGLRenderList() {\r\n\r\n\tvar renderItems = [];\r\n\tvar renderItemsIndex = 0;\r\n\r\n\tvar opaque = [];\r\n\tvar transparent = [];\r\n\r\n\tvar defaultProgram = { id: - 1 };\r\n\r\n\tfunction init() {\r\n\r\n\t\trenderItemsIndex = 0;\r\n\r\n\t\topaque.length = 0;\r\n\t\ttransparent.length = 0;\r\n\r\n\t}\r\n\r\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\r\n\r\n\t\tif ( renderItem === undefined ) {\r\n\r\n\t\t\trenderItem = {\r\n\t\t\t\tid: object.id,\r\n\t\t\t\tobject: object,\r\n\t\t\t\tgeometry: geometry,\r\n\t\t\t\tmaterial: material,\r\n\t\t\t\tprogram: material.program || defaultProgram,\r\n\t\t\t\tgroupOrder: groupOrder,\r\n\t\t\t\trenderOrder: object.renderOrder,\r\n\t\t\t\tz: z,\r\n\t\t\t\tgroup: group\r\n\t\t\t};\r\n\r\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderItem.id = object.id;\r\n\t\t\trenderItem.object = object;\r\n\t\t\trenderItem.geometry = geometry;\r\n\t\t\trenderItem.material = material;\r\n\t\t\trenderItem.program = material.program || defaultProgram;\r\n\t\t\trenderItem.groupOrder = groupOrder;\r\n\t\t\trenderItem.renderOrder = object.renderOrder;\r\n\t\t\trenderItem.z = z;\r\n\t\t\trenderItem.group = group;\r\n\r\n\t\t}\r\n\r\n\t\trenderItemsIndex ++;\r\n\r\n\t\treturn renderItem;\r\n\r\n\t}\r\n\r\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\r\n\r\n\t}\r\n\r\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\r\n\r\n\t}\r\n\r\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\r\n\r\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\r\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\r\n\r\n\t}\r\n\r\n\tfunction finish() {\r\n\r\n\t\t// Clear references from inactive renderItems in the list\r\n\r\n\t\tfor ( var i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar renderItem = renderItems[ i ];\r\n\r\n\t\t\tif ( renderItem.id === null ) break;\r\n\r\n\t\t\trenderItem.id = null;\r\n\t\t\trenderItem.object = null;\r\n\t\t\trenderItem.geometry = null;\r\n\t\t\trenderItem.material = null;\r\n\t\t\trenderItem.program = null;\r\n\t\t\trenderItem.group = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\topaque: opaque,\r\n\t\ttransparent: transparent,\r\n\r\n\t\tinit: init,\r\n\t\tpush: push,\r\n\t\tunshift: unshift,\r\n\t\tfinish: finish,\r\n\r\n\t\tsort: sort\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLRenderLists() {\r\n\r\n\tvar lists = new WeakMap();\r\n\r\n\tfunction onSceneDispose( event ) {\r\n\r\n\t\tvar scene = event.target;\r\n\r\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\r\n\r\n\t\tlists.delete( scene );\r\n\r\n\t}\r\n\r\n\tfunction get( scene, camera ) {\r\n\r\n\t\tvar cameras = lists.get( scene );\r\n\t\tvar list;\r\n\t\tif ( cameras === undefined ) {\r\n\r\n\t\t\tlist = new WebGLRenderList();\r\n\t\t\tlists.set( scene, new WeakMap() );\r\n\t\t\tlists.get( scene ).set( camera, list );\r\n\r\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlist = cameras.get( camera );\r\n\t\t\tif ( list === undefined ) {\r\n\r\n\t\t\t\tlist = new WebGLRenderList();\r\n\t\t\t\tcameras.set( camera, list );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tlists = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction UniformsCache() {\r\n\r\n\tvar lights = {};\r\n\r\n\treturn {\r\n\r\n\t\tget: function ( light ) {\r\n\r\n\t\t\tif ( lights[ light.id ] !== undefined ) {\r\n\r\n\t\t\t\treturn lights[ light.id ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar uniforms;\r\n\r\n\t\t\tswitch ( light.type ) {\r\n\r\n\t\t\t\tcase 'DirectionalLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'SpotLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\t\tconeCos: 0,\r\n\t\t\t\t\t\tpenumbraCos: 0,\r\n\t\t\t\t\t\tdecay: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\t\tdecay: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'HemisphereLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tskyColor: new Color(),\r\n\t\t\t\t\t\tgroundColor: new Color()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'RectAreaLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\thalfWidth: new Vector3(),\r\n\t\t\t\t\t\thalfHeight: new Vector3()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlights[ light.id ] = uniforms;\r\n\r\n\t\t\treturn uniforms;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction ShadowUniformsCache() {\r\n\r\n\tvar lights = {};\r\n\r\n\treturn {\r\n\r\n\t\tget: function ( light ) {\r\n\r\n\t\t\tif ( lights[ light.id ] !== undefined ) {\r\n\r\n\t\t\t\treturn lights[ light.id ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar uniforms;\r\n\r\n\t\t\tswitch ( light.type ) {\r\n\r\n\t\t\t\tcase 'DirectionalLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'SpotLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\r\n\t\t\t\t\t\tshadowCameraNear: 1,\r\n\t\t\t\t\t\tshadowCameraFar: 1000\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlights[ light.id ] = uniforms;\r\n\r\n\t\t\treturn uniforms;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n\r\n\r\nvar nextVersion = 0;\r\n\r\nfunction shadowCastingLightsFirst( lightA, lightB ) {\r\n\r\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\r\n\r\n}\r\n\r\nfunction WebGLLights() {\r\n\r\n\tvar cache = new UniformsCache();\r\n\r\n\tvar shadowCache = ShadowUniformsCache();\r\n\r\n\tvar state = {\r\n\r\n\t\tversion: 0,\r\n\r\n\t\thash: {\r\n\t\t\tdirectionalLength: - 1,\r\n\t\t\tpointLength: - 1,\r\n\t\t\tspotLength: - 1,\r\n\t\t\trectAreaLength: - 1,\r\n\t\t\themiLength: - 1,\r\n\r\n\t\t\tnumDirectionalShadows: - 1,\r\n\t\t\tnumPointShadows: - 1,\r\n\t\t\tnumSpotShadows: - 1\r\n\t\t},\r\n\r\n\t\tambient: [ 0, 0, 0 ],\r\n\t\tprobe: [],\r\n\t\tdirectional: [],\r\n\t\tdirectionalShadow: [],\r\n\t\tdirectionalShadowMap: [],\r\n\t\tdirectionalShadowMatrix: [],\r\n\t\tspot: [],\r\n\t\tspotShadow: [],\r\n\t\tspotShadowMap: [],\r\n\t\tspotShadowMatrix: [],\r\n\t\trectArea: [],\r\n\t\tpoint: [],\r\n\t\tpointShadow: [],\r\n\t\tpointShadowMap: [],\r\n\t\tpointShadowMatrix: [],\r\n\t\themi: []\r\n\r\n\t};\r\n\r\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\r\n\r\n\tvar vector3 = new Vector3();\r\n\tvar matrix4 = new Matrix4();\r\n\tvar matrix42 = new Matrix4();\r\n\r\n\tfunction setup( lights, shadows, camera ) {\r\n\r\n\t\tvar r = 0, g = 0, b = 0;\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\r\n\r\n\t\tvar directionalLength = 0;\r\n\t\tvar pointLength = 0;\r\n\t\tvar spotLength = 0;\r\n\t\tvar rectAreaLength = 0;\r\n\t\tvar hemiLength = 0;\r\n\r\n\t\tvar numDirectionalShadows = 0;\r\n\t\tvar numPointShadows = 0;\r\n\t\tvar numSpotShadows = 0;\r\n\r\n\t\tvar viewMatrix = camera.matrixWorldInverse;\r\n\r\n\t\tlights.sort( shadowCastingLightsFirst );\r\n\r\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar light = lights[ i ];\r\n\r\n\t\t\tvar color = light.color;\r\n\t\t\tvar intensity = light.intensity;\r\n\t\t\tvar distance = light.distance;\r\n\r\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\r\n\r\n\t\t\tif ( light.isAmbientLight ) {\r\n\r\n\t\t\t\tr += color.r * intensity;\r\n\t\t\t\tg += color.g * intensity;\r\n\t\t\t\tb += color.b * intensity;\r\n\r\n\t\t\t} else if ( light.isLightProbe ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\r\n\r\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( light.isDirectionalLight ) {\r\n\r\n\t\t\t\tvar uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tvar shadow = light.shadow;\r\n\r\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\r\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\r\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumDirectionalShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\r\n\r\n\t\t\t\tdirectionalLength ++;\r\n\r\n\t\t\t} else if ( light.isSpotLight ) {\r\n\r\n\t\t\t\tvar uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.distance = distance;\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\r\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\r\n\t\t\t\tuniforms.decay = light.decay;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tvar shadow = light.shadow;\r\n\r\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\r\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\r\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumSpotShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\r\n\r\n\t\t\t\tspotLength ++;\r\n\r\n\t\t\t} else if ( light.isRectAreaLight ) {\r\n\r\n\t\t\t\tvar uniforms = cache.get( light );\r\n\r\n\t\t\t\t// (a) intensity is the total visible light emitted\r\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\r\n\r\n\t\t\t\t// (b) intensity is the brightness of the light\r\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\r\n\t\t\t\tmatrix42.identity();\r\n\t\t\t\tmatrix4.copy( light.matrixWorld );\r\n\t\t\t\tmatrix4.premultiply( viewMatrix );\r\n\t\t\t\tmatrix42.extractRotation( matrix4 );\r\n\r\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\r\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\r\n\r\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\r\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\r\n\r\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\r\n\t\t\t\t// uniforms.distance = distance;\r\n\r\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\r\n\r\n\t\t\t\trectAreaLength ++;\r\n\r\n\t\t\t} else if ( light.isPointLight ) {\r\n\r\n\t\t\t\tvar uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\t\t\t\tuniforms.distance = light.distance;\r\n\t\t\t\tuniforms.decay = light.decay;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tvar shadow = light.shadow;\r\n\r\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\r\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\r\n\r\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\r\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumPointShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.point[ pointLength ] = uniforms;\r\n\r\n\t\t\t\tpointLength ++;\r\n\r\n\t\t\t} else if ( light.isHemisphereLight ) {\r\n\r\n\t\t\t\tvar uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\t\t\t\tuniforms.direction.normalize();\r\n\r\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\r\n\r\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\r\n\r\n\t\t\t\themiLength ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.ambient[ 0 ] = r;\r\n\t\tstate.ambient[ 1 ] = g;\r\n\t\tstate.ambient[ 2 ] = b;\r\n\r\n\t\tvar hash = state.hash;\r\n\r\n\t\tif ( hash.directionalLength !== directionalLength ||\r\n\t\t\thash.pointLength !== pointLength ||\r\n\t\t\thash.spotLength !== spotLength ||\r\n\t\t\thash.rectAreaLength !== rectAreaLength ||\r\n\t\t\thash.hemiLength !== hemiLength ||\r\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\r\n\t\t\thash.numPointShadows !== numPointShadows ||\r\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\r\n\r\n\t\t\tstate.directional.length = directionalLength;\r\n\t\t\tstate.spot.length = spotLength;\r\n\t\t\tstate.rectArea.length = rectAreaLength;\r\n\t\t\tstate.point.length = pointLength;\r\n\t\t\tstate.hemi.length = hemiLength;\r\n\r\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\r\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\r\n\t\t\tstate.pointShadow.length = numPointShadows;\r\n\t\t\tstate.pointShadowMap.length = numPointShadows;\r\n\t\t\tstate.spotShadow.length = numSpotShadows;\r\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\r\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\r\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\r\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\r\n\r\n\t\t\thash.directionalLength = directionalLength;\r\n\t\t\thash.pointLength = pointLength;\r\n\t\t\thash.spotLength = spotLength;\r\n\t\t\thash.rectAreaLength = rectAreaLength;\r\n\t\t\thash.hemiLength = hemiLength;\r\n\r\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\r\n\t\t\thash.numPointShadows = numPointShadows;\r\n\t\t\thash.numSpotShadows = numSpotShadows;\r\n\r\n\t\t\tstate.version = nextVersion ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tsetup: setup,\r\n\t\tstate: state\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nfunction WebGLRenderState() {\r\n\r\n\tvar lights = new WebGLLights();\r\n\r\n\tvar lightsArray = [];\r\n\tvar shadowsArray = [];\r\n\r\n\tfunction init() {\r\n\r\n\t\tlightsArray.length = 0;\r\n\t\tshadowsArray.length = 0;\r\n\r\n\t}\r\n\r\n\tfunction pushLight( light ) {\r\n\r\n\t\tlightsArray.push( light );\r\n\r\n\t}\r\n\r\n\tfunction pushShadow( shadowLight ) {\r\n\r\n\t\tshadowsArray.push( shadowLight );\r\n\r\n\t}\r\n\r\n\tfunction setupLights( camera ) {\r\n\r\n\t\tlights.setup( lightsArray, shadowsArray, camera );\r\n\r\n\t}\r\n\r\n\tvar state = {\r\n\t\tlightsArray: lightsArray,\r\n\t\tshadowsArray: shadowsArray,\r\n\r\n\t\tlights: lights\r\n\t};\r\n\r\n\treturn {\r\n\t\tinit: init,\r\n\t\tstate: state,\r\n\t\tsetupLights: setupLights,\r\n\r\n\t\tpushLight: pushLight,\r\n\t\tpushShadow: pushShadow\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLRenderStates() {\r\n\r\n\tvar renderStates = new WeakMap();\r\n\r\n\tfunction onSceneDispose( event ) {\r\n\r\n\t\tvar scene = event.target;\r\n\r\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\r\n\r\n\t\trenderStates.delete( scene );\r\n\r\n\t}\r\n\r\n\tfunction get( scene, camera ) {\r\n\r\n\t\tvar renderState;\r\n\r\n\t\tif ( renderStates.has( scene ) === false ) {\r\n\r\n\t\t\trenderState = new WebGLRenderState();\r\n\t\t\trenderStates.set( scene, new WeakMap() );\r\n\t\t\trenderStates.get( scene ).set( camera, renderState );\r\n\r\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\r\n\r\n\t\t\t\trenderState = new WebGLRenderState();\r\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn renderState;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\trenderStates = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author bhouston / https://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n * }\r\n */\r\n\r\nfunction MeshDepthMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshDepthMaterial';\r\n\r\n\tthis.depthPacking = BasicDepthPacking;\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\r\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\r\n\r\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\r\n\r\nMeshDepthMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.depthPacking = source.depthPacking;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *\r\n *  referencePosition: <float>,\r\n *  nearDistance: <float>,\r\n *  farDistance: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>\r\n *\r\n * }\r\n */\r\n\r\nfunction MeshDistanceMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshDistanceMaterial';\r\n\r\n\tthis.referencePosition = new Vector3();\r\n\tthis.nearDistance = 1;\r\n\tthis.farDistance = 1000;\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.fog = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\r\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\r\n\r\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\r\n\r\nMeshDistanceMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.referencePosition.copy( source.referencePosition );\r\n\tthis.nearDistance = source.nearDistance;\r\n\tthis.farDistance = source.farDistance;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\r\n\r\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\r\n\r\n\tvar _frustum = new Frustum(),\r\n\r\n\t\t_shadowMapSize = new Vector2(),\r\n\t\t_viewportSize = new Vector2(),\r\n\r\n\t\t_viewport = new Vector4(),\r\n\r\n\t\t_depthMaterials = [],\r\n\t\t_distanceMaterials = [],\r\n\r\n\t\t_materialCache = {};\r\n\r\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\r\n\r\n\tvar shadowMaterialVertical = new ShaderMaterial( {\r\n\r\n\t\tdefines: {\r\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\r\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\r\n\t\t},\r\n\r\n\t\tuniforms: {\r\n\t\t\tshadow_pass: { value: null },\r\n\t\t\tresolution: { value: new Vector2() },\r\n\t\t\tradius: { value: 4.0 }\r\n\t\t},\r\n\r\n\t\tvertexShader: vsm_vert,\r\n\r\n\t\tfragmentShader: vsm_frag\r\n\r\n\t} );\r\n\r\n\tvar shadowMaterialHorizonal = shadowMaterialVertical.clone();\r\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\r\n\r\n\tvar fullScreenTri = new BufferGeometry();\r\n\tfullScreenTri.setAttribute(\r\n\t\t\"position\",\r\n\t\tnew BufferAttribute(\r\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\r\n\t\t\t3\r\n\t\t)\r\n\t);\r\n\r\n\tvar fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\r\n\r\n\tvar scope = this;\r\n\r\n\tthis.enabled = false;\r\n\r\n\tthis.autoUpdate = true;\r\n\tthis.needsUpdate = false;\r\n\r\n\tthis.type = PCFShadowMap;\r\n\r\n\tthis.render = function ( lights, scene, camera ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\r\n\r\n\t\tif ( lights.length === 0 ) return;\r\n\r\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\r\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\r\n\t\tvar activeMipmapLevel = _renderer.getActiveMipmapLevel();\r\n\r\n\t\tvar _state = _renderer.state;\r\n\r\n\t\t// Set GL state for depth map.\r\n\t\t_state.setBlending( NoBlending );\r\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\r\n\t\t_state.buffers.depth.setTest( true );\r\n\t\t_state.setScissorTest( false );\r\n\r\n\t\t// render depth map\r\n\r\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar light = lights[ i ];\r\n\t\t\tvar shadow = light.shadow;\r\n\r\n\t\t\tif ( shadow === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\r\n\r\n\t\t\tvar shadowFrameExtents = shadow.getFrameExtents();\r\n\r\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\r\n\r\n\t\t\t_viewportSize.copy( shadow.mapSize );\r\n\r\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing' );\r\n\r\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\r\n\r\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\r\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\r\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\r\n\r\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\r\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\r\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\r\n\r\n\t\t\t\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\r\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\r\n\r\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\r\n\t\t\t\tshadow.camera.updateProjectionMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.map === null ) {\r\n\r\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\r\n\r\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\r\n\r\n\t\t\t\tshadow.camera.updateProjectionMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_renderer.setRenderTarget( shadow.map );\r\n\t\t\t_renderer.clear();\r\n\r\n\t\t\tvar viewportCount = shadow.getViewportCount();\r\n\r\n\t\t\tfor ( var vp = 0; vp < viewportCount; vp ++ ) {\r\n\r\n\t\t\t\tvar viewport = shadow.getViewport( vp );\r\n\r\n\t\t\t\t_viewport.set(\r\n\t\t\t\t\t_viewportSize.x * viewport.x,\r\n\t\t\t\t\t_viewportSize.y * viewport.y,\r\n\t\t\t\t\t_viewportSize.x * viewport.z,\r\n\t\t\t\t\t_viewportSize.y * viewport.w\r\n\t\t\t\t);\r\n\r\n\t\t\t\t_state.viewport( _viewport );\r\n\r\n\t\t\t\tshadow.updateMatrices( light, vp );\r\n\r\n\t\t\t\t_frustum = shadow.getFrustum();\r\n\r\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// do blur pass for VSM\r\n\r\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\r\n\r\n\t\t\t\tVSMPass( shadow, camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tscope.needsUpdate = false;\r\n\r\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\r\n\r\n\t};\r\n\r\n\tfunction VSMPass( shadow, camera ) {\r\n\r\n\t\tvar geometry = _objects.update( fullScreenMesh );\r\n\r\n\t\t// vertical pass\r\n\r\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\r\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\r\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\r\n\t\t_renderer.setRenderTarget( shadow.mapPass );\r\n\t\t_renderer.clear();\r\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\r\n\r\n\t\t// horizonal pass\r\n\r\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\r\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\r\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\r\n\t\t_renderer.setRenderTarget( shadow.map );\r\n\t\t_renderer.clear();\r\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\r\n\r\n\t}\r\n\r\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\r\n\r\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\r\n\r\n\t\tvar material = _depthMaterials[ index ];\r\n\r\n\t\tif ( material === undefined ) {\r\n\r\n\t\t\tmaterial = new MeshDepthMaterial( {\r\n\r\n\t\t\t\tdepthPacking: RGBADepthPacking,\r\n\r\n\t\t\t\tmorphTargets: useMorphing,\r\n\t\t\t\tskinning: useSkinning\r\n\r\n\t\t\t} );\r\n\r\n\t\t\t_depthMaterials[ index ] = material;\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\r\n\r\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\r\n\r\n\t\tvar material = _distanceMaterials[ index ];\r\n\r\n\t\tif ( material === undefined ) {\r\n\r\n\t\t\tmaterial = new MeshDistanceMaterial( {\r\n\r\n\t\t\t\tmorphTargets: useMorphing,\r\n\t\t\t\tskinning: useSkinning\r\n\r\n\t\t\t} );\r\n\r\n\t\t\t_distanceMaterials[ index ] = material;\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tvar result = null;\r\n\r\n\t\tvar getMaterialVariant = getDepthMaterialVariant;\r\n\t\tvar customMaterial = object.customDepthMaterial;\r\n\r\n\t\tif ( light.isPointLight === true ) {\r\n\r\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\r\n\t\t\tcustomMaterial = object.customDistanceMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( customMaterial === undefined ) {\r\n\r\n\t\t\tvar useMorphing = false;\r\n\r\n\t\t\tif ( material.morphTargets === true ) {\r\n\r\n\t\t\t\tif ( geometry.isBufferGeometry === true ) {\r\n\r\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\r\n\r\n\t\t\t\t} else if ( geometry.isGeometry === true ) {\r\n\r\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar useSkinning = false;\r\n\r\n\t\t\tif ( object.isSkinnedMesh === true ) {\r\n\r\n\t\t\t\tif ( material.skinning === true ) {\r\n\r\n\t\t\t\t\tuseSkinning = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar useInstancing = object.isInstancedMesh === true;\r\n\r\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = customMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _renderer.localClippingEnabled &&\r\n\t\t\t\tmaterial.clipShadows === true &&\r\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\r\n\r\n\t\t\t// in this case we need a unique material instance reflecting the\r\n\t\t\t// appropriate state\r\n\r\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\r\n\r\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\r\n\r\n\t\t\tif ( materialsForVariant === undefined ) {\r\n\r\n\t\t\t\tmaterialsForVariant = {};\r\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\r\n\r\n\t\t\tif ( cachedMaterial === undefined ) {\r\n\r\n\t\t\t\tcachedMaterial = result.clone();\r\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tresult = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tresult.visible = material.visible;\r\n\t\tresult.wireframe = material.wireframe;\r\n\r\n\t\tif ( type === VSMShadowMap ) {\r\n\r\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\r\n\r\n\t\t}\r\n\r\n\t\tresult.clipShadows = material.clipShadows;\r\n\t\tresult.clippingPlanes = material.clippingPlanes;\r\n\t\tresult.clipIntersection = material.clipIntersection;\r\n\r\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\r\n\t\tresult.linewidth = material.linewidth;\r\n\r\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\r\n\r\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\tresult.nearDistance = shadowCameraNear;\r\n\t\t\tresult.farDistance = shadowCameraFar;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tvar visible = object.layers.test( camera.layers );\r\n\r\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\r\n\r\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\r\n\r\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\r\n\r\n\t\t\t\tvar geometry = _objects.update( object );\r\n\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tvar groups = geometry.groups;\r\n\r\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\t\tvar group = groups[ k ];\r\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\r\n\r\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\r\n\r\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( material.visible ) {\r\n\r\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\r\n\r\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLState( gl, extensions, capabilities ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tfunction ColorBuffer() {\r\n\r\n\t\tvar locked = false;\r\n\r\n\t\tvar color = new Vector4();\r\n\t\tvar currentColorMask = null;\r\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetMask: function ( colorMask ) {\r\n\r\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n\t\t\t\t\tcurrentColorMask = colorMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\r\n\r\n\t\t\t\tif ( premultipliedAlpha === true ) {\r\n\r\n\t\t\t\t\tr *= a; g *= a; b *= a;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcolor.set( r, g, b, a );\r\n\r\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\r\n\r\n\t\t\t\t\tgl.clearColor( r, g, b, a );\r\n\t\t\t\t\tcurrentColorClear.copy( color );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentColorMask = null;\r\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction DepthBuffer() {\r\n\r\n\t\tvar locked = false;\r\n\r\n\t\tvar currentDepthMask = null;\r\n\t\tvar currentDepthFunc = null;\r\n\t\tvar currentDepthClear = null;\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetTest: function ( depthTest ) {\r\n\r\n\t\t\t\tif ( depthTest ) {\r\n\r\n\t\t\t\t\tenable( 2929 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdisable( 2929 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetMask: function ( depthMask ) {\r\n\r\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.depthMask( depthMask );\r\n\t\t\t\t\tcurrentDepthMask = depthMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetFunc: function ( depthFunc ) {\r\n\r\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\r\n\r\n\t\t\t\t\tif ( depthFunc ) {\r\n\r\n\t\t\t\t\t\tswitch ( depthFunc ) {\r\n\r\n\t\t\t\t\t\t\tcase NeverDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase AlwaysDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase LessDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase LessEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase EqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase GreaterDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase NotEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( depth ) {\r\n\r\n\t\t\t\tif ( currentDepthClear !== depth ) {\r\n\r\n\t\t\t\t\tgl.clearDepth( depth );\r\n\t\t\t\t\tcurrentDepthClear = depth;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentDepthMask = null;\r\n\t\t\t\tcurrentDepthFunc = null;\r\n\t\t\t\tcurrentDepthClear = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction StencilBuffer() {\r\n\r\n\t\tvar locked = false;\r\n\r\n\t\tvar currentStencilMask = null;\r\n\t\tvar currentStencilFunc = null;\r\n\t\tvar currentStencilRef = null;\r\n\t\tvar currentStencilFuncMask = null;\r\n\t\tvar currentStencilFail = null;\r\n\t\tvar currentStencilZFail = null;\r\n\t\tvar currentStencilZPass = null;\r\n\t\tvar currentStencilClear = null;\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetTest: function ( stencilTest ) {\r\n\r\n\t\t\t\tif ( ! locked ) {\r\n\r\n\t\t\t\t\tif ( stencilTest ) {\r\n\r\n\t\t\t\t\t\tenable( 2960 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdisable( 2960 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetMask: function ( stencilMask ) {\r\n\r\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.stencilMask( stencilMask );\r\n\t\t\t\t\tcurrentStencilMask = stencilMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\r\n\r\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\r\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\r\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\r\n\r\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\r\n\r\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\r\n\t\t\t\t\tcurrentStencilRef = stencilRef;\r\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\r\n\r\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\r\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\r\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\r\n\r\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\r\n\r\n\t\t\t\t\tcurrentStencilFail = stencilFail;\r\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\r\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( stencil ) {\r\n\r\n\t\t\t\tif ( currentStencilClear !== stencil ) {\r\n\r\n\t\t\t\t\tgl.clearStencil( stencil );\r\n\t\t\t\t\tcurrentStencilClear = stencil;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentStencilMask = null;\r\n\t\t\t\tcurrentStencilFunc = null;\r\n\t\t\t\tcurrentStencilRef = null;\r\n\t\t\t\tcurrentStencilFuncMask = null;\r\n\t\t\t\tcurrentStencilFail = null;\r\n\t\t\t\tcurrentStencilZFail = null;\r\n\t\t\t\tcurrentStencilZPass = null;\r\n\t\t\t\tcurrentStencilClear = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar colorBuffer = new ColorBuffer();\r\n\tvar depthBuffer = new DepthBuffer();\r\n\tvar stencilBuffer = new StencilBuffer();\r\n\r\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\r\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\r\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\r\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\r\n\r\n\tvar enabledCapabilities = {};\r\n\r\n\tvar currentProgram = null;\r\n\r\n\tvar currentBlendingEnabled = null;\r\n\tvar currentBlending = null;\r\n\tvar currentBlendEquation = null;\r\n\tvar currentBlendSrc = null;\r\n\tvar currentBlendDst = null;\r\n\tvar currentBlendEquationAlpha = null;\r\n\tvar currentBlendSrcAlpha = null;\r\n\tvar currentBlendDstAlpha = null;\r\n\tvar currentPremultipledAlpha = false;\r\n\r\n\tvar currentFlipSided = null;\r\n\tvar currentCullFace = null;\r\n\r\n\tvar currentLineWidth = null;\r\n\r\n\tvar currentPolygonOffsetFactor = null;\r\n\tvar currentPolygonOffsetUnits = null;\r\n\r\n\tvar maxTextures = gl.getParameter( 35661 );\r\n\r\n\tvar lineWidthAvailable = false;\r\n\tvar version = 0;\r\n\tvar glVersion = gl.getParameter( 7938 );\r\n\r\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\r\n\r\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\r\n\t\tlineWidthAvailable = ( version >= 1.0 );\r\n\r\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\r\n\r\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\r\n\t\tlineWidthAvailable = ( version >= 2.0 );\r\n\r\n\t}\r\n\r\n\tvar currentTextureSlot = null;\r\n\tvar currentBoundTextures = {};\r\n\r\n\tvar currentScissor = new Vector4();\r\n\tvar currentViewport = new Vector4();\r\n\r\n\tfunction createTexture( type, target, count ) {\r\n\r\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\r\n\t\tvar texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture( type, texture );\r\n\t\tgl.texParameteri( type, 10241, 9728 );\r\n\t\tgl.texParameteri( type, 10240, 9728 );\r\n\r\n\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tvar emptyTextures = {};\r\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\r\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\r\n\r\n\t// init\r\n\r\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\r\n\tdepthBuffer.setClear( 1 );\r\n\tstencilBuffer.setClear( 0 );\r\n\r\n\tenable( 2929 );\r\n\tdepthBuffer.setFunc( LessEqualDepth );\r\n\r\n\tsetFlipSided( false );\r\n\tsetCullFace( CullFaceBack );\r\n\tenable( 2884 );\r\n\r\n\tsetBlending( NoBlending );\r\n\r\n\t//\r\n\r\n\tfunction initAttributes() {\r\n\r\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\r\n\r\n\t\t\tnewAttributes[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction enableAttribute( attribute ) {\r\n\r\n\t\tenableAttributeAndDivisor( attribute, 0 );\r\n\r\n\t}\r\n\r\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\r\n\r\n\t\tnewAttributes[ attribute ] = 1;\r\n\r\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\r\n\r\n\t\t\tgl.enableVertexAttribArray( attribute );\r\n\t\t\tenabledAttributes[ attribute ] = 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\r\n\r\n\t\t\tvar extension = isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t\textension[ isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\r\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction disableUnusedAttributes() {\r\n\r\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\r\n\r\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\r\n\r\n\t\t\t\tgl.disableVertexAttribArray( i );\r\n\t\t\t\tenabledAttributes[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction enable( id ) {\r\n\r\n\t\tif ( enabledCapabilities[ id ] !== true ) {\r\n\r\n\t\t\tgl.enable( id );\r\n\t\t\tenabledCapabilities[ id ] = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction disable( id ) {\r\n\r\n\t\tif ( enabledCapabilities[ id ] !== false ) {\r\n\r\n\t\t\tgl.disable( id );\r\n\t\t\tenabledCapabilities[ id ] = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction useProgram( program ) {\r\n\r\n\t\tif ( currentProgram !== program ) {\r\n\r\n\t\t\tgl.useProgram( program );\r\n\r\n\t\t\tcurrentProgram = program;\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tvar equationToGL = {\r\n\t\t[ AddEquation ]: 32774,\r\n\t\t[ SubtractEquation ]: 32778,\r\n\t\t[ ReverseSubtractEquation ]: 32779\r\n\t};\r\n\r\n\tif ( isWebGL2 ) {\r\n\r\n\t\tequationToGL[ MinEquation ] = 32775;\r\n\t\tequationToGL[ MaxEquation ] = 32776;\r\n\r\n\t} else {\r\n\r\n\t\tvar extension = extensions.get( 'EXT_blend_minmax' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\r\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar factorToGL = {\r\n\t\t[ ZeroFactor ]: 0,\r\n\t\t[ OneFactor ]: 1,\r\n\t\t[ SrcColorFactor ]: 768,\r\n\t\t[ SrcAlphaFactor ]: 770,\r\n\t\t[ SrcAlphaSaturateFactor ]: 776,\r\n\t\t[ DstColorFactor ]: 774,\r\n\t\t[ DstAlphaFactor ]: 772,\r\n\t\t[ OneMinusSrcColorFactor ]: 769,\r\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\r\n\t\t[ OneMinusDstColorFactor ]: 775,\r\n\t\t[ OneMinusDstAlphaFactor ]: 773\r\n\t};\r\n\r\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\r\n\r\n\t\tif ( blending === NoBlending ) {\r\n\r\n\t\t\tif ( currentBlendingEnabled ) {\r\n\r\n\t\t\t\tdisable( 3042 );\r\n\t\t\t\tcurrentBlendingEnabled = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! currentBlendingEnabled ) {\r\n\r\n\t\t\tenable( 3042 );\r\n\t\t\tcurrentBlendingEnabled = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blending !== CustomBlending ) {\r\n\r\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\r\n\r\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\r\n\r\n\t\t\t\t\tgl.blendEquation( 32774 );\r\n\r\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\r\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tswitch ( blending ) {\r\n\r\n\t\t\t\t\t\tcase NormalBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase AdditiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase SubtractiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase MultiplyBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tswitch ( blending ) {\r\n\r\n\t\t\t\t\t\tcase NormalBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase AdditiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase SubtractiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase MultiplyBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentBlendSrc = null;\r\n\t\t\t\tcurrentBlendDst = null;\r\n\t\t\t\tcurrentBlendSrcAlpha = null;\r\n\t\t\t\tcurrentBlendDstAlpha = null;\r\n\r\n\t\t\t\tcurrentBlending = blending;\r\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// custom blending\r\n\r\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\r\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\r\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\r\n\r\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\r\n\r\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\r\n\r\n\t\t\tcurrentBlendEquation = blendEquation;\r\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\r\n\r\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\r\n\r\n\t\t\tcurrentBlendSrc = blendSrc;\r\n\t\t\tcurrentBlendDst = blendDst;\r\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\r\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\r\n\r\n\t\t}\r\n\r\n\t\tcurrentBlending = blending;\r\n\t\tcurrentPremultipledAlpha = null;\r\n\r\n\t}\r\n\r\n\tfunction setMaterial( material, frontFaceCW ) {\r\n\r\n\t\tmaterial.side === DoubleSide\r\n\t\t\t? disable( 2884 )\r\n\t\t\t: enable( 2884 );\r\n\r\n\t\tvar flipSided = ( material.side === BackSide );\r\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\r\n\r\n\t\tsetFlipSided( flipSided );\r\n\r\n\t\t( material.blending === NormalBlending && material.transparent === false )\r\n\t\t\t? setBlending( NoBlending )\r\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\r\n\r\n\t\tdepthBuffer.setFunc( material.depthFunc );\r\n\t\tdepthBuffer.setTest( material.depthTest );\r\n\t\tdepthBuffer.setMask( material.depthWrite );\r\n\t\tcolorBuffer.setMask( material.colorWrite );\r\n\r\n\t\tvar stencilWrite = material.stencilWrite;\r\n\t\tstencilBuffer.setTest( stencilWrite );\r\n\t\tif ( stencilWrite ) {\r\n\r\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\r\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\r\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\r\n\r\n\t\t}\r\n\r\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction setFlipSided( flipSided ) {\r\n\r\n\t\tif ( currentFlipSided !== flipSided ) {\r\n\r\n\t\t\tif ( flipSided ) {\r\n\r\n\t\t\t\tgl.frontFace( 2304 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.frontFace( 2305 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentFlipSided = flipSided;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setCullFace( cullFace ) {\r\n\r\n\t\tif ( cullFace !== CullFaceNone ) {\r\n\r\n\t\t\tenable( 2884 );\r\n\r\n\t\t\tif ( cullFace !== currentCullFace ) {\r\n\r\n\t\t\t\tif ( cullFace === CullFaceBack ) {\r\n\r\n\t\t\t\t\tgl.cullFace( 1029 );\r\n\r\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\r\n\r\n\t\t\t\t\tgl.cullFace( 1028 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.cullFace( 1032 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 2884 );\r\n\r\n\t\t}\r\n\r\n\t\tcurrentCullFace = cullFace;\r\n\r\n\t}\r\n\r\n\tfunction setLineWidth( width ) {\r\n\r\n\t\tif ( width !== currentLineWidth ) {\r\n\r\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\r\n\r\n\t\t\tcurrentLineWidth = width;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\r\n\r\n\t\tif ( polygonOffset ) {\r\n\r\n\t\t\tenable( 32823 );\r\n\r\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\r\n\r\n\t\t\t\tgl.polygonOffset( factor, units );\r\n\r\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\r\n\t\t\t\tcurrentPolygonOffsetUnits = units;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 32823 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setScissorTest( scissorTest ) {\r\n\r\n\t\tif ( scissorTest ) {\r\n\r\n\t\t\tenable( 3089 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 3089 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// texture\r\n\r\n\tfunction activeTexture( webglSlot ) {\r\n\r\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\r\n\r\n\t\tif ( currentTextureSlot !== webglSlot ) {\r\n\r\n\t\t\tgl.activeTexture( webglSlot );\r\n\t\t\tcurrentTextureSlot = webglSlot;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction bindTexture( webglType, webglTexture ) {\r\n\r\n\t\tif ( currentTextureSlot === null ) {\r\n\r\n\t\t\tactiveTexture();\r\n\r\n\t\t}\r\n\r\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\r\n\r\n\t\tif ( boundTexture === undefined ) {\r\n\r\n\t\t\tboundTexture = { type: undefined, texture: undefined };\r\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\r\n\r\n\t\t}\r\n\r\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\r\n\r\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\r\n\r\n\t\t\tboundTexture.type = webglType;\r\n\t\t\tboundTexture.texture = webglTexture;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction unbindTexture() {\r\n\r\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\r\n\r\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\r\n\r\n\t\t\tgl.bindTexture( boundTexture.type, null );\r\n\r\n\t\t\tboundTexture.type = undefined;\r\n\t\t\tboundTexture.texture = undefined;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction compressedTexImage2D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction texImage2D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.texImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction texImage3D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.texImage3D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction scissor( scissor ) {\r\n\r\n\t\tif ( currentScissor.equals( scissor ) === false ) {\r\n\r\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\r\n\t\t\tcurrentScissor.copy( scissor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction viewport( viewport ) {\r\n\r\n\t\tif ( currentViewport.equals( viewport ) === false ) {\r\n\r\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\r\n\t\t\tcurrentViewport.copy( viewport );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction reset() {\r\n\r\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\r\n\r\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\r\n\r\n\t\t\t\tgl.disableVertexAttribArray( i );\r\n\t\t\t\tenabledAttributes[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tenabledCapabilities = {};\r\n\r\n\t\tcurrentTextureSlot = null;\r\n\t\tcurrentBoundTextures = {};\r\n\r\n\t\tcurrentProgram = null;\r\n\r\n\t\tcurrentBlending = null;\r\n\r\n\t\tcurrentFlipSided = null;\r\n\t\tcurrentCullFace = null;\r\n\r\n\t\tcolorBuffer.reset();\r\n\t\tdepthBuffer.reset();\r\n\t\tstencilBuffer.reset();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tbuffers: {\r\n\t\t\tcolor: colorBuffer,\r\n\t\t\tdepth: depthBuffer,\r\n\t\t\tstencil: stencilBuffer\r\n\t\t},\r\n\r\n\t\tinitAttributes: initAttributes,\r\n\t\tenableAttribute: enableAttribute,\r\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\r\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\r\n\t\tenable: enable,\r\n\t\tdisable: disable,\r\n\r\n\t\tuseProgram: useProgram,\r\n\r\n\t\tsetBlending: setBlending,\r\n\t\tsetMaterial: setMaterial,\r\n\r\n\t\tsetFlipSided: setFlipSided,\r\n\t\tsetCullFace: setCullFace,\r\n\r\n\t\tsetLineWidth: setLineWidth,\r\n\t\tsetPolygonOffset: setPolygonOffset,\r\n\r\n\t\tsetScissorTest: setScissorTest,\r\n\r\n\t\tactiveTexture: activeTexture,\r\n\t\tbindTexture: bindTexture,\r\n\t\tunbindTexture: unbindTexture,\r\n\t\tcompressedTexImage2D: compressedTexImage2D,\r\n\t\ttexImage2D: texImage2D,\r\n\t\ttexImage3D: texImage3D,\r\n\r\n\t\tscissor: scissor,\r\n\t\tviewport: viewport,\r\n\r\n\t\treset: reset\r\n\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\tvar maxTextures = capabilities.maxTextures;\r\n\tvar maxCubemapSize = capabilities.maxCubemapSize;\r\n\tvar maxTextureSize = capabilities.maxTextureSize;\r\n\tvar maxSamples = capabilities.maxSamples;\r\n\r\n\tvar _videoTextures = new WeakMap();\r\n\tvar _canvas;\r\n\r\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\r\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\r\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\r\n\r\n\tvar useOffscreenCanvas = false;\r\n\r\n\ttry {\r\n\r\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\r\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\r\n\r\n\t} catch ( err ) {\r\n\r\n\t\t// Ignore any errors\r\n\r\n\t}\r\n\r\n\tfunction createCanvas( width, height ) {\r\n\r\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\r\n\r\n\t\treturn useOffscreenCanvas ?\r\n\t\t\tnew OffscreenCanvas( width, height ) :\r\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\r\n\r\n\t}\r\n\r\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\r\n\r\n\t\tvar scale = 1;\r\n\r\n\t\t// handle case if texture exceeds max size\r\n\r\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\r\n\r\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\r\n\r\n\t\t}\r\n\r\n\t\t// only perform resize if necessary\r\n\r\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\r\n\r\n\t\t\t// only perform resize for certain image types\r\n\r\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\r\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\r\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\r\n\r\n\t\t\t\tvar floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\r\n\r\n\t\t\t\tvar width = floor( scale * image.width );\r\n\t\t\t\tvar height = floor( scale * image.height );\r\n\r\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\r\n\r\n\t\t\t\t// cube textures can't reuse the same canvas\r\n\r\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\r\n\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tvar context = canvas.getContext( '2d' );\r\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\r\n\r\n\t\t\t\treturn canvas;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( 'data' in image ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn image;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n\tfunction isPowerOfTwo( image ) {\r\n\r\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\r\n\r\n\t}\r\n\r\n\tfunction textureNeedsPowerOfTwo( texture ) {\r\n\r\n\t\tif ( isWebGL2 ) return false;\r\n\r\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\r\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\r\n\r\n\t}\r\n\r\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\r\n\r\n\t\treturn texture.generateMipmaps && supportsMips &&\r\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\r\n\r\n\t}\r\n\r\n\tfunction generateMipmap( target, texture, width, height ) {\r\n\r\n\t\t_gl.generateMipmap( target );\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\r\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\r\n\r\n\t}\r\n\r\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\r\n\r\n\t\tif ( isWebGL2 === false ) return glFormat;\r\n\r\n\t\tif ( internalFormatName !== null ) {\r\n\r\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\r\n\r\n\t\t}\r\n\r\n\t\tvar internalFormat = glFormat;\r\n\r\n\t\tif ( glFormat === 6403 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\r\n\r\n\t\t}\r\n\r\n\t\tif ( glFormat === 6407 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\r\n\r\n\t\t}\r\n\r\n\t\tif ( glFormat === 6408 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\r\n\r\n\t\t}\r\n\r\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\r\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\r\n\r\n\t\t\textensions.get( 'EXT_color_buffer_float' );\r\n\r\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\r\n\r\n\t\t}\r\n\r\n\t\treturn internalFormat;\r\n\r\n\t}\r\n\r\n\t// Fallback filters for non-power-of-2 textures\r\n\r\n\tfunction filterFallback( f ) {\r\n\r\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\r\n\r\n\t\t\treturn 9728;\r\n\r\n\t\t}\r\n\r\n\t\treturn 9729;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction onTextureDispose( event ) {\r\n\r\n\t\tvar texture = event.target;\r\n\r\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\tdeallocateTexture( texture );\r\n\r\n\t\tif ( texture.isVideoTexture ) {\r\n\r\n\t\t\t_videoTextures.delete( texture );\r\n\r\n\t\t}\r\n\r\n\t\tinfo.memory.textures --;\r\n\r\n\t}\r\n\r\n\tfunction onRenderTargetDispose( event ) {\r\n\r\n\t\tvar renderTarget = event.target;\r\n\r\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\tdeallocateRenderTarget( renderTarget );\r\n\r\n\t\tinfo.memory.textures --;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction deallocateTexture( texture ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( textureProperties.__webglInit === undefined ) return;\r\n\r\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\tproperties.remove( texture );\r\n\r\n\t}\r\n\r\n\tfunction deallocateRenderTarget( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\r\n\t\tif ( ! renderTarget ) return;\r\n\r\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\r\n\r\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\trenderTarget.depthTexture.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\r\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\r\n\r\n\t\t}\r\n\r\n\t\tproperties.remove( renderTarget.texture );\r\n\t\tproperties.remove( renderTarget );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar textureUnits = 0;\r\n\r\n\tfunction resetTextureUnits() {\r\n\r\n\t\ttextureUnits = 0;\r\n\r\n\t}\r\n\r\n\tfunction allocateTextureUnit() {\r\n\r\n\t\tvar textureUnit = textureUnits;\r\n\r\n\t\tif ( textureUnit >= maxTextures ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\r\n\r\n\t\t}\r\n\r\n\t\ttextureUnits += 1;\r\n\r\n\t\treturn textureUnit;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction setTexture2D( texture, slot ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tvar image = texture.image;\r\n\r\n\t\t\tif ( image === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\r\n\r\n\t\t\t} else if ( image.complete === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTexture2DArray( texture, slot ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTexture3D( texture, slot ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTextureCube( texture, slot ) {\r\n\r\n\t\tif ( texture.image.length !== 6 ) return;\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tinitTexture( textureProperties, texture );\r\n\r\n\t\t\tstate.activeTexture( 33984 + slot );\r\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\r\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\r\n\r\n\t\t\tvar isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\r\n\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\r\n\r\n\t\t\tvar cubeImage = [];\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\r\n\r\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar image = cubeImage[ 0 ],\r\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\r\n\t\t\t\tglFormat = utils.convert( texture.format ),\r\n\t\t\t\tglType = utils.convert( texture.type ),\r\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\r\n\r\n\t\t\tvar mipmaps;\r\n\r\n\t\t\tif ( isCompressed ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\r\n\r\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\r\n\r\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmipmaps = texture.mipmaps;\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\tif ( isDataTexture ) {\r\n\r\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\r\n\t\t\t\t\t\t\tvar mipmapImage = mipmap.image[ i ].image;\r\n\r\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\r\n\r\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\t\t// We assume images for cube map have the same size.\r\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.activeTexture( 33984 + slot );\r\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setTextureCubeDynamic( texture, slot ) {\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\r\n\r\n\t}\r\n\r\n\tvar wrappingToGL = {\r\n\t\t[ RepeatWrapping ]: 10497,\r\n\t\t[ ClampToEdgeWrapping ]: 33071,\r\n\t\t[ MirroredRepeatWrapping ]: 33648\r\n\t};\r\n\r\n\tvar filterToGL = {\r\n\t\t[ NearestFilter ]: 9728,\r\n\t\t[ NearestMipmapNearestFilter ]: 9984,\r\n\t\t[ NearestMipmapLinearFilter ]: 9986,\r\n\r\n\t\t[ LinearFilter ]: 9729,\r\n\t\t[ LinearMipmapNearestFilter ]: 9985,\r\n\t\t[ LinearMipmapLinearFilter ]: 9987\r\n\t};\r\n\r\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\r\n\r\n\t\tif ( supportsMips ) {\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\r\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\r\n\r\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\r\n\r\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\r\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\r\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\r\n\r\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\r\n\r\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\r\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\r\n\r\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\tif ( extension ) {\r\n\r\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\r\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\r\n\r\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\r\n\r\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\r\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction initTexture( textureProperties, texture ) {\r\n\r\n\t\tif ( textureProperties.__webglInit === undefined ) {\r\n\r\n\t\t\ttextureProperties.__webglInit = true;\r\n\r\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\r\n\t\t\tinfo.memory.textures ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction uploadTexture( textureProperties, texture, slot ) {\r\n\r\n\t\tvar textureType = 3553;\r\n\r\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\r\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\r\n\r\n\t\tinitTexture( textureProperties, texture );\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\r\n\r\n\t\t_gl.pixelStorei( 37440, texture.flipY );\r\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\r\n\r\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\r\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\r\n\r\n\t\tvar supportsMips = isPowerOfTwo( image ) || isWebGL2,\r\n\t\t\tglFormat = utils.convert( texture.format ),\r\n\t\t\tglType = utils.convert( texture.type ),\r\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\tsetTextureParameters( textureType, texture, supportsMips );\r\n\r\n\t\tvar mipmap, mipmaps = texture.mipmaps;\r\n\r\n\t\tif ( texture.isDepthTexture ) {\r\n\r\n\t\t\t// populate depth texture with dummy data\r\n\r\n\t\t\tglInternalFormat = 6402;\r\n\r\n\t\t\tif ( texture.type === FloatType ) {\r\n\r\n\t\t\t\tif ( isWebGL2 === false ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\r\n\t\t\t\tglInternalFormat = 36012;\r\n\r\n\t\t\t} else if ( isWebGL2 ) {\r\n\r\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\r\n\t\t\t\tglInternalFormat = 33189;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\r\n\r\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\r\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\r\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\r\n\r\n\t\t\t\t\ttexture.type = UnsignedShortType;\r\n\t\t\t\t\tglType = utils.convert( texture.type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\r\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\tif ( texture.format === DepthStencilFormat ) {\r\n\r\n\t\t\t\tglInternalFormat = 34041;\r\n\r\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\r\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\r\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\r\n\r\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\r\n\t\t\t\t\tglType = utils.convert( texture.type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\r\n\r\n\t\t} else if ( texture.isDataTexture ) {\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\r\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( texture.isCompressedTexture ) {\r\n\r\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmipmap = mipmaps[ i ];\r\n\r\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\r\n\r\n\t\t\t\t\tif ( glFormat !== null ) {\r\n\r\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t} else if ( texture.isDataTexture2DArray ) {\r\n\r\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\r\n\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t} else if ( texture.isDataTexture3D ) {\r\n\r\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\r\n\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// regular Texture (image, video, canvas)\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\r\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\r\n\r\n\t\t}\r\n\r\n\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t}\r\n\r\n\t// Render targets\r\n\r\n\t// Setup storage for target texture and bind it to correct framebuffer\r\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\r\n\r\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\r\n\t\tvar glType = utils.convert( renderTarget.texture.type );\r\n\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\r\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\r\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\r\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\r\n\t\t_gl.bindFramebuffer( 36160, null );\r\n\r\n\t}\r\n\r\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\r\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\r\n\r\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\r\n\r\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\r\n\r\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\r\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\r\n\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_gl.bindRenderbuffer( 36161, null );\r\n\r\n\t}\r\n\r\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\r\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\r\n\r\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\r\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\r\n\r\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\r\n\r\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\r\n\r\n\t\t}\r\n\r\n\t\t// upload an empty depth texture with framebuffer size\r\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\r\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\r\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\r\n\r\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\r\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\r\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\r\n\r\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\r\n\r\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\r\n\r\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\r\n\r\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\r\n\r\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Setup GL resources for a non-texture depth buffer\r\n\tfunction setupDepthRenderbuffer( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\r\n\r\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( isCube ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\r\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\r\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_gl.bindFramebuffer( 36160, null );\r\n\r\n\t}\r\n\r\n\t// Set up GL resources for the render target\r\n\tfunction setupRenderTarget( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\r\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\r\n\t\tinfo.memory.textures ++;\r\n\r\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\r\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\r\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\r\n\r\n\t\t// Setup framebuffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\r\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\r\n\r\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\r\n\r\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\r\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\r\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\r\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\r\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\r\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\r\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\r\n\r\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\r\n\r\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\r\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Setup color buffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\r\n\r\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.bindTexture( 34067, null );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\r\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\r\n\r\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\r\n\r\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.bindTexture( 3553, null );\r\n\r\n\t\t}\r\n\r\n\t\t// Setup depth and stencil buffers\r\n\r\n\t\tif ( renderTarget.depthBuffer ) {\r\n\r\n\t\t\tsetupDepthRenderbuffer( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateRenderTargetMipmap( renderTarget ) {\r\n\r\n\t\tvar texture = renderTarget.texture;\r\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\r\n\r\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\tvar target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\r\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\r\n\r\n\t\t\tstate.bindTexture( target, webglTexture );\r\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\r\n\t\t\tstate.bindTexture( target, null );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\r\n\r\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\r\n\r\n\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\r\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\r\n\r\n\t\t\t\tvar width = renderTarget.width;\r\n\t\t\t\tvar height = renderTarget.height;\r\n\t\t\t\tvar mask = 16384;\r\n\r\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\r\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\r\n\r\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getRenderTargetSamples( renderTarget ) {\r\n\r\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\r\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\r\n\r\n\t}\r\n\r\n\tfunction updateVideoTexture( texture ) {\r\n\r\n\t\tvar frame = info.render.frame;\r\n\r\n\t\t// Check the last frame we updated the VideoTexture\r\n\r\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\r\n\r\n\t\t\t_videoTextures.set( texture, frame );\r\n\t\t\ttexture.update();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// backwards compatibility\r\n\r\n\tvar warnedTexture2D = false;\r\n\tvar warnedTextureCube = false;\r\n\r\n\tfunction safeSetTexture2D( texture, slot ) {\r\n\r\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\r\n\r\n\t\t\tif ( warnedTexture2D === false ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\t\twarnedTexture2D = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture = texture.texture;\r\n\r\n\t\t}\r\n\r\n\t\tsetTexture2D( texture, slot );\r\n\r\n\t}\r\n\r\n\tfunction safeSetTextureCube( texture, slot ) {\r\n\r\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\tif ( warnedTextureCube === false ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\r\n\t\t\t\twarnedTextureCube = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture = texture.texture;\r\n\r\n\t\t}\r\n\r\n\t\t// currently relying on the fact that WebGLCubeRenderTarget.texture is a Texture and NOT a CubeTexture\r\n\t\t// TODO: unify these code paths\r\n\t\tif ( ( texture && texture.isCubeTexture ) ||\r\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\r\n\r\n\t\t\t// CompressedTexture can have Array in image :/\r\n\r\n\t\t\t// this function alone should take care of cube textures\r\n\t\t\tsetTextureCube( texture, slot );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// assumed: texture property of THREE.WebGLCubeRenderTarget\r\n\t\t\tsetTextureCubeDynamic( texture, slot );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.allocateTextureUnit = allocateTextureUnit;\r\n\tthis.resetTextureUnits = resetTextureUnits;\r\n\r\n\tthis.setTexture2D = setTexture2D;\r\n\tthis.setTexture2DArray = setTexture2DArray;\r\n\tthis.setTexture3D = setTexture3D;\r\n\tthis.setTextureCube = setTextureCube;\r\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\r\n\tthis.setupRenderTarget = setupRenderTarget;\r\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\r\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\r\n\r\n\tthis.safeSetTexture2D = safeSetTexture2D;\r\n\tthis.safeSetTextureCube = safeSetTextureCube;\r\n\r\n}\r\n\r\n/**\r\n * @author thespite / http://www.twitter.com/thespite\r\n */\r\n\r\nfunction WebGLUtils( gl, extensions, capabilities ) {\r\n\r\n\tvar isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tfunction convert( p ) {\r\n\r\n\t\tvar extension;\r\n\r\n\t\tif ( p === UnsignedByteType ) return 5121;\r\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\r\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\r\n\t\tif ( p === UnsignedShort565Type ) return 33635;\r\n\r\n\t\tif ( p === ByteType ) return 5120;\r\n\t\tif ( p === ShortType ) return 5122;\r\n\t\tif ( p === UnsignedShortType ) return 5123;\r\n\t\tif ( p === IntType ) return 5124;\r\n\t\tif ( p === UnsignedIntType ) return 5125;\r\n\t\tif ( p === FloatType ) return 5126;\r\n\r\n\t\tif ( p === HalfFloatType ) {\r\n\r\n\t\t\tif ( isWebGL2 ) return 5131;\r\n\r\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.HALF_FLOAT_OES;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === AlphaFormat ) return 6406;\r\n\t\tif ( p === RGBFormat ) return 6407;\r\n\t\tif ( p === RGBAFormat ) return 6408;\r\n\t\tif ( p === LuminanceFormat ) return 6409;\r\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\r\n\t\tif ( p === DepthFormat ) return 6402;\r\n\t\tif ( p === DepthStencilFormat ) return 34041;\r\n\t\tif ( p === RedFormat ) return 6403;\r\n\r\n\t\t// WebGL2 formats.\r\n\r\n\t\tif ( p === RedIntegerFormat ) return 36244;\r\n\t\tif ( p === RGFormat ) return 33319;\r\n\t\tif ( p === RGIntegerFormat ) return 33320;\r\n\t\tif ( p === RGBIntegerFormat ) return 36248;\r\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\r\n\r\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\r\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\r\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\r\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\r\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\r\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_ETC1_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\r\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\r\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\r\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\r\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\r\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\t// TODO Complete?\r\n\r\n\t\t\t\treturn p;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === UnsignedInt248Type ) {\r\n\r\n\t\t\tif ( isWebGL2 ) return 34042;\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { convert: convert };\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction ArrayCamera( array ) {\r\n\r\n\tPerspectiveCamera.call( this );\r\n\r\n\tthis.cameras = array || [];\r\n\r\n}\r\n\r\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\r\n\r\n\tconstructor: ArrayCamera,\r\n\r\n\tisArrayCamera: true\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Group() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Group';\r\n\r\n}\r\n\r\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Group,\r\n\r\n\tisGroup: true\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction WebXRManager( renderer, gl ) {\r\n\r\n\tvar scope = this;\r\n\r\n\tvar session = null;\r\n\r\n\tvar framebufferScaleFactor = 1.0;\r\n\r\n\tvar referenceSpace = null;\r\n\tvar referenceSpaceType = 'local-floor';\r\n\r\n\tvar pose = null;\r\n\r\n\tvar controllers = [];\r\n\tvar inputSourcesMap = new Map();\r\n\r\n\t//\r\n\r\n\tvar cameraL = new PerspectiveCamera();\r\n\tcameraL.layers.enable( 1 );\r\n\tcameraL.viewport = new Vector4();\r\n\r\n\tvar cameraR = new PerspectiveCamera();\r\n\tcameraR.layers.enable( 2 );\r\n\tcameraR.viewport = new Vector4();\r\n\r\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\r\n\tcameraVR.layers.enable( 1 );\r\n\tcameraVR.layers.enable( 2 );\r\n\r\n\tvar _currentDepthNear = null;\r\n\tvar _currentDepthFar = null;\r\n\r\n\t//\r\n\r\n\tthis.enabled = false;\r\n\r\n\tthis.isPresenting = false;\r\n\r\n\tthis.getController = function ( id ) {\r\n\r\n\t\tvar controller = controllers[ id ];\r\n\r\n\t\tif ( controller === undefined ) {\r\n\r\n\t\t\tcontroller = {};\r\n\t\t\tcontrollers[ id ] = controller;\r\n\r\n\t\t}\r\n\r\n\t\tif ( controller.targetRay === undefined ) {\r\n\r\n\t\t\tcontroller.targetRay = new Group();\r\n\t\t\tcontroller.targetRay.matrixAutoUpdate = false;\r\n\t\t\tcontroller.targetRay.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn controller.targetRay;\r\n\r\n\t};\r\n\r\n\tthis.getControllerGrip = function ( id ) {\r\n\r\n\t\tvar controller = controllers[ id ];\r\n\r\n\t\tif ( controller === undefined ) {\r\n\r\n\t\t\tcontroller = {};\r\n\t\t\tcontrollers[ id ] = controller;\r\n\r\n\t\t}\r\n\r\n\t\tif ( controller.grip === undefined ) {\r\n\r\n\t\t\tcontroller.grip = new Group();\r\n\t\t\tcontroller.grip.matrixAutoUpdate = false;\r\n\t\t\tcontroller.grip.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn controller.grip;\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tfunction onSessionEvent( event ) {\r\n\r\n\t\tvar controller = inputSourcesMap.get( event.inputSource );\r\n\r\n\t\tif ( controller ) {\r\n\r\n\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: event.type } );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( controller.grip ) {\r\n\r\n\t\t\t\tcontroller.grip.dispatchEvent( { type: event.type } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onSessionEnd() {\r\n\r\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\r\n\r\n\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\t\t\t\tcontroller.targetRay.visible = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( controller.grip ) {\r\n\r\n\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\t\t\t\tcontroller.grip.visible = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tinputSourcesMap.clear();\r\n\r\n\t\t//\r\n\r\n\t\trenderer.setFramebuffer( null );\r\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\r\n\t\tanimation.stop();\r\n\r\n\t\tscope.isPresenting = false;\r\n\r\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\r\n\r\n\t}\r\n\r\n\tfunction onRequestReferenceSpace( value ) {\r\n\r\n\t\treferenceSpace = value;\r\n\r\n\t\tanimation.setContext( session );\r\n\t\tanimation.start();\r\n\r\n\t\tscope.isPresenting = true;\r\n\r\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\r\n\r\n\t}\r\n\r\n\tthis.setFramebufferScaleFactor = function ( value ) {\r\n\r\n\t\tframebufferScaleFactor = value;\r\n\r\n\t\t// Warn if function is used while presenting\r\n\t\tif ( scope.isPresenting == true ) {\r\n\r\n\t\t\tconsole.warn( \"WebXRManager: Cannot change framebuffer scale while presenting VR content\" );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setReferenceSpaceType = function ( value ) {\r\n\r\n\t\treferenceSpaceType = value;\r\n\r\n\t};\r\n\r\n\tthis.getReferenceSpace = function () {\r\n\r\n\t\treturn referenceSpace;\r\n\r\n\t};\r\n\r\n\tthis.getSession = function () {\r\n\r\n\t\treturn session;\r\n\r\n\t};\r\n\r\n\tthis.setSession = function ( value ) {\r\n\r\n\t\tsession = value;\r\n\r\n\t\tif ( session !== null ) {\r\n\r\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\r\n\r\n\t\t\tvar attributes = gl.getContextAttributes();\r\n\r\n\t\t\tvar layerInit = {\r\n\t\t\t\tantialias: attributes.antialias,\r\n\t\t\t\talpha: attributes.alpha,\r\n\t\t\t\tdepth: attributes.depth,\r\n\t\t\t\tstencil: attributes.stencil,\r\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\r\n\t\t\t};\r\n\r\n\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\tvar baseLayer = new XRWebGLLayer( session, gl, layerInit );\r\n\r\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\r\n\r\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\r\n\r\n\t\t\t//\r\n\r\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction updateInputSources( event ) {\r\n\r\n\t\tvar inputSources = session.inputSources;\r\n\r\n\t\t// Assign inputSources to available controllers\r\n\r\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\r\n\r\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t// Notify disconnected\r\n\r\n\t\tfor ( var i = 0; i < event.removed.length; i ++ ) {\r\n\r\n\t\t\tvar inputSource = event.removed[ i ];\r\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\r\n\r\n\t\t\tif ( controller ) {\r\n\r\n\t\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( controller.grip ) {\r\n\r\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinputSourcesMap.delete( inputSource );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Notify connected\r\n\r\n\t\tfor ( var i = 0; i < event.added.length; i ++ ) {\r\n\r\n\t\t\tvar inputSource = event.added[ i ];\r\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\r\n\r\n\t\t\tif ( controller ) {\r\n\r\n\t\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'connected', data: inputSource } );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( controller.grip ) {\r\n\r\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'connected', data: inputSource } );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar cameraLPos = new Vector3();\r\n\tvar cameraRPos = new Vector3();\r\n\r\n\t/**\r\n\t * @author jsantell / https://www.jsantell.com/\r\n\t *\r\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\r\n\t * the cameras' projection and world matrices have already been set.\r\n\t * And that near and far planes are identical for both cameras.\r\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\r\n\t */\r\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\r\n\r\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\r\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\r\n\r\n\t\tvar ipd = cameraLPos.distanceTo( cameraRPos );\r\n\r\n\t\tvar projL = cameraL.projectionMatrix.elements;\r\n\t\tvar projR = cameraR.projectionMatrix.elements;\r\n\r\n\t\t// VR systems will have identical far and near planes, and\r\n\t\t// most likely identical top and bottom frustum extents.\r\n\t\t// Use the left camera for these values.\r\n\t\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\r\n\t\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\r\n\t\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\r\n\t\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\r\n\r\n\t\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\r\n\t\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\r\n\t\tvar left = near * leftFov;\r\n\t\tvar right = near * rightFov;\r\n\r\n\t\t// Calculate the new camera's position offset from the\r\n\t\t// left camera. xOffset should be roughly half `ipd`.\r\n\t\tvar zOffset = ipd / ( - leftFov + rightFov );\r\n\t\tvar xOffset = zOffset * - leftFov;\r\n\r\n\t\t// TODO: Better way to apply this offset?\r\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\r\n\t\tcamera.translateX( xOffset );\r\n\t\tcamera.translateZ( zOffset );\r\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\r\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\r\n\r\n\t\t// Find the union of the frustum values of the cameras and scale\r\n\t\t// the values so that the near plane's position does not change in world space,\r\n\t\t// although must now be relative to the new union camera.\r\n\t\tvar near2 = near + zOffset;\r\n\t\tvar far2 = far + zOffset;\r\n\t\tvar left2 = left - xOffset;\r\n\t\tvar right2 = right + ( ipd - xOffset );\r\n\t\tvar top2 = topFov * far / far2 * near2;\r\n\t\tvar bottom2 = bottomFov * far / far2 * near2;\r\n\r\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\r\n\r\n\t}\r\n\r\n\tfunction updateCamera( camera, parent ) {\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\r\n\r\n\t\t}\r\n\r\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\r\n\r\n\t}\r\n\r\n\tthis.getCamera = function ( camera ) {\r\n\r\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\r\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\r\n\r\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\r\n\r\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\r\n\r\n\t\t\tsession.updateRenderState( {\r\n\t\t\t\tdepthNear: cameraVR.near,\r\n\t\t\t\tdepthFar: cameraVR.far\r\n\t\t\t} );\r\n\r\n\t\t\t_currentDepthNear = cameraVR.near;\r\n\t\t\t_currentDepthFar = cameraVR.far;\r\n\r\n\t\t}\r\n\r\n\t\tvar parent = camera.parent;\r\n\t\tvar cameras = cameraVR.cameras;\r\n\r\n\t\tupdateCamera( cameraVR, parent );\r\n\r\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\r\n\r\n\t\t\tupdateCamera( cameras[ i ], parent );\r\n\r\n\t\t}\r\n\r\n\t\t// update camera and its children\r\n\r\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\r\n\r\n\t\tvar children = camera.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].updateMatrixWorld( true );\r\n\r\n\t\t}\r\n\r\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\r\n\r\n\t\treturn cameraVR;\r\n\r\n\t};\r\n\r\n\t// Animation Loop\r\n\r\n\tvar onAnimationFrameCallback = null;\r\n\r\n\tfunction onAnimationFrame( time, frame ) {\r\n\r\n\t\tpose = frame.getViewerPose( referenceSpace );\r\n\r\n\t\tif ( pose !== null ) {\r\n\r\n\t\t\tvar views = pose.views;\r\n\t\t\tvar baseLayer = session.renderState.baseLayer;\r\n\r\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\r\n\r\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\r\n\r\n\t\t\t\tvar view = views[ i ];\r\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\r\n\r\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\r\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\r\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\r\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\r\n\r\n\t\t\t\tif ( i === 0 ) {\r\n\r\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar inputSources = session.inputSources;\r\n\r\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\r\n\r\n\t\t\tvar controller = controllers[ i ];\r\n\r\n\t\t\tvar inputSource = inputSources[ i ];\r\n\r\n\t\t\tvar inputPose = null;\r\n\t\t\tvar gripPose = null;\r\n\r\n\t\t\tif ( inputSource ) {\r\n\r\n\t\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\r\n\r\n\t\t\t\t\tif ( inputPose !== null ) {\r\n\r\n\t\t\t\t\t\tcontroller.targetRay.matrix.fromArray( inputPose.transform.matrix );\r\n\t\t\t\t\t\tcontroller.targetRay.matrix.decompose( controller.targetRay.position, controller.targetRay.rotation, controller.targetRay.scale );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( controller.grip && inputSource.gripSpace ) {\r\n\r\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\r\n\r\n\t\t\t\t\tif ( gripPose !== null ) {\r\n\r\n\t\t\t\t\t\tcontroller.grip.matrix.fromArray( gripPose.transform.matrix );\r\n\t\t\t\t\t\tcontroller.grip.matrix.decompose( controller.grip.position, controller.grip.rotation, controller.grip.scale );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( controller.targetRay ) {\r\n\r\n\t\t\t\tcontroller.targetRay.visible = inputPose !== null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( controller.grip ) {\r\n\r\n\t\t\t\tcontroller.grip.visible = gripPose !== null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\r\n\r\n\t}\r\n\r\n\tvar animation = new WebGLAnimation();\r\n\tanimation.setAnimationLoop( onAnimationFrame );\r\n\r\n\tthis.setAnimationLoop = function ( callback ) {\r\n\r\n\t\tonAnimationFrameCallback = callback;\r\n\r\n\t};\r\n\r\n\tthis.dispose = function () {};\r\n\r\n}\r\n\r\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\r\n\r\n/**\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author szimek / https://github.com/szimek/\r\n * @author tschw\r\n */\r\n\r\nfunction WebGLRenderer( parameters ) {\r\n\r\n\tparameters = parameters || {};\r\n\r\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\r\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\r\n\r\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\r\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\r\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\r\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\r\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\r\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\r\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\r\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\r\n\r\n\tvar currentRenderList = null;\r\n\tvar currentRenderState = null;\r\n\r\n\t// public properties\r\n\r\n\tthis.domElement = _canvas;\r\n\r\n\t// Debug configuration container\r\n\tthis.debug = {\r\n\r\n\t\t/**\r\n\t\t * Enables error checking and reporting when shader programs are being compiled\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tcheckShaderErrors: true\r\n\t};\r\n\r\n\t// clearing\r\n\r\n\tthis.autoClear = true;\r\n\tthis.autoClearColor = true;\r\n\tthis.autoClearDepth = true;\r\n\tthis.autoClearStencil = true;\r\n\r\n\t// scene graph\r\n\r\n\tthis.sortObjects = true;\r\n\r\n\t// user-defined clipping\r\n\r\n\tthis.clippingPlanes = [];\r\n\tthis.localClippingEnabled = false;\r\n\r\n\t// physically based shading\r\n\r\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\r\n\tthis.outputEncoding = LinearEncoding;\r\n\r\n\t// physical lights\r\n\r\n\tthis.physicallyCorrectLights = false;\r\n\r\n\t// tone mapping\r\n\r\n\tthis.toneMapping = LinearToneMapping;\r\n\tthis.toneMappingExposure = 1.0;\r\n\tthis.toneMappingWhitePoint = 1.0;\r\n\r\n\t// morphs\r\n\r\n\tthis.maxMorphTargets = 8;\r\n\tthis.maxMorphNormals = 4;\r\n\r\n\t// internal properties\r\n\r\n\tvar _this = this,\r\n\r\n\t\t_isContextLost = false,\r\n\r\n\t\t// internal state cache\r\n\r\n\t\t_framebuffer = null,\r\n\r\n\t\t_currentActiveCubeFace = 0,\r\n\t\t_currentActiveMipmapLevel = 0,\r\n\t\t_currentRenderTarget = null,\r\n\t\t_currentFramebuffer = null,\r\n\t\t_currentMaterialId = - 1,\r\n\r\n\t\t// geometry and program caching\r\n\r\n\t\t_currentGeometryProgram = {\r\n\t\t\tgeometry: null,\r\n\t\t\tprogram: null,\r\n\t\t\twireframe: false\r\n\t\t},\r\n\r\n\t\t_currentCamera = null,\r\n\t\t_currentArrayCamera = null,\r\n\r\n\t\t_currentViewport = new Vector4(),\r\n\t\t_currentScissor = new Vector4(),\r\n\t\t_currentScissorTest = null,\r\n\r\n\t\t//\r\n\r\n\t\t_width = _canvas.width,\r\n\t\t_height = _canvas.height,\r\n\r\n\t\t_pixelRatio = 1,\r\n\t\t_opaqueSort = null,\r\n\t\t_transparentSort = null,\r\n\r\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\r\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\r\n\t\t_scissorTest = false,\r\n\r\n\t\t// frustum\r\n\r\n\t\t_frustum = new Frustum(),\r\n\r\n\t\t// clipping\r\n\r\n\t\t_clipping = new WebGLClipping(),\r\n\t\t_clippingEnabled = false,\r\n\t\t_localClippingEnabled = false,\r\n\r\n\t\t// camera matrices cache\r\n\r\n\t\t_projScreenMatrix = new Matrix4(),\r\n\r\n\t\t_vector3 = new Vector3();\r\n\r\n\tfunction getTargetPixelRatio() {\r\n\r\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\r\n\r\n\t}\r\n\r\n\t// initialize\r\n\r\n\tvar _gl;\r\n\r\n\ttry {\r\n\r\n\t\tvar contextAttributes = {\r\n\t\t\talpha: _alpha,\r\n\t\t\tdepth: _depth,\r\n\t\t\tstencil: _stencil,\r\n\t\t\tantialias: _antialias,\r\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\r\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\r\n\t\t\tpowerPreference: _powerPreference,\r\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\r\n\t\t\txrCompatible: true\r\n\t\t};\r\n\r\n\t\t// event listeners must be registered before WebGL context is created, see #12753\r\n\r\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\r\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\r\n\r\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\r\n\r\n\t\tif ( _gl === null ) {\r\n\r\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\r\n\r\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\r\n\r\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\r\n\r\n\t\t\t_gl.getShaderPrecisionFormat = function () {\r\n\r\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t} catch ( error ) {\r\n\r\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\r\n\t\tthrow error;\r\n\r\n\t}\r\n\r\n\tvar extensions, capabilities, state, info;\r\n\tvar properties, textures, attributes, geometries, objects;\r\n\tvar programCache, renderLists, renderStates;\r\n\r\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\r\n\r\n\tvar utils;\r\n\r\n\tfunction initGLContext() {\r\n\r\n\t\textensions = new WebGLExtensions( _gl );\r\n\r\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\r\n\r\n\t\tif ( capabilities.isWebGL2 === false ) {\r\n\r\n\t\t\textensions.get( 'WEBGL_depth_texture' );\r\n\t\t\textensions.get( 'OES_texture_float' );\r\n\t\t\textensions.get( 'OES_texture_half_float' );\r\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\r\n\t\t\textensions.get( 'OES_standard_derivatives' );\r\n\t\t\textensions.get( 'OES_element_index_uint' );\r\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t}\r\n\r\n\t\textensions.get( 'OES_texture_float_linear' );\r\n\r\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\r\n\r\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\r\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\r\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\r\n\r\n\t\tinfo = new WebGLInfo( _gl );\r\n\t\tproperties = new WebGLProperties();\r\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\r\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\r\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\r\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\r\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\r\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\r\n\t\trenderLists = new WebGLRenderLists();\r\n\t\trenderStates = new WebGLRenderStates();\r\n\r\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\r\n\r\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\r\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\r\n\r\n\t\tinfo.programs = programCache.programs;\r\n\r\n\t\t_this.capabilities = capabilities;\r\n\t\t_this.extensions = extensions;\r\n\t\t_this.properties = properties;\r\n\t\t_this.renderLists = renderLists;\r\n\t\t_this.state = state;\r\n\t\t_this.info = info;\r\n\r\n\t}\r\n\r\n\tinitGLContext();\r\n\r\n\t// xr\r\n\r\n\tvar xr = new WebXRManager( _this, _gl );\r\n\r\n\tthis.xr = xr;\r\n\r\n\t// shadow map\r\n\r\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\r\n\r\n\tthis.shadowMap = shadowMap;\r\n\r\n\t// API\r\n\r\n\tthis.getContext = function () {\r\n\r\n\t\treturn _gl;\r\n\r\n\t};\r\n\r\n\tthis.getContextAttributes = function () {\r\n\r\n\t\treturn _gl.getContextAttributes();\r\n\r\n\t};\r\n\r\n\tthis.forceContextLoss = function () {\r\n\r\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\r\n\t\tif ( extension ) extension.loseContext();\r\n\r\n\t};\r\n\r\n\tthis.forceContextRestore = function () {\r\n\r\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\r\n\t\tif ( extension ) extension.restoreContext();\r\n\r\n\t};\r\n\r\n\tthis.getPixelRatio = function () {\r\n\r\n\t\treturn _pixelRatio;\r\n\r\n\t};\r\n\r\n\tthis.setPixelRatio = function ( value ) {\r\n\r\n\t\tif ( value === undefined ) return;\r\n\r\n\t\t_pixelRatio = value;\r\n\r\n\t\tthis.setSize( _width, _height, false );\r\n\r\n\t};\r\n\r\n\tthis.getSize = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\r\n\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( _width, _height );\r\n\r\n\t};\r\n\r\n\tthis.setSize = function ( width, height, updateStyle ) {\r\n\r\n\t\tif ( xr.isPresenting ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\r\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\r\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\r\n\r\n\t\tif ( updateStyle !== false ) {\r\n\r\n\t\t\t_canvas.style.width = width + 'px';\r\n\t\t\t_canvas.style.height = height + 'px';\r\n\r\n\t\t}\r\n\r\n\t\tthis.setViewport( 0, 0, width, height );\r\n\r\n\t};\r\n\r\n\tthis.getDrawingBufferSize = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\r\n\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\r\n\r\n\t};\r\n\r\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\r\n\t\t_pixelRatio = pixelRatio;\r\n\r\n\t\t_canvas.width = Math.floor( width * pixelRatio );\r\n\t\t_canvas.height = Math.floor( height * pixelRatio );\r\n\r\n\t\tthis.setViewport( 0, 0, width, height );\r\n\r\n\t};\r\n\r\n\tthis.getCurrentViewport = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\r\n\r\n\t\t\ttarget = new Vector4();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( _currentViewport );\r\n\r\n\t};\r\n\r\n\tthis.getViewport = function ( target ) {\r\n\r\n\t\treturn target.copy( _viewport );\r\n\r\n\t};\r\n\r\n\tthis.setViewport = function ( x, y, width, height ) {\r\n\r\n\t\tif ( x.isVector4 ) {\r\n\r\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_viewport.set( x, y, width, height );\r\n\r\n\t\t}\r\n\r\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\r\n\r\n\t};\r\n\r\n\tthis.getScissor = function ( target ) {\r\n\r\n\t\treturn target.copy( _scissor );\r\n\r\n\t};\r\n\r\n\tthis.setScissor = function ( x, y, width, height ) {\r\n\r\n\t\tif ( x.isVector4 ) {\r\n\r\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_scissor.set( x, y, width, height );\r\n\r\n\t\t}\r\n\r\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\r\n\r\n\t};\r\n\r\n\tthis.getScissorTest = function () {\r\n\r\n\t\treturn _scissorTest;\r\n\r\n\t};\r\n\r\n\tthis.setScissorTest = function ( boolean ) {\r\n\r\n\t\tstate.setScissorTest( _scissorTest = boolean );\r\n\r\n\t};\r\n\r\n\tthis.setOpaqueSort = function ( method ) {\r\n\r\n\t\t_opaqueSort = method;\r\n\r\n\t};\r\n\r\n\tthis.setTransparentSort = function ( method ) {\r\n\r\n\t\t_transparentSort = method;\r\n\r\n\t};\r\n\r\n\t// Clearing\r\n\r\n\tthis.getClearColor = function () {\r\n\r\n\t\treturn background.getClearColor();\r\n\r\n\t};\r\n\r\n\tthis.setClearColor = function () {\r\n\r\n\t\tbackground.setClearColor.apply( background, arguments );\r\n\r\n\t};\r\n\r\n\tthis.getClearAlpha = function () {\r\n\r\n\t\treturn background.getClearAlpha();\r\n\r\n\t};\r\n\r\n\tthis.setClearAlpha = function () {\r\n\r\n\t\tbackground.setClearAlpha.apply( background, arguments );\r\n\r\n\t};\r\n\r\n\tthis.clear = function ( color, depth, stencil ) {\r\n\r\n\t\tvar bits = 0;\r\n\r\n\t\tif ( color === undefined || color ) bits |= 16384;\r\n\t\tif ( depth === undefined || depth ) bits |= 256;\r\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\r\n\r\n\t\t_gl.clear( bits );\r\n\r\n\t};\r\n\r\n\tthis.clearColor = function () {\r\n\r\n\t\tthis.clear( true, false, false );\r\n\r\n\t};\r\n\r\n\tthis.clearDepth = function () {\r\n\r\n\t\tthis.clear( false, true, false );\r\n\r\n\t};\r\n\r\n\tthis.clearStencil = function () {\r\n\r\n\t\tthis.clear( false, false, true );\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\r\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\r\n\r\n\t\trenderLists.dispose();\r\n\t\trenderStates.dispose();\r\n\t\tproperties.dispose();\r\n\t\tobjects.dispose();\r\n\r\n\t\txr.dispose();\r\n\r\n\t\tanimation.stop();\r\n\r\n\t};\r\n\r\n\t// Events\r\n\r\n\tfunction onContextLost( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\r\n\r\n\t\t_isContextLost = true;\r\n\r\n\t}\r\n\r\n\tfunction onContextRestore( /* event */ ) {\r\n\r\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\r\n\r\n\t\t_isContextLost = false;\r\n\r\n\t\tinitGLContext();\r\n\r\n\t}\r\n\r\n\tfunction onMaterialDispose( event ) {\r\n\r\n\t\tvar material = event.target;\r\n\r\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\tdeallocateMaterial( material );\r\n\r\n\t}\r\n\r\n\t// Buffer deallocation\r\n\r\n\tfunction deallocateMaterial( material ) {\r\n\r\n\t\treleaseMaterialProgramReference( material );\r\n\r\n\t\tproperties.remove( material );\r\n\r\n\t}\r\n\r\n\r\n\tfunction releaseMaterialProgramReference( material ) {\r\n\r\n\t\tvar programInfo = properties.get( material ).program;\r\n\r\n\t\tmaterial.program = undefined;\r\n\r\n\t\tif ( programInfo !== undefined ) {\r\n\r\n\t\t\tprogramCache.releaseProgram( programInfo );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Buffer rendering\r\n\r\n\tfunction renderObjectImmediate( object, program ) {\r\n\r\n\t\tobject.render( function ( object ) {\r\n\r\n\t\t\t_this.renderBufferImmediate( object, program );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tthis.renderBufferImmediate = function ( object, program ) {\r\n\r\n\t\tstate.initAttributes();\r\n\r\n\t\tvar buffers = properties.get( object );\r\n\r\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\r\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\r\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\r\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\r\n\r\n\t\tvar programAttributes = program.getAttributes();\r\n\r\n\t\tif ( object.hasPositions ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\r\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\r\n\r\n\t\t\tstate.enableAttribute( programAttributes.position );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasNormals ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\r\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\r\n\r\n\t\t\tstate.enableAttribute( programAttributes.normal );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasUvs ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\r\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\r\n\r\n\t\t\tstate.enableAttribute( programAttributes.uv );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasColors ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\r\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\r\n\r\n\t\t\tstate.enableAttribute( programAttributes.color );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t\t_gl.drawArrays( 4, 0, object.count );\r\n\r\n\t\tobject.count = 0;\r\n\r\n\t};\r\n\r\n\tvar tempScene = new Scene();\r\n\r\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\r\n\r\n\t\tif ( scene === null ) scene = tempScene; // renderBufferDirect second parameter used to be fog (could be null)\r\n\r\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\r\n\r\n\t\tvar program = setProgram( camera, scene, material, object );\r\n\r\n\t\tstate.setMaterial( material, frontFaceCW );\r\n\r\n\t\tvar updateBuffers = false;\r\n\r\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\r\n\t\t\t_currentGeometryProgram.program !== program.id ||\r\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\r\n\r\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\r\n\t\t\t_currentGeometryProgram.program = program.id;\r\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\r\n\t\t\tupdateBuffers = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.morphTargets || material.morphNormals ) {\r\n\r\n\t\t\tmorphtargets.update( object, geometry, material, program );\r\n\r\n\t\t\tupdateBuffers = true;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar position = geometry.attributes.position;\r\n\r\n\t\t//\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tif ( position === undefined || position.count === 0 ) return;\r\n\r\n\t\t} else if ( index.count === 0 ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar rangeFactor = 1;\r\n\r\n\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\r\n\t\t\trangeFactor = 2;\r\n\r\n\t\t}\r\n\r\n\t\tvar attribute;\r\n\t\tvar renderer = bufferRenderer;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tattribute = attributes.get( index );\r\n\r\n\t\t\trenderer = indexedBufferRenderer;\r\n\t\t\trenderer.setIndex( attribute );\r\n\r\n\t\t}\r\n\r\n\t\tif ( updateBuffers ) {\r\n\r\n\t\t\tsetupVertexAttributes( object, geometry, material, program );\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar dataCount = ( index !== null ) ? index.count : position.count;\r\n\r\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\r\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\r\n\r\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\r\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\r\n\r\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\r\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\r\n\r\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\r\n\r\n\t\tif ( drawCount === 0 ) return;\r\n\r\n\t\t//\r\n\r\n\t\tif ( object.isMesh ) {\r\n\r\n\t\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\r\n\t\t\t\trenderer.setMode( 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setMode( 4 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object.isLine ) {\r\n\r\n\t\t\tvar lineWidth = material.linewidth;\r\n\r\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\r\n\r\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\r\n\r\n\t\t\tif ( object.isLineSegments ) {\r\n\r\n\t\t\t\trenderer.setMode( 1 );\r\n\r\n\t\t\t} else if ( object.isLineLoop ) {\r\n\r\n\t\t\t\trenderer.setMode( 2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setMode( 3 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object.isPoints ) {\r\n\r\n\t\t\trenderer.setMode( 0 );\r\n\r\n\t\t} else if ( object.isSprite ) {\r\n\r\n\t\t\trenderer.setMode( 4 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh ) {\r\n\r\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, object.count );\r\n\r\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\r\n\r\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, geometry.maxInstancedCount );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( drawStart, drawCount );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction setupVertexAttributes( object, geometry, material, program ) {\r\n\r\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\r\n\r\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\r\n\r\n\t\t}\r\n\r\n\t\tstate.initAttributes();\r\n\r\n\t\tvar geometryAttributes = geometry.attributes;\r\n\r\n\t\tvar programAttributes = program.getAttributes();\r\n\r\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\r\n\r\n\t\tfor ( var name in programAttributes ) {\r\n\r\n\t\t\tvar programAttribute = programAttributes[ name ];\r\n\r\n\t\t\tif ( programAttribute >= 0 ) {\r\n\r\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\r\n\r\n\t\t\t\tif ( geometryAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\r\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\r\n\r\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\r\n\r\n\t\t\t\t\t// TODO Attribute may not be available on context restore\r\n\r\n\t\t\t\t\tif ( attribute === undefined ) continue;\r\n\r\n\t\t\t\t\tvar buffer = attribute.buffer;\r\n\t\t\t\t\tvar type = attribute.type;\r\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\r\n\r\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\tvar data = geometryAttribute.data;\r\n\t\t\t\t\t\tvar stride = data.stride;\r\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\r\n\r\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\r\n\r\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\r\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\r\n\r\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\r\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\r\n\r\n\t\t\t\t\tvar attribute = attributes.get( object.instanceMatrix );\r\n\r\n\t\t\t\t\t// TODO Attribute may not be available on context restore\r\n\r\n\t\t\t\t\tif ( attribute === undefined ) continue;\r\n\r\n\t\t\t\t\tvar buffer = attribute.buffer;\r\n\t\t\t\t\tvar type = attribute.type;\r\n\r\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 0, 1 );\r\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 1, 1 );\r\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 2, 1 );\r\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 3, 1 );\r\n\r\n\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\r\n\r\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\r\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\r\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\r\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\r\n\r\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\r\n\r\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\r\n\r\n\t\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\t\tswitch ( value.length ) {\r\n\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t}\r\n\r\n\t// Compile\r\n\r\n\tthis.compile = function ( scene, camera ) {\r\n\r\n\t\tcurrentRenderState = renderStates.get( scene, camera );\r\n\t\tcurrentRenderState.init();\r\n\r\n\t\tscene.traverse( function ( object ) {\r\n\r\n\t\t\tif ( object.isLight ) {\r\n\r\n\t\t\t\tcurrentRenderState.pushLight( object );\r\n\r\n\t\t\t\tif ( object.castShadow ) {\r\n\r\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tcurrentRenderState.setupLights( camera );\r\n\r\n\t\tvar compiled = {};\r\n\r\n\t\tscene.traverse( function ( object ) {\r\n\r\n\t\t\tif ( object.material ) {\r\n\r\n\t\t\t\tif ( Array.isArray( object.material ) ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( object.material[ i ].uuid in compiled === false ) {\r\n\r\n\t\t\t\t\t\t\tinitMaterial( object.material[ i ], scene, object );\r\n\t\t\t\t\t\t\tcompiled[ object.material[ i ].uuid ] = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( object.material.uuid in compiled === false ) {\r\n\r\n\t\t\t\t\tinitMaterial( object.material, scene, object );\r\n\t\t\t\t\tcompiled[ object.material.uuid ] = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t// Animation Loop\r\n\r\n\tvar onAnimationFrameCallback = null;\r\n\r\n\tfunction onAnimationFrame( time ) {\r\n\r\n\t\tif ( xr.isPresenting ) return;\r\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\r\n\r\n\t}\r\n\r\n\tvar animation = new WebGLAnimation();\r\n\tanimation.setAnimationLoop( onAnimationFrame );\r\n\r\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\r\n\r\n\tthis.setAnimationLoop = function ( callback ) {\r\n\r\n\t\tonAnimationFrameCallback = callback;\r\n\t\txr.setAnimationLoop( callback );\r\n\r\n\t\tanimation.start();\r\n\r\n\t};\r\n\r\n\t// Rendering\r\n\r\n\tthis.render = function ( scene, camera ) {\r\n\r\n\t\tvar renderTarget, forceClear;\r\n\r\n\t\tif ( arguments[ 2 ] !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\r\n\t\t\trenderTarget = arguments[ 2 ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( arguments[ 3 ] !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\r\n\t\t\tforceClear = arguments[ 3 ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! ( camera && camera.isCamera ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _isContextLost ) return;\r\n\r\n\t\t// reset caching for this frame\r\n\r\n\t\t_currentGeometryProgram.geometry = null;\r\n\t\t_currentGeometryProgram.program = null;\r\n\t\t_currentGeometryProgram.wireframe = false;\r\n\t\t_currentMaterialId = - 1;\r\n\t\t_currentCamera = null;\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\r\n\r\n\t\t// update camera matrices and frustum\r\n\r\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\r\n\r\n\t\tif ( xr.enabled && xr.isPresenting ) {\r\n\r\n\t\t\tcamera = xr.getCamera( camera );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tcurrentRenderState = renderStates.get( scene, camera );\r\n\t\tcurrentRenderState.init();\r\n\r\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\r\n\r\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\r\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\r\n\r\n\t\t_localClippingEnabled = this.localClippingEnabled;\r\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\r\n\r\n\t\tcurrentRenderList = renderLists.get( scene, camera );\r\n\t\tcurrentRenderList.init();\r\n\r\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\r\n\r\n\t\tcurrentRenderList.finish();\r\n\r\n\t\tif ( _this.sortObjects === true ) {\r\n\r\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\r\n\r\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\r\n\r\n\t\tshadowMap.render( shadowsArray, scene, camera );\r\n\r\n\t\tcurrentRenderState.setupLights( camera );\r\n\r\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.info.autoReset ) this.info.reset();\r\n\r\n\t\tif ( renderTarget !== undefined ) {\r\n\r\n\t\t\tthis.setRenderTarget( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\r\n\r\n\t\t// render scene\r\n\r\n\t\tvar opaqueObjects = currentRenderList.opaque;\r\n\t\tvar transparentObjects = currentRenderList.transparent;\r\n\r\n\t\tif ( scene.overrideMaterial ) {\r\n\r\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\r\n\r\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\r\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// opaque pass (front-to-back order)\r\n\r\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\r\n\r\n\t\t\t// transparent pass (back-to-front order)\r\n\r\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tscene.onAfterRender( _this, scene, camera );\r\n\r\n\t\t//\r\n\r\n\t\tif ( _currentRenderTarget !== null ) {\r\n\r\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\r\n\r\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\r\n\r\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\r\n\r\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\r\n\r\n\t\t}\r\n\r\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\r\n\r\n\t\tstate.buffers.depth.setTest( true );\r\n\t\tstate.buffers.depth.setMask( true );\r\n\t\tstate.buffers.color.setMask( true );\r\n\r\n\t\tstate.setPolygonOffset( false );\r\n\r\n\t\t// _gl.finish();\r\n\r\n\t\tcurrentRenderList = null;\r\n\t\tcurrentRenderState = null;\r\n\r\n\t};\r\n\r\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tvar visible = object.layers.test( camera.layers );\r\n\r\n\t\tif ( visible ) {\r\n\r\n\t\t\tif ( object.isGroup ) {\r\n\r\n\t\t\t\tgroupOrder = object.renderOrder;\r\n\r\n\t\t\t} else if ( object.isLOD ) {\r\n\r\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\r\n\r\n\t\t\t} else if ( object.isLight ) {\r\n\r\n\t\t\t\tcurrentRenderState.pushLight( object );\r\n\r\n\t\t\t\tif ( object.castShadow ) {\r\n\r\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( object.isSprite ) {\r\n\r\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\r\n\r\n\t\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar geometry = objects.update( object );\r\n\t\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\t\tif ( material.visible ) {\r\n\r\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( object.isImmediateRenderObject ) {\r\n\r\n\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\r\n\r\n\t\t\t\tif ( object.isSkinnedMesh ) {\r\n\r\n\t\t\t\t\t// update skeleton only once in a frame\r\n\r\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\r\n\r\n\t\t\t\t\t\tobject.skeleton.update();\r\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\r\n\r\n\t\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar geometry = objects.update( object );\r\n\t\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\t\tvar groups = geometry.groups;\r\n\r\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar group = groups[ i ];\r\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\r\n\r\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( material.visible ) {\r\n\r\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\r\n\r\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar renderItem = renderList[ i ];\r\n\r\n\t\t\tvar object = renderItem.object;\r\n\t\t\tvar geometry = renderItem.geometry;\r\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\r\n\t\t\tvar group = renderItem.group;\r\n\r\n\t\t\tif ( camera.isArrayCamera ) {\r\n\r\n\t\t\t\t_currentArrayCamera = camera;\r\n\r\n\t\t\t\tvar cameras = camera.cameras;\r\n\r\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar camera2 = cameras[ j ];\r\n\r\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\r\n\r\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\r\n\r\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\r\n\r\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_currentArrayCamera = null;\r\n\r\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\r\n\r\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\r\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\r\n\r\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\r\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\r\n\r\n\t\tif ( object.isImmediateRenderObject ) {\r\n\r\n\t\t\tvar program = setProgram( camera, scene, material, object );\r\n\r\n\t\t\tstate.setMaterial( material );\r\n\r\n\t\t\t_currentGeometryProgram.geometry = null;\r\n\t\t\t_currentGeometryProgram.program = null;\r\n\t\t\t_currentGeometryProgram.wireframe = false;\r\n\r\n\t\t\trenderObjectImmediate( object, program );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\r\n\r\n\t\t}\r\n\r\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\r\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\r\n\r\n\t}\r\n\r\n\tfunction initMaterial( material, scene, object ) {\r\n\r\n\t\tvar materialProperties = properties.get( material );\r\n\r\n\t\tvar lights = currentRenderState.state.lights;\r\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\r\n\r\n\t\tvar lightsStateVersion = lights.state.version;\r\n\r\n\t\tvar parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object );\r\n\t\tvar programCacheKey = programCache.getProgramCacheKey( parameters );\r\n\r\n\t\tvar program = materialProperties.program;\r\n\t\tvar programChange = true;\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\t// new material\r\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\r\n\r\n\t\t\t// changed glsl or parameters\r\n\t\t\treleaseMaterialProgramReference( material );\r\n\r\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\r\n\r\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\r\n\r\n\t\t\tprogramChange = false;\r\n\r\n\t\t} else if ( parameters.shaderID !== undefined ) {\r\n\r\n\t\t\t// same glsl and uniform list\r\n\t\t\treturn;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// only rebuild uniform list\r\n\t\t\tprogramChange = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( programChange ) {\r\n\r\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\r\n\r\n\t\t\tmaterialProperties.program = program;\r\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\r\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\t\t\tmaterialProperties.outputEncoding = _this.outputEncoding;\r\n\t\t\tmaterial.program = program;\r\n\r\n\t\t}\r\n\r\n\t\tvar programAttributes = program.getAttributes();\r\n\r\n\t\tif ( material.morphTargets ) {\r\n\r\n\t\t\tmaterial.numSupportedMorphTargets = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\r\n\r\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\r\n\r\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.morphNormals ) {\r\n\r\n\t\t\tmaterial.numSupportedMorphNormals = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\r\n\r\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\r\n\r\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar uniforms = materialProperties.uniforms;\r\n\r\n\t\tif ( ! material.isShaderMaterial &&\r\n\t\t\t! material.isRawShaderMaterial ||\r\n\t\t\tmaterial.clipping === true ) {\r\n\r\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\r\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\r\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\r\n\r\n\t\t}\r\n\r\n\t\tmaterialProperties.fog = scene.fog;\r\n\r\n\t\t// store the light setup it was created for\r\n\r\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\r\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\r\n\r\n\t\tif ( materialProperties.needsLights ) {\r\n\r\n\t\t\t// wire up the material to this renderer's lighting state\r\n\r\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\r\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\r\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\r\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\r\n\t\t\tuniforms.spotLights.value = lights.state.spot;\r\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\r\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\r\n\t\t\tuniforms.pointLights.value = lights.state.point;\r\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\r\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\r\n\r\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\r\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\r\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\r\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\r\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\r\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\r\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\r\n\r\n\t\t}\r\n\r\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\r\n\t\t\tuniformsList =\r\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\r\n\r\n\t\tmaterialProperties.uniformsList = uniformsList;\r\n\r\n\t}\r\n\r\n\tfunction setProgram( camera, scene, material, object ) {\r\n\r\n\t\ttextures.resetTextureUnits();\r\n\r\n\t\tvar fog = scene.fog;\r\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\r\n\t\tvar materialProperties = properties.get( material );\r\n\t\tvar lights = currentRenderState.state.lights;\r\n\r\n\t\tif ( _clippingEnabled ) {\r\n\r\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\r\n\r\n\t\t\t\tvar useCache =\r\n\t\t\t\t\tcamera === _currentCamera &&\r\n\t\t\t\t\tmaterial.id === _currentMaterialId;\r\n\r\n\t\t\t\t// we might want to call this function with some ClippingGroup\r\n\t\t\t\t// object instead of the material, once it becomes feasible\r\n\t\t\t\t// (#8465, #8379)\r\n\t\t\t\t_clipping.setState(\r\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\r\n\t\t\t\t\tcamera, materialProperties, useCache );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.version === materialProperties.__version ) {\r\n\r\n\t\t\tif ( materialProperties.program === undefined ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t} else if ( materialProperties.environment !== environment ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\r\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\r\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t} else if ( materialProperties.outputEncoding !== _this.outputEncoding ) {\r\n\r\n\t\t\t\tinitMaterial( material, scene, object );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tinitMaterial( material, scene, object );\r\n\t\t\tmaterialProperties.__version = material.version;\r\n\r\n\t\t}\r\n\r\n\t\tvar refreshProgram = false;\r\n\t\tvar refreshMaterial = false;\r\n\t\tvar refreshLights = false;\r\n\r\n\t\tvar program = materialProperties.program,\r\n\t\t\tp_uniforms = program.getUniforms(),\r\n\t\t\tm_uniforms = materialProperties.uniforms;\r\n\r\n\t\tif ( state.useProgram( program.program ) ) {\r\n\r\n\t\t\trefreshProgram = true;\r\n\t\t\trefreshMaterial = true;\r\n\t\t\trefreshLights = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.id !== _currentMaterialId ) {\r\n\r\n\t\t\t_currentMaterialId = material.id;\r\n\r\n\t\t\trefreshMaterial = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\r\n\r\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\r\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _currentCamera !== camera ) {\r\n\r\n\t\t\t\t_currentCamera = camera;\r\n\r\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\r\n\t\t\t\t// now, in case this material supports lights - or later, when\r\n\t\t\t\t// the next material that does gets activated:\r\n\r\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\r\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// load material specific uniforms\r\n\t\t\t// (shader material also gets them for the sake of genericity)\r\n\r\n\t\t\tif ( material.isShaderMaterial ||\r\n\t\t\t\tmaterial.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.envMap ) {\r\n\r\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\r\n\r\n\t\t\t\tif ( uCamPos !== undefined ) {\r\n\r\n\t\t\t\t\tuCamPos.setValue( _gl,\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshLambertMaterial ||\r\n\t\t\t\tmaterial.isMeshBasicMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.isShaderMaterial ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshLambertMaterial ||\r\n\t\t\t\tmaterial.isMeshBasicMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.isShaderMaterial ||\r\n\t\t\t\tmaterial.skinning ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// skinning uniforms must be set even if material didn't change\r\n\t\t// auto-setting of texture unit for bone texture must go before other textures\r\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\r\n\r\n\t\tif ( material.skinning ) {\r\n\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\r\n\r\n\t\t\tvar skeleton = object.skeleton;\r\n\r\n\t\t\tif ( skeleton ) {\r\n\r\n\t\t\t\tvar bones = skeleton.bones;\r\n\r\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\r\n\r\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\r\n\r\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\r\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\r\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\r\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\r\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\r\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\r\n\r\n\r\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\r\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\r\n\t\t\t\t\t\tsize = Math.max( size, 4 );\r\n\r\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\r\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\r\n\r\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\r\n\r\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\r\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\r\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\r\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\r\n\r\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\r\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshMaterial ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\r\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\r\n\r\n\t\t\tif ( materialProperties.needsLights ) {\r\n\r\n\t\t\t\t// the current material requires lighting info\r\n\r\n\t\t\t\t// note: all lighting uniforms are always set correctly\r\n\t\t\t\t// they simply reference the renderer's state for their\r\n\t\t\t\t// values\r\n\t\t\t\t//\r\n\t\t\t\t// use the current material's .needsUpdate flags to set\r\n\t\t\t\t// the GL state when required\r\n\r\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// refresh uniforms common to several materials\r\n\r\n\t\t\tif ( fog && material.fog ) {\r\n\r\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.isMeshBasicMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshToonMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsToon( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material, environment );\r\n\r\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\r\n\r\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material, environment );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material, environment );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isLineBasicMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\r\n\r\n\t\t\t\tif ( material.isLineDashedMaterial ) {\r\n\r\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( material.isPointsMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isSpriteMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material.isShadowMaterial ) {\r\n\r\n\t\t\t\tm_uniforms.color.value.copy( material.color );\r\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// RectAreaLight Texture\r\n\t\t\t// TODO (mrdoob): Find a nicer implementation\r\n\r\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\r\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\r\n\r\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\r\n\r\n\t\t\tif ( material.isShaderMaterial ) {\r\n\r\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\r\n\r\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\r\n\t\t\tmaterial.uniformsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.isSpriteMaterial ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\r\n\r\n\t\t}\r\n\r\n\t\t// common matrices\r\n\r\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\r\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\r\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\t// Uniforms (refresh uniforms objects)\r\n\r\n\tfunction refreshUniformsCommon( uniforms, material, environment ) {\r\n\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t\tif ( material.color ) {\r\n\r\n\t\t\tuniforms.diffuse.value.copy( material.color );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissive ) {\r\n\r\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.specularMap ) {\r\n\r\n\t\t\tuniforms.specularMap.value = material.specularMap;\r\n\r\n\t\t}\r\n\r\n\t\tvar envMap = material.envMap || environment;\r\n\r\n\t\tif ( envMap ) {\r\n\r\n\t\t\tuniforms.envMap.value = envMap;\r\n\r\n\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture ? - 1 : 1;\r\n\r\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\r\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\r\n\r\n\t\t\tuniforms.maxMipLevel.value = properties.get( envMap ).__maxMipLevel;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.lightMap ) {\r\n\r\n\t\t\tuniforms.lightMap.value = material.lightMap;\r\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.aoMap ) {\r\n\r\n\t\t\tuniforms.aoMap.value = material.aoMap;\r\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. specular map\r\n\t\t// 3. normal map\r\n\t\t// 4. bump map\r\n\t\t// 5. alpha map\r\n\t\t// 6. emissive map\r\n\r\n\t\tvar uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.specularMap ) {\r\n\r\n\t\t\tuvScaleMap = material.specularMap;\r\n\r\n\t\t} else if ( material.displacementMap ) {\r\n\r\n\t\t\tuvScaleMap = material.displacementMap;\r\n\r\n\t\t} else if ( material.normalMap ) {\r\n\r\n\t\t\tuvScaleMap = material.normalMap;\r\n\r\n\t\t} else if ( material.bumpMap ) {\r\n\r\n\t\t\tuvScaleMap = material.bumpMap;\r\n\r\n\t\t} else if ( material.roughnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.roughnessMap;\r\n\r\n\t\t} else if ( material.metalnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.metalnessMap;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t} else if ( material.emissiveMap ) {\r\n\r\n\t\t\tuvScaleMap = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\t// backwards compatibility\r\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\r\n\r\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities for uv2\r\n\t\t// 1. ao map\r\n\t\t// 2. light map\r\n\r\n\t\tvar uv2ScaleMap;\r\n\r\n\t\tif ( material.aoMap ) {\r\n\r\n\t\t\tuv2ScaleMap = material.aoMap;\r\n\r\n\t\t} else if ( material.lightMap ) {\r\n\r\n\t\t\tuv2ScaleMap = material.lightMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv2ScaleMap !== undefined ) {\r\n\r\n\t\t\t// backwards compatibility\r\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\r\n\r\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuv2ScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLine( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDash( uniforms, material ) {\r\n\r\n\t\tuniforms.dashSize.value = material.dashSize;\r\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\r\n\t\tuniforms.scale.value = material.scale;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPoints( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\t\tuniforms.size.value = material.size * _pixelRatio;\r\n\t\tuniforms.scale.value = _height * 0.5;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. alpha map\r\n\r\n\t\tvar uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsSprites( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\t\tuniforms.rotation.value = material.rotation;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. alpha map\r\n\r\n\t\tvar uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsFog( uniforms, fog ) {\r\n\r\n\t\tuniforms.fogColor.value.copy( fog.color );\r\n\r\n\t\tif ( fog.isFog ) {\r\n\r\n\t\t\tuniforms.fogNear.value = fog.near;\r\n\t\t\tuniforms.fogFar.value = fog.far;\r\n\r\n\t\t} else if ( fog.isFogExp2 ) {\r\n\r\n\t\t\tuniforms.fogDensity.value = fog.density;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLambert( uniforms, material ) {\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhong( uniforms, material ) {\r\n\r\n\t\tuniforms.specular.value.copy( material.specular );\r\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsToon( uniforms, material ) {\r\n\r\n\t\tuniforms.specular.value.copy( material.specular );\r\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\r\n\r\n\t\tif ( material.gradientMap ) {\r\n\r\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsStandard( uniforms, material, environment ) {\r\n\r\n\t\tuniforms.roughness.value = material.roughness;\r\n\t\tuniforms.metalness.value = material.metalness;\r\n\r\n\t\tif ( material.roughnessMap ) {\r\n\r\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.metalnessMap ) {\r\n\r\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.envMap || environment ) {\r\n\r\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\r\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhysical( uniforms, material, environment ) {\r\n\r\n\t\trefreshUniformsStandard( uniforms, material, environment );\r\n\r\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\r\n\r\n\t\tuniforms.clearcoat.value = material.clearcoat;\r\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\r\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\r\n\r\n\t\tif ( material.clearcoatNormalMap ) {\r\n\r\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\r\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\r\n\r\n\t\t\tif ( material.side === BackSide ) {\r\n\r\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.transparency.value = material.transparency;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsMatcap( uniforms, material ) {\r\n\r\n\t\tif ( material.matcap ) {\r\n\r\n\t\t\tuniforms.matcap.value = material.matcap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDepth( uniforms, material ) {\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDistance( uniforms, material ) {\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\r\n\t\tuniforms.nearDistance.value = material.nearDistance;\r\n\t\tuniforms.farDistance.value = material.farDistance;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsNormal( uniforms, material ) {\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\r\n\r\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\r\n\r\n\t\tuniforms.ambientLightColor.needsUpdate = value;\r\n\t\tuniforms.lightProbe.needsUpdate = value;\r\n\r\n\t\tuniforms.directionalLights.needsUpdate = value;\r\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\r\n\t\tuniforms.pointLights.needsUpdate = value;\r\n\t\tuniforms.pointLightShadows.needsUpdate = value;\r\n\t\tuniforms.spotLights.needsUpdate = value;\r\n\t\tuniforms.spotLightShadows.needsUpdate = value;\r\n\t\tuniforms.rectAreaLights.needsUpdate = value;\r\n\t\tuniforms.hemisphereLights.needsUpdate = value;\r\n\r\n\t}\r\n\r\n\tfunction materialNeedsLights( material ) {\r\n\r\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\r\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\r\n\t\t\t( material.isShaderMaterial && material.lights === true );\r\n\r\n\t}\r\n\r\n\t//\r\n\tthis.setFramebuffer = function ( value ) {\r\n\r\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\r\n\r\n\t\t_framebuffer = value;\r\n\r\n\t};\r\n\r\n\tthis.getActiveCubeFace = function () {\r\n\r\n\t\treturn _currentActiveCubeFace;\r\n\r\n\t};\r\n\r\n\tthis.getActiveMipmapLevel = function () {\r\n\r\n\t\treturn _currentActiveMipmapLevel;\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn _currentRenderTarget;\r\n\r\n\t};\r\n\r\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\r\n\r\n\t\t_currentRenderTarget = renderTarget;\r\n\t\t_currentActiveCubeFace = activeCubeFace;\r\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\r\n\r\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\r\n\r\n\t\t\ttextures.setupRenderTarget( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t\tvar framebuffer = _framebuffer;\r\n\t\tvar isCube = false;\r\n\r\n\t\tif ( renderTarget ) {\r\n\r\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\r\n\r\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\r\n\t\t\t\tisCube = true;\r\n\r\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\r\n\r\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tframebuffer = __webglFramebuffer;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_currentViewport.copy( renderTarget.viewport );\r\n\t\t\t_currentScissor.copy( renderTarget.scissor );\r\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\r\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\r\n\t\t\t_currentScissorTest = _scissorTest;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _currentFramebuffer !== framebuffer ) {\r\n\r\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\r\n\t\t\t_currentFramebuffer = framebuffer;\r\n\r\n\t\t}\r\n\r\n\t\tstate.viewport( _currentViewport );\r\n\t\tstate.scissor( _currentScissor );\r\n\t\tstate.setScissorTest( _currentScissorTest );\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\r\n\r\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\r\n\r\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\r\n\r\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( framebuffer ) {\r\n\r\n\t\t\tvar restore = false;\r\n\r\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\r\n\r\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\t\t\trestore = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tvar texture = renderTarget.texture;\r\n\t\t\t\tvar textureFormat = texture.format;\r\n\t\t\t\tvar textureType = texture.type;\r\n\r\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\r\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\r\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\r\n\r\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\r\n\r\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\r\n\r\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} finally {\r\n\r\n\t\t\t\tif ( restore ) {\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\r\n\r\n\t\tif ( level === undefined ) level = 0;\r\n\r\n\t\tvar levelScale = Math.pow( 2, - level );\r\n\t\tvar width = Math.floor( texture.image.width * levelScale );\r\n\t\tvar height = Math.floor( texture.image.height * levelScale );\r\n\t\tvar glFormat = utils.convert( texture.format );\r\n\r\n\t\ttextures.setTexture2D( texture, 0 );\r\n\r\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\r\n\r\n\t\tvar width = srcTexture.image.width;\r\n\t\tvar height = srcTexture.image.height;\r\n\t\tvar glFormat = utils.convert( dstTexture.format );\r\n\t\tvar glType = utils.convert( dstTexture.type );\r\n\r\n\t\ttextures.setTexture2D( dstTexture, 0 );\r\n\r\n\t\tif ( srcTexture.isDataTexture ) {\r\n\r\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\r\n\r\n\t\t}\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.initTexture = function ( texture ) {\r\n\r\n\t\ttextures.setTexture2D( texture, 0 );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction FogExp2( color, density ) {\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.color = new Color( color );\r\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\r\n\r\n}\r\n\r\nObject.assign( FogExp2.prototype, {\r\n\r\n\tisFogExp2: true,\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new FogExp2( this.color, this.density );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( /* meta */ ) {\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'FogExp2',\r\n\t\t\tcolor: this.color.getHex(),\r\n\t\t\tdensity: this.density\r\n\t\t};\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction Fog( color, near, far ) {\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.color = new Color( color );\r\n\r\n\tthis.near = ( near !== undefined ) ? near : 1;\r\n\tthis.far = ( far !== undefined ) ? far : 1000;\r\n\r\n}\r\n\r\nObject.assign( Fog.prototype, {\r\n\r\n\tisFog: true,\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new Fog( this.color, this.near, this.far );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( /* meta */ ) {\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'Fog',\r\n\t\t\tcolor: this.color.getHex(),\r\n\t\t\tnear: this.near,\r\n\t\t\tfar: this.far\r\n\t\t};\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nfunction InterleavedBuffer( array, stride ) {\r\n\r\n\tthis.array = array;\r\n\tthis.stride = stride;\r\n\tthis.count = array !== undefined ? array.length / stride : 0;\r\n\r\n\tthis.usage = StaticDrawUsage;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( InterleavedBuffer.prototype, {\r\n\r\n\tisInterleavedBuffer: true,\r\n\r\n\tonUploadCallback: function () {},\r\n\r\n\tsetUsage: function ( value ) {\r\n\r\n\t\tthis.usage = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.count = source.count;\r\n\t\tthis.stride = source.stride;\r\n\t\tthis.usage = source.usage;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.stride;\r\n\t\tindex2 *= attribute.stride;\r\n\r\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tonUpload: function ( callback ) {\r\n\r\n\t\tthis.onUploadCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nvar _vector$6 = new Vector3();\r\n\r\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\r\n\r\n\tthis.data = interleavedBuffer;\r\n\tthis.itemSize = itemSize;\r\n\tthis.offset = offset;\r\n\r\n\tthis.normalized = normalized === true;\r\n\r\n}\r\n\r\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\r\n\r\n\tcount: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.data.count;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tarray: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.data.array;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( InterleavedBufferAttribute.prototype, {\r\n\r\n\tisInterleavedBufferAttribute: true,\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tfor ( var i = 0, l = this.data.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$6.x = this.getX( i );\r\n\t\t\t_vector$6.y = this.getY( i );\r\n\t\t\t_vector$6.z = this.getZ( i );\r\n\r\n\t\t\t_vector$6.applyMatrix4( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\t\tthis.data.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *  rotation: <float>,\r\n *  sizeAttenuation: <bool>\r\n * }\r\n */\r\n\r\nfunction SpriteMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'SpriteMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff );\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.rotation = 0;\r\n\r\n\tthis.sizeAttenuation = true;\r\n\r\n\tthis.transparent = true;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nSpriteMaterial.prototype = Object.create( Material.prototype );\r\nSpriteMaterial.prototype.constructor = SpriteMaterial;\r\nSpriteMaterial.prototype.isSpriteMaterial = true;\r\n\r\nSpriteMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.rotation = source.rotation;\r\n\r\n\tthis.sizeAttenuation = source.sizeAttenuation;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nvar _geometry;\r\n\r\nvar _intersectPoint = new Vector3();\r\nvar _worldScale = new Vector3();\r\nvar _mvPosition = new Vector3();\r\n\r\nvar _alignedPosition = new Vector2();\r\nvar _rotatedPosition = new Vector2();\r\nvar _viewWorldMatrix = new Matrix4();\r\n\r\nvar _vA$1 = new Vector3();\r\nvar _vB$1 = new Vector3();\r\nvar _vC$1 = new Vector3();\r\n\r\nvar _uvA$1 = new Vector2();\r\nvar _uvB$1 = new Vector2();\r\nvar _uvC$1 = new Vector2();\r\n\r\nfunction Sprite( material ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Sprite';\r\n\r\n\tif ( _geometry === undefined ) {\r\n\r\n\t\t_geometry = new BufferGeometry();\r\n\r\n\t\tvar float32Array = new Float32Array( [\r\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\r\n\t\t\t0.5, - 0.5, 0, 1, 0,\r\n\t\t\t0.5, 0.5, 0, 1, 1,\r\n\t\t\t- 0.5, 0.5, 0, 0, 1\r\n\t\t] );\r\n\r\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\r\n\r\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\r\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\r\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\r\n\r\n\t}\r\n\r\n\tthis.geometry = _geometry;\r\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\r\n\r\n\tthis.center = new Vector2( 0.5, 0.5 );\r\n\r\n}\r\n\r\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Sprite,\r\n\r\n\tisSprite: true,\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tif ( raycaster.camera === null ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\r\n\r\n\t\t}\r\n\r\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\r\n\r\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\r\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\r\n\r\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\r\n\r\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\r\n\r\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\r\n\r\n\t\t}\r\n\r\n\t\tvar rotation = this.material.rotation;\r\n\t\tvar sin, cos;\r\n\t\tif ( rotation !== 0 ) {\r\n\r\n\t\t\tcos = Math.cos( rotation );\r\n\t\t\tsin = Math.sin( rotation );\r\n\r\n\t\t}\r\n\r\n\t\tvar center = this.center;\r\n\r\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\r\n\t\t_uvA$1.set( 0, 0 );\r\n\t\t_uvB$1.set( 1, 0 );\r\n\t\t_uvC$1.set( 1, 1 );\r\n\r\n\t\t// check first triangle\r\n\t\tvar intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\r\n\r\n\t\tif ( intersect === null ) {\r\n\r\n\t\t\t// check second triangle\r\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\t\t_uvB$1.set( 0, 1 );\r\n\r\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\r\n\t\t\tif ( intersect === null ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar distance = raycaster.ray.origin.distanceTo( _intersectPoint );\r\n\r\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\r\n\r\n\t\tintersects.push( {\r\n\r\n\t\t\tdistance: distance,\r\n\t\t\tpoint: _intersectPoint.clone(),\r\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\r\n\t\t\tface: null,\r\n\t\t\tobject: this\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.material ).copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\r\n} );\r\n\r\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\r\n\r\n\t// compute position in camera space\r\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\r\n\r\n\t// to check if rotation is not zero\r\n\tif ( sin !== undefined ) {\r\n\r\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\r\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\r\n\r\n\t} else {\r\n\r\n\t\t_rotatedPosition.copy( _alignedPosition );\r\n\r\n\t}\r\n\r\n\r\n\tvertexPosition.copy( mvPosition );\r\n\tvertexPosition.x += _rotatedPosition.x;\r\n\tvertexPosition.y += _rotatedPosition.y;\r\n\r\n\t// transform to world space\r\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\r\n\r\n}\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _v1$4 = new Vector3();\r\nvar _v2$2 = new Vector3();\r\n\r\nfunction LOD() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis._currentLevel = 0;\r\n\r\n\tthis.type = 'LOD';\r\n\r\n\tObject.defineProperties( this, {\r\n\t\tlevels: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: []\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.autoUpdate = true;\r\n\r\n}\r\n\r\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: LOD,\r\n\r\n\tisLOD: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source, false );\r\n\r\n\t\tvar levels = source.levels;\r\n\r\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar level = levels[ i ];\r\n\r\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\r\n\r\n\t\t}\r\n\r\n\t\tthis.autoUpdate = source.autoUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddLevel: function ( object, distance ) {\r\n\r\n\t\tif ( distance === undefined ) distance = 0;\r\n\r\n\t\tdistance = Math.abs( distance );\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\tif ( distance < levels[ l ].distance ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\r\n\r\n\t\tthis.add( object );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetCurrentLevel: function () {\r\n\r\n\t\treturn this._currentLevel;\r\n\r\n\t},\r\n\r\n\tgetObjectForDistance: function ( distance ) {\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tif ( levels.length > 0 ) {\r\n\r\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tif ( distance < levels[ i ].distance ) {\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn levels[ i - 1 ].object;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tif ( levels.length > 0 ) {\r\n\r\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( _v1$4 );\r\n\r\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdate: function ( camera ) {\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tif ( levels.length > 1 ) {\r\n\r\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tvar distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\r\n\r\n\t\t\tlevels[ 0 ].object.visible = true;\r\n\r\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\r\n\r\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\r\n\t\t\t\t\tlevels[ i ].object.visible = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._currentLevel = i - 1;\r\n\r\n\t\t\tfor ( ; i < l; i ++ ) {\r\n\r\n\t\t\t\tlevels[ i ].object.visible = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\r\n\r\n\t\tdata.object.levels = [];\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar level = levels[ i ];\r\n\r\n\t\t\tdata.object.levels.push( {\r\n\t\t\t\tobject: level.object.uuid,\r\n\t\t\t\tdistance: level.distance\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nfunction SkinnedMesh( geometry, material ) {\r\n\r\n\tif ( geometry && geometry.isGeometry ) {\r\n\r\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t}\r\n\r\n\tMesh.call( this, geometry, material );\r\n\r\n\tthis.type = 'SkinnedMesh';\r\n\r\n\tthis.bindMode = 'attached';\r\n\tthis.bindMatrix = new Matrix4();\r\n\tthis.bindMatrixInverse = new Matrix4();\r\n\r\n}\r\n\r\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\r\n\r\n\tconstructor: SkinnedMesh,\r\n\r\n\tisSkinnedMesh: true,\r\n\r\n\tbind: function ( skeleton, bindMatrix ) {\r\n\r\n\t\tthis.skeleton = skeleton;\r\n\r\n\t\tif ( bindMatrix === undefined ) {\r\n\r\n\t\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.skeleton.calculateInverses();\r\n\r\n\t\t\tbindMatrix = this.matrixWorld;\r\n\r\n\t\t}\r\n\r\n\t\tthis.bindMatrix.copy( bindMatrix );\r\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\r\n\r\n\t},\r\n\r\n\tpose: function () {\r\n\r\n\t\tthis.skeleton.pose();\r\n\r\n\t},\r\n\r\n\tnormalizeSkinWeights: function () {\r\n\r\n\t\tvar vector = new Vector4();\r\n\r\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\r\n\r\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\r\n\r\n\t\t\tvector.x = skinWeight.getX( i );\r\n\t\t\tvector.y = skinWeight.getY( i );\r\n\t\t\tvector.z = skinWeight.getZ( i );\r\n\t\t\tvector.w = skinWeight.getW( i );\r\n\r\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\r\n\r\n\t\t\tif ( scale !== Infinity ) {\r\n\r\n\t\t\t\tvector.multiplyScalar( scale );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\r\n\r\n\t\t\t}\r\n\r\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tif ( this.bindMode === 'attached' ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\r\n\r\n\t\t} else if ( this.bindMode === 'detached' ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author michael guerrero / http://realitymeltdown.com\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nvar _offsetMatrix = new Matrix4();\r\nvar _identityMatrix = new Matrix4();\r\n\r\nfunction Skeleton( bones, boneInverses ) {\r\n\r\n\t// copy the bone array\r\n\r\n\tbones = bones || [];\r\n\r\n\tthis.bones = bones.slice( 0 );\r\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\r\n\r\n\tthis.frame = - 1;\r\n\r\n\t// use the supplied bone inverses or calculate the inverses\r\n\r\n\tif ( boneInverses === undefined ) {\r\n\r\n\t\tthis.calculateInverses();\r\n\r\n\t} else {\r\n\r\n\t\tif ( this.bones.length === boneInverses.length ) {\r\n\r\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\r\n\r\n\t\t\tthis.boneInverses = [];\r\n\r\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( Skeleton.prototype, {\r\n\r\n\tcalculateInverses: function () {\r\n\r\n\t\tthis.boneInverses = [];\r\n\r\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar inverse = new Matrix4();\r\n\r\n\t\t\tif ( this.bones[ i ] ) {\r\n\r\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.boneInverses.push( inverse );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tpose: function () {\r\n\r\n\t\tvar bone, i, il;\r\n\r\n\t\t// recover the bind-time world matrices\r\n\r\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tbone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// compute the local matrices, positions, rotations and scales\r\n\r\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tbone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\r\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tvar bones = this.bones;\r\n\t\tvar boneInverses = this.boneInverses;\r\n\t\tvar boneMatrices = this.boneMatrices;\r\n\t\tvar boneTexture = this.boneTexture;\r\n\r\n\t\t// flatten bone matrices to array\r\n\r\n\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\r\n\r\n\t\t\t// compute the offset between the current and the original transform\r\n\r\n\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\r\n\r\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\r\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( boneTexture !== undefined ) {\r\n\r\n\t\t\tboneTexture.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new Skeleton( this.bones, this.boneInverses );\r\n\r\n\t},\r\n\r\n\tgetBoneByName: function ( name ) {\r\n\r\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar bone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone.name === name ) {\r\n\r\n\t\t\t\treturn bone;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nfunction Bone() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Bone';\r\n\r\n}\r\n\r\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Bone,\r\n\r\n\tisBone: true\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _instanceLocalMatrix = new Matrix4();\r\nvar _instanceWorldMatrix = new Matrix4();\r\n\r\nvar _instanceIntersects = [];\r\n\r\nvar _mesh = new Mesh();\r\n\r\nfunction InstancedMesh( geometry, material, count ) {\r\n\r\n\tMesh.call( this, geometry, material );\r\n\r\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\r\n\r\n\tthis.count = count;\r\n\r\n\tthis.frustumCulled = false;\r\n\r\n}\r\n\r\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\r\n\r\n\tconstructor: InstancedMesh,\r\n\r\n\tisInstancedMesh: true,\r\n\r\n\tgetMatrixAt: function ( index, matrix ) {\r\n\r\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tvar matrixWorld = this.matrixWorld;\r\n\t\tvar raycastTimes = this.count;\r\n\r\n\t\t_mesh.geometry = this.geometry;\r\n\t\t_mesh.material = this.material;\r\n\r\n\t\tif ( _mesh.material === undefined ) return;\r\n\r\n\t\tfor ( var instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\r\n\r\n\t\t\t// calculate the world matrix for each instance\r\n\r\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\r\n\r\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\r\n\r\n\t\t\t// the mesh represents this single instance\r\n\r\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\r\n\r\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\r\n\r\n\t\t\t// process the result of raycast\r\n\r\n\t\t\tif ( _instanceIntersects.length > 0 ) {\r\n\r\n\t\t\t\t_instanceIntersects[ 0 ].instanceId = instanceId;\r\n\t\t\t\t_instanceIntersects[ 0 ].object = this;\r\n\r\n\t\t\t\tintersects.push( _instanceIntersects[ 0 ] );\r\n\r\n\t\t\t\t_instanceIntersects.length = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetMatrixAt: function ( index, matrix ) {\r\n\r\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *  linecap: \"round\",\r\n *  linejoin: \"round\"\r\n * }\r\n */\r\n\r\nfunction LineBasicMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'LineBasicMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff );\r\n\r\n\tthis.linewidth = 1;\r\n\tthis.linecap = 'round';\r\n\tthis.linejoin = 'round';\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nLineBasicMaterial.prototype = Object.create( Material.prototype );\r\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\r\n\r\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\r\n\r\nLineBasicMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.linewidth = source.linewidth;\r\n\tthis.linecap = source.linecap;\r\n\tthis.linejoin = source.linejoin;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _start = new Vector3();\r\nvar _end = new Vector3();\r\nvar _inverseMatrix$1 = new Matrix4();\r\nvar _ray$1 = new Ray();\r\nvar _sphere$2 = new Sphere();\r\n\r\nfunction Line( geometry, material, mode ) {\r\n\r\n\tif ( mode === 1 ) {\r\n\r\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\r\n\r\n\t}\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Line';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\r\n\r\n}\r\n\r\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Line,\r\n\r\n\tisLine: true,\r\n\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\t// we assume non-indexed geometry\r\n\r\n\t\t\tif ( geometry.index === null ) {\r\n\r\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\r\n\t\t\t\tvar lineDistances = [ 0 ];\r\n\r\n\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\r\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\r\n\r\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\r\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tvar vertices = geometry.vertices;\r\n\t\t\tvar lineDistances = geometry.lineDistances;\r\n\r\n\t\t\tlineDistances[ 0 ] = 0;\r\n\r\n\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\r\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\t\tvar matrixWorld = this.matrixWorld;\r\n\t\tvar threshold = raycaster.params.Line.threshold;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$2.copy( geometry.boundingSphere );\r\n\t\t_sphere$2.applyMatrix4( matrixWorld );\r\n\t\t_sphere$2.radius += threshold;\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\r\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\r\n\r\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\r\n\t\tvar localThresholdSq = localThreshold * localThreshold;\r\n\r\n\t\tvar vStart = new Vector3();\r\n\t\tvar vEnd = new Vector3();\r\n\t\tvar interSegment = new Vector3();\r\n\t\tvar interRay = new Vector3();\r\n\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tvar index = geometry.index;\r\n\t\t\tvar attributes = geometry.attributes;\r\n\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\tvar a = indices[ i ];\r\n\t\t\t\t\tvar b = indices[ i + 1 ];\r\n\r\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\r\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\r\n\r\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\r\n\r\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\r\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\r\n\r\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\r\n\r\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tvar vertices = geometry.vertices;\r\n\t\t\tvar nbVertices = vertices.length;\r\n\r\n\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\r\n\r\n\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\r\n\r\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\r\n\r\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\tindex: i,\r\n\t\t\t\t\tface: null,\r\n\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _start$1 = new Vector3();\r\nvar _end$1 = new Vector3();\r\n\r\nfunction LineSegments( geometry, material ) {\r\n\r\n\tLine.call( this, geometry, material );\r\n\r\n\tthis.type = 'LineSegments';\r\n\r\n}\r\n\r\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\r\n\r\n\tconstructor: LineSegments,\r\n\r\n\tisLineSegments: true,\r\n\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\t// we assume non-indexed geometry\r\n\r\n\t\t\tif ( geometry.index === null ) {\r\n\r\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\r\n\t\t\t\tvar lineDistances = [];\r\n\r\n\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\r\n\r\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\r\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\r\n\r\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\r\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tvar vertices = geometry.vertices;\r\n\t\t\tvar lineDistances = geometry.lineDistances;\r\n\r\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\r\n\r\n\t\t\t\t_start$1.copy( vertices[ i ] );\r\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\r\n\r\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\r\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mgreter / http://github.com/mgreter\r\n */\r\n\r\nfunction LineLoop( geometry, material ) {\r\n\r\n\tLine.call( this, geometry, material );\r\n\r\n\tthis.type = 'LineLoop';\r\n\r\n}\r\n\r\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\r\n\r\n\tconstructor: LineLoop,\r\n\r\n\tisLineLoop: true,\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  size: <float>,\r\n *  sizeAttenuation: <bool>\r\n *\r\n *  morphTargets: <bool>\r\n * }\r\n */\r\n\r\nfunction PointsMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'PointsMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff );\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.size = 1;\r\n\tthis.sizeAttenuation = true;\r\n\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nPointsMaterial.prototype = Object.create( Material.prototype );\r\nPointsMaterial.prototype.constructor = PointsMaterial;\r\n\r\nPointsMaterial.prototype.isPointsMaterial = true;\r\n\r\nPointsMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.size = source.size;\r\n\tthis.sizeAttenuation = source.sizeAttenuation;\r\n\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nvar _inverseMatrix$2 = new Matrix4();\r\nvar _ray$2 = new Ray();\r\nvar _sphere$3 = new Sphere();\r\nvar _position$1 = new Vector3();\r\n\r\nfunction Points( geometry, material ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Points';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new PointsMaterial();\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n}\r\n\r\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Points,\r\n\r\n\tisPoints: true,\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\t\tvar matrixWorld = this.matrixWorld;\r\n\t\tvar threshold = raycaster.params.Points.threshold;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$3.copy( geometry.boundingSphere );\r\n\t\t_sphere$3.applyMatrix4( matrixWorld );\r\n\t\t_sphere$3.radius += threshold;\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\r\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\r\n\r\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\r\n\t\tvar localThresholdSq = localThreshold * localThreshold;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tvar index = geometry.index;\r\n\t\t\tvar attributes = geometry.attributes;\r\n\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar a = indices[ i ];\r\n\r\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\r\n\r\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\r\n\r\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar vertices = geometry.vertices;\r\n\r\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tvar geometry = this.geometry;\r\n\t\tvar m, ml, name;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tvar morphAttributes = geometry.morphAttributes;\r\n\t\t\tvar keys = Object.keys( morphAttributes );\r\n\r\n\t\t\tif ( keys.length > 0 ) {\r\n\r\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\r\n\r\n\t\t\t\tif ( morphAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\r\n\r\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar morphTargets = geometry.morphTargets;\r\n\r\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\r\n\r\n\tvar rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\r\n\r\n\tif ( rayPointDistanceSq < localThresholdSq ) {\r\n\r\n\t\tvar intersectPoint = new Vector3();\r\n\r\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\r\n\t\tintersectPoint.applyMatrix4( matrixWorld );\r\n\r\n\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\r\n\r\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\r\n\r\n\t\tintersects.push( {\r\n\r\n\t\t\tdistance: distance,\r\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\r\n\t\t\tpoint: intersectPoint,\r\n\t\t\tindex: index,\r\n\t\t\tface: null,\r\n\t\t\tobject: object\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\tthis.format = format !== undefined ? format : RGBFormat;\r\n\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\r\n\r\n\tthis.generateMipmaps = false;\r\n\r\n}\r\n\r\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\r\n\r\n\tconstructor: VideoTexture,\r\n\r\n\tisVideoTexture: true,\r\n\r\n\tupdate: function () {\r\n\r\n\t\tvar video = this.image;\r\n\r\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\r\n\r\n\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.image = { width: width, height: height };\r\n\tthis.mipmaps = mipmaps;\r\n\r\n\t// no flipping for cube textures\r\n\t// (also flipping doesn't work for compressed textures )\r\n\r\n\tthis.flipY = false;\r\n\r\n\t// can't generate mipmaps for compressed textures\r\n\t// mips must be embedded in DDS files\r\n\r\n\tthis.generateMipmaps = false;\r\n\r\n}\r\n\r\nCompressedTexture.prototype = Object.create( Texture.prototype );\r\nCompressedTexture.prototype.constructor = CompressedTexture;\r\n\r\nCompressedTexture.prototype.isCompressedTexture = true;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nCanvasTexture.prototype = Object.create( Texture.prototype );\r\nCanvasTexture.prototype.constructor = CanvasTexture;\r\nCanvasTexture.prototype.isCanvasTexture = true;\r\n\r\n/**\r\n * @author Matt DesLauriers / @mattdesl\r\n * @author atix / arthursilber.de\r\n */\r\n\r\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\r\n\r\n\tformat = format !== undefined ? format : DepthFormat;\r\n\r\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\r\n\r\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\r\n\r\n\t}\r\n\r\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\r\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\r\n\r\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\tthis.image = { width: width, height: height };\r\n\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\r\n\r\n\tthis.flipY = false;\r\n\tthis.generateMipmaps\t= false;\r\n\r\n}\r\n\r\nDepthTexture.prototype = Object.create( Texture.prototype );\r\nDepthTexture.prototype.constructor = DepthTexture;\r\nDepthTexture.prototype.isDepthTexture = true;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nfunction WireframeGeometry( geometry ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'WireframeGeometry';\r\n\r\n\t// buffer\r\n\r\n\tvar vertices = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar i, j, l, o, ol;\r\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\r\n\tvar key, keys = [ 'a', 'b', 'c' ];\r\n\tvar vertex;\r\n\r\n\t// different logic for Geometry and BufferGeometry\r\n\r\n\tif ( geometry && geometry.isGeometry ) {\r\n\r\n\t\t// create a data structure that contains all edges without duplicates\r\n\r\n\t\tvar faces = geometry.faces;\r\n\r\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\tedge1 = face[ keys[ j ] ];\r\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\r\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\r\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\r\n\r\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\r\n\r\n\t\t\t\tif ( edges[ key ] === undefined ) {\r\n\r\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// generate vertices\r\n\r\n\t\tfor ( key in edges ) {\r\n\r\n\t\t\te = edges[ key ];\r\n\r\n\t\t\tvertex = geometry.vertices[ e.index1 ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\tvertex = geometry.vertices[ e.index2 ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t} else if ( geometry && geometry.isBufferGeometry ) {\r\n\r\n\t\tvar position, indices, groups;\r\n\t\tvar group, start, count;\r\n\t\tvar index1, index2;\r\n\r\n\t\tvertex = new Vector3();\r\n\r\n\t\tif ( geometry.index !== null ) {\r\n\r\n\t\t\t// indexed BufferGeometry\r\n\r\n\t\t\tposition = geometry.attributes.position;\r\n\t\t\tindices = geometry.index;\r\n\t\t\tgroups = geometry.groups;\r\n\r\n\t\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// create a data structure that contains all eges without duplicates\r\n\r\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\r\n\r\n\t\t\t\tgroup = groups[ o ];\r\n\r\n\t\t\t\tstart = group.start;\r\n\t\t\t\tcount = group.count;\r\n\r\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\r\n\r\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\r\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\r\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\r\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\r\n\r\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\r\n\r\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// generate vertices\r\n\r\n\t\t\tfor ( key in edges ) {\r\n\r\n\t\t\t\te = edges[ key ];\r\n\r\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// non-indexed BufferGeometry\r\n\r\n\t\t\tposition = geometry.attributes.position;\r\n\r\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\r\n\r\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\r\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\r\n\r\n\t\t\t\t\tindex1 = 3 * i + j;\r\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\r\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\r\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\r\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n}\r\n\r\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nWireframeGeometry.prototype.constructor = WireframeGeometry;\r\n\r\n/**\r\n * @author zz85 / https://github.com/zz85\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n * Parametric Surfaces Geometry\r\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\r\n */\r\n\r\n// ParametricGeometry\r\n\r\nfunction ParametricGeometry( func, slices, stacks ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'ParametricGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tfunc: func,\r\n\t\tslices: slices,\r\n\t\tstacks: stacks\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nParametricGeometry.prototype = Object.create( Geometry.prototype );\r\nParametricGeometry.prototype.constructor = ParametricGeometry;\r\n\r\n// ParametricBufferGeometry\r\n\r\nfunction ParametricBufferGeometry( func, slices, stacks ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'ParametricBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tfunc: func,\r\n\t\tslices: slices,\r\n\t\tstacks: stacks\r\n\t};\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\tvar EPS = 0.00001;\r\n\r\n\tvar normal = new Vector3();\r\n\r\n\tvar p0 = new Vector3(), p1 = new Vector3();\r\n\tvar pu = new Vector3(), pv = new Vector3();\r\n\r\n\tvar i, j;\r\n\r\n\tif ( func.length < 3 ) {\r\n\r\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\r\n\r\n\t}\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tvar sliceCount = slices + 1;\r\n\r\n\tfor ( i = 0; i <= stacks; i ++ ) {\r\n\r\n\t\tvar v = i / stacks;\r\n\r\n\t\tfor ( j = 0; j <= slices; j ++ ) {\r\n\r\n\t\t\tvar u = j / slices;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tfunc( u, v, p0 );\r\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\t// approximate tangent vectors via finite differences\r\n\r\n\t\t\tif ( u - EPS >= 0 ) {\r\n\r\n\t\t\t\tfunc( u - EPS, v, p1 );\r\n\t\t\t\tpu.subVectors( p0, p1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfunc( u + EPS, v, p1 );\r\n\t\t\t\tpu.subVectors( p1, p0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( v - EPS >= 0 ) {\r\n\r\n\t\t\t\tfunc( u, v - EPS, p1 );\r\n\t\t\t\tpv.subVectors( p0, p1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfunc( u, v + EPS, p1 );\r\n\t\t\t\tpv.subVectors( p1, p0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// cross product of tangent vectors returns surface normal\r\n\r\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( u, v );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( i = 0; i < stacks; i ++ ) {\r\n\r\n\t\tfor ( j = 0; j < slices; j ++ ) {\r\n\r\n\t\t\tvar a = i * sliceCount + j;\r\n\t\t\tvar b = i * sliceCount + j + 1;\r\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\r\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\r\n\r\n\t\t\t// faces one and two\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\r\n\r\n/**\r\n * @author clockworkgeek / https://github.com/clockworkgeek\r\n * @author timothypratley / https://github.com/timothypratley\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// PolyhedronGeometry\r\n\r\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'PolyhedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tvertices: vertices,\r\n\t\tindices: indices,\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\r\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\r\n\r\n// PolyhedronBufferGeometry\r\n\r\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'PolyhedronBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tvertices: vertices,\r\n\t\tindices: indices,\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\tdetail = detail || 0;\r\n\r\n\t// default buffer data\r\n\r\n\tvar vertexBuffer = [];\r\n\tvar uvBuffer = [];\r\n\r\n\t// the subdivision creates the vertex buffer data\r\n\r\n\tsubdivide( detail );\r\n\r\n\t// all vertices should lie on a conceptual sphere with a given radius\r\n\r\n\tapplyRadius( radius );\r\n\r\n\t// finally, create the uv data\r\n\r\n\tgenerateUVs();\r\n\r\n\t// build non-indexed geometry\r\n\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\r\n\r\n\tif ( detail === 0 ) {\r\n\r\n\t\tthis.computeVertexNormals(); // flat normals\r\n\r\n\t} else {\r\n\r\n\t\tthis.normalizeNormals(); // smooth normals\r\n\r\n\t}\r\n\r\n\t// helper functions\r\n\r\n\tfunction subdivide( detail ) {\r\n\r\n\t\tvar a = new Vector3();\r\n\t\tvar b = new Vector3();\r\n\t\tvar c = new Vector3();\r\n\r\n\t\t// iterate over all faces and apply a subdivison with the given detail value\r\n\r\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\r\n\r\n\t\t\t// get the vertices of the face\r\n\r\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\r\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\r\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\r\n\r\n\t\t\t// perform subdivision\r\n\r\n\t\t\tsubdivideFace( a, b, c, detail );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction subdivideFace( a, b, c, detail ) {\r\n\r\n\t\tvar cols = Math.pow( 2, detail );\r\n\r\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\r\n\r\n\t\tvar v = [];\r\n\r\n\t\tvar i, j;\r\n\r\n\t\t// construct all of the vertices for this subdivision\r\n\r\n\t\tfor ( i = 0; i <= cols; i ++ ) {\r\n\r\n\t\t\tv[ i ] = [];\r\n\r\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\r\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\r\n\r\n\t\t\tvar rows = cols - i;\r\n\r\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\r\n\r\n\t\t\t\tif ( j === 0 && i === cols ) {\r\n\r\n\t\t\t\t\tv[ i ][ j ] = aj;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// construct all of the faces\r\n\r\n\t\tfor ( i = 0; i < cols; i ++ ) {\r\n\r\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\r\n\r\n\t\t\t\tvar k = Math.floor( j / 2 );\r\n\r\n\t\t\t\tif ( j % 2 === 0 ) {\r\n\r\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\r\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\r\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\r\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\r\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction applyRadius( radius ) {\r\n\r\n\t\tvar vertex = new Vector3();\r\n\r\n\t\t// iterate over the entire buffer and apply the radius to each vertex\r\n\r\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\r\n\r\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\r\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\r\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\r\n\r\n\t\t\tvertex.normalize().multiplyScalar( radius );\r\n\r\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\r\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\r\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction generateUVs() {\r\n\r\n\t\tvar vertex = new Vector3();\r\n\r\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\r\n\r\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\r\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\r\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\r\n\r\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\r\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\r\n\t\t\tuvBuffer.push( u, 1 - v );\r\n\r\n\t\t}\r\n\r\n\t\tcorrectUVs();\r\n\r\n\t\tcorrectSeam();\r\n\r\n\t}\r\n\r\n\tfunction correctSeam() {\r\n\r\n\t\t// handle case when face straddles the seam, see #3269\r\n\r\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\r\n\r\n\t\t\t// uv data of a single face\r\n\r\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\r\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\r\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\r\n\r\n\t\t\tvar max = Math.max( x0, x1, x2 );\r\n\t\t\tvar min = Math.min( x0, x1, x2 );\r\n\r\n\t\t\t// 0.9 is somewhat arbitrary\r\n\r\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\r\n\r\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\r\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\r\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction pushVertex( vertex ) {\r\n\r\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t}\r\n\r\n\tfunction getVertexByIndex( index, vertex ) {\r\n\r\n\t\tvar stride = index * 3;\r\n\r\n\t\tvertex.x = vertices[ stride + 0 ];\r\n\t\tvertex.y = vertices[ stride + 1 ];\r\n\t\tvertex.z = vertices[ stride + 2 ];\r\n\r\n\t}\r\n\r\n\tfunction correctUVs() {\r\n\r\n\t\tvar a = new Vector3();\r\n\t\tvar b = new Vector3();\r\n\t\tvar c = new Vector3();\r\n\r\n\t\tvar centroid = new Vector3();\r\n\r\n\t\tvar uvA = new Vector2();\r\n\t\tvar uvB = new Vector2();\r\n\t\tvar uvC = new Vector2();\r\n\r\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\r\n\r\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\r\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\r\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\r\n\r\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\r\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\r\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\r\n\r\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\r\n\r\n\t\t\tvar azi = azimuth( centroid );\r\n\r\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\r\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\r\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction correctUV( uv, stride, vector, azimuth ) {\r\n\r\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\r\n\r\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\r\n\r\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Angle around the Y axis, counter-clockwise when looking from above.\r\n\r\n\tfunction azimuth( vector ) {\r\n\r\n\t\treturn Math.atan2( vector.z, - vector.x );\r\n\r\n\t}\r\n\r\n\r\n\t// Angle above the XZ plane.\r\n\r\n\tfunction inclination( vector ) {\r\n\r\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// TetrahedronGeometry\r\n\r\nfunction TetrahedronGeometry( radius, detail ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'TetrahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\r\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\r\n\r\n// TetrahedronBufferGeometry\r\n\r\nfunction TetrahedronBufferGeometry( radius, detail ) {\r\n\r\n\tvar vertices = [\r\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\r\n\t];\r\n\r\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'TetrahedronBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n}\r\n\r\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\r\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// OctahedronGeometry\r\n\r\nfunction OctahedronGeometry( radius, detail ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'OctahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\r\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\r\n\r\n// OctahedronBufferGeometry\r\n\r\nfunction OctahedronBufferGeometry( radius, detail ) {\r\n\r\n\tvar vertices = [\r\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\r\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\r\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\r\n\t\t1, 3, 4,\t1, 4, 2\r\n\t];\r\n\r\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'OctahedronBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n}\r\n\r\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\r\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// IcosahedronGeometry\r\n\r\nfunction IcosahedronGeometry( radius, detail ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'IcosahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\r\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\r\n\r\n// IcosahedronBufferGeometry\r\n\r\nfunction IcosahedronBufferGeometry( radius, detail ) {\r\n\r\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\r\n\tvar vertices = [\r\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\r\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\r\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\r\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\r\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\r\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\r\n\t];\r\n\r\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'IcosahedronBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n}\r\n\r\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\r\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\r\n\r\n/**\r\n * @author Abe Pazos / https://hamoid.com\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// DodecahedronGeometry\r\n\r\nfunction DodecahedronGeometry( radius, detail ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'DodecahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\r\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\r\n\r\n// DodecahedronBufferGeometry\r\n\r\nfunction DodecahedronBufferGeometry( radius, detail ) {\r\n\r\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\tvar r = 1 / t;\r\n\r\n\tvar vertices = [\r\n\r\n\t\t// (±1, ±1, ±1)\r\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\r\n\t\t- 1, 1, - 1, - 1, 1, 1,\r\n\t\t1, - 1, - 1, 1, - 1, 1,\r\n\t\t1, 1, - 1, 1, 1, 1,\r\n\r\n\t\t// (0, ±1/φ, ±φ)\r\n\t\t 0, - r, - t, 0, - r, t,\r\n\t\t 0, r, - t, 0, r, t,\r\n\r\n\t\t// (±1/φ, ±φ, 0)\r\n\t\t- r, - t, 0, - r, t, 0,\r\n\t\t r, - t, 0, r, t, 0,\r\n\r\n\t\t// (±φ, 0, ±1/φ)\r\n\t\t- t, 0, - r, t, 0, - r,\r\n\t\t- t, 0, r, t, 0, r\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\r\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\r\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\r\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\r\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\r\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\r\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\r\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\r\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\r\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\r\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\r\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\r\n\t];\r\n\r\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'DodecahedronBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n}\r\n\r\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\r\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\r\n\r\n/**\r\n * @author oosmoxiecode / https://github.com/oosmoxiecode\r\n * @author WestLangley / https://github.com/WestLangley\r\n * @author zz85 / https://github.com/zz85\r\n * @author miningold / https://github.com/miningold\r\n * @author jonobr1 / https://github.com/jonobr1\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n */\r\n\r\n// TubeGeometry\r\n\r\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'TubeGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpath: path,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradius: radius,\r\n\t\tradialSegments: radialSegments,\r\n\t\tclosed: closed\r\n\t};\r\n\r\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\r\n\r\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\r\n\r\n\t// expose internals\r\n\r\n\tthis.tangents = bufferGeometry.tangents;\r\n\tthis.normals = bufferGeometry.normals;\r\n\tthis.binormals = bufferGeometry.binormals;\r\n\r\n\t// create geometry\r\n\r\n\tthis.fromBufferGeometry( bufferGeometry );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nTubeGeometry.prototype = Object.create( Geometry.prototype );\r\nTubeGeometry.prototype.constructor = TubeGeometry;\r\n\r\n// TubeBufferGeometry\r\n\r\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'TubeBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpath: path,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradius: radius,\r\n\t\tradialSegments: radialSegments,\r\n\t\tclosed: closed\r\n\t};\r\n\r\n\ttubularSegments = tubularSegments || 64;\r\n\tradius = radius || 1;\r\n\tradialSegments = radialSegments || 8;\r\n\tclosed = closed || false;\r\n\r\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\r\n\r\n\t// expose internals\r\n\r\n\tthis.tangents = frames.tangents;\r\n\tthis.normals = frames.normals;\r\n\tthis.binormals = frames.binormals;\r\n\r\n\t// helper variables\r\n\r\n\tvar vertex = new Vector3();\r\n\tvar normal = new Vector3();\r\n\tvar uv = new Vector2();\r\n\tvar P = new Vector3();\r\n\r\n\tvar i, j;\r\n\r\n\t// buffer\r\n\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\tvar indices = [];\r\n\r\n\t// create buffer data\r\n\r\n\tgenerateBufferData();\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t// functions\r\n\r\n\tfunction generateBufferData() {\r\n\r\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\r\n\r\n\t\t\tgenerateSegment( i );\r\n\r\n\t\t}\r\n\r\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\r\n\t\t// at the regular position on the given path\r\n\t\t//\r\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\r\n\r\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\r\n\r\n\t\t// uvs are generated in a separate function.\r\n\t\t// this makes it easy compute correct values for closed geometries\r\n\r\n\t\tgenerateUVs();\r\n\r\n\t\t// finally create faces\r\n\r\n\t\tgenerateIndices();\r\n\r\n\t}\r\n\r\n\tfunction generateSegment( i ) {\r\n\r\n\t\t// we use getPointAt to sample evenly distributed points from the given path\r\n\r\n\t\tP = path.getPointAt( i / tubularSegments, P );\r\n\r\n\t\t// retrieve corresponding normal and binormal\r\n\r\n\t\tvar N = frames.normals[ i ];\r\n\t\tvar B = frames.binormals[ i ];\r\n\r\n\t\t// generate normals and vertices for the current segment\r\n\r\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\r\n\r\n\t\t\tvar sin = Math.sin( v );\r\n\t\t\tvar cos = - Math.cos( v );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\r\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\r\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\r\n\t\t\tnormal.normalize();\r\n\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = P.x + radius * normal.x;\r\n\t\t\tvertex.y = P.y + radius * normal.y;\r\n\t\t\tvertex.z = P.z + radius * normal.z;\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction generateIndices() {\r\n\r\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\r\n\r\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\r\n\r\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\r\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\r\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\r\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction generateUVs() {\r\n\r\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\t\tuv.x = i / tubularSegments;\r\n\t\t\t\tuv.y = j / radialSegments;\r\n\r\n\t\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\r\n\r\nTubeBufferGeometry.prototype.toJSON = function () {\r\n\r\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\tdata.path = this.parameters.path.toJSON();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\n/**\r\n * @author oosmoxiecode\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n * based on http://www.blackpawn.com/texts/pqtorus/\r\n */\r\n\r\n// TorusKnotGeometry\r\n\r\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'TorusKnotGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradialSegments: radialSegments,\r\n\t\tp: p,\r\n\t\tq: q\r\n\t};\r\n\r\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\r\n\r\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\r\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\r\n\r\n// TorusKnotBufferGeometry\r\n\r\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'TorusKnotBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradialSegments: radialSegments,\r\n\t\tp: p,\r\n\t\tq: q\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\ttube = tube || 0.4;\r\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\tp = p || 2;\r\n\tq = q || 3;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar i, j;\r\n\r\n\tvar vertex = new Vector3();\r\n\tvar normal = new Vector3();\r\n\r\n\tvar P1 = new Vector3();\r\n\tvar P2 = new Vector3();\r\n\r\n\tvar B = new Vector3();\r\n\tvar T = new Vector3();\r\n\tvar N = new Vector3();\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\r\n\r\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\r\n\r\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\r\n\r\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\r\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\r\n\r\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\r\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\r\n\r\n\t\t// calculate orthonormal basis\r\n\r\n\t\tT.subVectors( P2, P1 );\r\n\t\tN.addVectors( P2, P1 );\r\n\t\tB.crossVectors( T, N );\r\n\t\tN.crossVectors( B, T );\r\n\r\n\t\t// normalize B, N. T can be ignored, we don't use it\r\n\r\n\t\tB.normalize();\r\n\t\tN.normalize();\r\n\r\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\r\n\r\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\r\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\r\n\r\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\r\n\t\t\tvar cx = - tube * Math.cos( v );\r\n\t\t\tvar cy = tube * Math.sin( v );\r\n\r\n\t\t\t// now calculate the final vertex position.\r\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\r\n\r\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\r\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\r\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\r\n\r\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\r\n\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( i / tubularSegments );\r\n\t\t\tuvs.push( j / radialSegments );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\r\n\r\n\t\t\t// indices\r\n\r\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\r\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\r\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\r\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\r\n\r\n\t\t\t// faces\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t// this function calculates the current position on the torus curve\r\n\r\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\r\n\r\n\t\tvar cu = Math.cos( u );\r\n\t\tvar su = Math.sin( u );\r\n\t\tvar quOverP = q / p * u;\r\n\t\tvar cs = Math.cos( quOverP );\r\n\r\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\r\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\r\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\r\n\r\n\t}\r\n\r\n}\r\n\r\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\r\n\r\n/**\r\n * @author oosmoxiecode\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// TorusGeometry\r\n\r\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'TorusGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\tradialSegments: radialSegments,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tarc: arc\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nTorusGeometry.prototype = Object.create( Geometry.prototype );\r\nTorusGeometry.prototype.constructor = TorusGeometry;\r\n\r\n// TorusBufferGeometry\r\n\r\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'TorusBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\tradialSegments: radialSegments,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tarc: arc\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\ttube = tube || 0.4;\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\r\n\tarc = arc || Math.PI * 2;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar center = new Vector3();\r\n\tvar vertex = new Vector3();\r\n\tvar normal = new Vector3();\r\n\r\n\tvar j, i;\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\tvar u = i / tubularSegments * arc;\r\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\r\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\r\n\t\t\tvertex.z = tube * Math.sin( v );\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tcenter.x = radius * Math.cos( u );\r\n\t\t\tcenter.y = radius * Math.sin( u );\r\n\t\t\tnormal.subVectors( vertex, center ).normalize();\r\n\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( i / tubularSegments );\r\n\t\t\tuvs.push( j / radialSegments );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\t// indices\r\n\r\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\r\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\r\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\r\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\r\n\r\n\t\t\t// faces\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n * Port from https://github.com/mapbox/earcut (v2.1.5)\r\n */\r\n\r\nvar Earcut = {\r\n\r\n\ttriangulate: function ( data, holeIndices, dim ) {\r\n\r\n\t\tdim = dim || 2;\r\n\r\n\t\tvar hasHoles = holeIndices && holeIndices.length,\r\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\r\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\r\n\t\t\ttriangles = [];\r\n\r\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\r\n\r\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\r\n\r\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\r\n\r\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\r\n\t\tif ( data.length > 80 * dim ) {\r\n\r\n\t\t\tminX = maxX = data[ 0 ];\r\n\t\t\tminY = maxY = data[ 1 ];\r\n\r\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\r\n\r\n\t\t\t\tx = data[ i ];\r\n\t\t\t\ty = data[ i + 1 ];\r\n\t\t\t\tif ( x < minX ) minX = x;\r\n\t\t\t\tif ( y < minY ) minY = y;\r\n\t\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\t\tif ( y > maxY ) maxY = y;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\r\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\r\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\r\n\r\n\t\t}\r\n\r\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\r\n\r\n\t\treturn triangles;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// create a circular doubly linked list from polygon points in the specified winding order\r\nfunction linkedList( data, start, end, dim, clockwise ) {\r\n\r\n\tvar i, last;\r\n\r\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\r\n\r\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\r\n\r\n\t} else {\r\n\r\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\r\n\r\n\t}\r\n\r\n\tif ( last && equals( last, last.next ) ) {\r\n\r\n\t\tremoveNode( last );\r\n\t\tlast = last.next;\r\n\r\n\t}\r\n\r\n\treturn last;\r\n\r\n}\r\n\r\n// eliminate colinear or duplicate points\r\nfunction filterPoints( start, end ) {\r\n\r\n\tif ( ! start ) return start;\r\n\tif ( ! end ) end = start;\r\n\r\n\tvar p = start,\r\n\t\tagain;\r\n\tdo {\r\n\r\n\t\tagain = false;\r\n\r\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\r\n\r\n\t\t\tremoveNode( p );\r\n\t\t\tp = end = p.prev;\r\n\t\t\tif ( p === p.next ) break;\r\n\t\t\tagain = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tp = p.next;\r\n\r\n\t\t}\r\n\r\n\t} while ( again || p !== end );\r\n\r\n\treturn end;\r\n\r\n}\r\n\r\n// main ear slicing loop which triangulates a polygon (given as a linked list)\r\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\r\n\r\n\tif ( ! ear ) return;\r\n\r\n\t// interlink polygon nodes in z-order\r\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\r\n\r\n\tvar stop = ear,\r\n\t\tprev, next;\r\n\r\n\t// iterate through ears, slicing them one by one\r\n\twhile ( ear.prev !== ear.next ) {\r\n\r\n\t\tprev = ear.prev;\r\n\t\tnext = ear.next;\r\n\r\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\r\n\r\n\t\t\t// cut off the triangle\r\n\t\t\ttriangles.push( prev.i / dim );\r\n\t\t\ttriangles.push( ear.i / dim );\r\n\t\t\ttriangles.push( next.i / dim );\r\n\r\n\t\t\tremoveNode( ear );\r\n\r\n\t\t\t// skipping the next vertex leads to less sliver triangles\r\n\t\t\tear = next.next;\r\n\t\t\tstop = next.next;\r\n\r\n\t\t\tcontinue;\r\n\r\n\t\t}\r\n\r\n\t\tear = next;\r\n\r\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\r\n\t\tif ( ear === stop ) {\r\n\r\n\t\t\t// try filtering points and slicing again\r\n\t\t\tif ( ! pass ) {\r\n\r\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\r\n\r\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\r\n\r\n\t\t\t} else if ( pass === 1 ) {\r\n\r\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\r\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\r\n\r\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\r\n\r\n\t\t\t} else if ( pass === 2 ) {\r\n\r\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// check whether a polygon node forms a valid ear with adjacent nodes\r\nfunction isEar( ear ) {\r\n\r\n\tvar a = ear.prev,\r\n\t\tb = ear,\r\n\t\tc = ear.next;\r\n\r\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\r\n\r\n\t// now make sure we don't have other points inside the potential ear\r\n\tvar p = ear.next.next;\r\n\r\n\twhile ( p !== ear.prev ) {\r\n\r\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.next;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nfunction isEarHashed( ear, minX, minY, invSize ) {\r\n\r\n\tvar a = ear.prev,\r\n\t\tb = ear,\r\n\t\tc = ear.next;\r\n\r\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\r\n\r\n\t// triangle bbox; min & max are calculated like this for speed\r\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\r\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\r\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\r\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\r\n\r\n\t// z-order range for the current triangle bbox;\r\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\r\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\r\n\r\n\tvar p = ear.prevZ,\r\n\t\tn = ear.nextZ;\r\n\r\n\t// look for points inside the triangle in both directions\r\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\r\n\r\n\t\tif ( p !== ear.prev && p !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.prevZ;\r\n\r\n\t\tif ( n !== ear.prev && n !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\r\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\r\n\t\tn = n.nextZ;\r\n\r\n\t}\r\n\r\n\t// look for remaining points in decreasing z-order\r\n\twhile ( p && p.z >= minZ ) {\r\n\r\n\t\tif ( p !== ear.prev && p !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.prevZ;\r\n\r\n\t}\r\n\r\n\t// look for remaining points in increasing z-order\r\n\twhile ( n && n.z <= maxZ ) {\r\n\r\n\t\tif ( n !== ear.prev && n !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\r\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\r\n\t\tn = n.nextZ;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\n// go through all polygon nodes and cure small local self-intersections\r\nfunction cureLocalIntersections( start, triangles, dim ) {\r\n\r\n\tvar p = start;\r\n\tdo {\r\n\r\n\t\tvar a = p.prev,\r\n\t\t\tb = p.next.next;\r\n\r\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\r\n\r\n\t\t\ttriangles.push( a.i / dim );\r\n\t\t\ttriangles.push( p.i / dim );\r\n\t\t\ttriangles.push( b.i / dim );\r\n\r\n\t\t\t// remove two nodes involved\r\n\t\t\tremoveNode( p );\r\n\t\t\tremoveNode( p.next );\r\n\r\n\t\t\tp = start = b;\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\treturn p;\r\n\r\n}\r\n\r\n// try splitting polygon into two and triangulate them independently\r\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\r\n\r\n\t// look for a valid diagonal that divides the polygon into two\r\n\tvar a = start;\r\n\tdo {\r\n\r\n\t\tvar b = a.next.next;\r\n\t\twhile ( b !== a.prev ) {\r\n\r\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\r\n\r\n\t\t\t\t// split the polygon in two by the diagonal\r\n\t\t\t\tvar c = splitPolygon( a, b );\r\n\r\n\t\t\t\t// filter colinear points around the cuts\r\n\t\t\t\ta = filterPoints( a, a.next );\r\n\t\t\t\tc = filterPoints( c, c.next );\r\n\r\n\t\t\t\t// run earcut on each half\r\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\r\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tb = b.next;\r\n\r\n\t\t}\r\n\r\n\t\ta = a.next;\r\n\r\n\t} while ( a !== start );\r\n\r\n}\r\n\r\n// link every hole into the outer loop, producing a single-ring polygon without holes\r\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\r\n\r\n\tvar queue = [],\r\n\t\ti, len, start, end, list;\r\n\r\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\r\n\r\n\t\tstart = holeIndices[ i ] * dim;\r\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\r\n\t\tlist = linkedList( data, start, end, dim, false );\r\n\t\tif ( list === list.next ) list.steiner = true;\r\n\t\tqueue.push( getLeftmost( list ) );\r\n\r\n\t}\r\n\r\n\tqueue.sort( compareX );\r\n\r\n\t// process holes from left to right\r\n\tfor ( i = 0; i < queue.length; i ++ ) {\r\n\r\n\t\teliminateHole( queue[ i ], outerNode );\r\n\t\touterNode = filterPoints( outerNode, outerNode.next );\r\n\r\n\t}\r\n\r\n\treturn outerNode;\r\n\r\n}\r\n\r\nfunction compareX( a, b ) {\r\n\r\n\treturn a.x - b.x;\r\n\r\n}\r\n\r\n// find a bridge between vertices that connects hole with an outer ring and and link it\r\nfunction eliminateHole( hole, outerNode ) {\r\n\r\n\touterNode = findHoleBridge( hole, outerNode );\r\n\tif ( outerNode ) {\r\n\r\n\t\tvar b = splitPolygon( outerNode, hole );\r\n\t\tfilterPoints( b, b.next );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\r\nfunction findHoleBridge( hole, outerNode ) {\r\n\r\n\tvar p = outerNode,\r\n\t\thx = hole.x,\r\n\t\thy = hole.y,\r\n\t\tqx = - Infinity,\r\n\t\tm;\r\n\r\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\r\n\t// segment's endpoint with lesser x will be potential connection point\r\n\tdo {\r\n\r\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\r\n\r\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\r\n\t\t\tif ( x <= hx && x > qx ) {\r\n\r\n\t\t\t\tqx = x;\r\n\t\t\t\tif ( x === hx ) {\r\n\r\n\t\t\t\t\tif ( hy === p.y ) return p;\r\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== outerNode );\r\n\r\n\tif ( ! m ) return null;\r\n\r\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\r\n\r\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\r\n\t// if there are no points found, we have a valid connection;\r\n\t// otherwise choose the point of the minimum angle with the ray as connection point\r\n\r\n\tvar stop = m,\r\n\t\tmx = m.x,\r\n\t\tmy = m.y,\r\n\t\ttanMin = Infinity,\r\n\t\ttan;\r\n\r\n\tp = m.next;\r\n\r\n\twhile ( p !== stop ) {\r\n\r\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\r\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\r\n\r\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\r\n\r\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\r\n\r\n\t\t\t\tm = p;\r\n\t\t\t\ttanMin = tan;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t}\r\n\r\n\treturn m;\r\n\r\n}\r\n\r\n// interlink polygon nodes in z-order\r\nfunction indexCurve( start, minX, minY, invSize ) {\r\n\r\n\tvar p = start;\r\n\tdo {\r\n\r\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\r\n\t\tp.prevZ = p.prev;\r\n\t\tp.nextZ = p.next;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\tp.prevZ.nextZ = null;\r\n\tp.prevZ = null;\r\n\r\n\tsortLinked( p );\r\n\r\n}\r\n\r\n// Simon Tatham's linked list merge sort algorithm\r\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\r\nfunction sortLinked( list ) {\r\n\r\n\tvar i, p, q, e, tail, numMerges, pSize, qSize,\r\n\t\tinSize = 1;\r\n\r\n\tdo {\r\n\r\n\t\tp = list;\r\n\t\tlist = null;\r\n\t\ttail = null;\r\n\t\tnumMerges = 0;\r\n\r\n\t\twhile ( p ) {\r\n\r\n\t\t\tnumMerges ++;\r\n\t\t\tq = p;\r\n\t\t\tpSize = 0;\r\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\r\n\r\n\t\t\t\tpSize ++;\r\n\t\t\t\tq = q.nextZ;\r\n\t\t\t\tif ( ! q ) break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tqSize = inSize;\r\n\r\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\r\n\r\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\r\n\r\n\t\t\t\t\te = p;\r\n\t\t\t\t\tp = p.nextZ;\r\n\t\t\t\t\tpSize --;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\te = q;\r\n\t\t\t\t\tq = q.nextZ;\r\n\t\t\t\t\tqSize --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( tail ) tail.nextZ = e;\r\n\t\t\t\telse list = e;\r\n\r\n\t\t\t\te.prevZ = tail;\r\n\t\t\t\ttail = e;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tp = q;\r\n\r\n\t\t}\r\n\r\n\t\ttail.nextZ = null;\r\n\t\tinSize *= 2;\r\n\r\n\t} while ( numMerges > 1 );\r\n\r\n\treturn list;\r\n\r\n}\r\n\r\n// z-order of a point given coords and inverse of the longer side of data bbox\r\nfunction zOrder( x, y, minX, minY, invSize ) {\r\n\r\n\t// coords are transformed into non-negative 15-bit integer range\r\n\tx = 32767 * ( x - minX ) * invSize;\r\n\ty = 32767 * ( y - minY ) * invSize;\r\n\r\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\r\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\r\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\r\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\r\n\r\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\r\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\r\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\r\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\r\n\r\n\treturn x | ( y << 1 );\r\n\r\n}\r\n\r\n// find the leftmost node of a polygon ring\r\nfunction getLeftmost( start ) {\r\n\r\n\tvar p = start,\r\n\t\tleftmost = start;\r\n\tdo {\r\n\r\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\treturn leftmost;\r\n\r\n}\r\n\r\n// check if a point lies within a convex triangle\r\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\r\n\r\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\r\n\t\t   ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\r\n\t\t   ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\r\n\r\n}\r\n\r\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\r\nfunction isValidDiagonal( a, b ) {\r\n\r\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\r\n\t\t   locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\r\n\r\n}\r\n\r\n// signed area of a triangle\r\nfunction area( p, q, r ) {\r\n\r\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\r\n\r\n}\r\n\r\n// check if two points are equal\r\nfunction equals( p1, p2 ) {\r\n\r\n\treturn p1.x === p2.x && p1.y === p2.y;\r\n\r\n}\r\n\r\n// check if two segments intersect\r\nfunction intersects( p1, q1, p2, q2 ) {\r\n\r\n\tif ( ( equals( p1, p2 ) && equals( q1, q2 ) ) ||\r\n\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\r\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\r\n\t\t   area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\r\n\r\n}\r\n\r\n// check if a polygon diagonal intersects any polygon segments\r\nfunction intersectsPolygon( a, b ) {\r\n\r\n\tvar p = a;\r\n\tdo {\r\n\r\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\r\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== a );\r\n\r\n\treturn false;\r\n\r\n}\r\n\r\n// check if a polygon diagonal is locally inside the polygon\r\nfunction locallyInside( a, b ) {\r\n\r\n\treturn area( a.prev, a, a.next ) < 0 ?\r\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\r\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\r\n\r\n}\r\n\r\n// check if the middle point of a polygon diagonal is inside the polygon\r\nfunction middleInside( a, b ) {\r\n\r\n\tvar p = a,\r\n\t\tinside = false,\r\n\t\tpx = ( a.x + b.x ) / 2,\r\n\t\tpy = ( a.y + b.y ) / 2;\r\n\tdo {\r\n\r\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\r\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\r\n\t\t\tinside = ! inside;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== a );\r\n\r\n\treturn inside;\r\n\r\n}\r\n\r\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\r\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\r\nfunction splitPolygon( a, b ) {\r\n\r\n\tvar a2 = new Node( a.i, a.x, a.y ),\r\n\t\tb2 = new Node( b.i, b.x, b.y ),\r\n\t\tan = a.next,\r\n\t\tbp = b.prev;\r\n\r\n\ta.next = b;\r\n\tb.prev = a;\r\n\r\n\ta2.next = an;\r\n\tan.prev = a2;\r\n\r\n\tb2.next = a2;\r\n\ta2.prev = b2;\r\n\r\n\tbp.next = b2;\r\n\tb2.prev = bp;\r\n\r\n\treturn b2;\r\n\r\n}\r\n\r\n// create a node and optionally link it with previous one (in a circular doubly linked list)\r\nfunction insertNode( i, x, y, last ) {\r\n\r\n\tvar p = new Node( i, x, y );\r\n\r\n\tif ( ! last ) {\r\n\r\n\t\tp.prev = p;\r\n\t\tp.next = p;\r\n\r\n\t} else {\r\n\r\n\t\tp.next = last.next;\r\n\t\tp.prev = last;\r\n\t\tlast.next.prev = p;\r\n\t\tlast.next = p;\r\n\r\n\t}\r\n\r\n\treturn p;\r\n\r\n}\r\n\r\nfunction removeNode( p ) {\r\n\r\n\tp.next.prev = p.prev;\r\n\tp.prev.next = p.next;\r\n\r\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\r\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\r\n\r\n}\r\n\r\nfunction Node( i, x, y ) {\r\n\r\n\t// vertex index in coordinates array\r\n\tthis.i = i;\r\n\r\n\t// vertex coordinates\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\r\n\t// previous and next vertex nodes in a polygon ring\r\n\tthis.prev = null;\r\n\tthis.next = null;\r\n\r\n\t// z-order curve value\r\n\tthis.z = null;\r\n\r\n\t// previous and next nodes in z-order\r\n\tthis.prevZ = null;\r\n\tthis.nextZ = null;\r\n\r\n\t// indicates whether this is a steiner point\r\n\tthis.steiner = false;\r\n\r\n}\r\n\r\nfunction signedArea( data, start, end, dim ) {\r\n\r\n\tvar sum = 0;\r\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\r\n\r\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\r\n\t\tj = i;\r\n\r\n\t}\r\n\r\n\treturn sum;\r\n\r\n}\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n */\r\n\r\nvar ShapeUtils = {\r\n\r\n\t// calculate area of the contour polygon\r\n\r\n\tarea: function ( contour ) {\r\n\r\n\t\tvar n = contour.length;\r\n\t\tvar a = 0.0;\r\n\r\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\r\n\r\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\r\n\r\n\t\t}\r\n\r\n\t\treturn a * 0.5;\r\n\r\n\t},\r\n\r\n\tisClockWise: function ( pts ) {\r\n\r\n\t\treturn ShapeUtils.area( pts ) < 0;\r\n\r\n\t},\r\n\r\n\ttriangulateShape: function ( contour, holes ) {\r\n\r\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\r\n\t\tvar holeIndices = []; // array of hole indices\r\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\r\n\r\n\t\tremoveDupEndPts( contour );\r\n\t\taddContour( vertices, contour );\r\n\r\n\t\t//\r\n\r\n\t\tvar holeIndex = contour.length;\r\n\r\n\t\tholes.forEach( removeDupEndPts );\r\n\r\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\r\n\r\n\t\t\tholeIndices.push( holeIndex );\r\n\t\t\tholeIndex += holes[ i ].length;\r\n\t\t\taddContour( vertices, holes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\r\n\r\n\t\t//\r\n\r\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\r\n\r\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn faces;\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction removeDupEndPts( points ) {\r\n\r\n\tvar l = points.length;\r\n\r\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\r\n\r\n\t\tpoints.pop();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction addContour( vertices, contour ) {\r\n\r\n\tfor ( var i = 0; i < contour.length; i ++ ) {\r\n\r\n\t\tvertices.push( contour[ i ].x );\r\n\t\tvertices.push( contour[ i ].y );\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n *\r\n * Creates extruded geometry from a path shape.\r\n *\r\n * parameters = {\r\n *\r\n *  curveSegments: <int>, // number of points on the curves\r\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\r\n *  depth: <float>, // Depth to extrude the shape\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\r\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\r\n *  bevelOffset: <float>, // how far from shape outline does bevel start\r\n *  bevelSegments: <int>, // number of bevel layers\r\n *\r\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\r\n *\r\n *  UVGenerator: <Object> // object that provides UV generator functions\r\n *\r\n * }\r\n */\r\n\r\n// ExtrudeGeometry\r\n\r\nfunction ExtrudeGeometry( shapes, options ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'ExtrudeGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tshapes: shapes,\r\n\t\toptions: options\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\r\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\r\n\r\nExtrudeGeometry.prototype.toJSON = function () {\r\n\r\n\tvar data = Geometry.prototype.toJSON.call( this );\r\n\r\n\tvar shapes = this.parameters.shapes;\r\n\tvar options = this.parameters.options;\r\n\r\n\treturn toJSON( shapes, options, data );\r\n\r\n};\r\n\r\n// ExtrudeBufferGeometry\r\n\r\nfunction ExtrudeBufferGeometry( shapes, options ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'ExtrudeBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tshapes: shapes,\r\n\t\toptions: options\r\n\t};\r\n\r\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\r\n\r\n\tvar scope = this;\r\n\r\n\tvar verticesArray = [];\r\n\tvar uvArray = [];\r\n\r\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\tvar shape = shapes[ i ];\r\n\t\taddShape( shape );\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\r\n\r\n\tthis.computeVertexNormals();\r\n\r\n\t// functions\r\n\r\n\tfunction addShape( shape ) {\r\n\r\n\t\tvar placeholder = [];\r\n\r\n\t\t// options\r\n\r\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\r\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\r\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\r\n\r\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\r\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\r\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\r\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\r\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\r\n\r\n\t\tvar extrudePath = options.extrudePath;\r\n\r\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\r\n\r\n\t\t// deprecated options\r\n\r\n\t\tif ( options.amount !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\r\n\t\t\tdepth = options.amount;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar extrudePts, extrudeByPath = false;\r\n\t\tvar splineTube, binormal, normal, position2;\r\n\r\n\t\tif ( extrudePath ) {\r\n\r\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\r\n\r\n\t\t\textrudeByPath = true;\r\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\r\n\r\n\t\t\t// SETUP TNB variables\r\n\r\n\t\t\t// TODO1 - have a .isClosed in spline?\r\n\r\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\r\n\r\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\r\n\r\n\t\t\tbinormal = new Vector3();\r\n\t\t\tnormal = new Vector3();\r\n\t\t\tposition2 = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\t// Safeguards if bevels are not enabled\r\n\r\n\t\tif ( ! bevelEnabled ) {\r\n\r\n\t\t\tbevelSegments = 0;\r\n\t\t\tbevelThickness = 0;\r\n\t\t\tbevelSize = 0;\r\n\t\t\tbevelOffset = 0;\r\n\r\n\t\t}\r\n\r\n\t\t// Variables initialization\r\n\r\n\t\tvar ahole, h, hl; // looping of holes\r\n\r\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\r\n\r\n\t\tvar vertices = shapePoints.shape;\r\n\t\tvar holes = shapePoints.holes;\r\n\r\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\r\n\r\n\t\tif ( reverse ) {\r\n\r\n\t\t\tvertices = vertices.reverse();\r\n\r\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\r\n\r\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tahole = holes[ h ];\r\n\r\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\r\n\r\n\t\t\t\t\tholes[ h ] = ahole.reverse();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\r\n\r\n\t\t/* Vertices */\r\n\r\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\r\n\t\t\tvertices = vertices.concat( ahole );\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction scalePt2( pt, vec, size ) {\r\n\r\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\r\n\r\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\r\n\r\n\t\t}\r\n\r\n\t\tvar b, bs, t, z,\r\n\t\t\tvert, vlen = vertices.length,\r\n\t\t\tface, flen = faces.length;\r\n\r\n\r\n\t\t// Find directions for point movement\r\n\r\n\r\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\r\n\r\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\r\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\r\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\r\n\t\t\t//\r\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\r\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\r\n\r\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\r\n\r\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\r\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\r\n\r\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\r\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\r\n\t\t\tvar v_next_x = inNext.x - inPt.x,\r\n\t\t\t\tv_next_y = inNext.y - inPt.y;\r\n\r\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\r\n\r\n\t\t\t// check for collinear edges\r\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t// not collinear\r\n\r\n\t\t\t\t// length of vectors for normalizing\r\n\r\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\r\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\r\n\r\n\t\t\t\t// shift adjacent points by unit vectors to the left\r\n\r\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\r\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\r\n\r\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\r\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\r\n\r\n\t\t\t\t// scaling factor for v_prev to intersection point\r\n\r\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\r\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\r\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\t\t\t// vector from inPt to intersection point\r\n\r\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\r\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\r\n\r\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\r\n\t\t\t\t//  but prevent crazy spikes\r\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\r\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\r\n\r\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// handle special case of collinear edges\r\n\r\n\t\t\t\tvar direction_eq = false; // assumes: opposite\r\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\r\n\r\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\r\n\r\n\t\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( direction_eq ) {\r\n\r\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\r\n\t\t\t\t\tv_trans_x = - v_prev_y;\r\n\t\t\t\t\tv_trans_y = v_prev_x;\r\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\r\n\t\t\t\t\tv_trans_x = v_prev_x;\r\n\t\t\t\t\tv_trans_y = v_prev_y;\r\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\r\n\r\n\t\t}\r\n\r\n\r\n\t\tvar contourMovements = [];\r\n\r\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\t\tif ( j === il ) j = 0;\r\n\t\t\tif ( k === il ) k = 0;\r\n\r\n\t\t\t//  (j)---(i)---(k)\r\n\t\t\t// console.log('i,j,k', i, j , k)\r\n\r\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\r\n\r\n\t\t}\r\n\r\n\t\tvar holesMovements = [],\r\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\r\n\t\t\toneHoleMovements = [];\r\n\r\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\t\t\tif ( j === il ) j = 0;\r\n\t\t\t\tif ( k === il ) k = 0;\r\n\r\n\t\t\t\t//  (j)---(i)---(k)\r\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tholesMovements.push( oneHoleMovements );\r\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\r\n\r\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\r\n\r\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\r\n\r\n\t\t\tt = b / bevelSegments;\r\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\r\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\r\n\r\n\t\t\t// contract shape\r\n\r\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\r\n\t\t\t\tv( vert.x, vert.y, - z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// expand holes\r\n\r\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tahole = holes[ h ];\r\n\t\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\t\tv( vert.x, vert.y, - z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tbs = bevelSize + bevelOffset;\r\n\r\n\t\t// Back facing vertices\r\n\r\n\t\tfor ( i = 0; i < vlen; i ++ ) {\r\n\r\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\tv( vert.x, vert.y, 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\r\n\r\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\r\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\r\n\r\n\t\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Add stepped vertices...\r\n\t\t// Including front facing vertices\r\n\r\n\t\tvar s;\r\n\r\n\t\tfor ( s = 1; s <= steps; s ++ ) {\r\n\r\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\r\n\r\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\r\n\r\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\r\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\r\n\r\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// Add bevel segments planes\r\n\r\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\r\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\r\n\r\n\t\t\tt = b / bevelSegments;\r\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\r\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\r\n\r\n\t\t\t// contract shape\r\n\r\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\t\t\t\tv( vert.x, vert.y, depth + z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// expand holes\r\n\r\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tahole = holes[ h ];\r\n\t\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t/* Faces */\r\n\r\n\t\t// Top and bottom faces\r\n\r\n\t\tbuildLidFaces();\r\n\r\n\t\t// Sides faces\r\n\r\n\t\tbuildSideFaces();\r\n\r\n\r\n\t\t/////  Internal functions\r\n\r\n\t\tfunction buildLidFaces() {\r\n\r\n\t\t\tvar start = verticesArray.length / 3;\r\n\r\n\t\t\tif ( bevelEnabled ) {\r\n\r\n\t\t\t\tvar layer = 0; // steps + 1\r\n\t\t\t\tvar offset = vlen * layer;\r\n\r\n\t\t\t\t// Bottom faces\r\n\r\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\tface = faces[ i ];\r\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlayer = steps + bevelSegments * 2;\r\n\t\t\t\toffset = vlen * layer;\r\n\r\n\t\t\t\t// Top faces\r\n\r\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\tface = faces[ i ];\r\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Bottom faces\r\n\r\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\tface = faces[ i ];\r\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Top faces\r\n\r\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\tface = faces[ i ];\r\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\r\n\r\n\t\t}\r\n\r\n\t\t// Create faces for the z-sides of the shape\r\n\r\n\t\tfunction buildSideFaces() {\r\n\r\n\t\t\tvar start = verticesArray.length / 3;\r\n\t\t\tvar layeroffset = 0;\r\n\t\t\tsidewalls( contour, layeroffset );\r\n\t\t\tlayeroffset += contour.length;\r\n\r\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tahole = holes[ h ];\r\n\t\t\t\tsidewalls( ahole, layeroffset );\r\n\r\n\t\t\t\t//, true\r\n\t\t\t\tlayeroffset += ahole.length;\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\r\n\r\n\r\n\t\t}\r\n\r\n\t\tfunction sidewalls( contour, layeroffset ) {\r\n\r\n\t\t\tvar j, k;\r\n\t\t\ti = contour.length;\r\n\r\n\t\t\twhile ( -- i >= 0 ) {\r\n\r\n\t\t\t\tj = i;\r\n\t\t\t\tk = i - 1;\r\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\r\n\r\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\r\n\r\n\t\t\t\tvar s = 0,\r\n\t\t\t\t\tsl = steps + bevelSegments * 2;\r\n\r\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\r\n\r\n\t\t\t\t\tvar slen1 = vlen * s;\r\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\r\n\r\n\t\t\t\t\tvar a = layeroffset + j + slen1,\r\n\t\t\t\t\t\tb = layeroffset + k + slen1,\r\n\t\t\t\t\t\tc = layeroffset + k + slen2,\r\n\t\t\t\t\t\td = layeroffset + j + slen2;\r\n\r\n\t\t\t\t\tf4( a, b, c, d );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction v( x, y, z ) {\r\n\r\n\t\t\tplaceholder.push( x );\r\n\t\t\tplaceholder.push( y );\r\n\t\t\tplaceholder.push( z );\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction f3( a, b, c ) {\r\n\r\n\t\t\taddVertex( a );\r\n\t\t\taddVertex( b );\r\n\t\t\taddVertex( c );\r\n\r\n\t\t\tvar nextIndex = verticesArray.length / 3;\r\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\r\n\r\n\t\t\taddUV( uvs[ 0 ] );\r\n\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\taddUV( uvs[ 2 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction f4( a, b, c, d ) {\r\n\r\n\t\t\taddVertex( a );\r\n\t\t\taddVertex( b );\r\n\t\t\taddVertex( d );\r\n\r\n\t\t\taddVertex( b );\r\n\t\t\taddVertex( c );\r\n\t\t\taddVertex( d );\r\n\r\n\r\n\t\t\tvar nextIndex = verticesArray.length / 3;\r\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\r\n\r\n\t\t\taddUV( uvs[ 0 ] );\r\n\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\taddUV( uvs[ 3 ] );\r\n\r\n\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\taddUV( uvs[ 2 ] );\r\n\t\t\taddUV( uvs[ 3 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction addVertex( index ) {\r\n\r\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\r\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\r\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction addUV( vector2 ) {\r\n\r\n\t\t\tuvArray.push( vector2.x );\r\n\t\t\tuvArray.push( vector2.y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\r\n\r\nExtrudeBufferGeometry.prototype.toJSON = function () {\r\n\r\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\tvar shapes = this.parameters.shapes;\r\n\tvar options = this.parameters.options;\r\n\r\n\treturn toJSON( shapes, options, data );\r\n\r\n};\r\n\r\n//\r\n\r\nvar WorldUVGenerator = {\r\n\r\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\r\n\r\n\t\tvar a_x = vertices[ indexA * 3 ];\r\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\r\n\t\tvar b_x = vertices[ indexB * 3 ];\r\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\r\n\t\tvar c_x = vertices[ indexC * 3 ];\r\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\r\n\r\n\t\treturn [\r\n\t\t\tnew Vector2( a_x, a_y ),\r\n\t\t\tnew Vector2( b_x, b_y ),\r\n\t\t\tnew Vector2( c_x, c_y )\r\n\t\t];\r\n\r\n\t},\r\n\r\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\r\n\r\n\t\tvar a_x = vertices[ indexA * 3 ];\r\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\r\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\r\n\t\tvar b_x = vertices[ indexB * 3 ];\r\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\r\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\r\n\t\tvar c_x = vertices[ indexC * 3 ];\r\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\r\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\r\n\t\tvar d_x = vertices[ indexD * 3 ];\r\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\r\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\r\n\r\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\r\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\r\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\r\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\r\n\t\t\t];\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\r\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\r\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\r\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\r\n\t\t\t];\r\n\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nfunction toJSON( shapes, options, data ) {\r\n\r\n\t//\r\n\r\n\tdata.shapes = [];\r\n\r\n\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar shape = shapes[ i ];\r\n\r\n\t\t\tdata.shapes.push( shape.uuid );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tdata.shapes.push( shapes.uuid );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * Text = 3D Text\r\n *\r\n * parameters = {\r\n *  font: <THREE.Font>, // font\r\n *\r\n *  size: <float>, // size of the text\r\n *  height: <float>, // thickness to extrude text\r\n *  curveSegments: <int>, // number of points on the curves\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into text bevel goes\r\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\r\n *  bevelOffset: <float> // how far from text outline does bevel start\r\n * }\r\n */\r\n\r\n// TextGeometry\r\n\r\nfunction TextGeometry( text, parameters ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'TextGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\ttext: text,\r\n\t\tparameters: parameters\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nTextGeometry.prototype = Object.create( Geometry.prototype );\r\nTextGeometry.prototype.constructor = TextGeometry;\r\n\r\n// TextBufferGeometry\r\n\r\nfunction TextBufferGeometry( text, parameters ) {\r\n\r\n\tparameters = parameters || {};\r\n\r\n\tvar font = parameters.font;\r\n\r\n\tif ( ! ( font && font.isFont ) ) {\r\n\r\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\r\n\t\treturn new Geometry();\r\n\r\n\t}\r\n\r\n\tvar shapes = font.generateShapes( text, parameters.size );\r\n\r\n\t// translate parameters to ExtrudeGeometry API\r\n\r\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\r\n\r\n\t// defaults\r\n\r\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\r\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\r\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\r\n\r\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\r\n\r\n\tthis.type = 'TextBufferGeometry';\r\n\r\n}\r\n\r\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\r\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// SphereGeometry\r\n\r\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'SphereGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nSphereGeometry.prototype = Object.create( Geometry.prototype );\r\nSphereGeometry.prototype.constructor = SphereGeometry;\r\n\r\n// SphereBufferGeometry\r\n\r\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'SphereBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\r\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\r\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\r\n\r\n\tphiStart = phiStart !== undefined ? phiStart : 0;\r\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\r\n\r\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\r\n\r\n\tvar ix, iy;\r\n\r\n\tvar index = 0;\r\n\tvar grid = [];\r\n\r\n\tvar vertex = new Vector3();\r\n\tvar normal = new Vector3();\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\r\n\r\n\t\tvar verticesRow = [];\r\n\r\n\t\tvar v = iy / heightSegments;\r\n\r\n\t\t// special case for the poles\r\n\r\n\t\tvar uOffset = 0;\r\n\r\n\t\tif ( iy == 0 && thetaStart == 0 ) {\r\n\r\n\t\t\tuOffset = 0.5 / widthSegments;\r\n\r\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\r\n\r\n\t\t\tuOffset = - 0.5 / widthSegments;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\r\n\r\n\t\t\tvar u = ix / widthSegments;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\r\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormal.copy( vertex ).normalize();\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( u + uOffset, 1 - v );\r\n\r\n\t\t\tverticesRow.push( index ++ );\r\n\r\n\t\t}\r\n\r\n\t\tgrid.push( verticesRow );\r\n\r\n\t}\r\n\r\n\t// indices\r\n\r\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\r\n\r\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\r\n\r\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\r\n\t\t\tvar b = grid[ iy ][ ix ];\r\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\r\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\r\n\r\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\r\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\r\n\r\n/**\r\n * @author Kaleb Murphy\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// RingGeometry\r\n\r\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'RingGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tinnerRadius: innerRadius,\r\n\t\touterRadius: outerRadius,\r\n\t\tthetaSegments: thetaSegments,\r\n\t\tphiSegments: phiSegments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nRingGeometry.prototype = Object.create( Geometry.prototype );\r\nRingGeometry.prototype.constructor = RingGeometry;\r\n\r\n// RingBufferGeometry\r\n\r\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'RingBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tinnerRadius: innerRadius,\r\n\t\touterRadius: outerRadius,\r\n\t\tthetaSegments: thetaSegments,\r\n\t\tphiSegments: phiSegments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tinnerRadius = innerRadius || 0.5;\r\n\touterRadius = outerRadius || 1;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\r\n\r\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\r\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// some helper variables\r\n\r\n\tvar segment;\r\n\tvar radius = innerRadius;\r\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\r\n\tvar vertex = new Vector3();\r\n\tvar uv = new Vector2();\r\n\tvar j, i;\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\r\n\r\n\t\t\t// values are generate from the inside of the ring to the outside\r\n\r\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = radius * Math.cos( segment );\r\n\t\t\tvertex.y = radius * Math.sin( segment );\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\r\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\r\n\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t}\r\n\r\n\t\t// increase the radius for next row of vertices\r\n\r\n\t\tradius += radiusStep;\r\n\r\n\t}\r\n\r\n\t// indices\r\n\r\n\tfor ( j = 0; j < phiSegments; j ++ ) {\r\n\r\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\r\n\r\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\r\n\r\n\t\t\tsegment = i + thetaSegmentLevel;\r\n\r\n\t\t\tvar a = segment;\r\n\t\t\tvar b = segment + thetaSegments + 1;\r\n\t\t\tvar c = segment + thetaSegments + 2;\r\n\t\t\tvar d = segment + 1;\r\n\r\n\t\t\t// faces\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\r\n\r\n/**\r\n * @author zz85 / https://github.com/zz85\r\n * @author bhouston / http://clara.io\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// LatheGeometry\r\n\r\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'LatheGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpoints: points,\r\n\t\tsegments: segments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nLatheGeometry.prototype = Object.create( Geometry.prototype );\r\nLatheGeometry.prototype.constructor = LatheGeometry;\r\n\r\n// LatheBufferGeometry\r\n\r\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'LatheBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpoints: points,\r\n\t\tsegments: segments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength\r\n\t};\r\n\r\n\tsegments = Math.floor( segments ) || 12;\r\n\tphiStart = phiStart || 0;\r\n\tphiLength = phiLength || Math.PI * 2;\r\n\r\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\r\n\r\n\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\r\n\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar base;\r\n\tvar inverseSegments = 1.0 / segments;\r\n\tvar vertex = new Vector3();\r\n\tvar uv = new Vector2();\r\n\tvar i, j;\r\n\r\n\t// generate vertices and uvs\r\n\r\n\tfor ( i = 0; i <= segments; i ++ ) {\r\n\r\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\r\n\r\n\t\tvar sin = Math.sin( phi );\r\n\t\tvar cos = Math.cos( phi );\r\n\r\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = points[ j ].x * sin;\r\n\t\t\tvertex.y = points[ j ].y;\r\n\t\t\tvertex.z = points[ j ].x * cos;\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuv.x = i / segments;\r\n\t\t\tuv.y = j / ( points.length - 1 );\r\n\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// indices\r\n\r\n\tfor ( i = 0; i < segments; i ++ ) {\r\n\r\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\tbase = j + i * points.length;\r\n\r\n\t\t\tvar a = base;\r\n\t\t\tvar b = base + points.length;\r\n\t\t\tvar c = base + points.length + 1;\r\n\t\t\tvar d = base + 1;\r\n\r\n\t\t\t// faces\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t// generate normals\r\n\r\n\tthis.computeVertexNormals();\r\n\r\n\t// if the geometry is closed, we need to average the normals along the seam.\r\n\t// because the corresponding vertices are identical (but still have different UVs).\r\n\r\n\tif ( phiLength === Math.PI * 2 ) {\r\n\r\n\t\tvar normals = this.attributes.normal.array;\r\n\t\tvar n1 = new Vector3();\r\n\t\tvar n2 = new Vector3();\r\n\t\tvar n = new Vector3();\r\n\r\n\t\t// this is the buffer offset for the last line of vertices\r\n\r\n\t\tbase = segments * points.length * 3;\r\n\r\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\r\n\r\n\t\t\t// select the normal of the vertex in the first line\r\n\r\n\t\t\tn1.x = normals[ j + 0 ];\r\n\t\t\tn1.y = normals[ j + 1 ];\r\n\t\t\tn1.z = normals[ j + 2 ];\r\n\r\n\t\t\t// select the normal of the vertex in the last line\r\n\r\n\t\t\tn2.x = normals[ base + j + 0 ];\r\n\t\t\tn2.y = normals[ base + j + 1 ];\r\n\t\t\tn2.z = normals[ base + j + 2 ];\r\n\r\n\t\t\t// average normals\r\n\r\n\t\t\tn.addVectors( n1, n2 ).normalize();\r\n\r\n\t\t\t// assign the new values to both normals\r\n\r\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\r\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\r\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\r\n\r\n/**\r\n * @author jonobr1 / http://jonobr1.com\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// ShapeGeometry\r\n\r\nfunction ShapeGeometry( shapes, curveSegments ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'ShapeGeometry';\r\n\r\n\tif ( typeof curveSegments === 'object' ) {\r\n\r\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\r\n\r\n\t\tcurveSegments = curveSegments.curveSegments;\r\n\r\n\t}\r\n\r\n\tthis.parameters = {\r\n\t\tshapes: shapes,\r\n\t\tcurveSegments: curveSegments\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nShapeGeometry.prototype = Object.create( Geometry.prototype );\r\nShapeGeometry.prototype.constructor = ShapeGeometry;\r\n\r\nShapeGeometry.prototype.toJSON = function () {\r\n\r\n\tvar data = Geometry.prototype.toJSON.call( this );\r\n\r\n\tvar shapes = this.parameters.shapes;\r\n\r\n\treturn toJSON$1( shapes, data );\r\n\r\n};\r\n\r\n// ShapeBufferGeometry\r\n\r\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'ShapeBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tshapes: shapes,\r\n\t\tcurveSegments: curveSegments\r\n\t};\r\n\r\n\tcurveSegments = curveSegments || 12;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar groupStart = 0;\r\n\tvar groupCount = 0;\r\n\r\n\t// allow single and array values for \"shapes\" parameter\r\n\r\n\tif ( Array.isArray( shapes ) === false ) {\r\n\r\n\t\taddShape( shapes );\r\n\r\n\t} else {\r\n\r\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\r\n\r\n\t\t\taddShape( shapes[ i ] );\r\n\r\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\r\n\r\n\t\t\tgroupStart += groupCount;\r\n\t\t\tgroupCount = 0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\r\n\t// helper functions\r\n\r\n\tfunction addShape( shape ) {\r\n\r\n\t\tvar i, l, shapeHole;\r\n\r\n\t\tvar indexOffset = vertices.length / 3;\r\n\t\tvar points = shape.extractPoints( curveSegments );\r\n\r\n\t\tvar shapeVertices = points.shape;\r\n\t\tvar shapeHoles = points.holes;\r\n\r\n\t\t// check direction of vertices\r\n\r\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\r\n\r\n\t\t\tshapeVertices = shapeVertices.reverse();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\r\n\r\n\t\t\tshapeHole = shapeHoles[ i ];\r\n\r\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\r\n\r\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\r\n\r\n\t\t// join vertices of inner and outer paths to a single array\r\n\r\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\r\n\r\n\t\t\tshapeHole = shapeHoles[ i ];\r\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\r\n\r\n\t\t}\r\n\r\n\t\t// vertices, normals, uvs\r\n\r\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vertex = shapeVertices[ i ];\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\r\n\t\t\tnormals.push( 0, 0, 1 );\r\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\r\n\r\n\t\t}\r\n\r\n\t\t// incides\r\n\r\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tvar a = face[ 0 ] + indexOffset;\r\n\t\t\tvar b = face[ 1 ] + indexOffset;\r\n\t\t\tvar c = face[ 2 ] + indexOffset;\r\n\r\n\t\t\tindices.push( a, b, c );\r\n\t\t\tgroupCount += 3;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\r\n\r\nShapeBufferGeometry.prototype.toJSON = function () {\r\n\r\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\tvar shapes = this.parameters.shapes;\r\n\r\n\treturn toJSON$1( shapes, data );\r\n\r\n};\r\n\r\n//\r\n\r\nfunction toJSON$1( shapes, data ) {\r\n\r\n\tdata.shapes = [];\r\n\r\n\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar shape = shapes[ i ];\r\n\r\n\t\t\tdata.shapes.push( shape.uuid );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tdata.shapes.push( shapes.uuid );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nfunction EdgesGeometry( geometry, thresholdAngle ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'EdgesGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tthresholdAngle: thresholdAngle\r\n\t};\r\n\r\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\r\n\r\n\t// buffer\r\n\r\n\tvar vertices = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\r\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\r\n\tvar key, keys = [ 'a', 'b', 'c' ];\r\n\r\n\t// prepare source geometry\r\n\r\n\tvar geometry2;\r\n\r\n\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\tgeometry2 = new Geometry();\r\n\t\tgeometry2.fromBufferGeometry( geometry );\r\n\r\n\t} else {\r\n\r\n\t\tgeometry2 = geometry.clone();\r\n\r\n\t}\r\n\r\n\tgeometry2.mergeVertices();\r\n\tgeometry2.computeFaceNormals();\r\n\r\n\tvar sourceVertices = geometry2.vertices;\r\n\tvar faces = geometry2.faces;\r\n\r\n\t// now create a data structure where each entry represents an edge with its adjoining faces\r\n\r\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\tvar face = faces[ i ];\r\n\r\n\t\tfor ( var j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\tedge1 = face[ keys[ j ] ];\r\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\r\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\r\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\r\n\r\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\r\n\r\n\t\t\tif ( edges[ key ] === undefined ) {\r\n\r\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tedges[ key ].face2 = i;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate vertices\r\n\r\n\tfor ( key in edges ) {\r\n\r\n\t\tvar e = edges[ key ];\r\n\r\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\r\n\r\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\r\n\r\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\tvertex = sourceVertices[ e.index2 ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n}\r\n\r\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nEdgesGeometry.prototype.constructor = EdgesGeometry;\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n// CylinderGeometry\r\n\r\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'CylinderGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradiusTop: radiusTop,\r\n\t\tradiusBottom: radiusBottom,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\r\nCylinderGeometry.prototype.constructor = CylinderGeometry;\r\n\r\n// CylinderBufferGeometry\r\n\r\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'CylinderBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradiusTop: radiusTop,\r\n\t\tradiusBottom: radiusBottom,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tvar scope = this;\r\n\r\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\r\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\r\n\theight = height || 1;\r\n\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\theightSegments = Math.floor( heightSegments ) || 1;\r\n\r\n\topenEnded = openEnded !== undefined ? openEnded : false;\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar index = 0;\r\n\tvar indexArray = [];\r\n\tvar halfHeight = height / 2;\r\n\tvar groupStart = 0;\r\n\r\n\t// generate geometry\r\n\r\n\tgenerateTorso();\r\n\r\n\tif ( openEnded === false ) {\r\n\r\n\t\tif ( radiusTop > 0 ) generateCap( true );\r\n\t\tif ( radiusBottom > 0 ) generateCap( false );\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\tfunction generateTorso() {\r\n\r\n\t\tvar x, y;\r\n\t\tvar normal = new Vector3();\r\n\t\tvar vertex = new Vector3();\r\n\r\n\t\tvar groupCount = 0;\r\n\r\n\t\t// this will be used to calculate the normal\r\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\r\n\r\n\t\t\tvar indexRow = [];\r\n\r\n\t\t\tvar v = y / heightSegments;\r\n\r\n\t\t\t// calculate the radius of the current row\r\n\r\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\r\n\r\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t\tvar u = x / radialSegments;\r\n\r\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\r\n\r\n\t\t\t\tvar sinTheta = Math.sin( theta );\r\n\t\t\t\tvar cosTheta = Math.cos( theta );\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = radius * sinTheta;\r\n\t\t\t\tvertex.y = - v * height + halfHeight;\r\n\t\t\t\tvertex.z = radius * cosTheta;\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuvs.push( u, 1 - v );\r\n\r\n\t\t\t\t// save index of vertex in respective row\r\n\r\n\t\t\t\tindexRow.push( index ++ );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// now save vertices of the row in our index array\r\n\r\n\t\t\tindexArray.push( indexRow );\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\r\n\r\n\t\t\t\t// we use the index array to access the correct indices\r\n\r\n\t\t\t\tvar a = indexArray[ y ][ x ];\r\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\r\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\r\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t\t// update group counter\r\n\r\n\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\tscope.addGroup( groupStart, groupCount, 0 );\r\n\r\n\t\t// calculate new start value for groups\r\n\r\n\t\tgroupStart += groupCount;\r\n\r\n\t}\r\n\r\n\tfunction generateCap( top ) {\r\n\r\n\t\tvar x, centerIndexStart, centerIndexEnd;\r\n\r\n\t\tvar uv = new Vector2();\r\n\t\tvar vertex = new Vector3();\r\n\r\n\t\tvar groupCount = 0;\r\n\r\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\r\n\t\tvar sign = ( top === true ) ? 1 : - 1;\r\n\r\n\t\t// save the index of the first center vertex\r\n\t\tcenterIndexStart = index;\r\n\r\n\t\t// first we generate the center vertex data of the cap.\r\n\t\t// because the geometry needs one set of uvs per face,\r\n\t\t// we must generate a center vertex per face/segment\r\n\r\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormals.push( 0, sign, 0 );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( 0.5, 0.5 );\r\n\r\n\t\t\t// increase index\r\n\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\t// save the index of the last center vertex\r\n\r\n\t\tcenterIndexEnd = index;\r\n\r\n\t\t// now we generate the surrounding vertices, normals and uvs\r\n\r\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\tvar u = x / radialSegments;\r\n\t\t\tvar theta = u * thetaLength + thetaStart;\r\n\r\n\t\t\tvar cosTheta = Math.cos( theta );\r\n\t\t\tvar sinTheta = Math.sin( theta );\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = radius * sinTheta;\r\n\t\t\tvertex.y = halfHeight * sign;\r\n\t\t\tvertex.z = radius * cosTheta;\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormals.push( 0, sign, 0 );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\r\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\tvar c = centerIndexStart + x;\r\n\t\t\tvar i = centerIndexEnd + x;\r\n\r\n\t\t\tif ( top === true ) {\r\n\r\n\t\t\t\t// face top\r\n\r\n\t\t\t\tindices.push( i, i + 1, c );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// face bottom\r\n\r\n\t\t\t\tindices.push( i + 1, i, c );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgroupCount += 3;\r\n\r\n\t\t}\r\n\r\n\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\r\n\r\n\t\t// calculate new start value for groups\r\n\r\n\t\tgroupStart += groupCount;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\r\n\r\n/**\r\n * @author abelnation / http://github.com/abelnation\r\n */\r\n\r\n// ConeGeometry\r\n\r\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\r\n\r\n\tthis.type = 'ConeGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n}\r\n\r\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\r\nConeGeometry.prototype.constructor = ConeGeometry;\r\n\r\n// ConeBufferGeometry\r\n\r\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\r\n\r\n\tthis.type = 'ConeBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n}\r\n\r\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\r\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n * @author Mugen87 / https://github.com/Mugen87\r\n * @author hughes\r\n */\r\n\r\n// CircleGeometry\r\n\r\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\r\n\r\n\tGeometry.call( this );\r\n\r\n\tthis.type = 'CircleGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tsegments: segments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\r\n\tthis.mergeVertices();\r\n\r\n}\r\n\r\nCircleGeometry.prototype = Object.create( Geometry.prototype );\r\nCircleGeometry.prototype.constructor = CircleGeometry;\r\n\r\n// CircleBufferGeometry\r\n\r\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'CircleBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tsegments: segments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\r\n\r\n\t// buffers\r\n\r\n\tvar indices = [];\r\n\tvar vertices = [];\r\n\tvar normals = [];\r\n\tvar uvs = [];\r\n\r\n\t// helper variables\r\n\r\n\tvar i, s;\r\n\tvar vertex = new Vector3();\r\n\tvar uv = new Vector2();\r\n\r\n\t// center point\r\n\r\n\tvertices.push( 0, 0, 0 );\r\n\tnormals.push( 0, 0, 1 );\r\n\tuvs.push( 0.5, 0.5 );\r\n\r\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\r\n\r\n\t\tvar segment = thetaStart + s / segments * thetaLength;\r\n\r\n\t\t// vertex\r\n\r\n\t\tvertex.x = radius * Math.cos( segment );\r\n\t\tvertex.y = radius * Math.sin( segment );\r\n\r\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t// normal\r\n\r\n\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t// uvs\r\n\r\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\r\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\r\n\r\n\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t}\r\n\r\n\t// indices\r\n\r\n\tfor ( i = 1; i <= segments; i ++ ) {\r\n\r\n\t\tindices.push( i, i + 1, 0 );\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\r\n\r\n\r\n\r\nvar Geometries = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tWireframeGeometry: WireframeGeometry,\r\n\tParametricGeometry: ParametricGeometry,\r\n\tParametricBufferGeometry: ParametricBufferGeometry,\r\n\tTetrahedronGeometry: TetrahedronGeometry,\r\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\r\n\tOctahedronGeometry: OctahedronGeometry,\r\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\r\n\tIcosahedronGeometry: IcosahedronGeometry,\r\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\r\n\tDodecahedronGeometry: DodecahedronGeometry,\r\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\r\n\tPolyhedronGeometry: PolyhedronGeometry,\r\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\r\n\tTubeGeometry: TubeGeometry,\r\n\tTubeBufferGeometry: TubeBufferGeometry,\r\n\tTorusKnotGeometry: TorusKnotGeometry,\r\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\r\n\tTorusGeometry: TorusGeometry,\r\n\tTorusBufferGeometry: TorusBufferGeometry,\r\n\tTextGeometry: TextGeometry,\r\n\tTextBufferGeometry: TextBufferGeometry,\r\n\tSphereGeometry: SphereGeometry,\r\n\tSphereBufferGeometry: SphereBufferGeometry,\r\n\tRingGeometry: RingGeometry,\r\n\tRingBufferGeometry: RingBufferGeometry,\r\n\tPlaneGeometry: PlaneGeometry,\r\n\tPlaneBufferGeometry: PlaneBufferGeometry,\r\n\tLatheGeometry: LatheGeometry,\r\n\tLatheBufferGeometry: LatheBufferGeometry,\r\n\tShapeGeometry: ShapeGeometry,\r\n\tShapeBufferGeometry: ShapeBufferGeometry,\r\n\tExtrudeGeometry: ExtrudeGeometry,\r\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\r\n\tEdgesGeometry: EdgesGeometry,\r\n\tConeGeometry: ConeGeometry,\r\n\tConeBufferGeometry: ConeBufferGeometry,\r\n\tCylinderGeometry: CylinderGeometry,\r\n\tCylinderBufferGeometry: CylinderBufferGeometry,\r\n\tCircleGeometry: CircleGeometry,\r\n\tCircleBufferGeometry: CircleBufferGeometry,\r\n\tBoxGeometry: BoxGeometry,\r\n\tBoxBufferGeometry: BoxBufferGeometry\r\n});\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n *\r\n * parameters = {\r\n *  color: <THREE.Color>\r\n * }\r\n */\r\n\r\nfunction ShadowMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'ShadowMaterial';\r\n\r\n\tthis.color = new Color( 0x000000 );\r\n\tthis.transparent = true;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nShadowMaterial.prototype = Object.create( Material.prototype );\r\nShadowMaterial.prototype.constructor = ShadowMaterial;\r\n\r\nShadowMaterial.prototype.isShadowMaterial = true;\r\n\r\nShadowMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction RawShaderMaterial( parameters ) {\r\n\r\n\tShaderMaterial.call( this, parameters );\r\n\r\n\tthis.type = 'RawShaderMaterial';\r\n\r\n}\r\n\r\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\r\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\r\n\r\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  roughness: <float>,\r\n *  metalness: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  roughnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  metalnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  envMapIntensity: <float>\r\n *\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshStandardMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.type = 'MeshStandardMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // diffuse\r\n\tthis.roughness = 1.0;\r\n\tthis.metalness = 0.0;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.roughnessMap = null;\r\n\r\n\tthis.metalnessMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.envMapIntensity = 1.0;\r\n\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.vertexTangents = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\r\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\r\n\r\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\r\n\r\nMeshStandardMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.roughnessMap = source.roughnessMap;\r\n\r\n\tthis.metalnessMap = source.metalnessMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.envMapIntensity = source.envMapIntensity;\r\n\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\tthis.vertexTangents = source.vertexTangents;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  reflectivity: <float>\r\n *  clearcoat: <float>\r\n *  clearcoatRoughness: <float>\r\n *\r\n *  sheen: <Color>\r\n *\r\n *  clearcoatNormalScale: <Vector2>,\r\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\r\n * }\r\n */\r\n\r\nfunction MeshPhysicalMaterial( parameters ) {\r\n\r\n\tMeshStandardMaterial.call( this );\r\n\r\n\tthis.defines = {\r\n\r\n\t\t'STANDARD': '',\r\n\t\t'PHYSICAL': ''\r\n\r\n\t};\r\n\r\n\tthis.type = 'MeshPhysicalMaterial';\r\n\r\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\r\n\r\n\tthis.clearcoat = 0.0;\r\n\tthis.clearcoatRoughness = 0.0;\r\n\r\n\tthis.sheen = null; // null will disable sheen bsdf\r\n\r\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\r\n\tthis.clearcoatNormalMap = null;\r\n\r\n\tthis.transparency = 0.0;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\r\n\r\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\r\n\r\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = {\r\n\r\n\t\t'STANDARD': '',\r\n\t\t'PHYSICAL': ''\r\n\r\n\t};\r\n\r\n\tthis.reflectivity = source.reflectivity;\r\n\r\n\tthis.clearcoat = source.clearcoat;\r\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\r\n\r\n\tif ( source.sheen ) this.sheen = ( this.sheen || new Color() ).copy( source.sheen );\r\n\telse this.sheen = null;\r\n\r\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\r\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\r\n\r\n\tthis.transparency = source.transparency;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  specular: <hex>,\r\n *  shininess: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.MultiplyOperation,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshPhongMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshPhongMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // diffuse\r\n\tthis.specular = new Color( 0x111111 );\r\n\tthis.shininess = 30;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\r\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\r\n\r\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\r\n\r\nMeshPhongMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.specular.copy( source.specular );\r\n\tthis.shininess = source.shininess;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author takahirox / http://github.com/takahirox\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  specular: <hex>,\r\n *  shininess: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *  gradientMap: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshToonMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.defines = { 'TOON': '' };\r\n\r\n\tthis.type = 'MeshToonMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff );\r\n\tthis.specular = new Color( 0x111111 );\r\n\tthis.shininess = 30;\r\n\r\n\tthis.map = null;\r\n\tthis.gradientMap = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshToonMaterial.prototype = Object.create( Material.prototype );\r\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\r\n\r\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\r\n\r\nMeshToonMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.specular.copy( source.specular );\r\n\tthis.shininess = source.shininess;\r\n\r\n\tthis.map = source.map;\r\n\tthis.gradientMap = source.gradientMap;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  opacity: <float>,\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshNormalMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshNormalMaterial';\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false;\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\r\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\r\n\r\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\r\n\r\nMeshNormalMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshLambertMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'MeshLambertMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // diffuse\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\r\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\r\n\r\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\r\n\r\nMeshLambertMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  matcap: new THREE.Texture( <Image> ),\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshMatcapMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.defines = { 'MATCAP': '' };\r\n\r\n\tthis.type = 'MeshMatcapMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // diffuse\r\n\r\n\tthis.matcap = null;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\r\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\r\n\r\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\r\n\r\nMeshMatcapMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = { 'MATCAP': '' };\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.matcap = source.matcap;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *\r\n *  scale: <float>,\r\n *  dashSize: <float>,\r\n *  gapSize: <float>\r\n * }\r\n */\r\n\r\nfunction LineDashedMaterial( parameters ) {\r\n\r\n\tLineBasicMaterial.call( this );\r\n\r\n\tthis.type = 'LineDashedMaterial';\r\n\r\n\tthis.scale = 1;\r\n\tthis.dashSize = 3;\r\n\tthis.gapSize = 1;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\r\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\r\n\r\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\r\n\r\nLineDashedMaterial.prototype.copy = function ( source ) {\r\n\r\n\tLineBasicMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.scale = source.scale;\r\n\tthis.dashSize = source.dashSize;\r\n\tthis.gapSize = source.gapSize;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n\r\n\r\nvar Materials = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tShadowMaterial: ShadowMaterial,\r\n\tSpriteMaterial: SpriteMaterial,\r\n\tRawShaderMaterial: RawShaderMaterial,\r\n\tShaderMaterial: ShaderMaterial,\r\n\tPointsMaterial: PointsMaterial,\r\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\r\n\tMeshStandardMaterial: MeshStandardMaterial,\r\n\tMeshPhongMaterial: MeshPhongMaterial,\r\n\tMeshToonMaterial: MeshToonMaterial,\r\n\tMeshNormalMaterial: MeshNormalMaterial,\r\n\tMeshLambertMaterial: MeshLambertMaterial,\r\n\tMeshDepthMaterial: MeshDepthMaterial,\r\n\tMeshDistanceMaterial: MeshDistanceMaterial,\r\n\tMeshBasicMaterial: MeshBasicMaterial,\r\n\tMeshMatcapMaterial: MeshMatcapMaterial,\r\n\tLineDashedMaterial: LineDashedMaterial,\r\n\tLineBasicMaterial: LineBasicMaterial,\r\n\tMaterial: Material\r\n});\r\n\r\n/**\r\n * @author tschw\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n */\r\n\r\nvar AnimationUtils = {\r\n\r\n\t// same as Array.prototype.slice, but also works on typed arrays\r\n\tarraySlice: function ( array, from, to ) {\r\n\r\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\r\n\r\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\r\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\r\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn array.slice( from, to );\r\n\r\n\t},\r\n\r\n\t// converts an array to a specific type\r\n\tconvertArray: function ( array, type, forceClone ) {\r\n\r\n\t\tif ( ! array || // let 'undefined' and 'null' pass\r\n\t\t\t! forceClone && array.constructor === type ) return array;\r\n\r\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\r\n\r\n\t\t\treturn new type( array ); // create typed array\r\n\r\n\t\t}\r\n\r\n\t\treturn Array.prototype.slice.call( array ); // create Array\r\n\r\n\t},\r\n\r\n\tisTypedArray: function ( object ) {\r\n\r\n\t\treturn ArrayBuffer.isView( object ) &&\r\n\t\t\t! ( object instanceof DataView );\r\n\r\n\t},\r\n\r\n\t// returns an array by which times and values can be sorted\r\n\tgetKeyframeOrder: function ( times ) {\r\n\r\n\t\tfunction compareTime( i, j ) {\r\n\r\n\t\t\treturn times[ i ] - times[ j ];\r\n\r\n\t\t}\r\n\r\n\t\tvar n = times.length;\r\n\t\tvar result = new Array( n );\r\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\r\n\r\n\t\tresult.sort( compareTime );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\r\n\tsortedArray: function ( values, stride, order ) {\r\n\r\n\t\tvar nValues = values.length;\r\n\t\tvar result = new values.constructor( nValues );\r\n\r\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\r\n\r\n\t\t\tvar srcOffset = order[ i ] * stride;\r\n\r\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// function for parsing AOS keyframe formats\r\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\r\n\r\n\t\tvar i = 1, key = jsonKeys[ 0 ];\r\n\r\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\r\n\r\n\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( key === undefined ) return; // no data\r\n\r\n\t\tvar value = key[ valuePropertyName ];\r\n\t\tif ( value === undefined ) return; // no data\r\n\r\n\t\tif ( Array.isArray( value ) ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else if ( value.toArray !== undefined ) {\r\n\r\n\t\t\t// ...assume THREE.Math-ish\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalue.toArray( values, values.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// otherwise push as-is\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push( value );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\r\n\r\n\t\tfps = fps || 30;\r\n\r\n\t\tvar clip = sourceClip.clone();\r\n\r\n\t\tclip.name = name;\r\n\r\n\t\tvar tracks = [];\r\n\r\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tvar track = clip.tracks[ i ];\r\n\t\t\tvar valueSize = track.getValueSize();\r\n\r\n\t\t\tvar times = [];\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tfor ( var j = 0; j < track.times.length; ++ j ) {\r\n\r\n\t\t\t\tvar frame = track.times[ j ] * fps;\r\n\r\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\r\n\r\n\t\t\t\ttimes.push( track.times[ j ] );\r\n\r\n\t\t\t\tfor ( var k = 0; k < valueSize; ++ k ) {\r\n\r\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( times.length === 0 ) continue;\r\n\r\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\r\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\r\n\r\n\t\t\ttracks.push( track );\r\n\r\n\t\t}\r\n\r\n\t\tclip.tracks = tracks;\r\n\r\n\t\t// find minimum .times value across all tracks in the trimmed clip\r\n\r\n\t\tvar minStartTime = Infinity;\r\n\r\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\r\n\r\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// shift all tracks such that clip begins at t=0\r\n\r\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\r\n\r\n\t\t}\r\n\r\n\t\tclip.resetDuration();\r\n\r\n\t\treturn clip;\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * Abstract base class of interpolants over parametric samples.\r\n *\r\n * The parameter domain is one dimensional, typically the time or a path\r\n * along a curve defined by the data.\r\n *\r\n * The sample values can have any dimensionality and derived classes may\r\n * apply special interpretations to the data.\r\n *\r\n * This class provides the interval seek in a Template Method, deferring\r\n * the actual interpolation to derived classes.\r\n *\r\n * Time complexity is O(1) for linear access crossing at most two points\r\n * and O(log N) for random access, where N is the number of positions.\r\n *\r\n * References:\r\n *\r\n * \t\thttp://www.oodesign.com/template-method-pattern.html\r\n *\r\n * @author tschw\r\n */\r\n\r\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tthis.parameterPositions = parameterPositions;\r\n\tthis._cachedIndex = 0;\r\n\r\n\tthis.resultBuffer = resultBuffer !== undefined ?\r\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\r\n\tthis.sampleValues = sampleValues;\r\n\tthis.valueSize = sampleSize;\r\n\r\n}\r\n\r\nObject.assign( Interpolant.prototype, {\r\n\r\n\tevaluate: function ( t ) {\r\n\r\n\t\tvar pp = this.parameterPositions,\r\n\t\t\ti1 = this._cachedIndex,\r\n\r\n\t\t\tt1 = pp[ i1 ],\r\n\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\tvalidate_interval: {\r\n\r\n\t\t\tseek: {\r\n\r\n\t\t\t\tvar right;\r\n\r\n\t\t\t\tlinear_scan: {\r\n\r\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\r\n\t\t\t\t\t//- slower code:\r\n\t\t\t\t\t//-\r\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\r\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\r\n\r\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\r\n\r\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\r\n\r\n\t\t\t\t\t\t\t\t// after end\r\n\r\n\t\t\t\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt0 = t1;\r\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t < t1 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the right side of the index\r\n\t\t\t\t\t\tright = pp.length;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//- slower code:\r\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\r\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\r\n\r\n\t\t\t\t\t\t// looping?\r\n\r\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\r\n\r\n\t\t\t\t\t\tif ( t < t1global ) {\r\n\r\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\r\n\t\t\t\t\t\t\tt0 = t1global;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// linear reverse scan\r\n\r\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\r\n\r\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t// before start\r\n\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt1 = t0;\r\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t >= t0 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the left side of the index\r\n\t\t\t\t\t\tright = i1;\r\n\t\t\t\t\t\ti1 = 0;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// the interval is valid\r\n\r\n\t\t\t\t\tbreak validate_interval;\r\n\r\n\t\t\t\t} // linear scan\r\n\r\n\t\t\t\t// binary search\r\n\r\n\t\t\t\twhile ( i1 < right ) {\r\n\r\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\r\n\r\n\t\t\t\t\tif ( t < pp[ mid ] ) {\r\n\r\n\t\t\t\t\t\tright = mid;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ti1 = mid + 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt1 = pp[ i1 ];\r\n\t\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\t\t\t// check boundary cases, again\r\n\r\n\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // seek\r\n\r\n\t\t\tthis._cachedIndex = i1;\r\n\r\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\r\n\r\n\t\t} // validate_interval\r\n\r\n\t\treturn this.interpolate_( i1, t0, t, t1 );\r\n\r\n\t},\r\n\r\n\tsettings: null, // optional, subclass-specific settings structure\r\n\t// Note: The indirection allows central control of many interpolants.\r\n\r\n\t// --- Protected interface\r\n\r\n\tDefaultSettings_: {},\r\n\r\n\tgetSettings_: function () {\r\n\r\n\t\treturn this.settings || this.DefaultSettings_;\r\n\r\n\t},\r\n\r\n\tcopySampleValue_: function ( index ) {\r\n\r\n\t\t// copies a sample value to the result buffer\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = index * stride;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// Template methods for derived classes:\r\n\r\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\r\n\r\n\t\tthrow new Error( 'call to abstract method' );\r\n\t\t// implementations shall return this.resultBuffer\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\r\n\r\n\t\t// empty\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//!\\ DECLARE ALIAS AFTER assign prototype !\r\nObject.assign( Interpolant.prototype, {\r\n\r\n\t//( 0, t, t0 ), returns this.resultBuffer\r\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\r\n\r\n\t//( N-1, tN-1, t ), returns this.resultBuffer\r\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\r\n\r\n} );\r\n\r\n/**\r\n * Fast and simple cubic spline interpolant.\r\n *\r\n * It was derived from a Hermitian construction setting the first derivative\r\n * at each sample position to the linear slope between neighboring positions\r\n * over their parameter interval.\r\n *\r\n * @author tschw\r\n */\r\n\r\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\tthis._weightPrev = - 0;\r\n\tthis._offsetPrev = - 0;\r\n\tthis._weightNext = - 0;\r\n\tthis._offsetNext = - 0;\r\n\r\n}\r\n\r\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: CubicInterpolant,\r\n\r\n\tDefaultSettings_: {\r\n\r\n\t\tendingStart: ZeroCurvatureEnding,\r\n\t\tendingEnd: ZeroCurvatureEnding\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function ( i1, t0, t1 ) {\r\n\r\n\t\tvar pp = this.parameterPositions,\r\n\t\t\tiPrev = i1 - 2,\r\n\t\t\tiNext = i1 + 1,\r\n\r\n\t\t\ttPrev = pp[ iPrev ],\r\n\t\t\ttNext = pp[ iNext ];\r\n\r\n\t\tif ( tPrev === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingStart ) {\r\n\r\n\t\t\t\tcase ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(t0) = 0\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = 2 * t0 - t1;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiPrev = pp.length - 2;\r\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = t1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tNext === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\r\n\r\n\t\t\t\tcase ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(tN) = 0\r\n\t\t\t\t\tiNext = i1;\r\n\t\t\t\t\ttNext = 2 * t1 - t0;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiNext = 1;\r\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\r\n\t\t\t\t\tiNext = i1 - 1;\r\n\t\t\t\t\ttNext = t0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\r\n\t\t\tstride = this.valueSize;\r\n\r\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\r\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\r\n\t\tthis._offsetPrev = iPrev * stride;\r\n\t\tthis._offsetNext = iNext * stride;\r\n\r\n\t},\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\r\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\r\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\r\n\r\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tpp = p * p,\r\n\t\t\tppp = pp * p;\r\n\r\n\t\t// evaluate polynomials\r\n\r\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\r\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\r\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\r\n\t\tvar sN = wN * ppp - wN * pp;\r\n\r\n\t\t// combine data linearly\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tsP * values[ oP + i ] +\r\n\t\t\t\t\ts0 * values[ o0 + i ] +\r\n\t\t\t\t\ts1 * values[ o1 + i ] +\r\n\t\t\t\t\tsN * values[ oN + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author tschw\r\n */\r\n\r\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: LinearInterpolant,\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toffset1 = i1 * stride,\r\n\t\t\toffset0 = offset1 - stride,\r\n\r\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tweight0 = 1 - weight1;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\r\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Interpolant that evaluates to the sample value at the position preceeding\r\n * the parameter.\r\n *\r\n * @author tschw\r\n */\r\n\r\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: DiscreteInterpolant,\r\n\r\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\r\n\r\n\t\treturn this.copySampleValue_( i1 - 1 );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A timed sequence of keyframes for a specific property.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction KeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\r\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\r\n\r\n\tthis.name = name;\r\n\r\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\r\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\r\n\r\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\r\n\r\n}\r\n\r\n// Static methods\r\n\r\nObject.assign( KeyframeTrack, {\r\n\r\n\t// Serialization (in static context, because of constructor invocation\r\n\t// and automatic invocation of .toJSON):\r\n\r\n\ttoJSON: function ( track ) {\r\n\r\n\t\tvar trackType = track.constructor;\r\n\r\n\t\tvar json;\r\n\r\n\t\t// derived classes can define a static toJSON method\r\n\t\tif ( trackType.toJSON !== undefined ) {\r\n\r\n\t\t\tjson = trackType.toJSON( track );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// by default, we assume the data can be serialized as-is\r\n\t\t\tjson = {\r\n\r\n\t\t\t\t'name': track.name,\r\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\r\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar interpolation = track.getInterpolation();\r\n\r\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\r\n\r\n\t\t\t\tjson.interpolation = interpolation;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tjson.type = track.ValueTypeName; // mandatory\r\n\r\n\t\treturn json;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( KeyframeTrack.prototype, {\r\n\r\n\tconstructor: KeyframeTrack,\r\n\r\n\tTimeBufferType: Float32Array,\r\n\r\n\tValueBufferType: Float32Array,\r\n\r\n\tDefaultInterpolation: InterpolateLinear,\r\n\r\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\r\n\r\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodLinear: function ( result ) {\r\n\r\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodSmooth: function ( result ) {\r\n\r\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tsetInterpolation: function ( interpolation ) {\r\n\r\n\t\tvar factoryMethod;\r\n\r\n\t\tswitch ( interpolation ) {\r\n\r\n\t\t\tcase InterpolateDiscrete:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase InterpolateLinear:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase InterpolateSmooth:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( factoryMethod === undefined ) {\r\n\r\n\t\t\tvar message = \"unsupported interpolation for \" +\r\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\r\n\r\n\t\t\tif ( this.createInterpolant === undefined ) {\r\n\r\n\t\t\t\t// fall back to default, unless the default itself is messed up\r\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\r\n\r\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tthis.createInterpolant = factoryMethod;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetInterpolation: function () {\r\n\r\n\t\tswitch ( this.createInterpolant ) {\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\r\n\r\n\t\t\t\treturn InterpolateDiscrete;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodLinear:\r\n\r\n\t\t\t\treturn InterpolateLinear;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\r\n\r\n\t\t\t\treturn InterpolateSmooth;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetValueSize: function () {\r\n\r\n\t\treturn this.values.length / this.times.length;\r\n\r\n\t},\r\n\r\n\t// move all keyframes either forwards or backwards in time\r\n\tshift: function ( timeOffset ) {\r\n\r\n\t\tif ( timeOffset !== 0.0 ) {\r\n\r\n\t\t\tvar times = this.times;\r\n\r\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] += timeOffset;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\r\n\tscale: function ( timeScale ) {\r\n\r\n\t\tif ( timeScale !== 1.0 ) {\r\n\r\n\t\t\tvar times = this.times;\r\n\r\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] *= timeScale;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\r\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\r\n\ttrim: function ( startTime, endTime ) {\r\n\r\n\t\tvar times = this.times,\r\n\t\t\tnKeys = times.length,\r\n\t\t\tfrom = 0,\r\n\t\t\tto = nKeys - 1;\r\n\r\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\r\n\r\n\t\t\t++ from;\r\n\r\n\t\t}\r\n\r\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\r\n\r\n\t\t\t-- to;\r\n\r\n\t\t}\r\n\r\n\t\t++ to; // inclusive -> exclusive bound\r\n\r\n\t\tif ( from !== 0 || to !== nKeys ) {\r\n\r\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\r\n\t\t\tif ( from >= to ) {\r\n\r\n\t\t\t\tto = Math.max( to, 1 );\r\n\t\t\t\tfrom = to - 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar stride = this.getValueSize();\r\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\r\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\r\n\tvalidate: function () {\r\n\r\n\t\tvar valid = true;\r\n\r\n\t\tvar valueSize = this.getValueSize();\r\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = this.times,\r\n\t\t\tvalues = this.values,\r\n\r\n\t\t\tnKeys = times.length;\r\n\r\n\t\tif ( nKeys === 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tvar prevTime = null;\r\n\r\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\r\n\r\n\t\t\tvar currTime = times[ i ];\r\n\r\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprevTime = currTime;\r\n\r\n\t\t}\r\n\r\n\t\tif ( values !== undefined ) {\r\n\r\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\r\n\r\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tvar value = values[ i ];\r\n\r\n\t\t\t\t\tif ( isNaN( value ) ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\r\n\t},\r\n\r\n\t// removes equivalent sequential keys as common in morph target sequences\r\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\r\n\toptimize: function () {\r\n\r\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\r\n\t\tvar times = AnimationUtils.arraySlice( this.times ),\r\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\r\n\t\t\tstride = this.getValueSize(),\r\n\r\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\r\n\r\n\t\t\twriteIndex = 1,\r\n\t\t\tlastIndex = times.length - 1;\r\n\r\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\r\n\r\n\t\t\tvar keep = false;\r\n\r\n\t\t\tvar time = times[ i ];\r\n\t\t\tvar timeNext = times[ i + 1 ];\r\n\r\n\t\t\t// remove adjacent keyframes scheduled at the same time\r\n\r\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\r\n\r\n\t\t\t\tif ( ! smoothInterpolation ) {\r\n\r\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\r\n\r\n\t\t\t\t\tvar offset = i * stride,\r\n\t\t\t\t\t\toffsetP = offset - stride,\r\n\t\t\t\t\t\toffsetN = offset + stride;\r\n\r\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\t\tvar value = values[ offset + j ];\r\n\r\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\r\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\r\n\r\n\t\t\t\t\t\t\tkeep = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tkeep = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// in-place compaction\r\n\r\n\t\t\tif ( keep ) {\r\n\r\n\t\t\t\tif ( i !== writeIndex ) {\r\n\r\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\r\n\r\n\t\t\t\t\tvar readOffset = i * stride,\r\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\r\n\r\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t++ writeIndex;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// flush last keyframe (compaction looks ahead)\r\n\r\n\t\tif ( lastIndex > 0 ) {\r\n\r\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\r\n\r\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\t++ writeIndex;\r\n\r\n\t\t}\r\n\r\n\t\tif ( writeIndex !== times.length ) {\r\n\r\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\r\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.times = times;\r\n\t\t\tthis.values = values;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\r\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\r\n\r\n\t\tvar TypedKeyframeTrack = this.constructor;\r\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\r\n\r\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\r\n\t\ttrack.createInterpolant = this.createInterpolant;\r\n\r\n\t\treturn track;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track of Boolean keyframe values.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction BooleanKeyframeTrack( name, times, values ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values );\r\n\r\n}\r\n\r\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: BooleanKeyframeTrack,\r\n\r\n\tValueTypeName: 'bool',\r\n\tValueBufferType: Array,\r\n\r\n\tDefaultInterpolation: InterpolateDiscrete,\r\n\r\n\tInterpolantFactoryMethodLinear: undefined,\r\n\tInterpolantFactoryMethodSmooth: undefined\r\n\r\n\t// Note: Actually this track could have a optimized / compressed\r\n\t// representation of a single value and a custom interpolant that\r\n\t// computes \"firstValue ^ isOdd( index )\".\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track of keyframe values that represent color.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n}\r\n\r\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: ColorKeyframeTrack,\r\n\r\n\tValueTypeName: 'color'\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n\t// Note: Very basic implementation and nothing special yet.\r\n\t// However, this is the place for color space parameterization.\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track of numeric keyframe values.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n}\r\n\r\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: NumberKeyframeTrack,\r\n\r\n\tValueTypeName: 'number'\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n} );\r\n\r\n/**\r\n * Spherical linear unit quaternion interpolant.\r\n *\r\n * @author tschw\r\n */\r\n\r\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: QuaternionLinearInterpolant,\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toffset = i1 * stride,\r\n\r\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\r\n\r\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\r\n\r\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track of quaternion keyframe values.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n}\r\n\r\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: QuaternionKeyframeTrack,\r\n\r\n\tValueTypeName: 'quaternion',\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\tDefaultInterpolation: InterpolateLinear,\r\n\r\n\tInterpolantFactoryMethodLinear: function ( result ) {\r\n\r\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track that interpolates Strings\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n}\r\n\r\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: StringKeyframeTrack,\r\n\r\n\tValueTypeName: 'string',\r\n\tValueBufferType: Array,\r\n\r\n\tDefaultInterpolation: InterpolateDiscrete,\r\n\r\n\tInterpolantFactoryMethodLinear: undefined,\r\n\r\n\tInterpolantFactoryMethodSmooth: undefined\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A Track of vectored keyframe values.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\r\n\r\n\tKeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n}\r\n\r\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: VectorKeyframeTrack,\r\n\r\n\tValueTypeName: 'vector'\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Reusable set of Tracks that represent an animation.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n */\r\n\r\nfunction AnimationClip( name, duration, tracks ) {\r\n\r\n\tthis.name = name;\r\n\tthis.tracks = tracks;\r\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t// this means it should figure out its duration by scanning the tracks\r\n\tif ( this.duration < 0 ) {\r\n\r\n\t\tthis.resetDuration();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction getTrackTypeForValueTypeName( typeName ) {\r\n\r\n\tswitch ( typeName.toLowerCase() ) {\r\n\r\n\t\tcase 'scalar':\r\n\t\tcase 'double':\r\n\t\tcase 'float':\r\n\t\tcase 'number':\r\n\t\tcase 'integer':\r\n\r\n\t\t\treturn NumberKeyframeTrack;\r\n\r\n\t\tcase 'vector':\r\n\t\tcase 'vector2':\r\n\t\tcase 'vector3':\r\n\t\tcase 'vector4':\r\n\r\n\t\t\treturn VectorKeyframeTrack;\r\n\r\n\t\tcase 'color':\r\n\r\n\t\t\treturn ColorKeyframeTrack;\r\n\r\n\t\tcase 'quaternion':\r\n\r\n\t\t\treturn QuaternionKeyframeTrack;\r\n\r\n\t\tcase 'bool':\r\n\t\tcase 'boolean':\r\n\r\n\t\t\treturn BooleanKeyframeTrack;\r\n\r\n\t\tcase 'string':\r\n\r\n\t\t\treturn StringKeyframeTrack;\r\n\r\n\t}\r\n\r\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\r\n\r\n}\r\n\r\nfunction parseKeyframeTrack( json ) {\r\n\r\n\tif ( json.type === undefined ) {\r\n\r\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\r\n\r\n\t}\r\n\r\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\r\n\r\n\tif ( json.times === undefined ) {\r\n\r\n\t\tvar times = [], values = [];\r\n\r\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\r\n\r\n\t\tjson.times = times;\r\n\t\tjson.values = values;\r\n\r\n\t}\r\n\r\n\t// derived classes can define a static parse method\r\n\tif ( trackType.parse !== undefined ) {\r\n\r\n\t\treturn trackType.parse( json );\r\n\r\n\t} else {\r\n\r\n\t\t// by default, we assume a constructor compatible with the base\r\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( AnimationClip, {\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar tracks = [],\r\n\t\t\tjsonTracks = json.tracks,\r\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\r\n\r\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( clip ) {\r\n\r\n\t\tvar tracks = [],\r\n\t\t\tclipTracks = clip.tracks;\r\n\r\n\t\tvar json = {\r\n\r\n\t\t\t'name': clip.name,\r\n\t\t\t'duration': clip.duration,\r\n\t\t\t'tracks': tracks,\r\n\t\t\t'uuid': clip.uuid\r\n\r\n\t\t};\r\n\r\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\r\n\t},\r\n\r\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\r\n\r\n\t\tvar numMorphTargets = morphTargetSequence.length;\r\n\t\tvar tracks = [];\r\n\r\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\r\n\r\n\t\t\tvar times = [];\r\n\t\t\tvar values = [];\r\n\r\n\t\t\ttimes.push(\r\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\r\n\t\t\t\ti,\r\n\t\t\t\t( i + 1 ) % numMorphTargets );\r\n\r\n\t\t\tvalues.push( 0, 1, 0 );\r\n\r\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\r\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\r\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\r\n\r\n\t\t\t// if there is a key at the first frame, duplicate it as the\r\n\t\t\t// last frame as well for perfect loop.\r\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\r\n\r\n\t\t\t\ttimes.push( numMorphTargets );\r\n\t\t\t\tvalues.push( values[ 0 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttracks.push(\r\n\t\t\t\tnew NumberKeyframeTrack(\r\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\r\n\t\t\t\t\ttimes, values\r\n\t\t\t\t).scale( 1.0 / fps ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn new AnimationClip( name, - 1, tracks );\r\n\r\n\t},\r\n\r\n\tfindByName: function ( objectOrClipArray, name ) {\r\n\r\n\t\tvar clipArray = objectOrClipArray;\r\n\r\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\r\n\r\n\t\t\tvar o = objectOrClipArray;\r\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\r\n\r\n\t\t\tif ( clipArray[ i ].name === name ) {\r\n\r\n\t\t\t\treturn clipArray[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\r\n\r\n\t\tvar animationToMorphTargets = {};\r\n\r\n\t\t// tested with https://regex101.com/ on trick sequences\r\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\r\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\r\n\r\n\t\t// sort morph target names into animation groups based\r\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\r\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar morphTarget = morphTargets[ i ];\r\n\t\t\tvar parts = morphTarget.name.match( pattern );\r\n\r\n\t\t\tif ( parts && parts.length > 1 ) {\r\n\r\n\t\t\t\tvar name = parts[ 1 ];\r\n\r\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\r\n\t\t\t\tif ( ! animationMorphTargets ) {\r\n\r\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanimationMorphTargets.push( morphTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clips = [];\r\n\r\n\t\tfor ( var name in animationToMorphTargets ) {\r\n\r\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn clips;\r\n\r\n\t},\r\n\r\n\t// parse the animation.hierarchy format\r\n\tparseAnimation: function ( animation, bones ) {\r\n\r\n\t\tif ( ! animation ) {\r\n\r\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\r\n\r\n\t\t\t// only return track if there are actually keys.\r\n\t\t\tif ( animationKeys.length !== 0 ) {\r\n\r\n\t\t\t\tvar times = [];\r\n\t\t\t\tvar values = [];\r\n\r\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\r\n\r\n\t\t\t\t// empty keys are filtered out, so check again\r\n\t\t\t\tif ( times.length !== 0 ) {\r\n\r\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tvar tracks = [];\r\n\r\n\t\tvar clipName = animation.name || 'default';\r\n\t\t// automatic length determination in AnimationClip.\r\n\t\tvar duration = animation.length || - 1;\r\n\t\tvar fps = animation.fps || 30;\r\n\r\n\t\tvar hierarchyTracks = animation.hierarchy || [];\r\n\r\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\r\n\r\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\r\n\r\n\t\t\t// skip empty tracks\r\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\r\n\r\n\t\t\t// process morph targets\r\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\r\n\r\n\t\t\t\t// figure out all morph targets used in this track\r\n\t\t\t\tvar morphTargetNames = {};\r\n\r\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\r\n\r\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\r\n\r\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\r\n\r\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create a track for each morph target with all zero\r\n\t\t\t\t// morphTargetInfluences except for the keys in which\r\n\t\t\t\t// the morphTarget is named.\r\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\r\n\r\n\t\t\t\t\tvar times = [];\r\n\t\t\t\t\tvar values = [];\r\n\r\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\r\n\r\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\r\n\r\n\t\t\t\t\t\ttimes.push( animationKey.time );\r\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// ...assume skeletal animation\r\n\r\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\r\n\t\t\t\t\tanimationKeys, 'pos', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\r\n\t\t\t\t\tanimationKeys, 'rot', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\r\n\t\t\t\t\tanimationKeys, 'scl', tracks );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tracks.length === 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\r\n\r\n\t\treturn clip;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( AnimationClip.prototype, {\r\n\r\n\tresetDuration: function () {\r\n\r\n\t\tvar tracks = this.tracks, duration = 0;\r\n\r\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar track = this.tracks[ i ];\r\n\r\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\r\n\r\n\t\t}\r\n\r\n\t\tthis.duration = duration;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttrim: function () {\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tvalidate: function () {\r\n\r\n\t\tvar valid = true;\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tvalid = valid && this.tracks[ i ].validate();\r\n\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\r\n\t},\r\n\r\n\toptimize: function () {\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].optimize();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\tvar tracks = [];\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\ttracks.push( this.tracks[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar Cache = {\r\n\r\n\tenabled: false,\r\n\r\n\tfiles: {},\r\n\r\n\tadd: function ( key, file ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\r\n\r\n\t\tthis.files[ key ] = file;\r\n\r\n\t},\r\n\r\n\tget: function ( key ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\r\n\r\n\t\treturn this.files[ key ];\r\n\r\n\t},\r\n\r\n\tremove: function ( key ) {\r\n\r\n\t\tdelete this.files[ key ];\r\n\r\n\t},\r\n\r\n\tclear: function () {\r\n\r\n\t\tthis.files = {};\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction LoadingManager( onLoad, onProgress, onError ) {\r\n\r\n\tvar scope = this;\r\n\r\n\tvar isLoading = false;\r\n\tvar itemsLoaded = 0;\r\n\tvar itemsTotal = 0;\r\n\tvar urlModifier = undefined;\r\n\tvar handlers = [];\r\n\r\n\t// Refer to #5689 for the reason why we don't set .onStart\r\n\t// in the constructor\r\n\r\n\tthis.onStart = undefined;\r\n\tthis.onLoad = onLoad;\r\n\tthis.onProgress = onProgress;\r\n\tthis.onError = onError;\r\n\r\n\tthis.itemStart = function ( url ) {\r\n\r\n\t\titemsTotal ++;\r\n\r\n\t\tif ( isLoading === false ) {\r\n\r\n\t\t\tif ( scope.onStart !== undefined ) {\r\n\r\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisLoading = true;\r\n\r\n\t};\r\n\r\n\tthis.itemEnd = function ( url ) {\r\n\r\n\t\titemsLoaded ++;\r\n\r\n\t\tif ( scope.onProgress !== undefined ) {\r\n\r\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t}\r\n\r\n\t\tif ( itemsLoaded === itemsTotal ) {\r\n\r\n\t\t\tisLoading = false;\r\n\r\n\t\t\tif ( scope.onLoad !== undefined ) {\r\n\r\n\t\t\t\tscope.onLoad();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.itemError = function ( url ) {\r\n\r\n\t\tif ( scope.onError !== undefined ) {\r\n\r\n\t\t\tscope.onError( url );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.resolveURL = function ( url ) {\r\n\r\n\t\tif ( urlModifier ) {\r\n\r\n\t\t\treturn urlModifier( url );\r\n\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\r\n\t};\r\n\r\n\tthis.setURLModifier = function ( transform ) {\r\n\r\n\t\turlModifier = transform;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.addHandler = function ( regex, loader ) {\r\n\r\n\t\thandlers.push( regex, loader );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.removeHandler = function ( regex ) {\r\n\r\n\t\tvar index = handlers.indexOf( regex );\r\n\r\n\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\thandlers.splice( index, 2 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.getHandler = function ( file ) {\r\n\r\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\r\n\r\n\t\t\tvar regex = handlers[ i ];\r\n\t\t\tvar loader = handlers[ i + 1 ];\r\n\r\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\r\n\r\n\t\t\tif ( regex.test( file ) ) {\r\n\r\n\t\t\t\treturn loader;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t};\r\n\r\n}\r\n\r\nvar DefaultLoadingManager = new LoadingManager();\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction Loader( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\r\n\r\n\tthis.crossOrigin = 'anonymous';\r\n\tthis.path = '';\r\n\tthis.resourcePath = '';\r\n\r\n}\r\n\r\nObject.assign( Loader.prototype, {\r\n\r\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\r\n\r\n\tparse: function ( /* data */ ) {},\r\n\r\n\tsetCrossOrigin: function ( crossOrigin ) {\r\n\r\n\t\tthis.crossOrigin = crossOrigin;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( path ) {\r\n\r\n\t\tthis.path = path;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetResourcePath: function ( resourcePath ) {\r\n\r\n\t\tthis.resourcePath = resourcePath;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar loading = {};\r\n\r\nfunction FileLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: FileLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( url === undefined ) url = '';\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\t// Check if request is duplicate\r\n\r\n\t\tif ( loading[ url ] !== undefined ) {\r\n\r\n\t\t\tloading[ url ].push( {\r\n\r\n\t\t\t\tonLoad: onLoad,\r\n\t\t\t\tonProgress: onProgress,\r\n\t\t\t\tonError: onError\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// Check for data: URI\r\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\r\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\r\n\r\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\r\n\t\tif ( dataUriRegexResult ) {\r\n\r\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\r\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\r\n\t\t\tvar data = dataUriRegexResult[ 3 ];\r\n\r\n\t\t\tdata = decodeURIComponent( data );\r\n\r\n\t\t\tif ( isBase64 ) data = atob( data );\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tvar response;\r\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\r\n\r\n\t\t\t\tswitch ( responseType ) {\r\n\r\n\t\t\t\t\tcase 'arraybuffer':\r\n\t\t\t\t\tcase 'blob':\r\n\r\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\r\n\r\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tresponse = view.buffer;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'document':\r\n\r\n\t\t\t\t\t\tvar parser = new DOMParser();\r\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'json':\r\n\r\n\t\t\t\t\t\tresponse = JSON.parse( data );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault: // 'text' or other\r\n\r\n\t\t\t\t\t\tresponse = data;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( response );\r\n\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tif ( onError ) onError( error );\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Initialise array for duplicate requests\r\n\r\n\t\t\tloading[ url ] = [];\r\n\r\n\t\t\tloading[ url ].push( {\r\n\r\n\t\t\t\tonLoad: onLoad,\r\n\t\t\t\tonProgress: onProgress,\r\n\t\t\t\tonError: onError\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tvar request = new XMLHttpRequest();\r\n\r\n\t\t\trequest.open( 'GET', url, true );\r\n\r\n\t\t\trequest.addEventListener( 'load', function ( event ) {\r\n\r\n\t\t\t\tvar response = this.response;\r\n\r\n\t\t\t\tvar callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\r\n\r\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\r\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\r\n\r\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\r\n\r\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\r\n\t\t\t\t\t// error response bodies as proper responses to requests.\r\n\t\t\t\t\tCache.add( url, response );\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar callback = callbacks[ i ];\r\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar callback = callbacks[ i ];\r\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\r\n\r\n\t\t\t\tvar callbacks = loading[ url ];\r\n\r\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'error', function ( event ) {\r\n\r\n\t\t\t\tvar callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\r\n\r\n\t\t\t\tvar callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\r\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\r\n\r\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\r\n\r\n\t\t\tfor ( var header in this.requestHeader ) {\r\n\r\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\trequest.send( null );\r\n\r\n\t\t}\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\treturn request;\r\n\r\n\t},\r\n\r\n\tsetResponseType: function ( value ) {\r\n\r\n\t\tthis.responseType = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetWithCredentials: function ( value ) {\r\n\r\n\t\tthis.withCredentials = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetMimeType: function ( value ) {\r\n\r\n\t\tthis.mimeType = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRequestHeader: function ( value ) {\r\n\r\n\t\tthis.requestHeader = value;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io/\r\n */\r\n\r\nfunction AnimationLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: AnimationLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar animations = [];\r\n\r\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\r\n\r\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\r\n\r\n\t\t\tanimations.push( clip );\r\n\r\n\t\t}\r\n\r\n\t\treturn animations;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n *\r\n * Abstract Base class to block based textures loader (dds, pvr, ...)\r\n *\r\n * Sub classes have to implement the parse() method which will be used in load().\r\n */\r\n\r\nfunction CompressedTextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: CompressedTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar images = [];\r\n\r\n\t\tvar texture = new CompressedTexture();\r\n\t\ttexture.image = images;\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( url[ i ], function ( buffer ) {\r\n\r\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\r\n\r\n\t\t\t\timages[ i ] = {\r\n\t\t\t\t\twidth: texDatas.width,\r\n\t\t\t\t\theight: texDatas.height,\r\n\t\t\t\t\tformat: texDatas.format,\r\n\t\t\t\t\tmipmaps: texDatas.mipmaps\r\n\t\t\t\t};\r\n\r\n\t\t\t\tloaded += 1;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\r\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\r\n\t\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tif ( Array.isArray( url ) ) {\r\n\r\n\t\t\tvar loaded = 0;\r\n\r\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\r\n\r\n\t\t\t\tloadTexture( i );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// compressed cubemap texture stored in a single DDS file\r\n\r\n\t\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\r\n\r\n\t\t\t\tif ( texDatas.isCubemap ) {\r\n\r\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\r\n\r\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\r\n\r\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\r\n\r\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\r\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\r\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\r\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttexture.image.width = texDatas.width;\r\n\t\t\t\t\ttexture.image.height = texDatas.height;\r\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\r\n\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author Nikos M. / https://github.com/foo123/\r\n *\r\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\r\n *\r\n * Sub classes have to implement the parse() method which will be used in load().\r\n */\r\n\r\nfunction DataTextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: DataTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new DataTexture();\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\tvar texData = scope.parse( buffer );\r\n\r\n\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\tif ( texData.image !== undefined ) {\r\n\r\n\t\t\t\ttexture.image = texData.image;\r\n\r\n\t\t\t} else if ( texData.data !== undefined ) {\r\n\r\n\t\t\t\ttexture.image.width = texData.width;\r\n\t\t\t\ttexture.image.height = texData.height;\r\n\t\t\t\ttexture.image.data = texData.data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\r\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\r\n\r\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\r\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\r\n\r\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\r\n\r\n\t\t\tif ( texData.format !== undefined ) {\r\n\r\n\t\t\t\ttexture.format = texData.format;\r\n\r\n\t\t\t}\r\n\t\t\tif ( texData.type !== undefined ) {\r\n\r\n\t\t\t\ttexture.type = texData.type;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.mipmaps !== undefined ) {\r\n\r\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\r\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.mipmapCount === 1 ) {\r\n\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction ImageLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: ImageLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\r\n\r\n\t\tfunction onImageLoad() {\r\n\r\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\r\n\t\t\timage.removeEventListener( 'error', onImageError, false );\r\n\r\n\t\t\tCache.add( url, this );\r\n\r\n\t\t\tif ( onLoad ) onLoad( this );\r\n\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onImageError( event ) {\r\n\r\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\r\n\t\t\timage.removeEventListener( 'error', onImageError, false );\r\n\r\n\t\t\tif ( onError ) onError( event );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t}\r\n\r\n\t\timage.addEventListener( 'load', onImageLoad, false );\r\n\t\timage.addEventListener( 'error', onImageError, false );\r\n\r\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\r\n\r\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\r\n\r\n\t\t}\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\timage.src = url;\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\n\r\nfunction CubeTextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: CubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture = new CubeTexture();\r\n\r\n\t\tvar loader = new ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( urls[ i ], function ( image ) {\r\n\r\n\t\t\t\ttexture.images[ i ] = image;\r\n\r\n\t\t\t\tloaded ++;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, undefined, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\r\n\r\n\t\t\tloadTexture( i );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction TextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture = new Texture();\r\n\r\n\t\tvar loader = new ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\r\n\t\tloader.load( url, function ( image ) {\r\n\r\n\t\t\ttexture.image = image;\r\n\r\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\r\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\r\n\r\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Extensible curve object\r\n *\r\n * Some common of curve methods:\r\n * .getPoint( t, optionalTarget ), .getTangent( t )\r\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\r\n * .getPoints(), .getSpacedPoints()\r\n * .getLength()\r\n * .updateArcLengths()\r\n *\r\n * This following curves inherit from THREE.Curve:\r\n *\r\n * -- 2D curves --\r\n * THREE.ArcCurve\r\n * THREE.CubicBezierCurve\r\n * THREE.EllipseCurve\r\n * THREE.LineCurve\r\n * THREE.QuadraticBezierCurve\r\n * THREE.SplineCurve\r\n *\r\n * -- 3D curves --\r\n * THREE.CatmullRomCurve3\r\n * THREE.CubicBezierCurve3\r\n * THREE.LineCurve3\r\n * THREE.QuadraticBezierCurve3\r\n *\r\n * A series of curves can be represented as a THREE.CurvePath.\r\n *\r\n **/\r\n\r\n/**************************************************************\r\n *\tAbstract Curve base class\r\n **************************************************************/\r\n\r\nfunction Curve() {\r\n\r\n\tthis.type = 'Curve';\r\n\r\n\tthis.arcLengthDivisions = 200;\r\n\r\n}\r\n\r\nObject.assign( Curve.prototype, {\r\n\r\n\t// Virtual base class method to overwrite and implement in subclasses\r\n\t//\t- t [0 .. 1]\r\n\r\n\tgetPoint: function ( /* t, optionalTarget */ ) {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\t// Get point at relative position in curve according to arc length\r\n\t// - u [0 .. 1]\r\n\r\n\tgetPointAt: function ( u, optionalTarget ) {\r\n\r\n\t\tvar t = this.getUtoTmapping( u );\r\n\t\treturn this.getPoint( t, optionalTarget );\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPoint( t )\r\n\r\n\tgetPoints: function ( divisions ) {\r\n\r\n\t\tif ( divisions === undefined ) divisions = 5;\r\n\r\n\t\tvar points = [];\r\n\r\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPointAt( u )\r\n\r\n\tgetSpacedPoints: function ( divisions ) {\r\n\r\n\t\tif ( divisions === undefined ) divisions = 5;\r\n\r\n\t\tvar points = [];\r\n\r\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\t// Get total curve arc length\r\n\r\n\tgetLength: function () {\r\n\r\n\t\tvar lengths = this.getLengths();\r\n\t\treturn lengths[ lengths.length - 1 ];\r\n\r\n\t},\r\n\r\n\t// Get list of cumulative segment lengths\r\n\r\n\tgetLengths: function ( divisions ) {\r\n\r\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\r\n\r\n\t\tif ( this.cacheArcLengths &&\r\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\r\n\t\t\t! this.needsUpdate ) {\r\n\r\n\t\t\treturn this.cacheArcLengths;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t\tvar cache = [];\r\n\t\tvar current, last = this.getPoint( 0 );\r\n\t\tvar p, sum = 0;\r\n\r\n\t\tcache.push( 0 );\r\n\r\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\r\n\r\n\t\t\tcurrent = this.getPoint( p / divisions );\r\n\t\t\tsum += current.distanceTo( last );\r\n\t\t\tcache.push( sum );\r\n\t\t\tlast = current;\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheArcLengths = cache;\r\n\r\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\r\n\r\n\t},\r\n\r\n\tupdateArcLengths: function () {\r\n\r\n\t\tthis.needsUpdate = true;\r\n\t\tthis.getLengths();\r\n\r\n\t},\r\n\r\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\r\n\r\n\tgetUtoTmapping: function ( u, distance ) {\r\n\r\n\t\tvar arcLengths = this.getLengths();\r\n\r\n\t\tvar i = 0, il = arcLengths.length;\r\n\r\n\t\tvar targetArcLength; // The targeted u distance value to get\r\n\r\n\t\tif ( distance ) {\r\n\r\n\t\t\ttargetArcLength = distance;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\r\n\r\n\t\t}\r\n\r\n\t\t// binary search for the index with largest value smaller than target u distance\r\n\r\n\t\tvar low = 0, high = il - 1, comparison;\r\n\r\n\t\twhile ( low <= high ) {\r\n\r\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\r\n\r\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\r\n\r\n\t\t\tif ( comparison < 0 ) {\r\n\r\n\t\t\t\tlow = i + 1;\r\n\r\n\t\t\t} else if ( comparison > 0 ) {\r\n\r\n\t\t\t\thigh = i - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thigh = i;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// DONE\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ti = high;\r\n\r\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\r\n\r\n\t\t\treturn i / ( il - 1 );\r\n\r\n\t\t}\r\n\r\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\r\n\r\n\t\tvar lengthBefore = arcLengths[ i ];\r\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\r\n\r\n\t\tvar segmentLength = lengthAfter - lengthBefore;\r\n\r\n\t\t// determine where we are between the 'before' and 'after' points\r\n\r\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\r\n\r\n\t\t// add that fractional amount to t\r\n\r\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\r\n\r\n\t\treturn t;\r\n\r\n\t},\r\n\r\n\t// Returns a unit vector tangent at t\r\n\t// In case any sub curve does not implement its tangent derivation,\r\n\t// 2 points a small delta apart will be used to find its gradient\r\n\t// which seems to give a reasonable approximation\r\n\r\n\tgetTangent: function ( t ) {\r\n\r\n\t\tvar delta = 0.0001;\r\n\t\tvar t1 = t - delta;\r\n\t\tvar t2 = t + delta;\r\n\r\n\t\t// Capping in case of danger\r\n\r\n\t\tif ( t1 < 0 ) t1 = 0;\r\n\t\tif ( t2 > 1 ) t2 = 1;\r\n\r\n\t\tvar pt1 = this.getPoint( t1 );\r\n\t\tvar pt2 = this.getPoint( t2 );\r\n\r\n\t\tvar vec = pt2.clone().sub( pt1 );\r\n\t\treturn vec.normalize();\r\n\r\n\t},\r\n\r\n\tgetTangentAt: function ( u ) {\r\n\r\n\t\tvar t = this.getUtoTmapping( u );\r\n\t\treturn this.getTangent( t );\r\n\r\n\t},\r\n\r\n\tcomputeFrenetFrames: function ( segments, closed ) {\r\n\r\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\r\n\r\n\t\tvar normal = new Vector3();\r\n\r\n\t\tvar tangents = [];\r\n\t\tvar normals = [];\r\n\t\tvar binormals = [];\r\n\r\n\t\tvar vec = new Vector3();\r\n\t\tvar mat = new Matrix4();\r\n\r\n\t\tvar i, u, theta;\r\n\r\n\t\t// compute the tangent vectors for each segment on the curve\r\n\r\n\t\tfor ( i = 0; i <= segments; i ++ ) {\r\n\r\n\t\t\tu = i / segments;\r\n\r\n\t\t\ttangents[ i ] = this.getTangentAt( u );\r\n\t\t\ttangents[ i ].normalize();\r\n\r\n\t\t}\r\n\r\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\r\n\t\t// and in the direction of the minimum tangent xyz component\r\n\r\n\t\tnormals[ 0 ] = new Vector3();\r\n\t\tbinormals[ 0 ] = new Vector3();\r\n\t\tvar min = Number.MAX_VALUE;\r\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\r\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\r\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\r\n\r\n\t\tif ( tx <= min ) {\r\n\r\n\t\t\tmin = tx;\r\n\t\t\tnormal.set( 1, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ty <= min ) {\r\n\r\n\t\t\tmin = ty;\r\n\t\t\tnormal.set( 0, 1, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( tz <= min ) {\r\n\r\n\t\t\tnormal.set( 0, 0, 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\r\n\r\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\r\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\r\n\r\n\r\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\r\n\r\n\t\tfor ( i = 1; i <= segments; i ++ ) {\r\n\r\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\r\n\r\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\r\n\r\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\r\n\r\n\t\t\tif ( vec.length() > Number.EPSILON ) {\r\n\r\n\t\t\t\tvec.normalize();\r\n\r\n\t\t\t\ttheta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\r\n\r\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\r\n\r\n\t\tif ( closed === true ) {\r\n\r\n\t\t\ttheta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\r\n\t\t\ttheta /= segments;\r\n\r\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\r\n\r\n\t\t\t\ttheta = - theta;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\r\n\r\n\t\t\t\t// twist a little...\r\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\r\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttangents: tangents,\r\n\t\t\tnormals: normals,\r\n\t\t\tbinormals: binormals\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Curve',\r\n\t\t\t\tgenerator: 'Curve.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\r\n\t\tdata.type = this.type;\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tfromJSON: function ( json ) {\r\n\r\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'EllipseCurve';\r\n\r\n\tthis.aX = aX || 0;\r\n\tthis.aY = aY || 0;\r\n\r\n\tthis.xRadius = xRadius || 1;\r\n\tthis.yRadius = yRadius || 1;\r\n\r\n\tthis.aStartAngle = aStartAngle || 0;\r\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\r\n\r\n\tthis.aClockwise = aClockwise || false;\r\n\r\n\tthis.aRotation = aRotation || 0;\r\n\r\n}\r\n\r\nEllipseCurve.prototype = Object.create( Curve.prototype );\r\nEllipseCurve.prototype.constructor = EllipseCurve;\r\n\r\nEllipseCurve.prototype.isEllipseCurve = true;\r\n\r\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector2();\r\n\r\n\tvar twoPi = Math.PI * 2;\r\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\r\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\r\n\r\n\t// ensures that deltaAngle is 0 .. 2 PI\r\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\r\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\r\n\r\n\tif ( deltaAngle < Number.EPSILON ) {\r\n\r\n\t\tif ( samePoints ) {\r\n\r\n\t\t\tdeltaAngle = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdeltaAngle = twoPi;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( this.aClockwise === true && ! samePoints ) {\r\n\r\n\t\tif ( deltaAngle === twoPi ) {\r\n\r\n\t\t\tdeltaAngle = - twoPi;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdeltaAngle = deltaAngle - twoPi;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar angle = this.aStartAngle + t * deltaAngle;\r\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\r\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\r\n\r\n\tif ( this.aRotation !== 0 ) {\r\n\r\n\t\tvar cos = Math.cos( this.aRotation );\r\n\t\tvar sin = Math.sin( this.aRotation );\r\n\r\n\t\tvar tx = x - this.aX;\r\n\t\tvar ty = y - this.aY;\r\n\r\n\t\t// Rotate the point about the center of the ellipse.\r\n\t\tx = tx * cos - ty * sin + this.aX;\r\n\t\ty = tx * sin + ty * cos + this.aY;\r\n\r\n\t}\r\n\r\n\treturn point.set( x, y );\r\n\r\n};\r\n\r\nEllipseCurve.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.aX = source.aX;\r\n\tthis.aY = source.aY;\r\n\r\n\tthis.xRadius = source.xRadius;\r\n\tthis.yRadius = source.yRadius;\r\n\r\n\tthis.aStartAngle = source.aStartAngle;\r\n\tthis.aEndAngle = source.aEndAngle;\r\n\r\n\tthis.aClockwise = source.aClockwise;\r\n\r\n\tthis.aRotation = source.aRotation;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n\r\nEllipseCurve.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.aX = this.aX;\r\n\tdata.aY = this.aY;\r\n\r\n\tdata.xRadius = this.xRadius;\r\n\tdata.yRadius = this.yRadius;\r\n\r\n\tdata.aStartAngle = this.aStartAngle;\r\n\tdata.aEndAngle = this.aEndAngle;\r\n\r\n\tdata.aClockwise = this.aClockwise;\r\n\r\n\tdata.aRotation = this.aRotation;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nEllipseCurve.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.aX = json.aX;\r\n\tthis.aY = json.aY;\r\n\r\n\tthis.xRadius = json.xRadius;\r\n\tthis.yRadius = json.yRadius;\r\n\r\n\tthis.aStartAngle = json.aStartAngle;\r\n\tthis.aEndAngle = json.aEndAngle;\r\n\r\n\tthis.aClockwise = json.aClockwise;\r\n\r\n\tthis.aRotation = json.aRotation;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n\tthis.type = 'ArcCurve';\r\n\r\n}\r\n\r\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\r\nArcCurve.prototype.constructor = ArcCurve;\r\n\r\nArcCurve.prototype.isArcCurve = true;\r\n\r\n/**\r\n * @author zz85 https://github.com/zz85\r\n *\r\n * Centripetal CatmullRom Curve - which is useful for avoiding\r\n * cusps and self-intersections in non-uniform catmull rom curves.\r\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\r\n *\r\n * curve.type accepts centripetal(default), chordal and catmullrom\r\n * curve.tension is used for catmullrom which defaults to 0.5\r\n */\r\n\r\n\r\n/*\r\nBased on an optimized c++ solution in\r\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\r\n - http://ideone.com/NoEbVM\r\n\r\nThis CubicPoly class could be used for reusing some variables and calculations,\r\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\r\nwhich can be placed in CurveUtils.\r\n*/\r\n\r\nfunction CubicPoly() {\r\n\r\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\r\n\r\n\t/*\r\n\t * Compute coefficients for a cubic polynomial\r\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\r\n\t * such that\r\n\t *   p(0) = x0, p(1) = x1\r\n\t *  and\r\n\t *   p'(0) = t0, p'(1) = t1.\r\n\t */\r\n\tfunction init( x0, x1, t0, t1 ) {\r\n\r\n\t\tc0 = x0;\r\n\t\tc1 = t0;\r\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\r\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\r\n\r\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\r\n\r\n\t\t},\r\n\r\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\r\n\r\n\t\t\t// compute tangents when parameterized in [t1,t2]\r\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\r\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\r\n\r\n\t\t\t// rescale tangents for parametrization in [0,1]\r\n\t\t\tt1 *= dt1;\r\n\t\t\tt2 *= dt1;\r\n\r\n\t\t\tinit( x1, x2, t1, t2 );\r\n\r\n\t\t},\r\n\r\n\t\tcalc: function ( t ) {\r\n\r\n\t\t\tvar t2 = t * t;\r\n\t\t\tvar t3 = t2 * t;\r\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n//\r\n\r\nvar tmp = new Vector3();\r\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\r\n\r\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'CatmullRomCurve3';\r\n\r\n\tthis.points = points || [];\r\n\tthis.closed = closed || false;\r\n\tthis.curveType = curveType || 'centripetal';\r\n\tthis.tension = tension || 0.5;\r\n\r\n}\r\n\r\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\r\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\r\n\r\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\r\n\r\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector3();\r\n\r\n\tvar points = this.points;\r\n\tvar l = points.length;\r\n\r\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\r\n\tvar intPoint = Math.floor( p );\r\n\tvar weight = p - intPoint;\r\n\r\n\tif ( this.closed ) {\r\n\r\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\r\n\r\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\r\n\r\n\t\tintPoint = l - 2;\r\n\t\tweight = 1;\r\n\r\n\t}\r\n\r\n\tvar p0, p1, p2, p3; // 4 points\r\n\r\n\tif ( this.closed || intPoint > 0 ) {\r\n\r\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\r\n\r\n\t} else {\r\n\r\n\t\t// extrapolate first point\r\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\r\n\t\tp0 = tmp;\r\n\r\n\t}\r\n\r\n\tp1 = points[ intPoint % l ];\r\n\tp2 = points[ ( intPoint + 1 ) % l ];\r\n\r\n\tif ( this.closed || intPoint + 2 < l ) {\r\n\r\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\r\n\r\n\t} else {\r\n\r\n\t\t// extrapolate last point\r\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\r\n\t\tp3 = tmp;\r\n\r\n\t}\r\n\r\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\r\n\r\n\t\t// init Centripetal / Chordal Catmull-Rom\r\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\r\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\r\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\r\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\r\n\r\n\t\t// safety check for repeated points\r\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\r\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\r\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\r\n\r\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\r\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\r\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\r\n\r\n\t} else if ( this.curveType === 'catmullrom' ) {\r\n\r\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\r\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\r\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\r\n\r\n\t}\r\n\r\n\tpoint.set(\r\n\t\tpx.calc( weight ),\r\n\t\tpy.calc( weight ),\r\n\t\tpz.calc( weight )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nCatmullRomCurve3.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.points = [];\r\n\r\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = source.points[ i ];\r\n\r\n\t\tthis.points.push( point.clone() );\r\n\r\n\t}\r\n\r\n\tthis.closed = source.closed;\r\n\tthis.curveType = source.curveType;\r\n\tthis.tension = source.tension;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCatmullRomCurve3.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.points = [];\r\n\r\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = this.points[ i ];\r\n\t\tdata.points.push( point.toArray() );\r\n\r\n\t}\r\n\r\n\tdata.closed = this.closed;\r\n\tdata.curveType = this.curveType;\r\n\tdata.tension = this.tension;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.points = [];\r\n\r\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = json.points[ i ];\r\n\t\tthis.points.push( new Vector3().fromArray( point ) );\r\n\r\n\t}\r\n\r\n\tthis.closed = json.closed;\r\n\tthis.curveType = json.curveType;\r\n\tthis.tension = json.tension;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n *\r\n * Bezier Curves formulas obtained from\r\n * http://en.wikipedia.org/wiki/Bézier_curve\r\n */\r\n\r\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\r\n\r\n\tvar v0 = ( p2 - p0 ) * 0.5;\r\n\tvar v1 = ( p3 - p1 ) * 0.5;\r\n\tvar t2 = t * t;\r\n\tvar t3 = t * t2;\r\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\r\n\r\n}\r\n\r\n//\r\n\r\nfunction QuadraticBezierP0( t, p ) {\r\n\r\n\tvar k = 1 - t;\r\n\treturn k * k * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezierP1( t, p ) {\r\n\r\n\treturn 2 * ( 1 - t ) * t * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezierP2( t, p ) {\r\n\r\n\treturn t * t * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezier( t, p0, p1, p2 ) {\r\n\r\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\r\n\t\tQuadraticBezierP2( t, p2 );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction CubicBezierP0( t, p ) {\r\n\r\n\tvar k = 1 - t;\r\n\treturn k * k * k * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP1( t, p ) {\r\n\r\n\tvar k = 1 - t;\r\n\treturn 3 * k * k * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP2( t, p ) {\r\n\r\n\treturn 3 * ( 1 - t ) * t * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP3( t, p ) {\r\n\r\n\treturn t * t * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\r\n\r\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\r\n\t\tCubicBezierP3( t, p3 );\r\n\r\n}\r\n\r\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'CubicBezierCurve';\r\n\r\n\tthis.v0 = v0 || new Vector2();\r\n\tthis.v1 = v1 || new Vector2();\r\n\tthis.v2 = v2 || new Vector2();\r\n\tthis.v3 = v3 || new Vector2();\r\n\r\n}\r\n\r\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\r\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\r\n\r\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\r\n\r\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector2();\r\n\r\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\r\n\r\n\tpoint.set(\r\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\r\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nCubicBezierCurve.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v0.copy( source.v0 );\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\tthis.v3.copy( source.v3 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubicBezierCurve.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v0 = this.v0.toArray();\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\tdata.v3 = this.v3.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v0.fromArray( json.v0 );\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\tthis.v3.fromArray( json.v3 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'CubicBezierCurve3';\r\n\r\n\tthis.v0 = v0 || new Vector3();\r\n\tthis.v1 = v1 || new Vector3();\r\n\tthis.v2 = v2 || new Vector3();\r\n\tthis.v3 = v3 || new Vector3();\r\n\r\n}\r\n\r\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\r\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\r\n\r\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\r\n\r\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector3();\r\n\r\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\r\n\r\n\tpoint.set(\r\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\r\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\r\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nCubicBezierCurve3.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v0.copy( source.v0 );\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\tthis.v3.copy( source.v3 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubicBezierCurve3.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v0 = this.v0.toArray();\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\tdata.v3 = this.v3.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v0.fromArray( json.v0 );\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\tthis.v3.fromArray( json.v3 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction LineCurve( v1, v2 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'LineCurve';\r\n\r\n\tthis.v1 = v1 || new Vector2();\r\n\tthis.v2 = v2 || new Vector2();\r\n\r\n}\r\n\r\nLineCurve.prototype = Object.create( Curve.prototype );\r\nLineCurve.prototype.constructor = LineCurve;\r\n\r\nLineCurve.prototype.isLineCurve = true;\r\n\r\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector2();\r\n\r\n\tif ( t === 1 ) {\r\n\r\n\t\tpoint.copy( this.v2 );\r\n\r\n\t} else {\r\n\r\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\r\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\r\n\r\n\t}\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\n// Line curve is linear, so we can overwrite default getPointAt\r\n\r\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\r\n\r\n\treturn this.getPoint( u, optionalTarget );\r\n\r\n};\r\n\r\nLineCurve.prototype.getTangent = function ( /* t */ ) {\r\n\r\n\tvar tangent = this.v2.clone().sub( this.v1 );\r\n\r\n\treturn tangent.normalize();\r\n\r\n};\r\n\r\nLineCurve.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLineCurve.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nLineCurve.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction LineCurve3( v1, v2 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'LineCurve3';\r\n\r\n\tthis.v1 = v1 || new Vector3();\r\n\tthis.v2 = v2 || new Vector3();\r\n\r\n}\r\n\r\nLineCurve3.prototype = Object.create( Curve.prototype );\r\nLineCurve3.prototype.constructor = LineCurve3;\r\n\r\nLineCurve3.prototype.isLineCurve3 = true;\r\n\r\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector3();\r\n\r\n\tif ( t === 1 ) {\r\n\r\n\t\tpoint.copy( this.v2 );\r\n\r\n\t} else {\r\n\r\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\r\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\r\n\r\n\t}\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\n// Line curve is linear, so we can overwrite default getPointAt\r\n\r\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\r\n\r\n\treturn this.getPoint( u, optionalTarget );\r\n\r\n};\r\n\r\nLineCurve3.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLineCurve3.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nLineCurve3.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'QuadraticBezierCurve';\r\n\r\n\tthis.v0 = v0 || new Vector2();\r\n\tthis.v1 = v1 || new Vector2();\r\n\tthis.v2 = v2 || new Vector2();\r\n\r\n}\r\n\r\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\r\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\r\n\r\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\r\n\r\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector2();\r\n\r\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\r\n\r\n\tpoint.set(\r\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\r\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nQuadraticBezierCurve.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v0.copy( source.v0 );\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nQuadraticBezierCurve.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v0 = this.v0.toArray();\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v0.fromArray( json.v0 );\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'QuadraticBezierCurve3';\r\n\r\n\tthis.v0 = v0 || new Vector3();\r\n\tthis.v1 = v1 || new Vector3();\r\n\tthis.v2 = v2 || new Vector3();\r\n\r\n}\r\n\r\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\r\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\r\n\r\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\r\n\r\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector3();\r\n\r\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\r\n\r\n\tpoint.set(\r\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\r\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\r\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.v0.copy( source.v0 );\r\n\tthis.v1.copy( source.v1 );\r\n\tthis.v2.copy( source.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nQuadraticBezierCurve3.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.v0 = this.v0.toArray();\r\n\tdata.v1 = this.v1.toArray();\r\n\tdata.v2 = this.v2.toArray();\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.v0.fromArray( json.v0 );\r\n\tthis.v1.fromArray( json.v1 );\r\n\tthis.v2.fromArray( json.v2 );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nfunction SplineCurve( points /* array of Vector2 */ ) {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'SplineCurve';\r\n\r\n\tthis.points = points || [];\r\n\r\n}\r\n\r\nSplineCurve.prototype = Object.create( Curve.prototype );\r\nSplineCurve.prototype.constructor = SplineCurve;\r\n\r\nSplineCurve.prototype.isSplineCurve = true;\r\n\r\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\r\n\r\n\tvar point = optionalTarget || new Vector2();\r\n\r\n\tvar points = this.points;\r\n\tvar p = ( points.length - 1 ) * t;\r\n\r\n\tvar intPoint = Math.floor( p );\r\n\tvar weight = p - intPoint;\r\n\r\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\r\n\tvar p1 = points[ intPoint ];\r\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\r\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\r\n\r\n\tpoint.set(\r\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\r\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\r\n\t);\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\nSplineCurve.prototype.copy = function ( source ) {\r\n\r\n\tCurve.prototype.copy.call( this, source );\r\n\r\n\tthis.points = [];\r\n\r\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = source.points[ i ];\r\n\r\n\t\tthis.points.push( point.clone() );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSplineCurve.prototype.toJSON = function () {\r\n\r\n\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\tdata.points = [];\r\n\r\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = this.points[ i ];\r\n\t\tdata.points.push( point.toArray() );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nSplineCurve.prototype.fromJSON = function ( json ) {\r\n\r\n\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\tthis.points = [];\r\n\r\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\r\n\r\n\t\tvar point = json.points[ i ];\r\n\t\tthis.points.push( new Vector2().fromArray( point ) );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n\r\n\r\nvar Curves = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tArcCurve: ArcCurve,\r\n\tCatmullRomCurve3: CatmullRomCurve3,\r\n\tCubicBezierCurve: CubicBezierCurve,\r\n\tCubicBezierCurve3: CubicBezierCurve3,\r\n\tEllipseCurve: EllipseCurve,\r\n\tLineCurve: LineCurve,\r\n\tLineCurve3: LineCurve3,\r\n\tQuadraticBezierCurve: QuadraticBezierCurve,\r\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\r\n\tSplineCurve: SplineCurve\r\n});\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n *\r\n **/\r\n\r\n/**************************************************************\r\n *\tCurved Path - a curve path is simply a array of connected\r\n *  curves, but retains the api of a curve\r\n **************************************************************/\r\n\r\nfunction CurvePath() {\r\n\r\n\tCurve.call( this );\r\n\r\n\tthis.type = 'CurvePath';\r\n\r\n\tthis.curves = [];\r\n\tthis.autoClose = false; // Automatically closes the path\r\n\r\n}\r\n\r\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\r\n\r\n\tconstructor: CurvePath,\r\n\r\n\tadd: function ( curve ) {\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t},\r\n\r\n\tclosePath: function () {\r\n\r\n\t\t// Add a line curve if start and end of lines are not connected\r\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\r\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\r\n\r\n\t\tif ( ! startPoint.equals( endPoint ) ) {\r\n\r\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// To get accurate point with reference to\r\n\t// entire path distance at time t,\r\n\t// following has to be done:\r\n\r\n\t// 1. Length of each sub path have to be known\r\n\t// 2. Locate and identify type of curve\r\n\t// 3. Get t for the curve\r\n\t// 4. Return curve.getPointAt(t')\r\n\r\n\tgetPoint: function ( t ) {\r\n\r\n\t\tvar d = t * this.getLength();\r\n\t\tvar curveLengths = this.getCurveLengths();\r\n\t\tvar i = 0;\r\n\r\n\t\t// To think about boundaries points.\r\n\r\n\t\twhile ( i < curveLengths.length ) {\r\n\r\n\t\t\tif ( curveLengths[ i ] >= d ) {\r\n\r\n\t\t\t\tvar diff = curveLengths[ i ] - d;\r\n\t\t\t\tvar curve = this.curves[ i ];\r\n\r\n\t\t\t\tvar segmentLength = curve.getLength();\r\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\r\n\r\n\t\t\t\treturn curve.getPointAt( u );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti ++;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t\t// loop where sum != 0, sum > d , sum+1 <d\r\n\r\n\t},\r\n\r\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\r\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\r\n\t// getPoint() depends on getLength\r\n\r\n\tgetLength: function () {\r\n\r\n\t\tvar lens = this.getCurveLengths();\r\n\t\treturn lens[ lens.length - 1 ];\r\n\r\n\t},\r\n\r\n\t// cacheLengths must be recalculated.\r\n\tupdateArcLengths: function () {\r\n\r\n\t\tthis.needsUpdate = true;\r\n\t\tthis.cacheLengths = null;\r\n\t\tthis.getCurveLengths();\r\n\r\n\t},\r\n\r\n\t// Compute lengths and cache them\r\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\r\n\r\n\tgetCurveLengths: function () {\r\n\r\n\t\t// We use cache values if curves and cache array are same length\r\n\r\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\r\n\r\n\t\t\treturn this.cacheLengths;\r\n\r\n\t\t}\r\n\r\n\t\t// Get length of sub-curve\r\n\t\t// Push sums into cached array\r\n\r\n\t\tvar lengths = [], sums = 0;\r\n\r\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tsums += this.curves[ i ].getLength();\r\n\t\t\tlengths.push( sums );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheLengths = lengths;\r\n\r\n\t\treturn lengths;\r\n\r\n\t},\r\n\r\n\tgetSpacedPoints: function ( divisions ) {\r\n\r\n\t\tif ( divisions === undefined ) divisions = 40;\r\n\r\n\t\tvar points = [];\r\n\r\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.autoClose ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\tgetPoints: function ( divisions ) {\r\n\r\n\t\tdivisions = divisions || 12;\r\n\r\n\t\tvar points = [], last;\r\n\r\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\r\n\r\n\t\t\tvar curve = curves[ i ];\r\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\r\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\r\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\r\n\t\t\t\t\t\t: divisions;\r\n\r\n\t\t\tvar pts = curve.getPoints( resolution );\r\n\r\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\r\n\r\n\t\t\t\tvar point = pts[ j ];\r\n\r\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\r\n\r\n\t\t\t\tpoints.push( point );\r\n\t\t\t\tlast = point;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tCurve.prototype.copy.call( this, source );\r\n\r\n\t\tthis.curves = [];\r\n\r\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar curve = source.curves[ i ];\r\n\r\n\t\t\tthis.curves.push( curve.clone() );\r\n\r\n\t\t}\r\n\r\n\t\tthis.autoClose = source.autoClose;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = Curve.prototype.toJSON.call( this );\r\n\r\n\t\tdata.autoClose = this.autoClose;\r\n\t\tdata.curves = [];\r\n\r\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar curve = this.curves[ i ];\r\n\t\t\tdata.curves.push( curve.toJSON() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tfromJSON: function ( json ) {\r\n\r\n\t\tCurve.prototype.fromJSON.call( this, json );\r\n\r\n\t\tthis.autoClose = json.autoClose;\r\n\t\tthis.curves = [];\r\n\r\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar curve = json.curves[ i ];\r\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Creates free form 2d path using series of points, lines or curves.\r\n **/\r\n\r\nfunction Path( points ) {\r\n\r\n\tCurvePath.call( this );\r\n\r\n\tthis.type = 'Path';\r\n\r\n\tthis.currentPoint = new Vector2();\r\n\r\n\tif ( points ) {\r\n\r\n\t\tthis.setFromPoints( points );\r\n\r\n\t}\r\n\r\n}\r\n\r\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\r\n\r\n\tconstructor: Path,\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\r\n\r\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmoveTo: function ( x, y ) {\r\n\r\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlineTo: function ( x, y ) {\r\n\r\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\r\n\r\n\t\tvar curve = new QuadraticBezierCurve(\r\n\t\t\tthis.currentPoint.clone(),\r\n\t\t\tnew Vector2( aCPx, aCPy ),\r\n\t\t\tnew Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\r\n\r\n\t\tvar curve = new CubicBezierCurve(\r\n\t\t\tthis.currentPoint.clone(),\r\n\t\t\tnew Vector2( aCP1x, aCP1y ),\r\n\t\t\tnew Vector2( aCP2x, aCP2y ),\r\n\t\t\tnew Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\r\n\r\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\r\n\r\n\t\tvar curve = new SplineCurve( npts );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tvar x0 = this.currentPoint.x;\r\n\t\tvar y0 = this.currentPoint.y;\r\n\r\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\r\n\t\t\taStartAngle, aEndAngle, aClockwise );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tvar x0 = this.currentPoint.x;\r\n\t\tvar y0 = this.currentPoint.y;\r\n\r\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\r\n\t\tif ( this.curves.length > 0 ) {\r\n\r\n\t\t\t// if a previous curve is present, attempt to join\r\n\t\t\tvar firstPoint = curve.getPoint( 0 );\r\n\r\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\r\n\r\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tvar lastPoint = curve.getPoint( 1 );\r\n\t\tthis.currentPoint.copy( lastPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tCurvePath.prototype.copy.call( this, source );\r\n\r\n\t\tthis.currentPoint.copy( source.currentPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\r\n\r\n\t\tdata.currentPoint = this.currentPoint.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tfromJSON: function ( json ) {\r\n\r\n\t\tCurvePath.prototype.fromJSON.call( this, json );\r\n\r\n\t\tthis.currentPoint.fromArray( json.currentPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Defines a 2d shape plane using paths.\r\n **/\r\n\r\n// STEP 1 Create a path.\r\n// STEP 2 Turn path into shape.\r\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\r\n// STEP 3a - Extract points from each shape, turn to vertices\r\n// STEP 3b - Triangulate each shape, add faces.\r\n\r\nfunction Shape( points ) {\r\n\r\n\tPath.call( this, points );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.type = 'Shape';\r\n\r\n\tthis.holes = [];\r\n\r\n}\r\n\r\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\r\n\r\n\tconstructor: Shape,\r\n\r\n\tgetPointsHoles: function ( divisions ) {\r\n\r\n\t\tvar holesPts = [];\r\n\r\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\r\n\r\n\t\t}\r\n\r\n\t\treturn holesPts;\r\n\r\n\t},\r\n\r\n\t// get points of shape and holes (keypoints based on segments parameter)\r\n\r\n\textractPoints: function ( divisions ) {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tshape: this.getPoints( divisions ),\r\n\t\t\tholes: this.getPointsHoles( divisions )\r\n\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tPath.prototype.copy.call( this, source );\r\n\r\n\t\tthis.holes = [];\r\n\r\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar hole = source.holes[ i ];\r\n\r\n\t\t\tthis.holes.push( hole.clone() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = Path.prototype.toJSON.call( this );\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.holes = [];\r\n\r\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar hole = this.holes[ i ];\r\n\t\t\tdata.holes.push( hole.toJSON() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tfromJSON: function ( json ) {\r\n\r\n\t\tPath.prototype.fromJSON.call( this, json );\r\n\r\n\t\tthis.uuid = json.uuid;\r\n\t\tthis.holes = [];\r\n\r\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar hole = json.holes[ i ];\r\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction Light( color, intensity ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Light';\r\n\r\n\tthis.color = new Color( color );\r\n\tthis.intensity = intensity !== undefined ? intensity : 1;\r\n\r\n\tthis.receiveShadow = undefined;\r\n\r\n}\r\n\r\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Light,\r\n\r\n\tisLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\t\tthis.intensity = source.intensity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.color = this.color.getHex();\r\n\t\tdata.object.intensity = this.intensity;\r\n\r\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\r\n\r\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\r\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\r\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\r\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\r\n\r\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\r\n\r\n\tLight.call( this, skyColor, intensity );\r\n\r\n\tthis.type = 'HemisphereLight';\r\n\r\n\tthis.castShadow = undefined;\r\n\r\n\tthis.position.copy( Object3D.DefaultUp );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.groundColor = new Color( groundColor );\r\n\r\n}\r\n\r\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: HemisphereLight,\r\n\r\n\tisHemisphereLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.groundColor.copy( source.groundColor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction LightShadow( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\r\n\tthis.bias = 0;\r\n\tthis.radius = 1;\r\n\r\n\tthis.mapSize = new Vector2( 512, 512 );\r\n\r\n\tthis.map = null;\r\n\tthis.mapPass = null;\r\n\tthis.matrix = new Matrix4();\r\n\r\n\tthis._frustum = new Frustum();\r\n\tthis._frameExtents = new Vector2( 1, 1 );\r\n\r\n\tthis._viewportCount = 1;\r\n\r\n\tthis._viewports = [\r\n\r\n\t\tnew Vector4( 0, 0, 1, 1 )\r\n\r\n\t];\r\n\r\n}\r\n\r\nObject.assign( LightShadow.prototype, {\r\n\r\n\t_projScreenMatrix: new Matrix4(),\r\n\r\n\t_lightPositionWorld: new Vector3(),\r\n\r\n\t_lookTarget: new Vector3(),\r\n\r\n\tgetViewportCount: function () {\r\n\r\n\t\treturn this._viewportCount;\r\n\r\n\t},\r\n\r\n\tgetFrustum: function () {\r\n\r\n\t\treturn this._frustum;\r\n\r\n\t},\r\n\r\n\tupdateMatrices: function ( light ) {\r\n\r\n\t\tvar shadowCamera = this.camera,\r\n\t\t\tshadowMatrix = this.matrix,\r\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\r\n\t\t\tlookTarget = this._lookTarget,\r\n\t\t\tlightPositionWorld = this._lightPositionWorld;\r\n\r\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\r\n\t\tshadowCamera.position.copy( lightPositionWorld );\r\n\r\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\tshadowCamera.lookAt( lookTarget );\r\n\t\tshadowCamera.updateMatrixWorld();\r\n\r\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\r\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\r\n\r\n\t\tshadowMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\r\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\r\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\r\n\r\n\t},\r\n\r\n\tgetViewport: function ( viewportIndex ) {\r\n\r\n\t\treturn this._viewports[ viewportIndex ];\r\n\r\n\t},\r\n\r\n\tgetFrameExtents: function () {\r\n\r\n\t\treturn this._frameExtents;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.camera = source.camera.clone();\r\n\r\n\t\tthis.bias = source.bias;\r\n\t\tthis.radius = source.radius;\r\n\r\n\t\tthis.mapSize.copy( source.mapSize );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar object = {};\r\n\r\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\r\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\r\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\r\n\r\n\t\tobject.camera = this.camera.toJSON( false ).object;\r\n\t\tdelete object.camera.matrix;\r\n\r\n\t\treturn object;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction SpotLightShadow() {\r\n\r\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\r\n\r\n}\r\n\r\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\r\n\r\n\tconstructor: SpotLightShadow,\r\n\r\n\tisSpotLightShadow: true,\r\n\r\n\tupdateMatrices: function ( light ) {\r\n\r\n\t\tvar camera = this.camera;\r\n\r\n\t\tvar fov = MathUtils.RAD2DEG * 2 * light.angle;\r\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\r\n\t\tvar far = light.distance || camera.far;\r\n\r\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\r\n\r\n\t\t\tcamera.fov = fov;\r\n\t\t\tcamera.aspect = aspect;\r\n\t\t\tcamera.far = far;\r\n\t\t\tcamera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\r\n\r\n\tLight.call( this, color, intensity );\r\n\r\n\tthis.type = 'SpotLight';\r\n\r\n\tthis.position.copy( Object3D.DefaultUp );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.target = new Object3D();\r\n\r\n\tObject.defineProperty( this, 'power', {\r\n\t\tget: function () {\r\n\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\t\treturn this.intensity * Math.PI;\r\n\r\n\t\t},\r\n\t\tset: function ( power ) {\r\n\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\t\tthis.intensity = power / Math.PI;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\r\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\r\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\r\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\r\n\r\n\tthis.shadow = new SpotLightShadow();\r\n\r\n}\r\n\r\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: SpotLight,\r\n\r\n\tisSpotLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.angle = source.angle;\r\n\t\tthis.penumbra = source.penumbra;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.target = source.target.clone();\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction PointLightShadow() {\r\n\r\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\r\n\r\n\tthis._frameExtents = new Vector2( 4, 2 );\r\n\r\n\tthis._viewportCount = 6;\r\n\r\n\tthis._viewports = [\r\n\t\t// These viewports map a cube-map onto a 2D texture with the\r\n\t\t// following orientation:\r\n\t\t//\r\n\t\t//  xzXZ\r\n\t\t//   y Y\r\n\t\t//\r\n\t\t// X - Positive x direction\r\n\t\t// x - Negative x direction\r\n\t\t// Y - Positive y direction\r\n\t\t// y - Negative y direction\r\n\t\t// Z - Positive z direction\r\n\t\t// z - Negative z direction\r\n\r\n\t\t// positive X\r\n\t\tnew Vector4( 2, 1, 1, 1 ),\r\n\t\t// negative X\r\n\t\tnew Vector4( 0, 1, 1, 1 ),\r\n\t\t// positive Z\r\n\t\tnew Vector4( 3, 1, 1, 1 ),\r\n\t\t// negative Z\r\n\t\tnew Vector4( 1, 1, 1, 1 ),\r\n\t\t// positive Y\r\n\t\tnew Vector4( 3, 0, 1, 1 ),\r\n\t\t// negative Y\r\n\t\tnew Vector4( 1, 0, 1, 1 )\r\n\t];\r\n\r\n\tthis._cubeDirections = [\r\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\r\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\r\n\t];\r\n\r\n\tthis._cubeUps = [\r\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\r\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\r\n\t];\r\n\r\n}\r\n\r\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\r\n\r\n\tconstructor: PointLightShadow,\r\n\r\n\tisPointLightShadow: true,\r\n\r\n\tupdateMatrices: function ( light, viewportIndex ) {\r\n\r\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\r\n\r\n\t\tvar camera = this.camera,\r\n\t\t\tshadowMatrix = this.matrix,\r\n\t\t\tlightPositionWorld = this._lightPositionWorld,\r\n\t\t\tlookTarget = this._lookTarget,\r\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\r\n\r\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\r\n\t\tcamera.position.copy( lightPositionWorld );\r\n\r\n\t\tlookTarget.copy( camera.position );\r\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\r\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\r\n\t\tcamera.lookAt( lookTarget );\r\n\t\tcamera.updateMatrixWorld();\r\n\r\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\r\n\r\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\r\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\n\r\nfunction PointLight( color, intensity, distance, decay ) {\r\n\r\n\tLight.call( this, color, intensity );\r\n\r\n\tthis.type = 'PointLight';\r\n\r\n\tObject.defineProperty( this, 'power', {\r\n\t\tget: function () {\r\n\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\t\treturn this.intensity * 4 * Math.PI;\r\n\r\n\t\t},\r\n\t\tset: function ( power ) {\r\n\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\r\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\r\n\r\n\tthis.shadow = new PointLightShadow();\r\n\r\n}\r\n\r\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: PointLight,\r\n\r\n\tisPointLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author arose / http://github.com/arose\r\n */\r\n\r\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\r\n\r\n\tCamera.call( this );\r\n\r\n\tthis.type = 'OrthographicCamera';\r\n\r\n\tthis.zoom = 1;\r\n\tthis.view = null;\r\n\r\n\tthis.left = ( left !== undefined ) ? left : - 1;\r\n\tthis.right = ( right !== undefined ) ? right : 1;\r\n\tthis.top = ( top !== undefined ) ? top : 1;\r\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\r\n\r\n\tthis.near = ( near !== undefined ) ? near : 0.1;\r\n\tthis.far = ( far !== undefined ) ? far : 2000;\r\n\r\n\tthis.updateProjectionMatrix();\r\n\r\n}\r\n\r\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\r\n\r\n\tconstructor: OrthographicCamera,\r\n\r\n\tisOrthographicCamera: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tCamera.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.left = source.left;\r\n\t\tthis.right = source.right;\r\n\t\tthis.top = source.top;\r\n\t\tthis.bottom = source.bottom;\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\r\n\t\tthis.zoom = source.zoom;\r\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\r\n\r\n\t\tif ( this.view === null ) {\r\n\r\n\t\t\tthis.view = {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tfullWidth: 1,\r\n\t\t\t\tfullHeight: 1,\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tthis.view.enabled = true;\r\n\t\tthis.view.fullWidth = fullWidth;\r\n\t\tthis.view.fullHeight = fullHeight;\r\n\t\tthis.view.offsetX = x;\r\n\t\tthis.view.offsetY = y;\r\n\t\tthis.view.width = width;\r\n\t\tthis.view.height = height;\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tclearViewOffset: function () {\r\n\r\n\t\tif ( this.view !== null ) {\r\n\r\n\t\t\tthis.view.enabled = false;\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tupdateProjectionMatrix: function () {\r\n\r\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\r\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\r\n\t\tvar cx = ( this.right + this.left ) / 2;\r\n\t\tvar cy = ( this.top + this.bottom ) / 2;\r\n\r\n\t\tvar left = cx - dx;\r\n\t\tvar right = cx + dx;\r\n\t\tvar top = cy + dy;\r\n\t\tvar bottom = cy - dy;\r\n\r\n\t\tif ( this.view !== null && this.view.enabled ) {\r\n\r\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\r\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\r\n\r\n\t\t\tleft += scaleW * this.view.offsetX;\r\n\t\t\tright = left + scaleW * this.view.width;\r\n\t\t\ttop -= scaleH * this.view.offsetY;\r\n\t\t\tbottom = top - scaleH * this.view.height;\r\n\r\n\t\t}\r\n\r\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\r\n\r\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.zoom = this.zoom;\r\n\t\tdata.object.left = this.left;\r\n\t\tdata.object.right = this.right;\r\n\t\tdata.object.top = this.top;\r\n\t\tdata.object.bottom = this.bottom;\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\r\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction DirectionalLightShadow() {\r\n\r\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\r\n\r\n}\r\n\r\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\r\n\r\n\tconstructor: DirectionalLightShadow,\r\n\r\n\tisDirectionalLightShadow: true,\r\n\r\n\tupdateMatrices: function ( light ) {\r\n\r\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction DirectionalLight( color, intensity ) {\r\n\r\n\tLight.call( this, color, intensity );\r\n\r\n\tthis.type = 'DirectionalLight';\r\n\r\n\tthis.position.copy( Object3D.DefaultUp );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.target = new Object3D();\r\n\r\n\tthis.shadow = new DirectionalLightShadow();\r\n\r\n}\r\n\r\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: DirectionalLight,\r\n\r\n\tisDirectionalLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.target = source.target.clone();\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction AmbientLight( color, intensity ) {\r\n\r\n\tLight.call( this, color, intensity );\r\n\r\n\tthis.type = 'AmbientLight';\r\n\r\n\tthis.castShadow = undefined;\r\n\r\n}\r\n\r\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: AmbientLight,\r\n\r\n\tisAmbientLight: true\r\n\r\n} );\r\n\r\n/**\r\n * @author abelnation / http://github.com/abelnation\r\n */\r\n\r\nfunction RectAreaLight( color, intensity, width, height ) {\r\n\r\n\tLight.call( this, color, intensity );\r\n\r\n\tthis.type = 'RectAreaLight';\r\n\r\n\tthis.width = ( width !== undefined ) ? width : 10;\r\n\tthis.height = ( height !== undefined ) ? height : 10;\r\n\r\n}\r\n\r\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: RectAreaLight,\r\n\r\n\tisRectAreaLight: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.width = source.width;\r\n\t\tthis.height = source.height;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.width = this.width;\r\n\t\tdata.object.height = this.height;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction MaterialLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.textures = {};\r\n\r\n}\r\n\r\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: MaterialLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar textures = this.textures;\r\n\r\n\t\tfunction getTexture( name ) {\r\n\r\n\t\t\tif ( textures[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn textures[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tvar material = new Materials[ json.type ]();\r\n\r\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\r\n\t\tif ( json.name !== undefined ) material.name = json.name;\r\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\r\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\r\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\r\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\r\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\r\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\r\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\r\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\r\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\r\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\r\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\r\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\r\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\r\n\t\tif ( json.side !== undefined ) material.side = json.side;\r\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\r\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\r\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\r\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\r\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\r\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\r\n\r\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\r\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\r\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\r\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\r\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\r\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\r\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\r\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\r\n\r\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\r\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\r\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\r\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\r\n\r\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\r\n\r\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\r\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\r\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\r\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\r\n\r\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\r\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\r\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\r\n\r\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\r\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\r\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\r\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\r\n\r\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\r\n\r\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\r\n\r\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\r\n\r\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\r\n\r\n\t\tif ( json.vertexColors !== undefined ) {\r\n\r\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\r\n\r\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Shader Material\r\n\r\n\t\tif ( json.uniforms !== undefined ) {\r\n\r\n\t\t\tfor ( var name in json.uniforms ) {\r\n\r\n\t\t\t\tvar uniform = json.uniforms[ name ];\r\n\r\n\t\t\t\tmaterial.uniforms[ name ] = {};\r\n\r\n\t\t\t\tswitch ( uniform.type ) {\r\n\r\n\t\t\t\t\tcase 't':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'c':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v2':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v3':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v4':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'm3':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\r\n\r\n\t\t\t\t\tcase 'm4':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\r\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\r\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\r\n\r\n\t\tif ( json.extensions !== undefined ) {\r\n\r\n\t\t\tfor ( var key in json.extensions ) {\r\n\r\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Deprecated\r\n\r\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\r\n\r\n\t\t// for PointsMaterial\r\n\r\n\t\tif ( json.size !== undefined ) material.size = json.size;\r\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\r\n\r\n\t\t// maps\r\n\r\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\r\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\r\n\r\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\r\n\r\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\r\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\r\n\r\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\r\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\r\n\t\tif ( json.normalScale !== undefined ) {\r\n\r\n\t\t\tvar normalScale = json.normalScale;\r\n\r\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\r\n\r\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\r\n\r\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\r\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\r\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\r\n\r\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\r\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\r\n\r\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\r\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\r\n\r\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\r\n\r\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\r\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\r\n\r\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\r\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\r\n\r\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\r\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\r\n\r\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\r\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\r\n\r\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\r\n\r\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\r\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\r\n\r\n\t\treturn material;\r\n\r\n\t},\r\n\r\n\tsetTextures: function ( value ) {\r\n\r\n\t\tthis.textures = value;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author Don McCurdy / https://www.donmccurdy.com\r\n */\r\n\r\nvar LoaderUtils = {\r\n\r\n\tdecodeText: function ( array ) {\r\n\r\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\r\n\r\n\t\t\treturn new TextDecoder().decode( array );\r\n\r\n\t\t}\r\n\r\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\r\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\r\n\r\n\t\tvar s = '';\r\n\r\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\r\n\r\n\t\t\t// Implicitly assumes little-endian.\r\n\t\t\ts += String.fromCharCode( array[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\ttry {\r\n\r\n\t\t\t// merges multi-byte utf-8 characters.\r\n\r\n\t\t\treturn decodeURIComponent( escape( s ) );\r\n\r\n\t\t} catch ( e ) { // see #16358\r\n\r\n\t\t\treturn s;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\textractUrlBase: function ( url ) {\r\n\r\n\t\tvar index = url.lastIndexOf( '/' );\r\n\r\n\t\tif ( index === - 1 ) return './';\r\n\r\n\t\treturn url.substr( 0, index + 1 );\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nfunction InstancedBufferGeometry() {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'InstancedBufferGeometry';\r\n\tthis.maxInstancedCount = undefined;\r\n\r\n}\r\n\r\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\r\n\r\n\tconstructor: InstancedBufferGeometry,\r\n\r\n\tisInstancedBufferGeometry: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tBufferGeometry.prototype.copy.call( this, source );\r\n\r\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\r\n\r\n\t\tdata.isInstancedBufferGeometry = true;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\r\n\r\n\tif ( typeof ( normalized ) === 'number' ) {\r\n\r\n\t\tmeshPerAttribute = normalized;\r\n\r\n\t\tnormalized = false;\r\n\r\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\r\n\r\n\t}\r\n\r\n\tBufferAttribute.call( this, array, itemSize, normalized );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n}\r\n\r\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\r\n\r\n\tconstructor: InstancedBufferAttribute,\r\n\r\n\tisInstancedBufferAttribute: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tBufferAttribute.prototype.copy.call( this, source );\r\n\r\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ()\t{\r\n\r\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\r\n\r\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\r\n\r\n\t\tdata.isInstancedBufferAttribute = true;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction BufferGeometryLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: BufferGeometryLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\r\n\r\n\t\tvar index = json.data.index;\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\r\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = json.data.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ key ];\r\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\r\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\r\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\r\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\r\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\r\n\r\n\t\t}\r\n\r\n\t\tvar morphAttributes = json.data.morphAttributes;\r\n\r\n\t\tif ( morphAttributes ) {\r\n\r\n\t\t\tfor ( var key in morphAttributes ) {\r\n\r\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\r\n\r\n\t\t\t\tvar array = [];\r\n\r\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar attribute = attributeArray[ i ];\r\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\r\n\r\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\r\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\r\n\t\t\t\t\tarray.push( bufferAttribute );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar morphTargetsRelative = json.data.morphTargetsRelative;\r\n\r\n\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\r\n\r\n\t\tif ( groups !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar boundingSphere = json.data.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== undefined ) {\r\n\r\n\t\t\tvar center = new Vector3();\r\n\r\n\t\t\tif ( boundingSphere.center !== undefined ) {\r\n\r\n\t\t\t\tcenter.fromArray( boundingSphere.center );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.name ) geometry.name = json.name;\r\n\t\tif ( json.userData ) geometry.userData = json.userData;\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar TYPED_ARRAYS = {\r\n\tInt8Array: Int8Array,\r\n\tUint8Array: Uint8Array,\r\n\t// Workaround for IE11 pre KB2929437. See #11440\r\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\r\n\tInt16Array: Int16Array,\r\n\tUint16Array: Uint16Array,\r\n\tInt32Array: Int32Array,\r\n\tUint32Array: Uint32Array,\r\n\tFloat32Array: Float32Array,\r\n\tFloat64Array: Float64Array\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction ObjectLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: ObjectLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\r\n\t\tthis.resourcePath = this.resourcePath || path;\r\n\r\n\t\tvar loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tvar json = null;\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tjson = JSON.parse( text );\r\n\r\n\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\tif ( onError !== undefined ) onError( error );\r\n\r\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar metadata = json.metadata;\r\n\r\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscope.parse( json, onLoad );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json, onLoad ) {\r\n\r\n\t\tvar shapes = this.parseShape( json.shapes );\r\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\r\n\r\n\t\tvar images = this.parseImages( json.images, function () {\r\n\r\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\r\n\r\n\t\t} );\r\n\r\n\t\tvar textures = this.parseTextures( json.textures, images );\r\n\t\tvar materials = this.parseMaterials( json.materials, textures );\r\n\r\n\t\tvar object = this.parseObject( json.object, geometries, materials );\r\n\r\n\t\tif ( json.animations ) {\r\n\r\n\t\t\tobject.animations = this.parseAnimations( json.animations );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\r\n\r\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\r\n\r\n\t\t}\r\n\r\n\t\treturn object;\r\n\r\n\t},\r\n\r\n\tparseShape: function ( json ) {\r\n\r\n\t\tvar shapes = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\r\n\r\n\t\t\t\tshapes[ shape.uuid ] = shape;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn shapes;\r\n\r\n\t},\r\n\r\n\tparseGeometries: function ( json, shapes ) {\r\n\r\n\t\tvar geometries = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar geometry;\r\n\t\t\t\tvar data = json[ i ];\r\n\r\n\t\t\t\tswitch ( data.type ) {\r\n\r\n\t\t\t\t\tcase 'PlaneGeometry':\r\n\t\t\t\t\tcase 'PlaneBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BoxGeometry':\r\n\t\t\t\t\tcase 'BoxBufferGeometry':\r\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.depth,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.depthSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CircleGeometry':\r\n\t\t\t\t\tcase 'CircleBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CylinderGeometry':\r\n\t\t\t\t\tcase 'CylinderBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radiusTop,\r\n\t\t\t\t\t\t\tdata.radiusBottom,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ConeGeometry':\r\n\t\t\t\t\tcase 'ConeBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'SphereGeometry':\r\n\t\t\t\t\tcase 'SphereBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'DodecahedronGeometry':\r\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\r\n\t\t\t\t\tcase 'IcosahedronGeometry':\r\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\r\n\t\t\t\t\tcase 'OctahedronGeometry':\r\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\r\n\t\t\t\t\tcase 'TetrahedronGeometry':\r\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.detail\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'RingGeometry':\r\n\t\t\t\t\tcase 'RingBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.innerRadius,\r\n\t\t\t\t\t\t\tdata.outerRadius,\r\n\t\t\t\t\t\t\tdata.thetaSegments,\r\n\t\t\t\t\t\t\tdata.phiSegments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusGeometry':\r\n\t\t\t\t\tcase 'TorusBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.arc\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusKnotGeometry':\r\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.p,\r\n\t\t\t\t\t\t\tdata.q\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TubeGeometry':\r\n\t\t\t\t\tcase 'TubeBufferGeometry':\r\n\r\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\r\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.closed\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'LatheGeometry':\r\n\t\t\t\t\tcase 'LatheBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.points,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'PolyhedronGeometry':\r\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.vertices,\r\n\t\t\t\t\t\t\tdata.indices,\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.details\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ShapeGeometry':\r\n\t\t\t\t\tcase 'ShapeBufferGeometry':\r\n\r\n\t\t\t\t\t\tvar geometryShapes = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\r\n\r\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tgeometryShapes,\r\n\t\t\t\t\t\t\tdata.curveSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase 'ExtrudeGeometry':\r\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\r\n\r\n\t\t\t\t\t\tvar geometryShapes = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\r\n\r\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\r\n\r\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\r\n\r\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tgeometryShapes,\r\n\t\t\t\t\t\t\tdata.options\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BufferGeometry':\r\n\t\t\t\t\tcase 'InstancedBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Geometry':\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\r\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\r\n\r\n\t\t\t\tgeometries[ data.uuid ] = geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn geometries;\r\n\r\n\t},\r\n\r\n\tparseMaterials: function ( json, textures ) {\r\n\r\n\t\tvar cache = {}; // MultiMaterial\r\n\t\tvar materials = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tvar loader = new MaterialLoader();\r\n\t\t\tloader.setTextures( textures );\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar data = json[ i ];\r\n\r\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\r\n\r\n\t\t\t\t\t// Deprecated\r\n\r\n\t\t\t\t\tvar array = [];\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar material = data.materials[ j ];\r\n\r\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmaterials[ data.uuid ] = array;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn materials;\r\n\r\n\t},\r\n\r\n\tparseAnimations: function ( json ) {\r\n\r\n\t\tvar animations = [];\r\n\r\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\r\n\r\n\t\t\tvar data = json[ i ];\r\n\r\n\t\t\tvar clip = AnimationClip.parse( data );\r\n\r\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\r\n\r\n\t\t\tanimations.push( clip );\r\n\r\n\t\t}\r\n\r\n\t\treturn animations;\r\n\r\n\t},\r\n\r\n\tparseImages: function ( json, onLoad ) {\r\n\r\n\t\tvar scope = this;\r\n\t\tvar images = {};\r\n\r\n\t\tfunction loadImage( url ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\treturn loader.load( url, function () {\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, undefined, function () {\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json !== undefined && json.length > 0 ) {\r\n\r\n\t\t\tvar manager = new LoadingManager( onLoad );\r\n\r\n\t\t\tvar loader = new ImageLoader( manager );\r\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar image = json[ i ];\r\n\t\t\t\tvar url = image.url;\r\n\r\n\t\t\t\tif ( Array.isArray( url ) ) {\r\n\r\n\t\t\t\t\t// load array of images e.g CubeTexture\r\n\r\n\t\t\t\t\timages[ image.uuid ] = [];\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar currentUrl = url[ j ];\r\n\r\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\r\n\r\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// load single image\r\n\r\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\r\n\r\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn images;\r\n\r\n\t},\r\n\r\n\tparseTextures: function ( json, images ) {\r\n\r\n\t\tfunction parseConstant( value, type ) {\r\n\r\n\t\t\tif ( typeof value === 'number' ) return value;\r\n\r\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\r\n\r\n\t\t\treturn type[ value ];\r\n\r\n\t\t}\r\n\r\n\t\tvar textures = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar data = json[ i ];\r\n\r\n\t\t\t\tif ( data.image === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( images[ data.image ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar texture;\r\n\r\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\r\n\r\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\ttexture.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\r\n\r\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\r\n\r\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\r\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\r\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\r\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\r\n\r\n\t\t\t\tif ( data.wrap !== undefined ) {\r\n\r\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\r\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\r\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\r\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\r\n\r\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\r\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\r\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\r\n\r\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\r\n\r\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\r\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\r\n\r\n\t\t\t\ttextures[ data.uuid ] = texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn textures;\r\n\r\n\t},\r\n\r\n\tparseObject: function ( data, geometries, materials ) {\r\n\r\n\t\tvar object;\r\n\r\n\t\tfunction getGeometry( name ) {\r\n\r\n\t\t\tif ( geometries[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn geometries[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getMaterial( name ) {\r\n\r\n\t\t\tif ( name === undefined ) return undefined;\r\n\r\n\t\t\tif ( Array.isArray( name ) ) {\r\n\r\n\t\t\t\tvar array = [];\r\n\r\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tvar uuid = name[ i ];\r\n\r\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tarray.push( materials[ uuid ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materials[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn materials[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( data.type ) {\r\n\r\n\t\t\tcase 'Scene':\r\n\r\n\t\t\t\tobject = new Scene();\r\n\r\n\t\t\t\tif ( data.background !== undefined ) {\r\n\r\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\r\n\r\n\t\t\t\t\t\tobject.background = new Color( data.background );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( data.fog !== undefined ) {\r\n\r\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\r\n\r\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\r\n\r\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\r\n\r\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PerspectiveCamera':\r\n\r\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\r\n\r\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\r\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\r\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\r\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\r\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'OrthographicCamera':\r\n\r\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\r\n\r\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\r\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'AmbientLight':\r\n\r\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DirectionalLight':\r\n\r\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PointLight':\r\n\r\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RectAreaLight':\r\n\r\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'SpotLight':\r\n\r\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'HemisphereLight':\r\n\r\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'SkinnedMesh':\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\r\n\r\n\t\t\tcase 'Mesh':\r\n\r\n\t\t\t\tvar geometry = getGeometry( data.geometry );\r\n\t\t\t\tvar material = getMaterial( data.material );\r\n\r\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\r\n\r\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tobject = new Mesh( geometry, material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'InstancedMesh':\r\n\r\n\t\t\t\tvar geometry = getGeometry( data.geometry );\r\n\t\t\t\tvar material = getMaterial( data.material );\r\n\t\t\t\tvar count = data.count;\r\n\t\t\t\tvar instanceMatrix = data.instanceMatrix;\r\n\r\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\r\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LOD':\r\n\r\n\t\t\t\tobject = new LOD();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Line':\r\n\r\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LineLoop':\r\n\r\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LineSegments':\r\n\r\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PointCloud':\r\n\t\t\tcase 'Points':\r\n\r\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Sprite':\r\n\r\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Group':\r\n\r\n\t\t\t\tobject = new Group();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tobject = new Object3D();\r\n\r\n\t\t}\r\n\r\n\t\tobject.uuid = data.uuid;\r\n\r\n\t\tif ( data.name !== undefined ) object.name = data.name;\r\n\r\n\t\tif ( data.matrix !== undefined ) {\r\n\r\n\t\t\tobject.matrix.fromArray( data.matrix );\r\n\r\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\r\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\r\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\r\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\r\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\r\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\r\n\r\n\t\tif ( data.shadow ) {\r\n\r\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\r\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\r\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\r\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\r\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\r\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\r\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\r\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\r\n\r\n\t\tif ( data.children !== undefined ) {\r\n\r\n\t\t\tvar children = data.children;\r\n\r\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.type === 'LOD' ) {\r\n\r\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\r\n\r\n\t\t\tvar levels = data.levels;\r\n\r\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\t\tvar level = levels[ l ];\r\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\r\n\r\n\t\t\t\tif ( child !== undefined ) {\r\n\r\n\t\t\t\t\tobject.addLevel( child, level.distance );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn object;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar TEXTURE_MAPPING = {\r\n\tUVMapping: UVMapping,\r\n\tCubeReflectionMapping: CubeReflectionMapping,\r\n\tCubeRefractionMapping: CubeRefractionMapping,\r\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\r\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\r\n\tSphericalReflectionMapping: SphericalReflectionMapping,\r\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\r\n};\r\n\r\nvar TEXTURE_WRAPPING = {\r\n\tRepeatWrapping: RepeatWrapping,\r\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\r\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\r\n};\r\n\r\nvar TEXTURE_FILTER = {\r\n\tNearestFilter: NearestFilter,\r\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\r\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\r\n\tLinearFilter: LinearFilter,\r\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\r\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\r\n};\r\n\r\n/**\r\n * @author thespite / http://clicktorelease.com/\r\n */\r\n\r\n\r\nfunction ImageBitmapLoader( manager ) {\r\n\r\n\tif ( typeof createImageBitmap === 'undefined' ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\r\n\r\n\t}\r\n\r\n\tif ( typeof fetch === 'undefined' ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\r\n\r\n\t}\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.options = undefined;\r\n\r\n}\r\n\r\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: ImageBitmapLoader,\r\n\r\n\tsetOptions: function setOptions( options ) {\r\n\r\n\t\tthis.options = options;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( url === undefined ) url = '';\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tfetch( url ).then( function ( res ) {\r\n\r\n\t\t\treturn res.blob();\r\n\r\n\t\t} ).then( function ( blob ) {\r\n\r\n\t\t\tif ( scope.options === undefined ) {\r\n\r\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\r\n\t\t\t\treturn createImageBitmap( blob );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn createImageBitmap( blob, scope.options );\r\n\r\n\t\t\t}\r\n\r\n\t\t} ).then( function ( imageBitmap ) {\r\n\r\n\t\t\tCache.add( url, imageBitmap );\r\n\r\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\r\n\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t} ).catch( function ( e ) {\r\n\r\n\t\t\tif ( onError ) onError( e );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t} );\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\r\n **/\r\n\r\nfunction ShapePath() {\r\n\r\n\tthis.type = 'ShapePath';\r\n\r\n\tthis.color = new Color();\r\n\r\n\tthis.subPaths = [];\r\n\tthis.currentPath = null;\r\n\r\n}\r\n\r\nObject.assign( ShapePath.prototype, {\r\n\r\n\tmoveTo: function ( x, y ) {\r\n\r\n\t\tthis.currentPath = new Path();\r\n\t\tthis.subPaths.push( this.currentPath );\r\n\t\tthis.currentPath.moveTo( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlineTo: function ( x, y ) {\r\n\r\n\t\tthis.currentPath.lineTo( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\r\n\r\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\r\n\r\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsplineThru: function ( pts ) {\r\n\r\n\t\tthis.currentPath.splineThru( pts );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoShapes: function ( isCCW, noHoles ) {\r\n\r\n\t\tfunction toShapesNoHoles( inSubpaths ) {\r\n\r\n\t\t\tvar shapes = [];\r\n\r\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\r\n\r\n\t\t\t\tvar tmpShape = new Shape();\r\n\t\t\t\ttmpShape.curves = tmpPath.curves;\r\n\r\n\t\t\t\tshapes.push( tmpShape );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\r\n\r\n\t\t\tvar polyLen = inPolygon.length;\r\n\r\n\t\t\t// inPt on polygon contour => immediate success    or\r\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\r\n\t\t\t//  with the horizontal line through inPt, left of inPt\r\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\r\n\t\t\tvar inside = false;\r\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\r\n\r\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\r\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\r\n\r\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\r\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\r\n\r\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t// not parallel\r\n\t\t\t\t\tif ( edgeDy < 0 ) {\r\n\r\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\r\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\r\n\r\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\r\n\r\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\r\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\r\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// parallel or collinear\r\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\r\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\r\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\r\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\r\n\t\t\t\t\t// continue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn\tinside;\r\n\r\n\t\t}\r\n\r\n\t\tvar isClockWise = ShapeUtils.isClockWise;\r\n\r\n\t\tvar subPaths = this.subPaths;\r\n\t\tif ( subPaths.length === 0 ) return [];\r\n\r\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\r\n\r\n\t\tif ( subPaths.length === 1 ) {\r\n\r\n\t\t\ttmpPath = subPaths[ 0 ];\r\n\t\t\ttmpShape = new Shape();\r\n\t\t\ttmpShape.curves = tmpPath.curves;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\r\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\r\n\r\n\t\t// console.log(\"Holes first\", holesFirst);\r\n\r\n\t\tvar betterShapeHoles = [];\r\n\t\tvar newShapes = [];\r\n\t\tvar newShapeHoles = [];\r\n\t\tvar mainIdx = 0;\r\n\t\tvar tmpPoints;\r\n\r\n\t\tnewShapes[ mainIdx ] = undefined;\r\n\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\r\n\r\n\t\t\ttmpPath = subPaths[ i ];\r\n\t\t\ttmpPoints = tmpPath.getPoints();\r\n\t\t\tsolid = isClockWise( tmpPoints );\r\n\t\t\tsolid = isCCW ? ! solid : solid;\r\n\r\n\t\t\tif ( solid ) {\r\n\r\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\r\n\r\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\r\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\r\n\r\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\r\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\t\t\t//console.log('cw', i);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\r\n\r\n\t\t\t\t//console.log('ccw', i);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// only Holes? -> probably all Shapes with wrong orientation\r\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tif ( newShapes.length > 1 ) {\r\n\r\n\t\t\tvar ambiguous = false;\r\n\t\t\tvar toChange = [];\r\n\r\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\r\n\r\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\r\n\r\n\t\t\t\t\tvar ho = sho[ hIdx ];\r\n\t\t\t\t\tvar hole_unassigned = true;\r\n\r\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\r\n\r\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\r\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\t\t\thole_unassigned = false;\r\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tambiguous = true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\r\n\t\t\tif ( toChange.length > 0 ) {\r\n\r\n\t\t\t\t// console.log(\"to change: \", toChange);\r\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmpHoles;\r\n\r\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\r\n\r\n\t\t\ttmpShape = newShapes[ i ].s;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\ttmpHoles = newShapeHoles[ i ];\r\n\r\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//console.log(\"shape\", shapes);\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\n\r\nfunction Font( data ) {\r\n\r\n\tthis.type = 'Font';\r\n\r\n\tthis.data = data;\r\n\r\n}\r\n\r\nObject.assign( Font.prototype, {\r\n\r\n\tisFont: true,\r\n\r\n\tgenerateShapes: function ( text, size ) {\r\n\r\n\t\tif ( size === undefined ) size = 100;\r\n\r\n\t\tvar shapes = [];\r\n\t\tvar paths = createPaths( text, size, this.data );\r\n\r\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\r\n\r\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\r\n\r\n\t\t}\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction createPaths( text, size, data ) {\r\n\r\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\r\n\tvar scale = size / data.resolution;\r\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\r\n\r\n\tvar paths = [];\r\n\r\n\tvar offsetX = 0, offsetY = 0;\r\n\r\n\tfor ( var i = 0; i < chars.length; i ++ ) {\r\n\r\n\t\tvar char = chars[ i ];\r\n\r\n\t\tif ( char === '\\n' ) {\r\n\r\n\t\t\toffsetX = 0;\r\n\t\t\toffsetY -= line_height;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\r\n\t\t\toffsetX += ret.offsetX;\r\n\t\t\tpaths.push( ret.path );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn paths;\r\n\r\n}\r\n\r\nfunction createPath( char, scale, offsetX, offsetY, data ) {\r\n\r\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\r\n\r\n\tif ( ! glyph ) {\r\n\r\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar path = new ShapePath();\r\n\r\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\r\n\r\n\tif ( glyph.o ) {\r\n\r\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\r\n\r\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\r\n\r\n\t\t\tvar action = outline[ i ++ ];\r\n\r\n\t\t\tswitch ( action ) {\r\n\r\n\t\t\t\tcase 'm': // moveTo\r\n\r\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.moveTo( x, y );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'l': // lineTo\r\n\r\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.lineTo( x, y );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'q': // quadraticCurveTo\r\n\r\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'b': // bezierCurveTo\r\n\r\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { offsetX: glyph.ha * scale, path: path };\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction FontLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: FontLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tvar json;\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tjson = JSON.parse( text );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\r\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar font = scope.parse( json );\r\n\r\n\t\t\tif ( onLoad ) onLoad( font );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\treturn new Font( json );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _context;\r\n\r\nvar AudioContext = {\r\n\r\n\tgetContext: function () {\r\n\r\n\t\tif ( _context === undefined ) {\r\n\r\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\r\n\r\n\t\t}\r\n\r\n\t\treturn _context;\r\n\r\n\t},\r\n\r\n\tsetContext: function ( value ) {\r\n\r\n\t\t_context = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\r\n */\r\n\r\nfunction AudioLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: AudioLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\r\n\t\t\t// detaches the buffer when complete, preventing reuse.\r\n\t\t\tvar bufferCopy = buffer.slice( 0 );\r\n\r\n\t\t\tvar context = AudioContext.getContext();\r\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\r\n\r\n\t\t\t\tonLoad( audioBuffer );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * Primary reference:\r\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\r\n *\r\n * Secondary reference:\r\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\r\n */\r\n\r\n// 3-band SH defined by 9 coefficients\r\n\r\nfunction SphericalHarmonics3() {\r\n\r\n\tthis.coefficients = [];\r\n\r\n\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\tthis.coefficients.push( new Vector3() );\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( SphericalHarmonics3.prototype, {\r\n\r\n\tisSphericalHarmonics3: true,\r\n\r\n\tset: function ( coefficients ) {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tzero: function () {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// get the radiance in the direction of the normal\r\n\t// target is a Vector3\r\n\tgetAt: function ( normal, target ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\tvar coeff = this.coefficients;\r\n\r\n\t\t// band 0\r\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\r\n\r\n\t\t// band 1\r\n\t\ttarget.addScale( coeff[ 1 ], 0.488603 * y );\r\n\t\ttarget.addScale( coeff[ 2 ], 0.488603 * z );\r\n\t\ttarget.addScale( coeff[ 3 ], 0.488603 * x );\r\n\r\n\t\t// band 2\r\n\t\ttarget.addScale( coeff[ 4 ], 1.092548 * ( x * y ) );\r\n\t\ttarget.addScale( coeff[ 5 ], 1.092548 * ( y * z ) );\r\n\t\ttarget.addScale( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\r\n\t\ttarget.addScale( coeff[ 7 ], 1.092548 * ( x * z ) );\r\n\t\ttarget.addScale( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\r\n\t// target is a Vector3\r\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\r\n\tgetIrradianceAt: function ( normal, target ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\tvar coeff = this.coefficients;\r\n\r\n\t\t// band 0\r\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\r\n\r\n\t\t// band 1\r\n\t\ttarget.addScale( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\r\n\t\ttarget.addScale( coeff[ 2 ], 2.0 * 0.511664 * z );\r\n\t\ttarget.addScale( coeff[ 3 ], 2.0 * 0.511664 * x );\r\n\r\n\t\t// band 2\r\n\t\ttarget.addScale( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\r\n\t\ttarget.addScale( coeff[ 5 ], 2.0 * 0.429043 * y * z );\r\n\t\ttarget.addScale( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\r\n\t\ttarget.addScale( coeff[ 7 ], 2.0 * 0.429043 * x * z );\r\n\t\ttarget.addScale( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tadd: function ( sh ) {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\tscale: function ( s ) {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerp: function ( sh, alpha ) {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( sh ) {\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tcopy: function ( sh ) {\r\n\r\n\t\treturn this.set( sh.coefficients );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar coefficients = this.coefficients;\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar coefficients = this.coefficients;\r\n\r\n\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( SphericalHarmonics3, {\r\n\r\n\t// evaluate the basis functions\r\n\t// shBasis is an Array[ 9 ]\r\n\tgetBasisAt: function ( normal, shBasis ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\t// band 0\r\n\t\tshBasis[ 0 ] = 0.282095;\r\n\r\n\t\t// band 1\r\n\t\tshBasis[ 1 ] = 0.488603 * y;\r\n\t\tshBasis[ 2 ] = 0.488603 * z;\r\n\t\tshBasis[ 3 ] = 0.488603 * x;\r\n\r\n\t\t// band 2\r\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\r\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\r\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\r\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\r\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * A LightProbe is a source of indirect-diffuse light\r\n */\r\n\r\nfunction LightProbe( sh, intensity ) {\r\n\r\n\tLight.call( this, undefined, intensity );\r\n\r\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\r\n\r\n}\r\n\r\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\r\n\r\n\tconstructor: LightProbe,\r\n\r\n\tisLightProbe: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.sh.copy( source.sh );\r\n\t\tthis.intensity = source.intensity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\r\n\r\n\t\t// data.sh = this.sh.toArray(); // todo\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\r\n\r\n\tLightProbe.call( this, undefined, intensity );\r\n\r\n\tvar color1 = new Color().set( skyColor );\r\n\tvar color2 = new Color().set( groundColor );\r\n\r\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\r\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\r\n\r\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\r\n\tvar c0 = Math.sqrt( Math.PI );\r\n\tvar c1 = c0 * Math.sqrt( 0.75 );\r\n\r\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\r\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\r\n\r\n}\r\n\r\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\r\n\r\n\tconstructor: HemisphereLightProbe,\r\n\r\n\tisHemisphereLightProbe: true,\r\n\r\n\tcopy: function ( source ) { // modifying colors not currently supported\r\n\r\n\t\tLightProbe.prototype.copy.call( this, source );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\r\n\r\n\t\t// data.sh = this.sh.toArray(); // todo\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction AmbientLightProbe( color, intensity ) {\r\n\r\n\tLightProbe.call( this, undefined, intensity );\r\n\r\n\tvar color1 = new Color().set( color );\r\n\r\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\r\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\r\n\r\n}\r\n\r\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\r\n\r\n\tconstructor: AmbientLightProbe,\r\n\r\n\tisAmbientLightProbe: true,\r\n\r\n\tcopy: function ( source ) { // modifying color not currently supported\r\n\r\n\t\tLightProbe.prototype.copy.call( this, source );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\r\n\r\n\t\t// data.sh = this.sh.toArray(); // todo\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar _eyeRight = new Matrix4();\r\nvar _eyeLeft = new Matrix4();\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction StereoCamera() {\r\n\r\n\tthis.type = 'StereoCamera';\r\n\r\n\tthis.aspect = 1;\r\n\r\n\tthis.eyeSep = 0.064;\r\n\r\n\tthis.cameraL = new PerspectiveCamera();\r\n\tthis.cameraL.layers.enable( 1 );\r\n\tthis.cameraL.matrixAutoUpdate = false;\r\n\r\n\tthis.cameraR = new PerspectiveCamera();\r\n\tthis.cameraR.layers.enable( 2 );\r\n\tthis.cameraR.matrixAutoUpdate = false;\r\n\r\n\tthis._cache = {\r\n\t\tfocus: null,\r\n\t\tfov: null,\r\n\t\taspect: null,\r\n\t\tnear: null,\r\n\t\tfar: null,\r\n\t\tzoom: null,\r\n\t\teyeSep: null\r\n\t};\r\n\r\n}\r\n\r\nObject.assign( StereoCamera.prototype, {\r\n\r\n\tupdate: function ( camera ) {\r\n\r\n\t\tvar cache = this._cache;\r\n\r\n\t\tvar needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\r\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\r\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\tcache.focus = camera.focus;\r\n\t\t\tcache.fov = camera.fov;\r\n\t\t\tcache.aspect = camera.aspect * this.aspect;\r\n\t\t\tcache.near = camera.near;\r\n\t\t\tcache.far = camera.far;\r\n\t\t\tcache.zoom = camera.zoom;\r\n\t\t\tcache.eyeSep = this.eyeSep;\r\n\r\n\t\t\t// Off-axis stereoscopic effect based on\r\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\r\n\r\n\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\r\n\t\t\tvar eyeSepHalf = cache.eyeSep / 2;\r\n\t\t\tvar eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\r\n\t\t\tvar ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\r\n\t\t\tvar xmin, xmax;\r\n\r\n\t\t\t// translate xOffset\r\n\r\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\r\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\r\n\r\n\t\t\t// for left eye\r\n\r\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\r\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\r\n\r\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\r\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t\t// for right eye\r\n\r\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\r\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\r\n\r\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\r\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\r\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction Clock( autoStart ) {\r\n\r\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\r\n\r\n\tthis.startTime = 0;\r\n\tthis.oldTime = 0;\r\n\tthis.elapsedTime = 0;\r\n\r\n\tthis.running = false;\r\n\r\n}\r\n\r\nObject.assign( Clock.prototype, {\r\n\r\n\tstart: function () {\r\n\r\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\r\n\r\n\t\tthis.oldTime = this.startTime;\r\n\t\tthis.elapsedTime = 0;\r\n\t\tthis.running = true;\r\n\r\n\t},\r\n\r\n\tstop: function () {\r\n\r\n\t\tthis.getElapsedTime();\r\n\t\tthis.running = false;\r\n\t\tthis.autoStart = false;\r\n\r\n\t},\r\n\r\n\tgetElapsedTime: function () {\r\n\r\n\t\tthis.getDelta();\r\n\t\treturn this.elapsedTime;\r\n\r\n\t},\r\n\r\n\tgetDelta: function () {\r\n\r\n\t\tvar diff = 0;\r\n\r\n\t\tif ( this.autoStart && ! this.running ) {\r\n\r\n\t\t\tthis.start();\r\n\t\t\treturn 0;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.running ) {\r\n\r\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\r\n\r\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\r\n\t\t\tthis.oldTime = newTime;\r\n\r\n\t\t\tthis.elapsedTime += diff;\r\n\r\n\t\t}\r\n\r\n\t\treturn diff;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _position$2 = new Vector3();\r\nvar _quaternion$3 = new Quaternion();\r\nvar _scale$1 = new Vector3();\r\nvar _orientation = new Vector3();\r\n\r\nfunction AudioListener() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'AudioListener';\r\n\r\n\tthis.context = AudioContext.getContext();\r\n\r\n\tthis.gain = this.context.createGain();\r\n\tthis.gain.connect( this.context.destination );\r\n\r\n\tthis.filter = null;\r\n\r\n\tthis.timeDelta = 0;\r\n\r\n\t// private\r\n\r\n\tthis._clock = new Clock();\r\n\r\n}\r\n\r\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: AudioListener,\r\n\r\n\tgetInput: function () {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t},\r\n\r\n\tremoveFilter: function ( ) {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\t\t\tthis.gain.connect( this.context.destination );\r\n\t\t\tthis.filter = null;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetFilter: function () {\r\n\r\n\t\treturn this.filter;\r\n\r\n\t},\r\n\r\n\tsetFilter: function ( value ) {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.gain.disconnect( this.context.destination );\r\n\r\n\t\t}\r\n\r\n\t\tthis.filter = value;\r\n\t\tthis.gain.connect( this.filter );\r\n\t\tthis.filter.connect( this.context.destination );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetMasterVolume: function () {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t},\r\n\r\n\tsetMasterVolume: function ( value ) {\r\n\r\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tvar listener = this.context.listener;\r\n\t\tvar up = this.up;\r\n\r\n\t\tthis.timeDelta = this._clock.getDelta();\r\n\r\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\r\n\r\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\r\n\r\n\t\tif ( listener.positionX ) {\r\n\r\n\t\t\t// code path for Chrome (see #14393)\r\n\r\n\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\r\n\r\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\r\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\r\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\r\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\r\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\r\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\r\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\r\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\r\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\r\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\r\n */\r\n\r\nfunction Audio( listener ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Audio';\r\n\r\n\tthis.listener = listener;\r\n\tthis.context = listener.context;\r\n\r\n\tthis.gain = this.context.createGain();\r\n\tthis.gain.connect( listener.getInput() );\r\n\r\n\tthis.autoplay = false;\r\n\r\n\tthis.buffer = null;\r\n\tthis.detune = 0;\r\n\tthis.loop = false;\r\n\tthis.loopStart = 0;\r\n\tthis.loopEnd = 0;\r\n\tthis.offset = 0;\r\n\tthis.duration = undefined;\r\n\tthis.playbackRate = 1;\r\n\tthis.isPlaying = false;\r\n\tthis.hasPlaybackControl = true;\r\n\tthis.sourceType = 'empty';\r\n\r\n\tthis._startedAt = 0;\r\n\tthis._pausedAt = 0;\r\n\r\n\tthis.filters = [];\r\n\r\n}\r\n\r\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Audio,\r\n\r\n\tgetOutput: function () {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t},\r\n\r\n\tsetNodeSource: function ( audioNode ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'audioNode';\r\n\t\tthis.source = audioNode;\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetMediaElementSource: function ( mediaElement ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'mediaNode';\r\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetMediaStreamSource: function ( mediaStream ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'mediaStreamNode';\r\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetBuffer: function ( audioBuffer ) {\r\n\r\n\t\tthis.buffer = audioBuffer;\r\n\t\tthis.sourceType = 'buffer';\r\n\r\n\t\tif ( this.autoplay ) this.play();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tplay: function ( delay ) {\r\n\r\n\t\tif ( delay === undefined ) delay = 0;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis._startedAt = this.context.currentTime + delay;\r\n\r\n\t\tvar source = this.context.createBufferSource();\r\n\t\tsource.buffer = this.buffer;\r\n\t\tsource.loop = this.loop;\r\n\t\tsource.loopStart = this.loopStart;\r\n\t\tsource.loopEnd = this.loopEnd;\r\n\t\tsource.onended = this.onEnded.bind( this );\r\n\t\tsource.start( this._startedAt, this._pausedAt + this.offset, this.duration );\r\n\r\n\t\tthis.isPlaying = true;\r\n\r\n\t\tthis.source = source;\r\n\r\n\t\tthis.setDetune( this.detune );\r\n\t\tthis.setPlaybackRate( this.playbackRate );\r\n\r\n\t\treturn this.connect();\r\n\r\n\t},\r\n\r\n\tpause: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis._pausedAt += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\r\n\r\n\t\t\tthis.source.stop();\r\n\t\t\tthis.source.onended = null;\r\n\r\n\t\t\tthis.isPlaying = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstop: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis._pausedAt = 0;\r\n\r\n\t\tthis.source.stop();\r\n\t\tthis.source.onended = null;\r\n\t\tthis.isPlaying = false;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconnect: function () {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.connect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.connect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdisconnect: function () {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.disconnect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetFilters: function () {\r\n\r\n\t\treturn this.filters;\r\n\r\n\t},\r\n\r\n\tsetFilters: function ( value ) {\r\n\r\n\t\tif ( ! value ) value = [];\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.disconnect();\r\n\t\t\tthis.filters = value;\r\n\t\t\tthis.connect();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.filters = value;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetDetune: function ( value ) {\r\n\r\n\t\tthis.detune = value;\r\n\r\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetDetune: function () {\r\n\r\n\t\treturn this.detune;\r\n\r\n\t},\r\n\r\n\tgetFilter: function () {\r\n\r\n\t\treturn this.getFilters()[ 0 ];\r\n\r\n\t},\r\n\r\n\tsetFilter: function ( filter ) {\r\n\r\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\r\n\r\n\t},\r\n\r\n\tsetPlaybackRate: function ( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.playbackRate = value;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetPlaybackRate: function () {\r\n\r\n\t\treturn this.playbackRate;\r\n\r\n\t},\r\n\r\n\tonEnded: function () {\r\n\r\n\t\tthis.isPlaying = false;\r\n\r\n\t},\r\n\r\n\tgetLoop: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loop;\r\n\r\n\t},\r\n\r\n\tsetLoop: function ( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.loop = value;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.loop = this.loop;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetLoopStart: function ( value ) {\r\n\r\n\t\tthis.loopStart = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetLoopEnd: function ( value ) {\r\n\r\n\t\tthis.loopEnd = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetVolume: function () {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t},\r\n\r\n\tsetVolume: function ( value ) {\r\n\r\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar _position$3 = new Vector3();\r\nvar _quaternion$4 = new Quaternion();\r\nvar _scale$2 = new Vector3();\r\nvar _orientation$1 = new Vector3();\r\n\r\nfunction PositionalAudio( listener ) {\r\n\r\n\tAudio.call( this, listener );\r\n\r\n\tthis.panner = this.context.createPanner();\r\n\tthis.panner.panningModel = 'HRTF';\r\n\tthis.panner.connect( this.gain );\r\n\r\n}\r\n\r\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\r\n\r\n\tconstructor: PositionalAudio,\r\n\r\n\tgetOutput: function () {\r\n\r\n\t\treturn this.panner;\r\n\r\n\t},\r\n\r\n\tgetRefDistance: function () {\r\n\r\n\t\treturn this.panner.refDistance;\r\n\r\n\t},\r\n\r\n\tsetRefDistance: function ( value ) {\r\n\r\n\t\tthis.panner.refDistance = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetRolloffFactor: function () {\r\n\r\n\t\treturn this.panner.rolloffFactor;\r\n\r\n\t},\r\n\r\n\tsetRolloffFactor: function ( value ) {\r\n\r\n\t\tthis.panner.rolloffFactor = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetDistanceModel: function () {\r\n\r\n\t\treturn this.panner.distanceModel;\r\n\r\n\t},\r\n\r\n\tsetDistanceModel: function ( value ) {\r\n\r\n\t\tthis.panner.distanceModel = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetMaxDistance: function () {\r\n\r\n\t\treturn this.panner.maxDistance;\r\n\r\n\t},\r\n\r\n\tsetMaxDistance: function ( value ) {\r\n\r\n\t\tthis.panner.maxDistance = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\r\n\r\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\r\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\r\n\t\tthis.panner.coneOuterGain = coneOuterGain;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\r\n\r\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\r\n\r\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\r\n\r\n\t\tvar panner = this.panner;\r\n\r\n\t\tif ( panner.positionX ) {\r\n\r\n\t\t\t// code path for Chrome and Firefox (see #14393)\r\n\r\n\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\r\n\r\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\r\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\r\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\r\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\r\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\r\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\r\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction AudioAnalyser( audio, fftSize ) {\r\n\r\n\tthis.analyser = audio.context.createAnalyser();\r\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\r\n\r\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\r\n\r\n\taudio.getOutput().connect( this.analyser );\r\n\r\n}\r\n\r\nObject.assign( AudioAnalyser.prototype, {\r\n\r\n\tgetFrequencyData: function () {\r\n\r\n\t\tthis.analyser.getByteFrequencyData( this.data );\r\n\r\n\t\treturn this.data;\r\n\r\n\t},\r\n\r\n\tgetAverageFrequency: function () {\r\n\r\n\t\tvar value = 0, data = this.getFrequencyData();\r\n\r\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\r\n\r\n\t\t\tvalue += data[ i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn value / data.length;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Buffered scene graph property that allows weighted accumulation.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction PropertyMixer( binding, typeName, valueSize ) {\r\n\r\n\tthis.binding = binding;\r\n\tthis.valueSize = valueSize;\r\n\r\n\tvar bufferType = Float64Array,\r\n\t\tmixFunction;\r\n\r\n\tswitch ( typeName ) {\r\n\r\n\t\tcase 'quaternion':\r\n\t\t\tmixFunction = this._slerp;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'string':\r\n\t\tcase 'bool':\r\n\t\t\tbufferType = Array;\r\n\t\t\tmixFunction = this._select;\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tmixFunction = this._lerp;\r\n\r\n\t}\r\n\r\n\tthis.buffer = new bufferType( valueSize * 4 );\r\n\t// layout: [ incoming | accu0 | accu1 | orig ]\r\n\t//\r\n\t// interpolators can use .buffer as their .result\r\n\t// the data then goes to 'incoming'\r\n\t//\r\n\t// 'accu0' and 'accu1' are used frame-interleaved for\r\n\t// the cumulative result and are compared to detect\r\n\t// changes\r\n\t//\r\n\t// 'orig' stores the original state of the property\r\n\r\n\tthis._mixBufferRegion = mixFunction;\r\n\r\n\tthis.cumulativeWeight = 0;\r\n\r\n\tthis.useCount = 0;\r\n\tthis.referenceCount = 0;\r\n\r\n}\r\n\r\nObject.assign( PropertyMixer.prototype, {\r\n\r\n\t// accumulate data in the 'incoming' region into 'accu<i>'\r\n\taccumulate: function ( accuIndex, weight ) {\r\n\r\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\r\n\t\t// the weight and shouldn't have made the call in the first place\r\n\r\n\t\tvar buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = accuIndex * stride + stride,\r\n\r\n\t\t\tcurrentWeight = this.cumulativeWeight;\r\n\r\n\t\tif ( currentWeight === 0 ) {\r\n\r\n\t\t\t// accuN := incoming * weight\r\n\r\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentWeight = weight;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// accuN := accuN + incoming * weight\r\n\r\n\t\t\tcurrentWeight += weight;\r\n\t\t\tvar mix = weight / currentWeight;\r\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cumulativeWeight = currentWeight;\r\n\r\n\t},\r\n\r\n\t// apply the state of 'accu<i>' to the binding when accus differ\r\n\tapply: function ( accuIndex ) {\r\n\r\n\t\tvar stride = this.valueSize,\r\n\t\t\tbuffer = this.buffer,\r\n\t\t\toffset = accuIndex * stride + stride,\r\n\r\n\t\t\tweight = this.cumulativeWeight,\r\n\r\n\t\t\tbinding = this.binding;\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\r\n\t\tif ( weight < 1 ) {\r\n\r\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\r\n\r\n\t\t\tvar originalValueOffset = stride * 3;\r\n\r\n\t\t\tthis._mixBufferRegion(\r\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\r\n\r\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\r\n\r\n\t\t\t\t// value has changed -> update scene graph\r\n\r\n\t\t\t\tbinding.setValue( buffer, offset );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// remember the state of the bound property and copy it to both accus\r\n\tsaveOriginalState: function () {\r\n\r\n\t\tvar binding = this.binding;\r\n\r\n\t\tvar buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toriginalValueOffset = stride * 3;\r\n\r\n\t\tbinding.getValue( buffer, originalValueOffset );\r\n\r\n\t\t// accu[0..1] := orig -- initially detect changes against the original\r\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\r\n\r\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\r\n\r\n\t\t}\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\r\n\t},\r\n\r\n\t// apply the state previously taken via 'saveOriginalState' to the binding\r\n\trestoreOriginalState: function () {\r\n\r\n\t\tvar originalValueOffset = this.valueSize * 3;\r\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\r\n\r\n\t},\r\n\r\n\r\n\t// mix functions\r\n\r\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tif ( t >= 0.5 ) {\r\n\r\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\r\n\r\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\r\n\r\n\t},\r\n\r\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tvar s = 1 - t;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tvar j = dstOffset + i;\r\n\r\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A reference to a real property in the scene graph.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\n// Characters [].:/ are reserved for track binding syntax.\r\nvar _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\r\nvar _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\r\n\r\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\r\n// only latin characters, and the unicode \\p{L} is not yet supported. So\r\n// instead, we exclude reserved characters and match everything else.\r\nvar _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\r\nvar _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\r\n\r\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\r\n// be matched to parse the rest of the track name.\r\nvar _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\r\n\r\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\r\nvar _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\r\n\r\n// Object on target node, and accessor. May not contain reserved\r\n// characters. Accessor may contain any character except closing bracket.\r\nvar _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\r\n\r\n// Property and accessor. May not contain reserved characters. Accessor may\r\n// contain any non-bracket characters.\r\nvar _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\r\n\r\nvar _trackRe = new RegExp( ''\r\n\t+ '^'\r\n\t+ _directoryRe\r\n\t+ _nodeRe\r\n\t+ _objectRe\r\n\t+ _propertyRe\r\n\t+ '$'\r\n);\r\n\r\nvar _supportedObjectNames = [ 'material', 'materials', 'bones' ];\r\n\r\nfunction Composite( targetGroup, path, optionalParsedPath ) {\r\n\r\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\r\n\r\n\tthis._targetGroup = targetGroup;\r\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\r\n\r\n}\r\n\r\nObject.assign( Composite.prototype, {\r\n\r\n\tgetValue: function ( array, offset ) {\r\n\r\n\t\tthis.bind(); // bind all binding\r\n\r\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\r\n\t\t\tbinding = this._bindings[ firstValidIndex ];\r\n\r\n\t\t// and only call .getValue on the first\r\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\r\n\r\n\t},\r\n\r\n\tsetValue: function ( array, offset ) {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].setValue( array, offset );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tbind: function () {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].bind();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tunbind: function () {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].unbind();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nfunction PropertyBinding( rootNode, path, parsedPath ) {\r\n\r\n\tthis.path = path;\r\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\r\n\r\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\r\n\r\n\tthis.rootNode = rootNode;\r\n\r\n}\r\n\r\nObject.assign( PropertyBinding, {\r\n\r\n\tComposite: Composite,\r\n\r\n\tcreate: function ( root, path, parsedPath ) {\r\n\r\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\r\n\r\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Replaces spaces with underscores and removes unsupported characters from\r\n\t * node names, to ensure compatibility with parseTrackName().\r\n\t *\r\n\t * @param {string} name Node name to be sanitized.\r\n\t * @return {string}\r\n\t */\r\n\tsanitizeNodeName: function ( name ) {\r\n\r\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\r\n\r\n\t},\r\n\r\n\tparseTrackName: function ( trackName ) {\r\n\r\n\t\tvar matches = _trackRe.exec( trackName );\r\n\r\n\t\tif ( ! matches ) {\r\n\r\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\r\n\r\n\t\t}\r\n\r\n\t\tvar results = {\r\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\r\n\t\t\tnodeName: matches[ 2 ],\r\n\t\t\tobjectName: matches[ 3 ],\r\n\t\t\tobjectIndex: matches[ 4 ],\r\n\t\t\tpropertyName: matches[ 5 ], // required\r\n\t\t\tpropertyIndex: matches[ 6 ]\r\n\t\t};\r\n\r\n\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\r\n\r\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\r\n\r\n\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\r\n\r\n\t\t\t// Object names must be checked against a whitelist. Otherwise, there\r\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\r\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\r\n\t\t\t// include '.' characters).\r\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\r\n\r\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\r\n\t\t\t\tresults.objectName = objectName;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\r\n\r\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\r\n\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\r\n\t},\r\n\r\n\tfindNode: function ( root, nodeName ) {\r\n\r\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\r\n\r\n\t\t\treturn root;\r\n\r\n\t\t}\r\n\r\n\t\t// search into skeleton bones.\r\n\t\tif ( root.skeleton ) {\r\n\r\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\r\n\r\n\t\t\tif ( bone !== undefined ) {\r\n\r\n\t\t\t\treturn bone;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// search into node subtree.\r\n\t\tif ( root.children ) {\r\n\r\n\t\t\tvar searchNodeSubtree = function ( children ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\t\tvar childNode = children[ i ];\r\n\r\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\r\n\r\n\t\t\t\t\t\treturn childNode;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\r\n\r\n\t\t\t\t\tif ( result ) return result;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\r\n\r\n\t\t\tif ( subTreeNode ) {\r\n\r\n\t\t\t\treturn subTreeNode;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( PropertyBinding.prototype, { // prototype, continued\r\n\r\n\t// these are used to \"bind\" a nonexistent property\r\n\t_getValue_unavailable: function () {},\r\n\t_setValue_unavailable: function () {},\r\n\r\n\tBindingType: {\r\n\t\tDirect: 0,\r\n\t\tEntireArray: 1,\r\n\t\tArrayElement: 2,\r\n\t\tHasFromToArray: 3\r\n\t},\r\n\r\n\tVersioning: {\r\n\t\tNone: 0,\r\n\t\tNeedsUpdate: 1,\r\n\t\tMatrixWorldNeedsUpdate: 2\r\n\t},\r\n\r\n\tGetterByBindingType: [\r\n\r\n\t\tfunction getValue_direct( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_array( buffer, offset ) {\r\n\r\n\t\t\tvar source = this.resolvedProperty;\r\n\r\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_toArray( buffer, offset ) {\r\n\r\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\r\n\r\n\t\t}\r\n\r\n\t],\r\n\r\n\tSetterByBindingTypeAndVersioning: [\r\n\r\n\t\t[\r\n\t\t\t// Direct\r\n\r\n\t\t\tfunction setValue_direct( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// EntireArray\r\n\r\n\t\t\tfunction setValue_array( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// ArrayElement\r\n\r\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// HasToFromArray\r\n\r\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t]\r\n\r\n\t],\r\n\r\n\tgetValue: function getValue_unbound( targetArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.getValue( targetArray, offset );\r\n\r\n\t\t// Note: This class uses a State pattern on a per-method basis:\r\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\r\n\t\t// prototype version of these methods with one that represents\r\n\t\t// the bound state. When the property is not found, the methods\r\n\t\t// become no-ops.\r\n\r\n\t},\r\n\r\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.setValue( sourceArray, offset );\r\n\r\n\t},\r\n\r\n\t// create getter / setter pair for a property in the scene graph\r\n\tbind: function () {\r\n\r\n\t\tvar targetObject = this.node,\r\n\t\t\tparsedPath = this.parsedPath,\r\n\r\n\t\t\tobjectName = parsedPath.objectName,\r\n\t\t\tpropertyName = parsedPath.propertyName,\r\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\r\n\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\r\n\r\n\t\t\tthis.node = targetObject;\r\n\r\n\t\t}\r\n\r\n\t\t// set fail state so we can just 'return' on error\r\n\t\tthis.getValue = this._getValue_unavailable;\r\n\t\tthis.setValue = this._setValue_unavailable;\r\n\r\n\t\t// ensure there is a value node\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( objectName ) {\r\n\r\n\t\t\tvar objectIndex = parsedPath.objectIndex;\r\n\r\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\r\n\t\t\tswitch ( objectName ) {\r\n\r\n\t\t\t\tcase 'materials':\r\n\r\n\t\t\t\t\tif ( ! targetObject.material ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject.material.materials;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bones':\r\n\r\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\r\n\t\t\t\t\t// and convert the integer string to a true integer.\r\n\r\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\r\n\r\n\t\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\r\n\r\n\t\t\t\t\t\t\tobjectIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( objectIndex !== undefined ) {\r\n\r\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// resolve property\r\n\t\tvar nodeProperty = targetObject[ propertyName ];\r\n\r\n\t\tif ( nodeProperty === undefined ) {\r\n\r\n\t\t\tvar nodeName = parsedPath.nodeName;\r\n\r\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\r\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// determine versioning scheme\r\n\t\tvar versioning = this.Versioning.None;\r\n\r\n\t\tthis.targetObject = targetObject;\r\n\r\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\r\n\r\n\t\t\tversioning = this.Versioning.NeedsUpdate;\r\n\r\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\r\n\r\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\r\n\r\n\t\t}\r\n\r\n\t\t// determine how the property gets bound\r\n\t\tvar bindingType = this.BindingType.Direct;\r\n\r\n\t\tif ( propertyIndex !== undefined ) {\r\n\r\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\r\n\r\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\r\n\r\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\r\n\r\n\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\tif ( ! targetObject.geometry ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\r\n\r\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\r\n\r\n\t\t\t\t\t\t\tpropertyIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\r\n\r\n\t\t\t\t\t\t\tpropertyIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbindingType = this.BindingType.ArrayElement;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\t\t\tthis.propertyIndex = propertyIndex;\r\n\r\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\r\n\r\n\t\t\t// must use copy for Object3D.Euler/Quaternion\r\n\r\n\t\t\tbindingType = this.BindingType.HasFromToArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\r\n\r\n\t\t\tbindingType = this.BindingType.EntireArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.propertyName = propertyName;\r\n\r\n\t\t}\r\n\r\n\t\t// select getter / setter\r\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\r\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\r\n\r\n\t},\r\n\r\n\tunbind: function () {\r\n\r\n\t\tthis.node = null;\r\n\r\n\t\t// back to the prototype version of getValue / setValue\r\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\r\n\t\tthis.getValue = this._getValue_unbound;\r\n\t\tthis.setValue = this._setValue_unbound;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//!\\ DECLARE ALIAS AFTER assign prototype !\r\nObject.assign( PropertyBinding.prototype, {\r\n\r\n\t// initial state of these methods that calls 'bind'\r\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\r\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A group of objects that receives a shared animation state.\r\n *\r\n * Usage:\r\n *\r\n *  - Add objects you would otherwise pass as 'root' to the\r\n *    constructor or the .clipAction method of AnimationMixer.\r\n *\r\n *  - Instead pass this object as 'root'.\r\n *\r\n *  - You can also add and remove objects later when the mixer\r\n *    is running.\r\n *\r\n * Note:\r\n *\r\n *    Objects of this class appear as one object to the mixer,\r\n *    so cache control of the individual objects must be done\r\n *    on the group.\r\n *\r\n * Limitation:\r\n *\r\n *  - The animated properties must be compatible among the\r\n *    all objects in the group.\r\n *\r\n *  - A single property can either be controlled through a\r\n *    target group or directly, but not both.\r\n *\r\n * @author tschw\r\n */\r\n\r\nfunction AnimationObjectGroup() {\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t// cached objects followed by the active ones\r\n\tthis._objects = Array.prototype.slice.call( arguments );\r\n\r\n\tthis.nCachedObjects_ = 0; // threshold\r\n\t// note: read by PropertyBinding.Composite\r\n\r\n\tvar indices = {};\r\n\tthis._indicesByUUID = indices; // for bookkeeping\r\n\r\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\tindices[ arguments[ i ].uuid ] = i;\r\n\r\n\t}\r\n\r\n\tthis._paths = []; // inside: string\r\n\tthis._parsedPaths = []; // inside: { we don't care, here }\r\n\tthis._bindings = []; // inside: Array< PropertyBinding >\r\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\r\n\r\n\tvar scope = this;\r\n\r\n\tthis.stats = {\r\n\r\n\t\tobjects: {\r\n\t\t\tget total() {\r\n\r\n\t\t\t\treturn scope._objects.length;\r\n\r\n\t\t\t},\r\n\t\t\tget inUse() {\r\n\r\n\t\t\t\treturn this.total - scope.nCachedObjects_;\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tget bindingsPerObject() {\r\n\r\n\t\t\treturn scope._bindings.length;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\nObject.assign( AnimationObjectGroup.prototype, {\r\n\r\n\tisAnimationObjectGroup: true,\r\n\r\n\tadd: function () {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tpaths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length,\r\n\t\t\tknownObject = undefined;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index === undefined ) {\r\n\r\n\t\t\t\t// unknown object -> add it to the ACTIVE region\r\n\r\n\t\t\t\tindex = nObjects ++;\r\n\t\t\t\tindicesByUUID[ uuid ] = index;\r\n\t\t\t\tobjects.push( object );\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( index < nCachedObjects ) {\r\n\r\n\t\t\t\tknownObject = objects[ index ];\r\n\r\n\t\t\t\t// move existing object to the ACTIVE region\r\n\r\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\r\n\t\t\t\tobjects[ firstActiveIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\r\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\r\n\t\t\t\t\tif ( binding === undefined ) {\r\n\r\n\t\t\t\t\t\t// since we do not bother to create new bindings\r\n\t\t\t\t\t\t// for objects that are cached, the binding may\r\n\t\t\t\t\t\t// or may not exist\r\n\r\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\r\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\r\n\r\n\t\t\t} // else the object is already where we want it to be\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\tremove: function () {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\r\n\r\n\t\t\t\t// move existing object into the CACHED region\r\n\r\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\r\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = firstActiveObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\r\n\t\t\t\tobjects[ lastCachedIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\r\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\r\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\t// remove & forget\r\n\tuncache: function () {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined ) {\r\n\r\n\t\t\t\tdelete indicesByUUID[ uuid ];\r\n\r\n\t\t\t\tif ( index < nCachedObjects ) {\r\n\r\n\t\t\t\t\t// object is cached, shrink the CACHED region\r\n\r\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\r\n\t\t\t\t\t\tlastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\t// last cached object takes this object's place\r\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\t\t// last object goes to the activated slot and pop\r\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\r\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\r\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// object is active, just swap with the last and pop\r\n\r\n\t\t\t\t\tvar lastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\r\n\t\t\t\t\tobjects[ index ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // cached or active\r\n\r\n\t\t\t} // if object is known\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\t// Internal interface used by befriended PropertyBinding.Composite:\r\n\r\n\tsubscribe_: function ( path, parsedPath ) {\r\n\r\n\t\t// returns an array of bindings for the given path that is changed\r\n\t\t// according to the contained objects in the group\r\n\r\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\r\n\t\t\tindex = indicesByPath[ path ],\r\n\t\t\tbindings = this._bindings;\r\n\r\n\t\tif ( index !== undefined ) return bindings[ index ];\r\n\r\n\t\tvar paths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tobjects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tbindingsForPath = new Array( nObjects );\r\n\r\n\t\tindex = bindings.length;\r\n\r\n\t\tindicesByPath[ path ] = index;\r\n\r\n\t\tpaths.push( path );\r\n\t\tparsedPaths.push( parsedPath );\r\n\t\tbindings.push( bindingsForPath );\r\n\r\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = objects[ i ];\r\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\r\n\r\n\t\t}\r\n\r\n\t\treturn bindingsForPath;\r\n\r\n\t},\r\n\r\n\tunsubscribe_: function ( path ) {\r\n\r\n\t\t// tells the group to forget about a property path and no longer\r\n\t\t// update the array previously obtained with 'subscribe_'\r\n\r\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\r\n\t\t\tindex = indicesByPath[ path ];\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tvar paths = this._paths,\r\n\t\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\t\tbindings = this._bindings,\r\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\r\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\r\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\r\n\r\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\r\n\r\n\t\t\tbindings[ index ] = lastBindings;\r\n\t\t\tbindings.pop();\r\n\r\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\r\n\t\t\tparsedPaths.pop();\r\n\r\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\r\n\t\t\tpaths.pop();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Action provided by AnimationMixer for scheduling clip playback on specific\r\n * objects.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n *\r\n */\r\n\r\nfunction AnimationAction( mixer, clip, localRoot ) {\r\n\r\n\tthis._mixer = mixer;\r\n\tthis._clip = clip;\r\n\tthis._localRoot = localRoot || null;\r\n\r\n\tvar tracks = clip.tracks,\r\n\t\tnTracks = tracks.length,\r\n\t\tinterpolants = new Array( nTracks );\r\n\r\n\tvar interpolantSettings = {\r\n\t\tendingStart: ZeroCurvatureEnding,\r\n\t\tendingEnd: ZeroCurvatureEnding\r\n\t};\r\n\r\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\r\n\t\tinterpolants[ i ] = interpolant;\r\n\t\tinterpolant.settings = interpolantSettings;\r\n\r\n\t}\r\n\r\n\tthis._interpolantSettings = interpolantSettings;\r\n\r\n\tthis._interpolants = interpolants; // bound by the mixer\r\n\r\n\t// inside: PropertyMixer (managed by the mixer)\r\n\tthis._propertyBindings = new Array( nTracks );\r\n\r\n\tthis._cacheIndex = null; // for the memory manager\r\n\tthis._byClipCacheIndex = null; // for the memory manager\r\n\r\n\tthis._timeScaleInterpolant = null;\r\n\tthis._weightInterpolant = null;\r\n\r\n\tthis.loop = LoopRepeat;\r\n\tthis._loopCount = - 1;\r\n\r\n\t// global mixer time when the action is to be started\r\n\t// it's set back to 'null' upon start of the action\r\n\tthis._startTime = null;\r\n\r\n\t// scaled local time of the action\r\n\t// gets clamped or wrapped to 0..clip.duration according to loop\r\n\tthis.time = 0;\r\n\r\n\tthis.timeScale = 1;\r\n\tthis._effectiveTimeScale = 1;\r\n\r\n\tthis.weight = 1;\r\n\tthis._effectiveWeight = 1;\r\n\r\n\tthis.repetitions = Infinity; // no. of repetitions when looping\r\n\r\n\tthis.paused = false; // true -> zero effective time scale\r\n\tthis.enabled = true; // false -> zero effective weight\r\n\r\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\r\n\r\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\r\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\r\n\r\n}\r\n\r\nObject.assign( AnimationAction.prototype, {\r\n\r\n\t// State & Scheduling\r\n\r\n\tplay: function () {\r\n\r\n\t\tthis._mixer._activateAction( this );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstop: function () {\r\n\r\n\t\tthis._mixer._deactivateAction( this );\r\n\r\n\t\treturn this.reset();\r\n\r\n\t},\r\n\r\n\treset: function () {\r\n\r\n\t\tthis.paused = false;\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.time = 0; // restart clip\r\n\t\tthis._loopCount = - 1;// forget previous loops\r\n\t\tthis._startTime = null;// forget scheduling\r\n\r\n\t\treturn this.stopFading().stopWarping();\r\n\r\n\t},\r\n\r\n\tisRunning: function () {\r\n\r\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\r\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\r\n\r\n\t},\r\n\r\n\t// return true when play has been called\r\n\tisScheduled: function () {\r\n\r\n\t\treturn this._mixer._isActiveAction( this );\r\n\r\n\t},\r\n\r\n\tstartAt: function ( time ) {\r\n\r\n\t\tthis._startTime = time;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetLoop: function ( mode, repetitions ) {\r\n\r\n\t\tthis.loop = mode;\r\n\t\tthis.repetitions = repetitions;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Weight\r\n\r\n\t// set the weight stopping any scheduled fading\r\n\t// although .enabled = false yields an effective weight of zero, this\r\n\t// method does *not* change .enabled, because it would be confusing\r\n\tsetEffectiveWeight: function ( weight ) {\r\n\r\n\t\tthis.weight = weight;\r\n\r\n\t\t// note: same logic as when updated at runtime\r\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\r\n\r\n\t\treturn this.stopFading();\r\n\r\n\t},\r\n\r\n\t// return the weight considering fading and .enabled\r\n\tgetEffectiveWeight: function () {\r\n\r\n\t\treturn this._effectiveWeight;\r\n\r\n\t},\r\n\r\n\tfadeIn: function ( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 0, 1 );\r\n\r\n\t},\r\n\r\n\tfadeOut: function ( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 1, 0 );\r\n\r\n\t},\r\n\r\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\r\n\r\n\t\tfadeOutAction.fadeOut( duration );\r\n\t\tthis.fadeIn( duration );\r\n\r\n\t\tif ( warp ) {\r\n\r\n\t\t\tvar fadeInDuration = this._clip.duration,\r\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\r\n\r\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\r\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\r\n\r\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\r\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\r\n\r\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\r\n\r\n\t},\r\n\r\n\tstopFading: function () {\r\n\r\n\t\tvar weightInterpolant = this._weightInterpolant;\r\n\r\n\t\tif ( weightInterpolant !== null ) {\r\n\r\n\t\t\tthis._weightInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Time Scale Control\r\n\r\n\t// set the time scale stopping any scheduled warping\r\n\t// although .paused = true yields an effective time scale of zero, this\r\n\t// method does *not* change .paused, because it would be confusing\r\n\tsetEffectiveTimeScale: function ( timeScale ) {\r\n\r\n\t\tthis.timeScale = timeScale;\r\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\t// return the time scale considering warping and .paused\r\n\tgetEffectiveTimeScale: function () {\r\n\r\n\t\treturn this._effectiveTimeScale;\r\n\r\n\t},\r\n\r\n\tsetDuration: function ( duration ) {\r\n\r\n\t\tthis.timeScale = this._clip.duration / duration;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\tsyncWith: function ( action ) {\r\n\r\n\t\tthis.time = action.time;\r\n\t\tthis.timeScale = action.timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\thalt: function ( duration ) {\r\n\r\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\r\n\r\n\t},\r\n\r\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\r\n\r\n\t\tvar mixer = this._mixer, now = mixer.time,\r\n\t\t\tinterpolant = this._timeScaleInterpolant,\r\n\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant();\r\n\t\t\tthis._timeScaleInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now;\r\n\t\ttimes[ 1 ] = now + duration;\r\n\r\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\r\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstopWarping: function () {\r\n\r\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\r\n\r\n\t\tif ( timeScaleInterpolant !== null ) {\r\n\r\n\t\t\tthis._timeScaleInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Object Accessors\r\n\r\n\tgetMixer: function () {\r\n\r\n\t\treturn this._mixer;\r\n\r\n\t},\r\n\r\n\tgetClip: function () {\r\n\r\n\t\treturn this._clip;\r\n\r\n\t},\r\n\r\n\tgetRoot: function () {\r\n\r\n\t\treturn this._localRoot || this._mixer._root;\r\n\r\n\t},\r\n\r\n\t// Interna\r\n\r\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\r\n\r\n\t\t// called by the mixer\r\n\r\n\t\tif ( ! this.enabled ) {\r\n\r\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\r\n\r\n\t\t\tthis._updateWeight( time );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar startTime = this._startTime;\r\n\r\n\t\tif ( startTime !== null ) {\r\n\r\n\t\t\t// check for scheduled start of action\r\n\r\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\r\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\r\n\r\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// start\r\n\r\n\t\t\tthis._startTime = null; // unschedule\r\n\t\t\tdeltaTime = timeDirection * timeRunning;\r\n\r\n\t\t}\r\n\r\n\t\t// apply time scale and advance time\r\n\r\n\t\tdeltaTime *= this._updateTimeScale( time );\r\n\t\tvar clipTime = this._updateTime( deltaTime );\r\n\r\n\t\t// note: _updateTime may disable the action resulting in\r\n\t\t// an effective weight of 0\r\n\r\n\t\tvar weight = this._updateWeight( time );\r\n\r\n\t\tif ( weight > 0 ) {\r\n\r\n\t\t\tvar interpolants = this._interpolants;\r\n\t\t\tvar propertyMixers = this._propertyBindings;\r\n\r\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\r\n\r\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\r\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_updateWeight: function ( time ) {\r\n\r\n\t\tvar weight = 0;\r\n\r\n\t\tif ( this.enabled ) {\r\n\r\n\t\t\tweight = this.weight;\r\n\t\t\tvar interpolant = this._weightInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\tweight *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopFading();\r\n\r\n\t\t\t\t\tif ( interpolantValue === 0 ) {\r\n\r\n\t\t\t\t\t\t// faded out, disable\r\n\t\t\t\t\t\tthis.enabled = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveWeight = weight;\r\n\t\treturn weight;\r\n\r\n\t},\r\n\r\n\t_updateTimeScale: function ( time ) {\r\n\r\n\t\tvar timeScale = 0;\r\n\r\n\t\tif ( ! this.paused ) {\r\n\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\t\tvar interpolant = this._timeScaleInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\ttimeScale *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopWarping();\r\n\r\n\t\t\t\t\tif ( timeScale === 0 ) {\r\n\r\n\t\t\t\t\t\t// motion has halted, pause\r\n\t\t\t\t\t\tthis.paused = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// warp done - apply final time scale\r\n\t\t\t\t\t\tthis.timeScale = timeScale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveTimeScale = timeScale;\r\n\t\treturn timeScale;\r\n\r\n\t},\r\n\r\n\t_updateTime: function ( deltaTime ) {\r\n\r\n\t\tvar time = this.time + deltaTime;\r\n\t\tvar duration = this._clip.duration;\r\n\t\tvar loop = this.loop;\r\n\t\tvar loopCount = this._loopCount;\r\n\r\n\t\tvar pingPong = ( loop === LoopPingPong );\r\n\r\n\t\tif ( deltaTime === 0 ) {\r\n\r\n\t\t\tif ( loopCount === - 1 ) return time;\r\n\r\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\r\n\r\n\t\t}\r\n\r\n\t\tif ( loop === LoopOnce ) {\r\n\r\n\t\t\tif ( loopCount === - 1 ) {\r\n\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tthis._loopCount = 0;\r\n\t\t\t\tthis._setEndings( true, true, false );\r\n\r\n\t\t\t}\r\n\r\n\t\t\thandle_stop: {\r\n\r\n\t\t\t\tif ( time >= duration ) {\r\n\r\n\t\t\t\t\ttime = duration;\r\n\r\n\t\t\t\t} else if ( time < 0 ) {\r\n\r\n\t\t\t\t\ttime = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tbreak handle_stop;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else { // repetitive Repeat or PingPong\r\n\r\n\t\t\tif ( loopCount === - 1 ) {\r\n\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tif ( deltaTime >= 0 ) {\r\n\r\n\t\t\t\t\tloopCount = 0;\r\n\r\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// when looping in reverse direction, the initial\r\n\t\t\t\t\t// transition through zero counts as a repetition,\r\n\t\t\t\t\t// so leave loopCount at -1\r\n\r\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( time >= duration || time < 0 ) {\r\n\r\n\t\t\t\t// wrap around\r\n\r\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\r\n\t\t\t\ttime -= duration * loopDelta;\r\n\r\n\t\t\t\tloopCount += Math.abs( loopDelta );\r\n\r\n\t\t\t\tvar pending = this.repetitions - loopCount;\r\n\r\n\t\t\t\tif ( pending <= 0 ) {\r\n\r\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\r\n\r\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// keep running\r\n\r\n\t\t\t\t\tif ( pending === 1 ) {\r\n\r\n\t\t\t\t\t\t// entering the last round\r\n\r\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\r\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._loopCount = loopCount;\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.time = time;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\r\n\r\n\t\t\t\t// invert time for the \"pong round\"\r\n\r\n\t\t\t\treturn duration - time;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn time;\r\n\r\n\t},\r\n\r\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\r\n\r\n\t\tvar settings = this._interpolantSettings;\r\n\r\n\t\tif ( pingPong ) {\r\n\r\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\r\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\r\n\r\n\t\t\tif ( atStart ) {\r\n\r\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( atEnd ) {\r\n\r\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\r\n\r\n\t\tvar mixer = this._mixer, now = mixer.time,\r\n\t\t\tinterpolant = this._weightInterpolant;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant();\r\n\t\t\tthis._weightInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now;\r\n\t\tvalues[ 0 ] = weightNow;\r\n\t\ttimes[ 1 ] = now + duration;\r\n\t\tvalues[ 1 ] = weightThen;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Player for AnimationClips.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nfunction AnimationMixer( root ) {\r\n\r\n\tthis._root = root;\r\n\tthis._initMemoryManager();\r\n\tthis._accuIndex = 0;\r\n\r\n\tthis.time = 0;\r\n\r\n\tthis.timeScale = 1.0;\r\n\r\n}\r\n\r\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: AnimationMixer,\r\n\r\n\t_bindAction: function ( action, prototypeAction ) {\r\n\r\n\t\tvar root = action._localRoot || this._root,\r\n\t\t\ttracks = action._clip.tracks,\r\n\t\t\tnTracks = tracks.length,\r\n\t\t\tbindings = action._propertyBindings,\r\n\t\t\tinterpolants = action._interpolants,\r\n\t\t\trootUuid = root.uuid,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingsByName === undefined ) {\r\n\r\n\t\t\tbindingsByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\t\tvar track = tracks[ i ],\r\n\t\t\t\ttrackName = track.name,\r\n\t\t\t\tbinding = bindingsByName[ trackName ];\r\n\r\n\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbinding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\t\t// existing binding, make sure the cache knows\r\n\r\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\r\n\r\n\t\t\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar path = prototypeAction && prototypeAction.\r\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\r\n\r\n\t\t\t\tbinding = new PropertyMixer(\r\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\r\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\r\n\r\n\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_activateAction: function ( action ) {\r\n\r\n\t\tif ( ! this._isActiveAction( action ) ) {\r\n\r\n\t\t\tif ( action._cacheIndex === null ) {\r\n\r\n\t\t\t\t// this action has been forgotten by the cache, but the user\r\n\t\t\t\t// appears to be still using it -> rebind\r\n\r\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\r\n\t\t\t\t\tclipUuid = action._clip.uuid,\r\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\t\t\tthis._bindAction( action,\r\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\r\n\r\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar bindings = action._propertyBindings;\r\n\r\n\t\t\t// increment reference counts / sort out state\r\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\r\n\r\n\t\t\t\t\tthis._lendBinding( binding );\r\n\t\t\t\t\tbinding.saveOriginalState();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._lendAction( action );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_deactivateAction: function ( action ) {\r\n\r\n\t\tif ( this._isActiveAction( action ) ) {\r\n\r\n\t\t\tvar bindings = action._propertyBindings;\r\n\r\n\t\t\t// decrement reference counts / sort out state\r\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( -- binding.useCount === 0 ) {\r\n\r\n\t\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\t\tthis._takeBackBinding( binding );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._takeBackAction( action );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// Memory manager\r\n\r\n\t_initMemoryManager: function () {\r\n\r\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\r\n\t\tthis._nActiveActions = 0;\r\n\r\n\t\tthis._actionsByClip = {};\r\n\t\t// inside:\r\n\t\t// {\r\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\r\n\t\t// \tactionByRoot: AnimationAction - lookup\r\n\t\t// }\r\n\r\n\r\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\r\n\t\tthis._nActiveBindings = 0;\r\n\r\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\r\n\r\n\r\n\t\tthis._controlInterpolants = []; // same game as above\r\n\t\tthis._nActiveControlInterpolants = 0;\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tthis.stats = {\r\n\r\n\t\t\tactions: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._actions.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveActions;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindings: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._bindings.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveBindings;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcontrolInterpolants: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._controlInterpolants.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\r\n\t// Memory management for AnimationAction objects\r\n\r\n\t_isActiveAction: function ( action ) {\r\n\r\n\t\tvar index = action._cacheIndex;\r\n\t\treturn index !== null && index < this._nActiveActions;\r\n\r\n\t},\r\n\r\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip === undefined ) {\r\n\r\n\t\t\tactionsForClip = {\r\n\r\n\t\t\t\tknownActions: [ action ],\r\n\t\t\t\tactionByRoot: {}\r\n\r\n\t\t\t};\r\n\r\n\t\t\taction._byClipCacheIndex = 0;\r\n\r\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar knownActions = actionsForClip.knownActions;\r\n\r\n\t\t\taction._byClipCacheIndex = knownActions.length;\r\n\t\t\tknownActions.push( action );\r\n\r\n\t\t}\r\n\r\n\t\taction._cacheIndex = actions.length;\r\n\t\tactions.push( action );\r\n\r\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\r\n\r\n\t},\r\n\r\n\t_removeInactiveAction: function ( action ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\r\n\t\t\tcacheIndex = action._cacheIndex;\r\n\r\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\tactions.pop();\r\n\r\n\t\taction._cacheIndex = null;\r\n\r\n\r\n\t\tvar clipUuid = action._clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\r\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\r\n\r\n\t\t\tlastKnownAction =\r\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\r\n\r\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\r\n\r\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\r\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\r\n\t\tknownActionsForClip.pop();\r\n\r\n\t\taction._byClipCacheIndex = null;\r\n\r\n\r\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\r\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\r\n\r\n\t\tdelete actionByRoot[ rootUuid ];\r\n\r\n\t\tif ( knownActionsForClip.length === 0 ) {\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t},\r\n\r\n\t_removeInactiveBindingsForAction: function ( action ) {\r\n\r\n\t\tvar bindings = action._propertyBindings;\r\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\tif ( -- binding.referenceCount === 0 ) {\r\n\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_lendAction: function ( action ) {\r\n\r\n\t\t// [ active actions |  inactive actions  ]\r\n\t\t// [  active actions >| inactive actions ]\r\n\t\t//                 s        a\r\n\t\t//                  <-swap->\r\n\t\t//                 a        s\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveActions ++,\r\n\r\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\r\n\r\n\t\taction._cacheIndex = lastActiveIndex;\r\n\t\tactions[ lastActiveIndex ] = action;\r\n\r\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = firstInactiveAction;\r\n\r\n\t},\r\n\r\n\t_takeBackAction: function ( action ) {\r\n\r\n\t\t// [  active actions  | inactive actions ]\r\n\t\t// [ active actions |< inactive actions  ]\r\n\t\t//        a        s\r\n\t\t//         <-swap->\r\n\t\t//        s        a\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\r\n\r\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\r\n\r\n\t\taction._cacheIndex = firstInactiveIndex;\r\n\t\tactions[ firstInactiveIndex ] = action;\r\n\r\n\t\tlastActiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = lastActiveAction;\r\n\r\n\t},\r\n\r\n\t// Memory management for PropertyMixer objects\r\n\r\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\r\n\r\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\r\n\r\n\t\t\tbindings = this._bindings;\r\n\r\n\t\tif ( bindingByName === undefined ) {\r\n\r\n\t\t\tbindingByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\r\n\r\n\t\t}\r\n\r\n\t\tbindingByName[ trackName ] = binding;\r\n\r\n\t\tbinding._cacheIndex = bindings.length;\r\n\t\tbindings.push( binding );\r\n\r\n\t},\r\n\r\n\t_removeInactiveBinding: function ( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tpropBinding = binding.binding,\r\n\t\t\trootUuid = propBinding.rootNode.uuid,\r\n\t\t\ttrackName = propBinding.path,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\r\n\r\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\r\n\t\t\tcacheIndex = binding._cacheIndex;\r\n\r\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\r\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\r\n\t\tbindings.pop();\r\n\r\n\t\tdelete bindingByName[ trackName ];\r\n\r\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\r\n\r\n\t\t\tdelete bindingsByRoot[ rootUuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_lendBinding: function ( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\r\n\r\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = lastActiveIndex;\r\n\t\tbindings[ lastActiveIndex ] = binding;\r\n\r\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\r\n\r\n\t},\r\n\r\n\t_takeBackBinding: function ( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\r\n\r\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = firstInactiveIndex;\r\n\t\tbindings[ firstInactiveIndex ] = binding;\r\n\r\n\t\tlastActiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = lastActiveBinding;\r\n\r\n\t},\r\n\r\n\r\n\t// Memory management of Interpolants for weight and time scale\r\n\r\n\t_lendControlInterpolant: function () {\r\n\r\n\t\tvar interpolants = this._controlInterpolants,\r\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\r\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\r\n\r\n\t\tif ( interpolant === undefined ) {\r\n\r\n\t\t\tinterpolant = new LinearInterpolant(\r\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\r\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\r\n\r\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\r\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\treturn interpolant;\r\n\r\n\t},\r\n\r\n\t_takeBackControlInterpolant: function ( interpolant ) {\r\n\r\n\t\tvar interpolants = this._controlInterpolants,\r\n\t\t\tprevIndex = interpolant.__cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\r\n\r\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\r\n\r\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\r\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\r\n\r\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\r\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\r\n\r\n\t},\r\n\r\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\r\n\r\n\t// return an action for a clip optionally using a custom root target\r\n\t// object (this method allocates a lot of dynamic memory in case a\r\n\t// previously unknown clip/root combination is specified)\r\n\tclipAction: function ( clip, optionalRoot ) {\r\n\r\n\t\tvar root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid,\r\n\r\n\t\t\tclipObject = typeof clip === 'string' ?\r\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\r\n\r\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\r\n\r\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\r\n\t\t\tprototypeAction = null;\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\tvar existingAction =\r\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( existingAction !== undefined ) {\r\n\r\n\t\t\t\treturn existingAction;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// we know the clip, so we don't have to parse all\r\n\t\t\t// the bindings again but can just copy\r\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\r\n\r\n\t\t\t// also, take the clip from the prototype action\r\n\t\t\tif ( clipObject === null )\r\n\t\t\t\tclipObject = prototypeAction._clip;\r\n\r\n\t\t}\r\n\r\n\t\t// clip must be known when specified via string\r\n\t\tif ( clipObject === null ) return null;\r\n\r\n\t\t// allocate all resources required to run it\r\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\r\n\r\n\t\tthis._bindAction( newAction, prototypeAction );\r\n\r\n\t\t// and make the action known to the memory manager\r\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\r\n\r\n\t\treturn newAction;\r\n\r\n\t},\r\n\r\n\t// get an existing action\r\n\texistingAction: function ( clip, optionalRoot ) {\r\n\r\n\t\tvar root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid,\r\n\r\n\t\t\tclipObject = typeof clip === 'string' ?\r\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\r\n\r\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\r\n\r\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\t// deactivates all previously scheduled actions\r\n\tstopAllAction: function () {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = this._nActiveBindings;\r\n\r\n\t\tthis._nActiveActions = 0;\r\n\t\tthis._nActiveBindings = 0;\r\n\r\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\r\n\r\n\t\t\tactions[ i ].reset();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].useCount = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// advance the time and update apply the animation\r\n\tupdate: function ( deltaTime ) {\r\n\r\n\t\tdeltaTime *= this.timeScale;\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions,\r\n\r\n\t\t\ttime = this.time += deltaTime,\r\n\t\t\ttimeDirection = Math.sign( deltaTime ),\r\n\r\n\t\t\taccuIndex = this._accuIndex ^= 1;\r\n\r\n\t\t// run active actions\r\n\r\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\r\n\r\n\t\t\tvar action = actions[ i ];\r\n\r\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tnBindings = this._nActiveBindings;\r\n\r\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].apply( accuIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Allows you to seek to a specific time in an animation.\r\n\tsetTime: function ( timeInSeconds ) {\r\n\r\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\r\n\t\tfor ( var i = 0; i < this._actions.length; i ++ ) {\r\n\r\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\r\n\r\n\t\t}\r\n\r\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\r\n\r\n\t},\r\n\r\n\t// return this mixer's root target object\r\n\tgetRoot: function () {\r\n\r\n\t\treturn this._root;\r\n\r\n\t},\r\n\r\n\t// free all resources specific to a particular clip\r\n\tuncacheClip: function ( clip ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tclipUuid = clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\t// note: just calling _removeInactiveAction would mess up the\r\n\t\t\t// iteration state and also require updating the state we can\r\n\t\t\t// just throw away\r\n\r\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\r\n\r\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar action = actionsToRemove[ i ];\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\r\n\t\t\t\tvar cacheIndex = action._cacheIndex,\r\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\r\n\r\n\t\t\t\taction._cacheIndex = null;\r\n\t\t\t\taction._byClipCacheIndex = null;\r\n\r\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\t\t\tactions.pop();\r\n\r\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// free all resources specific to a particular root target object\r\n\tuncacheRoot: function ( root ) {\r\n\r\n\t\tvar rootUuid = root.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip;\r\n\r\n\t\tfor ( var clipUuid in actionsByClip ) {\r\n\r\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\r\n\t\t\t\taction = actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( action !== undefined ) {\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\t\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingByName !== undefined ) {\r\n\r\n\t\t\tfor ( var trackName in bindingByName ) {\r\n\r\n\t\t\t\tvar binding = bindingByName[ trackName ];\r\n\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// remove a targeted clip from the cache\r\n\tuncacheAction: function ( clip, optionalRoot ) {\r\n\r\n\t\tvar action = this.existingAction( clip, optionalRoot );\r\n\r\n\t\tif ( action !== null ) {\r\n\r\n\t\t\tthis._deactivateAction( action );\r\n\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Uniform( value ) {\r\n\r\n\tif ( typeof value === 'string' ) {\r\n\r\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\r\n\t\tvalue = arguments[ 1 ];\r\n\r\n\t}\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nUniform.prototype.clone = function () {\r\n\r\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\r\n\r\n};\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\r\n\r\n\tInterleavedBuffer.call( this, array, stride );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n}\r\n\r\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\r\n\r\n\tconstructor: InstancedInterleavedBuffer,\r\n\r\n\tisInstancedInterleavedBuffer: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\r\n\r\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author bhouston / http://clara.io/\r\n * @author stephomi / http://stephaneginier.com/\r\n */\r\n\r\nfunction Raycaster( origin, direction, near, far ) {\r\n\r\n\tthis.ray = new Ray( origin, direction );\r\n\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\tthis.near = near || 0;\r\n\tthis.far = far || Infinity;\r\n\tthis.camera = null;\r\n\tthis.layers = new Layers();\r\n\r\n\tthis.params = {\r\n\t\tMesh: {},\r\n\t\tLine: { threshold: 1 },\r\n\t\tLOD: {},\r\n\t\tPoints: { threshold: 1 },\r\n\t\tSprite: {}\r\n\t};\r\n\r\n\tObject.defineProperties( this.params, {\r\n\t\tPointCloud: {\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\r\n\t\t\t\treturn this.Points;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n}\r\n\r\nfunction ascSort( a, b ) {\r\n\r\n\treturn a.distance - b.distance;\r\n\r\n}\r\n\r\nfunction intersectObject( object, raycaster, intersects, recursive ) {\r\n\r\n\tif ( object.layers.test( raycaster.layers ) ) {\r\n\r\n\t\tobject.raycast( raycaster, intersects );\r\n\r\n\t}\r\n\r\n\tif ( recursive === true ) {\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( Raycaster.prototype, {\r\n\r\n\tset: function ( origin, direction ) {\r\n\r\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\t\tthis.ray.set( origin, direction );\r\n\r\n\t},\r\n\r\n\tsetFromCamera: function ( coords, camera ) {\r\n\r\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\r\n\r\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\r\n\t\t\tthis.camera = camera;\r\n\r\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\r\n\r\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\r\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\r\n\t\t\tthis.camera = camera;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tintersectObject: function ( object, recursive, optionalTarget ) {\r\n\r\n\t\tvar intersects = optionalTarget || [];\r\n\r\n\t\tintersectObject( object, this, intersects, recursive );\r\n\r\n\t\tintersects.sort( ascSort );\r\n\r\n\t\treturn intersects;\r\n\r\n\t},\r\n\r\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\r\n\r\n\t\tvar intersects = optionalTarget || [];\r\n\r\n\t\tif ( Array.isArray( objects ) === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\r\n\t\t\treturn intersects;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\r\n\r\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\r\n\r\n\t\t}\r\n\r\n\t\tintersects.sort( ascSort );\r\n\r\n\t\treturn intersects;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\r\n *\r\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\r\n * The azimuthal angle (theta) is measured from the positive z-axis.\r\n */\r\n\r\nfunction Spherical( radius, phi, theta ) {\r\n\r\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\r\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\r\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\r\n\r\n\treturn this;\r\n\r\n}\r\n\r\nObject.assign( Spherical.prototype, {\r\n\r\n\tset: function ( radius, phi, theta ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.phi = phi;\r\n\t\tthis.theta = theta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( other ) {\r\n\r\n\t\tthis.radius = other.radius;\r\n\t\tthis.phi = other.phi;\r\n\t\tthis.theta = other.theta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// restrict phi to be betwee EPS and PI-EPS\r\n\tmakeSafe: function () {\r\n\r\n\t\tvar EPS = 0.000001;\r\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromVector3: function ( v ) {\r\n\r\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\r\n\r\n\t},\r\n\r\n\tsetFromCartesianCoords: function ( x, y, z ) {\r\n\r\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\r\n\r\n\t\tif ( this.radius === 0 ) {\r\n\r\n\t\t\tthis.theta = 0;\r\n\t\t\tthis.phi = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.theta = Math.atan2( x, z );\r\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\r\n *\r\n */\r\n\r\nfunction Cylindrical( radius, theta, y ) {\r\n\r\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\r\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\r\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\r\n\r\n\treturn this;\r\n\r\n}\r\n\r\nObject.assign( Cylindrical.prototype, {\r\n\r\n\tset: function ( radius, theta, y ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.theta = theta;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( other ) {\r\n\r\n\t\tthis.radius = other.radius;\r\n\t\tthis.theta = other.theta;\r\n\t\tthis.y = other.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromVector3: function ( v ) {\r\n\r\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\r\n\r\n\t},\r\n\r\n\tsetFromCartesianCoords: function ( x, y, z ) {\r\n\r\n\t\tthis.radius = Math.sqrt( x * x + z * z );\r\n\t\tthis.theta = Math.atan2( x, z );\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _vector$7 = new Vector2();\r\n\r\nfunction Box2( min, max ) {\r\n\r\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\r\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\r\n\r\n}\r\n\r\nObject.assign( Box2.prototype, {\r\n\r\n\tset: function ( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCenterAndSize: function ( center, size ) {\r\n\r\n\t\tvar halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\r\n\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeEmpty: function () {\r\n\r\n\t\tthis.min.x = this.min.y = + Infinity;\r\n\t\tthis.max.x = this.max.y = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tisEmpty: function () {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\r\n\r\n\t},\r\n\r\n\tgetCenter: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tgetSize: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\r\n\r\n\t},\r\n\r\n\texpandByPoint: function ( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByVector: function ( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByScalar: function ( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\r\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\r\n\r\n\t},\r\n\r\n\tcontainsBox: function ( box ) {\r\n\r\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\r\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\r\n\r\n\t},\r\n\r\n\tgetParameter: function ( point, target ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\t// using 4 splitting planes to rule out intersections\r\n\r\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( point ).clamp( this.min, this.max );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\tvar clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\r\n\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t},\r\n\r\n\tintersect: function ( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tunion: function ( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nvar _startP = new Vector3();\r\nvar _startEnd = new Vector3();\r\n\r\nfunction Line3( start, end ) {\r\n\r\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\r\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\r\n\r\n}\r\n\r\nObject.assign( Line3.prototype, {\r\n\r\n\tset: function ( start, end ) {\r\n\r\n\t\tthis.start.copy( start );\r\n\t\tthis.end.copy( end );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( line ) {\r\n\r\n\t\tthis.start.copy( line.start );\r\n\t\tthis.end.copy( line.end );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetCenter: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tdelta: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.subVectors( this.end, this.start );\r\n\r\n\t},\r\n\r\n\tdistanceSq: function () {\r\n\r\n\t\treturn this.start.distanceToSquared( this.end );\r\n\r\n\t},\r\n\r\n\tdistance: function () {\r\n\r\n\t\treturn this.start.distanceTo( this.end );\r\n\r\n\t},\r\n\r\n\tat: function ( t, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\r\n\r\n\t},\r\n\r\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\r\n\r\n\t\t_startP.subVectors( point, this.start );\r\n\t\t_startEnd.subVectors( this.end, this.start );\r\n\r\n\t\tvar startEnd2 = _startEnd.dot( _startEnd );\r\n\t\tvar startEnd_startP = _startEnd.dot( _startP );\r\n\r\n\t\tvar t = startEnd_startP / startEnd2;\r\n\r\n\t\tif ( clampToLine ) {\r\n\r\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\r\n\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\r\n\t},\r\n\r\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\r\n\r\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tthis.start.applyMatrix4( matrix );\r\n\t\tthis.end.applyMatrix4( matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( line ) {\r\n\r\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nfunction ImmediateRenderObject( material ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.material = material;\r\n\tthis.render = function ( /* renderCallback */ ) {};\r\n\r\n}\r\n\r\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\r\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\r\n\r\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nvar _vector$8 = new Vector3();\r\n\r\nfunction SpotLightHelper( light, color ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.color = color;\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\r\n\tvar positions = [\r\n\t\t0, 0, 0, \t0, 0, 1,\r\n\t\t0, 0, 0, \t1, 0, 1,\r\n\t\t0, 0, 0,\t- 1, 0, 1,\r\n\t\t0, 0, 0, \t0, 1, 1,\r\n\t\t0, 0, 0, \t0, - 1, 1\r\n\t];\r\n\r\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\r\n\r\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\r\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\r\n\r\n\t\tpositions.push(\r\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\r\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { fog: false } );\r\n\r\n\tthis.cone = new LineSegments( geometry, material );\r\n\tthis.add( this.cone );\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\r\nSpotLightHelper.prototype.constructor = SpotLightHelper;\r\n\r\nSpotLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.cone.geometry.dispose();\r\n\tthis.cone.material.dispose();\r\n\r\n};\r\n\r\nSpotLightHelper.prototype.update = function () {\r\n\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tvar coneLength = this.light.distance ? this.light.distance : 1000;\r\n\tvar coneWidth = coneLength * Math.tan( this.light.angle );\r\n\r\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\r\n\r\n\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\r\n\tthis.cone.lookAt( _vector$8 );\r\n\r\n\tif ( this.color !== undefined ) {\r\n\r\n\t\tthis.cone.material.color.set( this.color );\r\n\r\n\t} else {\r\n\r\n\t\tthis.cone.material.color.copy( this.light.color );\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * @author Sean Griffin / http://twitter.com/sgrif\r\n * @author Michael Guerrero / http://realitymeltdown.com\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author ikerr / http://verold.com\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nvar _vector$9 = new Vector3();\r\nvar _boneMatrix = new Matrix4();\r\nvar _matrixWorldInv = new Matrix4();\r\n\r\nfunction getBoneList( object ) {\r\n\r\n\tvar boneList = [];\r\n\r\n\tif ( object && object.isBone ) {\r\n\r\n\t\tboneList.push( object );\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\r\n\r\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\r\n\r\n\t}\r\n\r\n\treturn boneList;\r\n\r\n}\r\n\r\nfunction SkeletonHelper( object ) {\r\n\r\n\tvar bones = getBoneList( object );\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\r\n\tvar vertices = [];\r\n\tvar colors = [];\r\n\r\n\tvar color1 = new Color( 0, 0, 1 );\r\n\tvar color2 = new Color( 0, 1, 0 );\r\n\r\n\tfor ( var i = 0; i < bones.length; i ++ ) {\r\n\r\n\t\tvar bone = bones[ i ];\r\n\r\n\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\r\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, transparent: true } );\r\n\r\n\tLineSegments.call( this, geometry, material );\r\n\r\n\tthis.root = object;\r\n\tthis.bones = bones;\r\n\r\n\tthis.matrix = object.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n}\r\n\r\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\r\nSkeletonHelper.prototype.constructor = SkeletonHelper;\r\n\r\nSkeletonHelper.prototype.isSkeletonHelper = true;\r\n\r\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\r\n\r\n\tvar bones = this.bones;\r\n\r\n\tvar geometry = this.geometry;\r\n\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\r\n\r\n\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\r\n\r\n\t\tvar bone = bones[ i ];\r\n\r\n\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\r\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\r\n\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\r\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\r\n\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t\tj += 2;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\r\n\r\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction PointLightHelper( light, sphereSize, color ) {\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.color = color;\r\n\r\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\r\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\r\n\r\n\tMesh.call( this, geometry, material );\r\n\r\n\tthis.matrix = this.light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.update();\r\n\r\n\r\n\t/*\r\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\r\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\r\n\r\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\r\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\r\n\r\n\tvar d = light.distance;\r\n\r\n\tif ( d === 0.0 ) {\r\n\r\n\t\tthis.lightDistance.visible = false;\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t}\r\n\r\n\tthis.add( this.lightDistance );\r\n\t*/\r\n\r\n}\r\n\r\nPointLightHelper.prototype = Object.create( Mesh.prototype );\r\nPointLightHelper.prototype.constructor = PointLightHelper;\r\n\r\nPointLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.geometry.dispose();\r\n\tthis.material.dispose();\r\n\r\n};\r\n\r\nPointLightHelper.prototype.update = function () {\r\n\r\n\tif ( this.color !== undefined ) {\r\n\r\n\t\tthis.material.color.set( this.color );\r\n\r\n\t} else {\r\n\r\n\t\tthis.material.color.copy( this.light.color );\r\n\r\n\t}\r\n\r\n\t/*\r\n\tvar d = this.light.distance;\r\n\r\n\tif ( d === 0.0 ) {\r\n\r\n\t\tthis.lightDistance.visible = false;\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightDistance.visible = true;\r\n\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t}\r\n\t*/\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nvar _vector$a = new Vector3();\r\nvar _color1 = new Color();\r\nvar _color2 = new Color();\r\n\r\nfunction HemisphereLightHelper( light, size, color ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.color = color;\r\n\r\n\tvar geometry = new OctahedronBufferGeometry( size );\r\n\tgeometry.rotateY( Math.PI * 0.5 );\r\n\r\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\r\n\tif ( this.color === undefined ) this.material.vertexColors = true;\r\n\r\n\tvar position = geometry.getAttribute( 'position' );\r\n\tvar colors = new Float32Array( position.count * 3 );\r\n\r\n\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\r\n\r\n\tthis.add( new Mesh( geometry, this.material ) );\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\r\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\r\n\r\nHemisphereLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.children[ 0 ].geometry.dispose();\r\n\tthis.children[ 0 ].material.dispose();\r\n\r\n};\r\n\r\nHemisphereLightHelper.prototype.update = function () {\r\n\r\n\tvar mesh = this.children[ 0 ];\r\n\r\n\tif ( this.color !== undefined ) {\r\n\r\n\t\tthis.material.color.set( this.color );\r\n\r\n\t} else {\r\n\r\n\t\tvar colors = mesh.geometry.getAttribute( 'color' );\r\n\r\n\t\t_color1.copy( this.light.color );\r\n\t\t_color2.copy( this.light.groundColor );\r\n\r\n\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\r\n\r\n\t\t\tvar color = ( i < ( l / 2 ) ) ? _color1 : _color2;\r\n\r\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\r\n\r\n\t\t}\r\n\r\n\t\tcolors.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\r\n\r\n};\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction GridHelper( size, divisions, color1, color2 ) {\r\n\r\n\tsize = size || 10;\r\n\tdivisions = divisions || 10;\r\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\r\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\r\n\r\n\tvar center = divisions / 2;\r\n\tvar step = size / divisions;\r\n\tvar halfSize = size / 2;\r\n\r\n\tvar vertices = [], colors = [];\r\n\r\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\r\n\r\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\r\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\r\n\r\n\t\tvar color = i === center ? color1 : color2;\r\n\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\r\n\t}\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\r\n\r\n\tLineSegments.call( this, geometry, material );\r\n\r\n}\r\n\r\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\r\n\r\n\tconstructor: GridHelper,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tLineSegments.prototype.copy.call( this, source );\r\n\r\n\t\tthis.geometry.copy( source.geometry );\r\n\t\tthis.material.copy( source.material );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / http://github.com/Mugen87\r\n * @author Hectate / http://www.github.com/Hectate\r\n */\r\n\r\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\r\n\r\n\tradius = radius || 10;\r\n\tradials = radials || 16;\r\n\tcircles = circles || 8;\r\n\tdivisions = divisions || 64;\r\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\r\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\r\n\r\n\tvar vertices = [];\r\n\tvar colors = [];\r\n\r\n\tvar x, z;\r\n\tvar v, i, j, r, color;\r\n\r\n\t// create the radials\r\n\r\n\tfor ( i = 0; i <= radials; i ++ ) {\r\n\r\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\r\n\r\n\t\tx = Math.sin( v ) * radius;\r\n\t\tz = Math.cos( v ) * radius;\r\n\r\n\t\tvertices.push( 0, 0, 0 );\r\n\t\tvertices.push( x, 0, z );\r\n\r\n\t\tcolor = ( i & 1 ) ? color1 : color2;\r\n\r\n\t\tcolors.push( color.r, color.g, color.b );\r\n\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t}\r\n\r\n\t// create the circles\r\n\r\n\tfor ( i = 0; i <= circles; i ++ ) {\r\n\r\n\t\tcolor = ( i & 1 ) ? color1 : color2;\r\n\r\n\t\tr = radius - ( radius / circles * i );\r\n\r\n\t\tfor ( j = 0; j < divisions; j ++ ) {\r\n\r\n\t\t\t// first vertex\r\n\r\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\r\n\r\n\t\t\tx = Math.sin( v ) * r;\r\n\t\t\tz = Math.cos( v ) * r;\r\n\r\n\t\t\tvertices.push( x, 0, z );\r\n\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t\t// second vertex\r\n\r\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\r\n\r\n\t\t\tx = Math.sin( v ) * r;\r\n\t\t\tz = Math.cos( v ) * r;\r\n\r\n\t\t\tvertices.push( x, 0, z );\r\n\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\r\n\r\n\tLineSegments.call( this, geometry, material );\r\n\r\n}\r\n\r\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\r\nPolarGridHelper.prototype.constructor = PolarGridHelper;\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nvar _v1$5 = new Vector3();\r\nvar _v2$3 = new Vector3();\r\nvar _v3$1 = new Vector3();\r\n\r\nfunction DirectionalLightHelper( light, size, color ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.color = color;\r\n\r\n\tif ( size === undefined ) size = 1;\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\r\n\t\t- size, size, 0,\r\n\t\tsize, size, 0,\r\n\t\tsize, - size, 0,\r\n\t\t- size, - size, 0,\r\n\t\t- size, size, 0\r\n\t], 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { fog: false } );\r\n\r\n\tthis.lightPlane = new Line( geometry, material );\r\n\tthis.add( this.lightPlane );\r\n\r\n\tgeometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\r\n\r\n\tthis.targetLine = new Line( geometry, material );\r\n\tthis.add( this.targetLine );\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\r\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\r\n\r\nDirectionalLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.lightPlane.geometry.dispose();\r\n\tthis.lightPlane.material.dispose();\r\n\tthis.targetLine.geometry.dispose();\r\n\tthis.targetLine.material.dispose();\r\n\r\n};\r\n\r\nDirectionalLightHelper.prototype.update = function () {\r\n\r\n\t_v1$5.setFromMatrixPosition( this.light.matrixWorld );\r\n\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\t_v3$1.subVectors( _v2$3, _v1$5 );\r\n\r\n\tthis.lightPlane.lookAt( _v2$3 );\r\n\r\n\tif ( this.color !== undefined ) {\r\n\r\n\t\tthis.lightPlane.material.color.set( this.color );\r\n\t\tthis.targetLine.material.color.set( this.color );\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightPlane.material.color.copy( this.light.color );\r\n\t\tthis.targetLine.material.color.copy( this.light.color );\r\n\r\n\t}\r\n\r\n\tthis.targetLine.lookAt( _v2$3 );\r\n\tthis.targetLine.scale.z = _v3$1.length();\r\n\r\n};\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n *\t- shows frustum, line of sight and up of the camera\r\n *\t- suitable for fast updates\r\n * \t- based on frustum visualization in lightgl.js shadowmap example\r\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\r\n */\r\n\r\nvar _vector$b = new Vector3();\r\nvar _camera = new Camera();\r\n\r\nfunction CameraHelper( camera ) {\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true } );\r\n\r\n\tvar vertices = [];\r\n\tvar colors = [];\r\n\r\n\tvar pointMap = {};\r\n\r\n\t// colors\r\n\r\n\tvar colorFrustum = new Color( 0xffaa00 );\r\n\tvar colorCone = new Color( 0xff0000 );\r\n\tvar colorUp = new Color( 0x00aaff );\r\n\tvar colorTarget = new Color( 0xffffff );\r\n\tvar colorCross = new Color( 0x333333 );\r\n\r\n\t// near\r\n\r\n\taddLine( 'n1', 'n2', colorFrustum );\r\n\taddLine( 'n2', 'n4', colorFrustum );\r\n\taddLine( 'n4', 'n3', colorFrustum );\r\n\taddLine( 'n3', 'n1', colorFrustum );\r\n\r\n\t// far\r\n\r\n\taddLine( 'f1', 'f2', colorFrustum );\r\n\taddLine( 'f2', 'f4', colorFrustum );\r\n\taddLine( 'f4', 'f3', colorFrustum );\r\n\taddLine( 'f3', 'f1', colorFrustum );\r\n\r\n\t// sides\r\n\r\n\taddLine( 'n1', 'f1', colorFrustum );\r\n\taddLine( 'n2', 'f2', colorFrustum );\r\n\taddLine( 'n3', 'f3', colorFrustum );\r\n\taddLine( 'n4', 'f4', colorFrustum );\r\n\r\n\t// cone\r\n\r\n\taddLine( 'p', 'n1', colorCone );\r\n\taddLine( 'p', 'n2', colorCone );\r\n\taddLine( 'p', 'n3', colorCone );\r\n\taddLine( 'p', 'n4', colorCone );\r\n\r\n\t// up\r\n\r\n\taddLine( 'u1', 'u2', colorUp );\r\n\taddLine( 'u2', 'u3', colorUp );\r\n\taddLine( 'u3', 'u1', colorUp );\r\n\r\n\t// target\r\n\r\n\taddLine( 'c', 't', colorTarget );\r\n\taddLine( 'p', 'c', colorCross );\r\n\r\n\t// cross\r\n\r\n\taddLine( 'cn1', 'cn2', colorCross );\r\n\taddLine( 'cn3', 'cn4', colorCross );\r\n\r\n\taddLine( 'cf1', 'cf2', colorCross );\r\n\taddLine( 'cf3', 'cf4', colorCross );\r\n\r\n\tfunction addLine( a, b, color ) {\r\n\r\n\t\taddPoint( a, color );\r\n\t\taddPoint( b, color );\r\n\r\n\t}\r\n\r\n\tfunction addPoint( id, color ) {\r\n\r\n\t\tvertices.push( 0, 0, 0 );\r\n\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\tif ( pointMap[ id ] === undefined ) {\r\n\r\n\t\t\tpointMap[ id ] = [];\r\n\r\n\t\t}\r\n\r\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\r\n\r\n\t}\r\n\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\tLineSegments.call( this, geometry, material );\r\n\r\n\tthis.camera = camera;\r\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\r\n\r\n\tthis.matrix = camera.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.pointMap = pointMap;\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nCameraHelper.prototype = Object.create( LineSegments.prototype );\r\nCameraHelper.prototype.constructor = CameraHelper;\r\n\r\nCameraHelper.prototype.update = function () {\r\n\r\n\tvar geometry = this.geometry;\r\n\tvar pointMap = this.pointMap;\r\n\r\n\tvar w = 1, h = 1;\r\n\r\n\t// we need just camera projection matrix inverse\r\n\t// world matrix must be identity\r\n\r\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\r\n\r\n\t// center / target\r\n\r\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\r\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\r\n\r\n\t// near\r\n\r\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\r\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\r\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\r\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\r\n\r\n\t// far\r\n\r\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\r\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\r\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\r\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\r\n\r\n\t// up\r\n\r\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\r\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\r\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\r\n\r\n\t// cross\r\n\r\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\r\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\r\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\r\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\r\n\r\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\r\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\r\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\r\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\r\n\r\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\r\n\r\n};\r\n\r\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\r\n\r\n\t_vector$b.set( x, y, z ).unproject( camera );\r\n\r\n\tvar points = pointMap[ point ];\r\n\r\n\tif ( points !== undefined ) {\r\n\r\n\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / http://github.com/Mugen87\r\n */\r\n\r\nvar _box$3 = new Box3();\r\n\r\nfunction BoxHelper( object, color ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tif ( color === undefined ) color = 0xffff00;\r\n\r\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\r\n\tvar positions = new Float32Array( 8 * 3 );\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\r\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\r\n\r\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\r\n\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nBoxHelper.prototype = Object.create( LineSegments.prototype );\r\nBoxHelper.prototype.constructor = BoxHelper;\r\n\r\nBoxHelper.prototype.update = function ( object ) {\r\n\r\n\tif ( object !== undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\r\n\r\n\t}\r\n\r\n\tif ( this.object !== undefined ) {\r\n\r\n\t\t_box$3.setFromObject( this.object );\r\n\r\n\t}\r\n\r\n\tif ( _box$3.isEmpty() ) return;\r\n\r\n\tvar min = _box$3.min;\r\n\tvar max = _box$3.max;\r\n\r\n\t/*\r\n\t  5____4\r\n\t1/___0/|\r\n\t| 6__|_7\r\n\t2/___3/\r\n\r\n\t0: max.x, max.y, max.z\r\n\t1: min.x, max.y, max.z\r\n\t2: min.x, min.y, max.z\r\n\t3: max.x, min.y, max.z\r\n\t4: max.x, max.y, min.z\r\n\t5: min.x, max.y, min.z\r\n\t6: min.x, min.y, min.z\r\n\t7: max.x, min.y, min.z\r\n\t*/\r\n\r\n\tvar position = this.geometry.attributes.position;\r\n\tvar array = position.array;\r\n\r\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\r\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\r\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\r\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\r\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\r\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\r\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\r\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\r\n\r\n\tposition.needsUpdate = true;\r\n\r\n\tthis.geometry.computeBoundingSphere();\r\n\r\n\r\n};\r\n\r\nBoxHelper.prototype.setFromObject = function ( object ) {\r\n\r\n\tthis.object = object;\r\n\tthis.update();\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoxHelper.prototype.copy = function ( source ) {\r\n\r\n\tLineSegments.prototype.copy.call( this, source );\r\n\r\n\tthis.object = source.object;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoxHelper.prototype.clone = function () {\r\n\r\n\treturn new this.constructor().copy( this );\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction Box3Helper( box, color ) {\r\n\r\n\tthis.type = 'Box3Helper';\r\n\r\n\tthis.box = box;\r\n\r\n\tcolor = color || 0xffff00;\r\n\r\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\r\n\r\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\r\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\r\n\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\r\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\r\n\r\n\tthis.geometry.computeBoundingSphere();\r\n\r\n}\r\n\r\nBox3Helper.prototype = Object.create( LineSegments.prototype );\r\nBox3Helper.prototype.constructor = Box3Helper;\r\n\r\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\r\n\r\n\tvar box = this.box;\r\n\r\n\tif ( box.isEmpty() ) return;\r\n\r\n\tbox.getCenter( this.position );\r\n\r\n\tbox.getSize( this.scale );\r\n\r\n\tthis.scale.multiplyScalar( 0.5 );\r\n\r\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nfunction PlaneHelper( plane, size, hex ) {\r\n\r\n\tthis.type = 'PlaneHelper';\r\n\r\n\tthis.plane = plane;\r\n\r\n\tthis.size = ( size === undefined ) ? 1 : size;\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\r\n\r\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\tgeometry.computeBoundingSphere();\r\n\r\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\r\n\r\n\t//\r\n\r\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\r\n\r\n\tvar geometry2 = new BufferGeometry();\r\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\r\n\tgeometry2.computeBoundingSphere();\r\n\r\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\r\n\r\n}\r\n\r\nPlaneHelper.prototype = Object.create( Line.prototype );\r\nPlaneHelper.prototype.constructor = PlaneHelper;\r\n\r\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\r\n\r\n\tvar scale = - this.plane.constant;\r\n\r\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\r\n\r\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\r\n\r\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\r\n\r\n\tthis.lookAt( this.plane.normal );\r\n\r\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n};\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author zz85 / http://github.com/zz85\r\n * @author bhouston / http://clara.io\r\n *\r\n * Creates an arrow for visualizing directions\r\n *\r\n * Parameters:\r\n *  dir - Vector3\r\n *  origin - Vector3\r\n *  length - Number\r\n *  color - color in hex value\r\n *  headLength - Number\r\n *  headWidth - Number\r\n */\r\n\r\nvar _axis = new Vector3();\r\nvar _lineGeometry, _coneGeometry;\r\n\r\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\r\n\r\n\t// dir is assumed to be normalized\r\n\r\n\tObject3D.call( this );\r\n\r\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\r\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\r\n\tif ( length === undefined ) length = 1;\r\n\tif ( color === undefined ) color = 0xffff00;\r\n\tif ( headLength === undefined ) headLength = 0.2 * length;\r\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\r\n\r\n\tif ( _lineGeometry === undefined ) {\r\n\r\n\t\t_lineGeometry = new BufferGeometry();\r\n\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\r\n\r\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\r\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\r\n\r\n\t}\r\n\r\n\tthis.position.copy( origin );\r\n\r\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color } ) );\r\n\tthis.line.matrixAutoUpdate = false;\r\n\tthis.add( this.line );\r\n\r\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color } ) );\r\n\tthis.cone.matrixAutoUpdate = false;\r\n\tthis.add( this.cone );\r\n\r\n\tthis.setDirection( dir );\r\n\tthis.setLength( length, headLength, headWidth );\r\n\r\n}\r\n\r\nArrowHelper.prototype = Object.create( Object3D.prototype );\r\nArrowHelper.prototype.constructor = ArrowHelper;\r\n\r\nArrowHelper.prototype.setDirection = function ( dir ) {\r\n\r\n\t// dir is assumed to be normalized\r\n\r\n\tif ( dir.y > 0.99999 ) {\r\n\r\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\r\n\r\n\t} else if ( dir.y < - 0.99999 ) {\r\n\r\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\r\n\r\n\t} else {\r\n\r\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\r\n\r\n\t\tvar radians = Math.acos( dir.y );\r\n\r\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\r\n\r\n\t}\r\n\r\n};\r\n\r\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\r\n\r\n\tif ( headLength === undefined ) headLength = 0.2 * length;\r\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\r\n\r\n\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\r\n\tthis.line.updateMatrix();\r\n\r\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\r\n\tthis.cone.position.y = length;\r\n\tthis.cone.updateMatrix();\r\n\r\n};\r\n\r\nArrowHelper.prototype.setColor = function ( color ) {\r\n\r\n\tthis.line.material.color.set( color );\r\n\tthis.cone.material.color.set( color );\r\n\r\n};\r\n\r\nArrowHelper.prototype.copy = function ( source ) {\r\n\r\n\tObject3D.prototype.copy.call( this, source, false );\r\n\r\n\tthis.line.copy( source.line );\r\n\tthis.cone.copy( source.cone );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nArrowHelper.prototype.clone = function () {\r\n\r\n\treturn new this.constructor().copy( this );\r\n\r\n};\r\n\r\n/**\r\n * @author sroucheray / http://sroucheray.org/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction AxesHelper( size ) {\r\n\r\n\tsize = size || 1;\r\n\r\n\tvar vertices = [\r\n\t\t0, 0, 0,\tsize, 0, 0,\r\n\t\t0, 0, 0,\t0, size, 0,\r\n\t\t0, 0, 0,\t0, 0, size\r\n\t];\r\n\r\n\tvar colors = [\r\n\t\t1, 0, 0,\t1, 0.6, 0,\r\n\t\t0, 1, 0,\t0.6, 1, 0,\r\n\t\t0, 0, 1,\t0, 0.6, 1\r\n\t];\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\r\n\r\n\tLineSegments.call( this, geometry, material );\r\n\r\n}\r\n\r\nAxesHelper.prototype = Object.create( LineSegments.prototype );\r\nAxesHelper.prototype.constructor = AxesHelper;\r\n\r\n/**\r\n * @author Emmett Lalish / elalish\r\n *\r\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\r\n * (PMREM) from a cubeMap environment texture. This allows different levels of\r\n * blur to be quickly accessed based on material roughness. It is packed into a\r\n * special CubeUV format that allows us to perform custom interpolation so that\r\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\r\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\r\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\r\n * higher roughness levels. In this way we maintain resolution to smoothly\r\n * interpolate diffuse lighting while limiting sampling computation.\r\n */\r\n\r\nvar LOD_MIN = 4;\r\nvar LOD_MAX = 8;\r\nvar SIZE_MAX = Math.pow( 2, LOD_MAX );\r\n// The standard deviations (radians) associated with the extra mips. These are\r\n// chosen to approximate a Trowbridge-Reitz distribution function times the\r\n// geometric shadowing function. These sigma values squared must match the\r\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\r\nvar EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\r\nvar TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\r\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\r\n// samples and exit early, but not recompile the shader.\r\nvar MAX_SAMPLES = 20;\r\nvar ENCODINGS = {\r\n\t[ LinearEncoding ]: 0,\r\n\t[ sRGBEncoding ]: 1,\r\n\t[ RGBEEncoding ]: 2,\r\n\t[ RGBM7Encoding ]: 3,\r\n\t[ RGBM16Encoding ]: 4,\r\n\t[ RGBDEncoding ]: 5,\r\n\t[ GammaEncoding ]: 6\r\n};\r\n\r\nvar _flatCamera = new OrthographicCamera();\r\nvar _blurMaterial = _getBlurShader( MAX_SAMPLES );\r\nvar _equirectShader = null;\r\nvar _cubemapShader = null;\r\n\r\nvar { _lodPlanes, _sizeLods, _sigmas } = _createPlanes();\r\nvar _pingPongRenderTarget = null;\r\nvar _renderer = null;\r\n\r\nvar _oldTarget = null;\r\n\r\n// Golden Ratio\r\nvar PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\r\nvar INV_PHI = 1 / PHI;\r\n// Vertices of a dodecahedron (except the opposites, which represent the\r\n// same axis), used as axis directions evenly spread on a sphere.\r\nvar _axisDirections = [\r\n\tnew Vector3( 1, 1, 1 ),\r\n\tnew Vector3( - 1, 1, 1 ),\r\n\tnew Vector3( 1, 1, - 1 ),\r\n\tnew Vector3( - 1, 1, - 1 ),\r\n\tnew Vector3( 0, PHI, INV_PHI ),\r\n\tnew Vector3( 0, PHI, - INV_PHI ),\r\n\tnew Vector3( INV_PHI, 0, PHI ),\r\n\tnew Vector3( - INV_PHI, 0, PHI ),\r\n\tnew Vector3( PHI, INV_PHI, 0 ),\r\n\tnew Vector3( - PHI, INV_PHI, 0 ) ];\r\n\r\nfunction PMREMGenerator( renderer ) {\r\n\r\n\t_renderer = renderer;\r\n\t_compileMaterial( _blurMaterial );\r\n\r\n}\r\n\r\nPMREMGenerator.prototype = {\r\n\r\n\tconstructor: PMREMGenerator,\r\n\r\n\t/**\r\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\r\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\r\n\t * in radians to be applied to the scene before PMREM generation. Optional near\r\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\r\n\t * is placed at the origin).\r\n\t */\r\n\tfromScene: function ( scene, sigma = 0, near = 0.1, far = 100 ) {\r\n\r\n\t\t_oldTarget = _renderer.getRenderTarget();\r\n\t\tvar cubeUVRenderTarget = _allocateTargets();\r\n\t\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\r\n\t\tif ( sigma > 0 ) {\r\n\r\n\t\t\t_blur( cubeUVRenderTarget, 0, 0, sigma );\r\n\r\n\t\t}\r\n\t\t_applyPMREM( cubeUVRenderTarget );\r\n\t\t_cleanup( cubeUVRenderTarget );\r\n\r\n\t\treturn cubeUVRenderTarget;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\r\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\r\n\t * as this matches best with the 256 x 256 cubemap output.\r\n\t */\r\n\tfromEquirectangular: function ( equirectangular ) {\r\n\r\n\t\tequirectangular.magFilter = NearestFilter;\r\n\t\tequirectangular.minFilter = NearestFilter;\r\n\t\tequirectangular.generateMipmaps = false;\r\n\r\n\t\treturn this.fromCubemap( equirectangular );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\r\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\r\n\t * as this matches best with the 256 x 256 cubemap output.\r\n\t */\r\n\tfromCubemap: function ( cubemap ) {\r\n\r\n\t\t_oldTarget = _renderer.getRenderTarget();\r\n\t\tvar cubeUVRenderTarget = _allocateTargets( cubemap );\r\n\t\t_textureToCubeUV( cubemap, cubeUVRenderTarget );\r\n\t\t_applyPMREM( cubeUVRenderTarget );\r\n\t\t_cleanup( cubeUVRenderTarget );\r\n\r\n\t\treturn cubeUVRenderTarget;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\r\n\t * your texture's network fetch for increased concurrency.\r\n\t */\r\n\tcompileCubemapShader: function () {\r\n\r\n\t\tif ( _cubemapShader == null ) {\r\n\r\n\t\t\t_cubemapShader = _getCubemapShader();\r\n\t\t\t_compileMaterial( _cubemapShader );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\r\n\t * your texture's network fetch for increased concurrency.\r\n\t */\r\n\tcompileEquirectangularShader: function () {\r\n\r\n\t\tif ( _equirectShader == null ) {\r\n\r\n\t\t\t_equirectShader = _getEquirectShader();\r\n\t\t\t_compileMaterial( _equirectShader );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\r\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\r\n\t * one of them will cause any others to also become unusable.\r\n\t */\r\n\tdispose: function () {\r\n\r\n\t\t_blurMaterial.dispose();\r\n\r\n\t\tif ( _cubemapShader != null ) _cubemapShader.dispose();\r\n\t\tif ( _equirectShader != null ) _equirectShader.dispose();\r\n\r\n\t\tfor ( var i = 0; i < _lodPlanes.length; i ++ ) {\r\n\r\n\t\t\t_lodPlanes[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n};\r\n\r\nfunction _createPlanes() {\r\n\r\n\tvar _lodPlanes = [];\r\n\tvar _sizeLods = [];\r\n\tvar _sigmas = [];\r\n\r\n\tvar lod = LOD_MAX;\r\n\tfor ( var i = 0; i < TOTAL_LODS; i ++ ) {\r\n\r\n\t\tvar sizeLod = Math.pow( 2, lod );\r\n\t\t_sizeLods.push( sizeLod );\r\n\t\tvar sigma = 1.0 / sizeLod;\r\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\r\n\r\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\r\n\r\n\t\t} else if ( i == 0 ) {\r\n\r\n\t\t\tsigma = 0;\r\n\r\n\t\t}\r\n\t\t_sigmas.push( sigma );\r\n\r\n\t\tvar texelSize = 1.0 / ( sizeLod - 1 );\r\n\t\tvar min = - texelSize / 2;\r\n\t\tvar max = 1 + texelSize / 2;\r\n\t\tvar uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\r\n\r\n\t\tvar cubeFaces = 6;\r\n\t\tvar vertices = 6;\r\n\t\tvar positionSize = 3;\r\n\t\tvar uvSize = 2;\r\n\t\tvar faceIndexSize = 1;\r\n\r\n\t\tvar position = new Float32Array( positionSize * vertices * cubeFaces );\r\n\t\tvar uv = new Float32Array( uvSize * vertices * cubeFaces );\r\n\t\tvar faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\r\n\r\n\t\tfor ( var face = 0; face < cubeFaces; face ++ ) {\r\n\r\n\t\t\tvar x = ( face % 3 ) * 2 / 3 - 1;\r\n\t\t\tvar y = face > 2 ? 0 : - 1;\r\n\t\t\tvar coordinates = [\r\n\t\t\t\tx, y, 0,\r\n\t\t\t\tx + 2 / 3, y, 0,\r\n\t\t\t\tx + 2 / 3, y + 1, 0,\r\n\t\t\t\tx, y, 0,\r\n\t\t\t\tx + 2 / 3, y + 1, 0,\r\n\t\t\t\tx, y + 1, 0\r\n\t\t\t];\r\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\r\n\t\t\tuv.set( uv1, uvSize * vertices * face );\r\n\t\t\tvar fill = [ face, face, face, face, face, face ];\r\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\r\n\r\n\t\t}\r\n\t\tvar planes = new BufferGeometry();\r\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\r\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\r\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\r\n\t\t_lodPlanes.push( planes );\r\n\r\n\t\tif ( lod > LOD_MIN ) {\r\n\r\n\t\t\tlod --;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\treturn { _lodPlanes, _sizeLods, _sigmas };\r\n\r\n}\r\n\r\nfunction _allocateTargets( equirectangular ) {\r\n\r\n\tvar params = {\r\n\t\tmagFilter: NearestFilter,\r\n\t\tminFilter: NearestFilter,\r\n\t\tgenerateMipmaps: false,\r\n\t\ttype: equirectangular ? equirectangular.type : UnsignedByteType,\r\n\t\tformat: equirectangular ? equirectangular.format : RGBEFormat,\r\n\t\tencoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\r\n\t\tdepthBuffer: false,\r\n\t\tstencilBuffer: false\r\n\t};\r\n\tvar cubeUVRenderTarget = _createRenderTarget( params );\r\n\tcubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\r\n\t_pingPongRenderTarget = _createRenderTarget( params );\r\n\treturn cubeUVRenderTarget;\r\n\r\n}\r\n\r\nfunction _cleanup( outputTarget ) {\r\n\r\n\t_pingPongRenderTarget.dispose();\r\n\t_renderer.setRenderTarget( _oldTarget );\r\n\toutputTarget.scissorTest = false;\r\n\t// reset viewport and scissor\r\n\toutputTarget.setSize( outputTarget.width, outputTarget.height );\r\n\r\n}\r\n\r\nfunction _sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\r\n\r\n\tvar fov = 90;\r\n\tvar aspect = 1;\r\n\tvar cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\r\n\tvar upSign = [ 1, 1, 1, 1, - 1, 1 ];\r\n\tvar forwardSign = [ 1, 1, - 1, - 1, - 1, 1 ];\r\n\r\n\tvar outputEncoding = _renderer.outputEncoding;\r\n\tvar toneMapping = _renderer.toneMapping;\r\n\tvar toneMappingExposure = _renderer.toneMappingExposure;\r\n\tvar clearColor = _renderer.getClearColor();\r\n\tvar clearAlpha = _renderer.getClearAlpha();\r\n\r\n\t_renderer.toneMapping = LinearToneMapping;\r\n\t_renderer.toneMappingExposure = 1.0;\r\n\t_renderer.outputEncoding = LinearEncoding;\r\n\tscene.scale.z *= - 1;\r\n\r\n\tvar background = scene.background;\r\n\tif ( background && background.isColor ) {\r\n\r\n\t\tbackground.convertSRGBToLinear();\r\n\t\t// Convert linear to RGBE\r\n\t\tvar maxComponent = Math.max( background.r, background.g, background.b );\r\n\t\tvar fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\r\n\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\r\n\t\tvar alpha = ( fExp + 128.0 ) / 255.0;\r\n\t\t_renderer.setClearColor( background, alpha );\r\n\t\tscene.background = null;\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\tvar col = i % 3;\r\n\t\tif ( col == 0 ) {\r\n\r\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\r\n\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\r\n\r\n\t\t} else if ( col == 1 ) {\r\n\r\n\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\r\n\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\r\n\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\r\n\r\n\t\t}\r\n\t\t_setViewport( cubeUVRenderTarget,\r\n\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\r\n\t\t_renderer.setRenderTarget( cubeUVRenderTarget );\r\n\t\t_renderer.render( scene, cubeCamera );\r\n\r\n\t}\r\n\r\n\t_renderer.toneMapping = toneMapping;\r\n\t_renderer.toneMappingExposure = toneMappingExposure;\r\n\t_renderer.outputEncoding = outputEncoding;\r\n\t_renderer.setClearColor( clearColor, clearAlpha );\r\n\tscene.scale.z *= - 1;\r\n\r\n}\r\n\r\nfunction _textureToCubeUV( texture, cubeUVRenderTarget ) {\r\n\r\n\tvar scene = new Scene();\r\n\tif ( texture.isCubeTexture ) {\r\n\r\n\t\tif ( _cubemapShader == null ) {\r\n\r\n\t\t\t_cubemapShader = _getCubemapShader();\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( _equirectShader == null ) {\r\n\r\n\t\t\t_equirectShader = _getEquirectShader();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tvar material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\r\n\tscene.add( new Mesh( _lodPlanes[ 0 ], material ) );\r\n\tvar uniforms = material.uniforms;\r\n\r\n\tuniforms[ 'envMap' ].value = texture;\r\n\tif ( ! texture.isCubeTexture ) {\r\n\r\n\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\r\n\r\n\t}\r\n\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\r\n\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ texture.encoding ];\r\n\r\n\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\r\n\t_renderer.setRenderTarget( cubeUVRenderTarget );\r\n\t_renderer.render( scene, _flatCamera );\r\n\r\n}\r\n\r\nfunction _compileMaterial( material ) {\r\n\r\n\tvar tmpScene = new Scene();\r\n\ttmpScene.add( new Mesh( _lodPlanes[ 0 ], material ) );\r\n\t_renderer.compile( tmpScene, _flatCamera );\r\n\r\n}\r\n\r\nfunction _createRenderTarget( params ) {\r\n\r\n\tvar cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\r\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\r\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\r\n\tcubeUVRenderTarget.scissorTest = true;\r\n\treturn cubeUVRenderTarget;\r\n\r\n}\r\n\r\nfunction _setViewport( target, x, y, width, height ) {\r\n\r\n\ttarget.viewport.set( x, y, width, height );\r\n\ttarget.scissor.set( x, y, width, height );\r\n\r\n}\r\n\r\nfunction _applyPMREM( cubeUVRenderTarget ) {\r\n\r\n\tvar autoClear = _renderer.autoClear;\r\n\t_renderer.autoClear = false;\r\n\r\n\tfor ( var i = 1; i < TOTAL_LODS; i ++ ) {\r\n\r\n\t\tvar sigma = Math.sqrt(\r\n\t\t\t_sigmas[ i ] * _sigmas[ i ] -\r\n\t\t_sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\r\n\t\tvar poleAxis =\r\n\t\t_axisDirections[ ( i - 1 ) % _axisDirections.length ];\r\n\t\t_blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\r\n\r\n\t}\r\n\r\n\t_renderer.autoClear = autoClear;\r\n\r\n}\r\n\r\n/**\r\n * This is a two-pass Gaussian blur for a cubemap. Normally this is done\r\n * vertically and horizontally, but this breaks down on a cube. Here we apply\r\n * the blur latitudinally (around the poles), and then longitudinally (towards\r\n * the poles) to approximate the orthogonally-separable blur. It is least\r\n * accurate at the poles, but still does a decent job.\r\n */\r\nfunction _blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\r\n\r\n\t_halfBlur(\r\n\t\tcubeUVRenderTarget,\r\n\t\t_pingPongRenderTarget,\r\n\t\tlodIn,\r\n\t\tlodOut,\r\n\t\tsigma,\r\n\t\t'latitudinal',\r\n\t\tpoleAxis );\r\n\r\n\t_halfBlur(\r\n\t\t_pingPongRenderTarget,\r\n\t\tcubeUVRenderTarget,\r\n\t\tlodOut,\r\n\t\tlodOut,\r\n\t\tsigma,\r\n\t\t'longitudinal',\r\n\t\tpoleAxis );\r\n\r\n}\r\n\r\nfunction _halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\r\n\r\n\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\r\n\r\n\t\tconsole.error(\r\n\t\t\t'blur direction must be either latitudinal or longitudinal!' );\r\n\r\n\t}\r\n\r\n\t// Number of standard deviations at which to cut off the discrete approximation.\r\n\tvar STANDARD_DEVIATIONS = 3;\r\n\r\n\tvar blurScene = new Scene();\r\n\tblurScene.add( new Mesh( _lodPlanes[ lodOut ], _blurMaterial ) );\r\n\tvar blurUniforms = _blurMaterial.uniforms;\r\n\r\n\tvar pixels = _sizeLods[ lodIn ] - 1;\r\n\tvar radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\r\n\tvar sigmaPixels = sigmaRadians / radiansPerPixel;\r\n\tvar samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\r\n\r\n\tif ( samples > MAX_SAMPLES ) {\r\n\r\n\t\tconsole.warn( `sigmaRadians, ${\r\n\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\r\n\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\r\n\r\n\t}\r\n\r\n\tvar weights = [];\r\n\tvar sum = 0;\r\n\r\n\tfor ( var i = 0; i < MAX_SAMPLES; ++ i ) {\r\n\r\n\t\tvar x = i / sigmaPixels;\r\n\t\tvar weight = Math.exp( - x * x / 2 );\r\n\t\tweights.push( weight );\r\n\r\n\t\tif ( i == 0 ) {\r\n\r\n\t\t\tsum += weight;\r\n\r\n\t\t} else if ( i < samples ) {\r\n\r\n\t\t\tsum += 2 * weight;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i < weights.length; i ++ ) {\r\n\r\n\t\tweights[ i ] = weights[ i ] / sum;\r\n\r\n\t}\r\n\r\n\tblurUniforms[ 'envMap' ].value = targetIn.texture;\r\n\tblurUniforms[ 'samples' ].value = samples;\r\n\tblurUniforms[ 'weights' ].value = weights;\r\n\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\r\n\tif ( poleAxis ) {\r\n\r\n\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\r\n\r\n\t}\r\n\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\r\n\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\r\n\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\r\n\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\r\n\r\n\tvar outputSize = _sizeLods[ lodOut ];\r\n\tvar x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\r\n\tvar y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) +\r\n\t2 * outputSize *\r\n\t\t( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\r\n\r\n\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\r\n\t_renderer.setRenderTarget( targetOut );\r\n\t_renderer.render( blurScene, _flatCamera );\r\n\r\n}\r\n\r\nfunction _getBlurShader( maxSamples ) {\r\n\r\n\tvar weights = new Float32Array( maxSamples );\r\n\tvar poleAxis = new Vector3( 0, 1, 0 );\r\n\tvar shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tdefines: { 'n': maxSamples },\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'samples': { value: 1 },\r\n\t\t\t'weights': { value: weights },\r\n\t\t\t'latitudinal': { value: false },\r\n\t\t\t'dTheta': { value: 0 },\r\n\t\t\t'mipInt': { value: 0 },\r\n\t\t\t'poleAxis': { value: poleAxis },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: `\r\nprecision mediump float;\r\nprecision mediump int;\r\nvarying vec3 vOutputDirection;\r\nuniform sampler2D envMap;\r\nuniform int samples;\r\nuniform float weights[n];\r\nuniform bool latitudinal;\r\nuniform float dTheta;\r\nuniform float mipInt;\r\nuniform vec3 poleAxis;\r\n\r\n${_getEncodings()}\r\n\r\n#define ENVMAP_TYPE_CUBE_UV\r\n#include <cube_uv_reflection_fragment>\r\n\r\nvoid main() {\r\n\tgl_FragColor = vec4(0.0);\r\n\tfor (int i = 0; i < n; i++) {\r\n\t\tif (i >= samples)\r\n\t\t\tbreak;\r\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\r\n\t\t\tif (i == 0 && dir == 1)\r\n\t\t\t\tcontinue;\r\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\r\n\t\t\tif (all(equal(axis, vec3(0.0))))\r\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\r\n\t\t\taxis = normalize(axis);\r\n\t\t\tfloat theta = dTheta * float(dir * i);\r\n\t\t\tfloat cosTheta = cos(theta);\r\n\t\t\t// Rodrigues' axis-angle rotation\r\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\r\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\r\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\r\n\t\t\tgl_FragColor.rgb +=\r\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\r\n\t\t}\r\n\t}\r\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\r\n}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tshaderMaterial.type = 'SphericalGaussianBlur';\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getEquirectShader() {\r\n\r\n\tvar texelSize = new Vector2( 1, 1 );\r\n\tvar shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'texelSize': { value: texelSize },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: `\r\nprecision mediump float;\r\nprecision mediump int;\r\nvarying vec3 vOutputDirection;\r\nuniform sampler2D envMap;\r\nuniform vec2 texelSize;\r\n\r\n${_getEncodings()}\r\n\r\n#define RECIPROCAL_PI 0.31830988618\r\n#define RECIPROCAL_PI2 0.15915494\r\n\r\nvoid main() {\r\n\tgl_FragColor = vec4(0.0);\r\n\tvec3 outputDirection = normalize(vOutputDirection);\r\n\tvec2 uv;\r\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\r\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\r\n\tvec2 f = fract(uv / texelSize - 0.5);\r\n\tuv -= f * texelSize;\r\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\r\n\tuv.x += texelSize.x;\r\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\r\n\tuv.y += texelSize.y;\r\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\r\n\tuv.x -= texelSize.x;\r\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\r\n\tvec3 tm = mix(tl, tr, f.x);\r\n\tvec3 bm = mix(bl, br, f.x);\r\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\r\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\r\n}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tshaderMaterial.type = 'EquirectangularToCubeUV';\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getCubemapShader() {\r\n\r\n\tvar shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: `\r\nprecision mediump float;\r\nprecision mediump int;\r\nvarying vec3 vOutputDirection;\r\nuniform samplerCube envMap;\r\n\r\n${_getEncodings()}\r\n\r\nvoid main() {\r\n\tgl_FragColor = vec4(0.0);\r\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\r\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\r\n}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tshaderMaterial.type = 'CubemapToCubeUV';\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getCommonVertexShader() {\r\n\r\n\treturn `\r\nprecision mediump float;\r\nprecision mediump int;\r\nattribute vec3 position;\r\nattribute vec2 uv;\r\nattribute float faceIndex;\r\nvarying vec3 vOutputDirection;\r\nvec3 getDirection(vec2 uv, float face) {\r\n\tuv = 2.0 * uv - 1.0;\r\n\tvec3 direction = vec3(uv, 1.0);\r\n\tif (face == 0.0) {\r\n\t\tdirection = direction.zyx;\r\n\t\tdirection.z *= -1.0;\r\n\t} else if (face == 1.0) {\r\n\t\tdirection = direction.xzy;\r\n\t\tdirection.z *= -1.0;\r\n\t} else if (face == 3.0) {\r\n\t\tdirection = direction.zyx;\r\n\t\tdirection.x *= -1.0;\r\n\t} else if (face == 4.0) {\r\n\t\tdirection = direction.xzy;\r\n\t\tdirection.y *= -1.0;\r\n\t} else if (face == 5.0) {\r\n\t\tdirection.xz *= -1.0;\r\n\t}\r\n\treturn direction;\r\n}\r\nvoid main() {\r\n\tvOutputDirection = getDirection(uv, faceIndex);\r\n\tgl_Position = vec4( position, 1.0 );\r\n}\r\n\t`;\r\n\r\n}\r\n\r\nfunction _getEncodings() {\r\n\r\n\treturn `\r\nuniform int inputEncoding;\r\nuniform int outputEncoding;\r\n\r\n#include <encodings_pars_fragment>\r\n\r\nvec4 inputTexelToLinear(vec4 value){\r\n\tif(inputEncoding == 0){\r\n\t\treturn value;\r\n\t}else if(inputEncoding == 1){\r\n\t\treturn sRGBToLinear(value);\r\n\t}else if(inputEncoding == 2){\r\n\t\treturn RGBEToLinear(value);\r\n\t}else if(inputEncoding == 3){\r\n\t\treturn RGBMToLinear(value, 7.0);\r\n\t}else if(inputEncoding == 4){\r\n\t\treturn RGBMToLinear(value, 16.0);\r\n\t}else if(inputEncoding == 5){\r\n\t\treturn RGBDToLinear(value, 256.0);\r\n\t}else{\r\n\t\treturn GammaToLinear(value, 2.2);\r\n\t}\r\n}\r\n\r\nvec4 linearToOutputTexel(vec4 value){\r\n\tif(outputEncoding == 0){\r\n\t\treturn value;\r\n\t}else if(outputEncoding == 1){\r\n\t\treturn LinearTosRGB(value);\r\n\t}else if(outputEncoding == 2){\r\n\t\treturn LinearToRGBE(value);\r\n\t}else if(outputEncoding == 3){\r\n\t\treturn LinearToRGBM(value, 7.0);\r\n\t}else if(outputEncoding == 4){\r\n\t\treturn LinearToRGBM(value, 16.0);\r\n\t}else if(outputEncoding == 5){\r\n\t\treturn LinearToRGBD(value, 256.0);\r\n\t}else{\r\n\t\treturn LinearToGamma(value, 2.2);\r\n\t}\r\n}\r\n\r\nvec4 envMapTexelToLinear(vec4 color) {\r\n\treturn inputTexelToLinear(color);\r\n}\r\n\t`;\r\n\r\n}\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\r\n\r\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\r\n\treturn new Face3( a, b, c, normal, color, materialIndex );\r\n\r\n}\r\n\r\nvar LineStrip = 0;\r\nvar LinePieces = 1;\r\nvar NoColors = 0;\r\nvar FaceColors = 1;\r\nvar VertexColors = 2;\r\n\r\nfunction MeshFaceMaterial( materials ) {\r\n\r\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\r\n\treturn materials;\r\n\r\n}\r\n\r\nfunction MultiMaterial( materials ) {\r\n\r\n\tif ( materials === undefined ) materials = [];\r\n\r\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\r\n\tmaterials.isMultiMaterial = true;\r\n\tmaterials.materials = materials;\r\n\tmaterials.clone = function () {\r\n\r\n\t\treturn materials.slice();\r\n\r\n\t};\r\n\treturn materials;\r\n\r\n}\r\n\r\nfunction PointCloud( geometry, material ) {\r\n\r\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\r\n\treturn new Points( geometry, material );\r\n\r\n}\r\n\r\nfunction Particle( material ) {\r\n\r\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\r\n\treturn new Sprite( material );\r\n\r\n}\r\n\r\nfunction ParticleSystem( geometry, material ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\r\n\treturn new Points( geometry, material );\r\n\r\n}\r\n\r\nfunction PointCloudMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction ParticleBasicMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction ParticleSystemMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction Vertex( x, y, z ) {\r\n\r\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\r\n\treturn new Vector3( x, y, z );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction DynamicBufferAttribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\r\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\r\n\r\n}\r\n\r\nfunction Int8Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\r\n\treturn new Int8BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint8Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\r\n\treturn new Uint8BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint8ClampedAttribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\r\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Int16Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\r\n\treturn new Int16BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint16Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\r\n\treturn new Uint16BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Int32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\r\n\treturn new Int32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\r\n\treturn new Uint32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Float32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\r\n\treturn new Float32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Float64Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\r\n\treturn new Float64BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\n//\r\n\r\nCurve.create = function ( construct, getPoint ) {\r\n\r\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\r\n\r\n\tconstruct.prototype = Object.create( Curve.prototype );\r\n\tconstruct.prototype.constructor = construct;\r\n\tconstruct.prototype.getPoint = getPoint;\r\n\r\n\treturn construct;\r\n\r\n};\r\n\r\n//\r\n\r\nObject.assign( CurvePath.prototype, {\r\n\r\n\tcreatePointsGeometry: function ( divisions ) {\r\n\r\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\r\n\r\n\t\t// generate geometry from path points (for Line or Points objects)\r\n\r\n\t\tvar pts = this.getPoints( divisions );\r\n\t\treturn this.createGeometry( pts );\r\n\r\n\t},\r\n\r\n\tcreateSpacedPointsGeometry: function ( divisions ) {\r\n\r\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\r\n\r\n\t\t// generate geometry from equidistant sampling along the path\r\n\r\n\t\tvar pts = this.getSpacedPoints( divisions );\r\n\t\treturn this.createGeometry( pts );\r\n\r\n\t},\r\n\r\n\tcreateGeometry: function ( points ) {\r\n\r\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\r\n\r\n\t\tvar geometry = new Geometry();\r\n\r\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar point = points[ i ];\r\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.assign( Path.prototype, {\r\n\r\n\tfromPoints: function ( points ) {\r\n\r\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\r\n\t\treturn this.setFromPoints( points );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nfunction ClosedSplineCurve3( points ) {\r\n\r\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\r\n\r\n\tCatmullRomCurve3.call( this, points );\r\n\tthis.type = 'catmullrom';\r\n\tthis.closed = true;\r\n\r\n}\r\n\r\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\r\n\r\n//\r\n\r\nfunction SplineCurve3( points ) {\r\n\r\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\r\n\r\n\tCatmullRomCurve3.call( this, points );\r\n\tthis.type = 'catmullrom';\r\n\r\n}\r\n\r\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\r\n\r\n//\r\n\r\nfunction Spline( points ) {\r\n\r\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\r\n\r\n\tCatmullRomCurve3.call( this, points );\r\n\tthis.type = 'catmullrom';\r\n\r\n}\r\n\r\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\r\n\r\nObject.assign( Spline.prototype, {\r\n\r\n\tinitFromArray: function ( /* a */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\r\n\r\n\t},\r\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\r\n\r\n\t},\r\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nfunction AxisHelper( size ) {\r\n\r\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\r\n\treturn new AxesHelper( size );\r\n\r\n}\r\n\r\nfunction BoundingBoxHelper( object, color ) {\r\n\r\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\r\n\treturn new BoxHelper( object, color );\r\n\r\n}\r\n\r\nfunction EdgesHelper( object, hex ) {\r\n\r\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\r\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\r\n\r\n}\r\n\r\nGridHelper.prototype.setColors = function () {\r\n\r\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\r\n\r\n};\r\n\r\nSkeletonHelper.prototype.update = function () {\r\n\r\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\r\n\r\n};\r\n\r\nfunction WireframeHelper( object, hex ) {\r\n\r\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\r\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\r\n\r\n}\r\n\r\n//\r\n\r\nObject.assign( Loader.prototype, {\r\n\r\n\textractUrlBase: function ( url ) {\r\n\r\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\r\n\t\treturn LoaderUtils.extractUrlBase( url );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nLoader.Handlers = {\r\n\r\n\tadd: function ( /* regex, loader */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\r\n\r\n\t},\r\n\r\n\tget: function ( /* file */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction XHRLoader( manager ) {\r\n\r\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\r\n\treturn new FileLoader( manager );\r\n\r\n}\r\n\r\nfunction BinaryTextureLoader( manager ) {\r\n\r\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\r\n\treturn new DataTextureLoader( manager );\r\n\r\n}\r\n\r\nObject.assign( ObjectLoader.prototype, {\r\n\r\n\tsetTexturePath: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\r\n\t\treturn this.setResourcePath( value );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.assign( Box2.prototype, {\r\n\r\n\tcenter: function ( optionalTarget ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\r\n\t\treturn this.getCenter( optionalTarget );\r\n\r\n\t},\r\n\tempty: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\r\n\t\treturn this.isEmpty();\r\n\r\n\t},\r\n\tisIntersectionBox: function ( box ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\r\n\t},\r\n\tsize: function ( optionalTarget ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\r\n\t\treturn this.getSize( optionalTarget );\r\n\r\n\t}\r\n} );\r\n\r\nObject.assign( Box3.prototype, {\r\n\r\n\tcenter: function ( optionalTarget ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\r\n\t\treturn this.getCenter( optionalTarget );\r\n\r\n\t},\r\n\tempty: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\r\n\t\treturn this.isEmpty();\r\n\r\n\t},\r\n\tisIntersectionBox: function ( box ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\r\n\t},\r\n\tisIntersectionSphere: function ( sphere ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\t\treturn this.intersectsSphere( sphere );\r\n\r\n\t},\r\n\tsize: function ( optionalTarget ) {\r\n\r\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\r\n\t\treturn this.getSize( optionalTarget );\r\n\r\n\t}\r\n} );\r\n\r\nFrustum.prototype.setFromMatrix = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\r\n\treturn this.setFromProjectionMatrix( m );\r\n\r\n};\r\n\r\nLine3.prototype.center = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\r\n\treturn this.getCenter( optionalTarget );\r\n\r\n};\r\n\r\nObject.assign( MathUtils, {\r\n\r\n\trandom16: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\r\n\t\treturn Math.random();\r\n\r\n\t},\r\n\r\n\tnearestPowerOfTwo: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\r\n\t\treturn MathUtils.floorPowerOfTwo( value );\r\n\r\n\t},\r\n\r\n\tnextPowerOfTwo: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\r\n\t\treturn MathUtils.ceilPowerOfTwo( value );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Matrix3.prototype, {\r\n\r\n\tflattenToArrayOffset: function ( array, offset ) {\r\n\r\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\r\n\t\treturn this.toArray( array, offset );\r\n\r\n\t},\r\n\tmultiplyVector3: function ( vector ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix3( this );\r\n\r\n\t},\r\n\tmultiplyVector3Array: function ( /* a */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\r\n\r\n\t},\r\n\tapplyToBufferAttribute: function ( attribute ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\r\n\t\treturn attribute.applyMatrix3( this );\r\n\r\n\t},\r\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Matrix4.prototype, {\r\n\r\n\textractPosition: function ( m ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\r\n\t\treturn this.copyPosition( m );\r\n\r\n\t},\r\n\tflattenToArrayOffset: function ( array, offset ) {\r\n\r\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\r\n\t\treturn this.toArray( array, offset );\r\n\r\n\t},\r\n\tgetPosition: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\r\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\r\n\r\n\t},\r\n\tsetRotationFromQuaternion: function ( q ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\r\n\t\treturn this.makeRotationFromQuaternion( q );\r\n\r\n\t},\r\n\tmultiplyToArray: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\r\n\r\n\t},\r\n\tmultiplyVector3: function ( vector ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix4( this );\r\n\r\n\t},\r\n\tmultiplyVector4: function ( vector ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix4( this );\r\n\r\n\t},\r\n\tmultiplyVector3Array: function ( /* a */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\r\n\r\n\t},\r\n\trotateAxis: function ( v ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\r\n\t\tv.transformDirection( this );\r\n\r\n\t},\r\n\tcrossVector: function ( vector ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix4( this );\r\n\r\n\t},\r\n\ttranslate: function () {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\r\n\r\n\t},\r\n\trotateX: function () {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\r\n\r\n\t},\r\n\trotateY: function () {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\r\n\r\n\t},\r\n\trotateZ: function () {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\r\n\r\n\t},\r\n\trotateByAxis: function () {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\r\n\r\n\t},\r\n\tapplyToBufferAttribute: function ( attribute ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\r\n\t\treturn attribute.applyMatrix4( this );\r\n\r\n\t},\r\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\r\n\r\n\t},\r\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\r\n\r\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\r\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nPlane.prototype.isIntersectionLine = function ( line ) {\r\n\r\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\r\n\treturn this.intersectsLine( line );\r\n\r\n};\r\n\r\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\r\n\treturn vector.applyQuaternion( this );\r\n\r\n};\r\n\r\nObject.assign( Ray.prototype, {\r\n\r\n\tisIntersectionBox: function ( box ) {\r\n\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\r\n\t},\r\n\tisIntersectionPlane: function ( plane ) {\r\n\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\r\n\t\treturn this.intersectsPlane( plane );\r\n\r\n\t},\r\n\tisIntersectionSphere: function ( sphere ) {\r\n\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\t\treturn this.intersectsSphere( sphere );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Triangle.prototype, {\r\n\r\n\tarea: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\r\n\t\treturn this.getArea();\r\n\r\n\t},\r\n\tbarycoordFromPoint: function ( point, target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\r\n\t\treturn this.getBarycoord( point, target );\r\n\r\n\t},\r\n\tmidpoint: function ( target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\r\n\t\treturn this.getMidpoint( target );\r\n\r\n\t},\r\n\tnormal: function ( target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\r\n\t\treturn this.getNormal( target );\r\n\r\n\t},\r\n\tplane: function ( target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\r\n\t\treturn this.getPlane( target );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Triangle, {\r\n\r\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\r\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\r\n\r\n\t},\r\n\tnormal: function ( a, b, c, target ) {\r\n\r\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\r\n\t\treturn Triangle.getNormal( a, b, c, target );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Shape.prototype, {\r\n\r\n\textractAllPoints: function ( divisions ) {\r\n\r\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\r\n\t\treturn this.extractPoints( divisions );\r\n\r\n\t},\r\n\textrude: function ( options ) {\r\n\r\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\r\n\t\treturn new ExtrudeGeometry( this, options );\r\n\r\n\t},\r\n\tmakeGeometry: function ( options ) {\r\n\r\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\r\n\t\treturn new ShapeGeometry( this, options );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector2.prototype, {\r\n\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n\t},\r\n\tdistanceToManhattan: function ( v ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\r\n\t\treturn this.manhattanDistanceTo( v );\r\n\r\n\t},\r\n\tlengthManhattan: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\t\treturn this.manhattanLength();\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector3.prototype, {\r\n\r\n\tsetEulerFromRotationMatrix: function () {\r\n\r\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\r\n\r\n\t},\r\n\tsetEulerFromQuaternion: function () {\r\n\r\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\r\n\r\n\t},\r\n\tgetPositionFromMatrix: function ( m ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\r\n\t\treturn this.setFromMatrixPosition( m );\r\n\r\n\t},\r\n\tgetScaleFromMatrix: function ( m ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\r\n\t\treturn this.setFromMatrixScale( m );\r\n\r\n\t},\r\n\tgetColumnFromMatrix: function ( index, matrix ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\r\n\t\treturn this.setFromMatrixColumn( matrix, index );\r\n\r\n\t},\r\n\tapplyProjection: function ( m ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\r\n\t\treturn this.applyMatrix4( m );\r\n\r\n\t},\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n\t},\r\n\tdistanceToManhattan: function ( v ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\r\n\t\treturn this.manhattanDistanceTo( v );\r\n\r\n\t},\r\n\tlengthManhattan: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\t\treturn this.manhattanLength();\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector4.prototype, {\r\n\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n\t},\r\n\tlengthManhattan: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\t\treturn this.manhattanLength();\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.assign( Geometry.prototype, {\r\n\r\n\tcomputeTangents: function () {\r\n\r\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\r\n\r\n\t},\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\r\n\r\n\t},\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\r\n\t\treturn this.applyMatrix4( matrix );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Object3D.prototype, {\r\n\r\n\tgetChildByName: function ( name ) {\r\n\r\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\r\n\t\treturn this.getObjectByName( name );\r\n\r\n\t},\r\n\trenderDepth: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\r\n\r\n\t},\r\n\ttranslate: function ( distance, axis ) {\r\n\r\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\r\n\t\treturn this.translateOnAxis( axis, distance );\r\n\r\n\t},\r\n\tgetWorldRotation: function () {\r\n\r\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\r\n\r\n\t},\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\r\n\t\treturn this.applyMatrix4( matrix );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( Object3D.prototype, {\r\n\r\n\teulerOrder: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\treturn this.rotation.order;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\tthis.rotation.order = value;\r\n\r\n\t\t}\r\n\t},\r\n\tuseQuaternion: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Mesh.prototype, {\r\n\r\n\tsetDrawMode: function () {\r\n\r\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\r\n\r\n\t},\r\n\r\n} );\r\n\r\nObject.defineProperties( Mesh.prototype, {\r\n\r\n\tdrawMode: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\r\n\t\t\treturn TrianglesDrawMode;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( LOD.prototype, {\r\n\r\n\tobjects: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\r\n\t\t\treturn this.levels;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\r\n\r\n\tget: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\r\n\r\n\t},\r\n\tset: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nSkinnedMesh.prototype.initBones = function () {\r\n\r\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\r\n\r\n};\r\n\r\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\r\n\r\n\tget: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\r\n\t\treturn this.arcLengthDivisions;\r\n\r\n\t},\r\n\tset: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\r\n\t\tthis.arcLengthDivisions = value;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\r\n\r\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\r\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\r\n\r\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\r\n\tthis.setFocalLength( focalLength );\r\n\r\n};\r\n\r\n//\r\n\r\nObject.defineProperties( Light.prototype, {\r\n\tonlyShadow: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraFov: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\r\n\t\t\tthis.shadow.camera.fov = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraLeft: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\r\n\t\t\tthis.shadow.camera.left = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraRight: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\r\n\t\t\tthis.shadow.camera.right = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraTop: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\r\n\t\t\tthis.shadow.camera.top = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraBottom: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\r\n\t\t\tthis.shadow.camera.bottom = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraNear: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\r\n\t\t\tthis.shadow.camera.near = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraFar: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\r\n\t\t\tthis.shadow.camera.far = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraVisible: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowBias: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\r\n\t\t\tthis.shadow.bias = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowDarkness: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapWidth: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\r\n\t\t\tthis.shadow.mapSize.width = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapHeight: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\r\n\t\t\tthis.shadow.mapSize.height = value;\r\n\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( BufferAttribute.prototype, {\r\n\r\n\tlength: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\r\n\t\t\treturn this.array.length;\r\n\r\n\t\t}\r\n\t},\r\n\tdynamic: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\r\n\t\t\treturn this.usage === DynamicDrawUsage;\r\n\r\n\t\t},\r\n\t\tset: function ( /* value */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\r\n\t\t\tthis.setUsage( DynamicDrawUsage );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( BufferAttribute.prototype, {\r\n\tsetDynamic: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\r\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\r\n\t\treturn this;\r\n\r\n\t},\r\n\tcopyIndicesArray: function ( /* indices */ ) {\r\n\r\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\r\n\r\n\t},\r\n\tsetArray: function ( /* array */ ) {\r\n\r\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\r\n\r\n\t}\r\n} );\r\n\r\nObject.assign( BufferGeometry.prototype, {\r\n\r\n\taddIndex: function ( index ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\r\n\t\tthis.setIndex( index );\r\n\r\n\t},\r\n\taddAttribute: function ( name, attribute ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\r\n\r\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\r\n\r\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( name === 'index' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\r\n\t\t\tthis.setIndex( attribute );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.setAttribute( name, attribute );\r\n\r\n\t},\r\n\taddDrawCall: function ( start, count, indexOffset ) {\r\n\r\n\t\tif ( indexOffset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\r\n\r\n\t\t}\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\r\n\t\tthis.addGroup( start, count );\r\n\r\n\t},\r\n\tclearDrawCalls: function () {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\r\n\t\tthis.clearGroups();\r\n\r\n\t},\r\n\tcomputeTangents: function () {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\r\n\r\n\t},\r\n\tcomputeOffsets: function () {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\r\n\r\n\t},\r\n\tremoveAttribute: function ( name ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\r\n\r\n\t\treturn this.deleteAttribute( name );\r\n\r\n\t},\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\r\n\t\treturn this.applyMatrix4( matrix );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( BufferGeometry.prototype, {\r\n\r\n\tdrawcalls: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\r\n\t\t}\r\n\t},\r\n\toffsets: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( Raycaster.prototype, {\r\n\r\n\tlinePrecision: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\r\n\t\t\treturn this.params.Line.threshold;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\r\n\t\t\tthis.params.Line.threshold = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( InterleavedBuffer.prototype, {\r\n\r\n\tdynamic: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\r\n\t\t\treturn this.usage === DynamicDrawUsage;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\r\n\t\t\tthis.setUsage( value );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( InterleavedBuffer.prototype, {\r\n\tsetDynamic: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\r\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\r\n\t\treturn this;\r\n\r\n\t},\r\n\tsetArray: function ( /* array */ ) {\r\n\r\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\r\n\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.assign( ExtrudeBufferGeometry.prototype, {\r\n\r\n\tgetArrays: function () {\r\n\r\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\r\n\r\n\t},\r\n\r\n\taddShapeList: function () {\r\n\r\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\r\n\r\n\t},\r\n\r\n\taddShape: function () {\r\n\r\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( Uniform.prototype, {\r\n\r\n\tdynamic: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tonUpdate: {\r\n\t\tvalue: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( Material.prototype, {\r\n\r\n\twrapAround: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\toverdraw: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\twrapRGB: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\r\n\t\t\treturn new Color();\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tshading: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\t\t\tthis.flatShading = ( value === FlatShading );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tstencilMask: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\r\n\t\t\treturn this.stencilFuncMask;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\r\n\t\t\tthis.stencilFuncMask = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( MeshPhongMaterial.prototype, {\r\n\r\n\tmetal: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( ShaderMaterial.prototype, {\r\n\r\n\tderivatives: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\treturn this.extensions.derivatives;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\tthis.extensions.derivatives = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.assign( WebGLRenderer.prototype, {\r\n\r\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\r\n\t\tthis.setRenderTarget( renderTarget );\r\n\t\tthis.clear( color, depth, stencil );\r\n\r\n\t},\r\n\tanimate: function ( callback ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\r\n\t\tthis.setAnimationLoop( callback );\r\n\r\n\t},\r\n\tgetCurrentRenderTarget: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\r\n\t\treturn this.getRenderTarget();\r\n\r\n\t},\r\n\tgetMaxAnisotropy: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\r\n\t\treturn this.capabilities.getMaxAnisotropy();\r\n\r\n\t},\r\n\tgetPrecision: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\r\n\t\treturn this.capabilities.precision;\r\n\r\n\t},\r\n\tresetGLState: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\r\n\t\treturn this.state.reset();\r\n\r\n\t},\r\n\tsupportsFloatTextures: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_texture_float' );\r\n\r\n\t},\r\n\tsupportsHalfFloatTextures: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\r\n\r\n\t},\r\n\tsupportsStandardDerivatives: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\r\n\r\n\t},\r\n\tsupportsCompressedTextureS3TC: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\r\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\r\n\t},\r\n\tsupportsCompressedTexturePVRTC: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\r\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\r\n\t},\r\n\tsupportsBlendMinMax: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\r\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\r\n\r\n\t},\r\n\tsupportsVertexTextures: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\r\n\t\treturn this.capabilities.vertexTextures;\r\n\r\n\t},\r\n\tsupportsInstancedArrays: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\r\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t},\r\n\tenableScissorTest: function ( boolean ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\r\n\t\tthis.setScissorTest( boolean );\r\n\r\n\t},\r\n\tinitMaterial: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\r\n\r\n\t},\r\n\taddPrePlugin: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\r\n\r\n\t},\r\n\taddPostPlugin: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\r\n\r\n\t},\r\n\tupdateShadowMap: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\r\n\r\n\t},\r\n\tsetFaceCulling: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\r\n\r\n\t},\r\n\tallocTextureUnit: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\r\n\r\n\t},\r\n\tsetTexture: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\r\n\r\n\t},\r\n\tsetTexture2D: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\r\n\r\n\t},\r\n\tsetTextureCube: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\r\n\r\n\t},\r\n\tgetActiveMipMapLevel: function () {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\r\n\t\treturn this.getActiveMipmapLevel();\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( WebGLRenderer.prototype, {\r\n\r\n\tshadowMapEnabled: {\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.shadowMap.enabled;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\r\n\t\t\tthis.shadowMap.enabled = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapType: {\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.shadowMap.type;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\r\n\t\t\tthis.shadowMap.type = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapCullFace: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function ( /* value */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tcontext: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\r\n\t\t\treturn this.getContext();\r\n\r\n\t\t}\r\n\t},\r\n\tvr: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\r\n\t\t\treturn this.xr;\r\n\r\n\t\t}\r\n\t},\r\n\tgammaInput: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tgammaOutput: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\r\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( WebGLShadowMap.prototype, {\r\n\r\n\tcullFace: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function ( /* cullFace */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\trenderReverseSided: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\trenderSingleSided: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nfunction WebGLRenderTargetCube( width, height, options ) {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\r\n\treturn new WebGLCubeRenderTarget( width, options );\r\n\r\n}\r\n\r\n//\r\n\r\nObject.defineProperties( WebGLRenderTarget.prototype, {\r\n\r\n\twrapS: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\treturn this.texture.wrapS;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\tthis.texture.wrapS = value;\r\n\r\n\t\t}\r\n\t},\r\n\twrapT: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\treturn this.texture.wrapT;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\tthis.texture.wrapT = value;\r\n\r\n\t\t}\r\n\t},\r\n\tmagFilter: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\treturn this.texture.magFilter;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\tthis.texture.magFilter = value;\r\n\r\n\t\t}\r\n\t},\r\n\tminFilter: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\treturn this.texture.minFilter;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\tthis.texture.minFilter = value;\r\n\r\n\t\t}\r\n\t},\r\n\tanisotropy: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\treturn this.texture.anisotropy;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\tthis.texture.anisotropy = value;\r\n\r\n\t\t}\r\n\t},\r\n\toffset: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\treturn this.texture.offset;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\tthis.texture.offset = value;\r\n\r\n\t\t}\r\n\t},\r\n\trepeat: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\treturn this.texture.repeat;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\tthis.texture.repeat = value;\r\n\r\n\t\t}\r\n\t},\r\n\tformat: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\treturn this.texture.format;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\tthis.texture.format = value;\r\n\r\n\t\t}\r\n\t},\r\n\ttype: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\treturn this.texture.type;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\tthis.texture.type = value;\r\n\r\n\t\t}\r\n\t},\r\n\tgenerateMipmaps: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\treturn this.texture.generateMipmaps;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\tthis.texture.generateMipmaps = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( Audio.prototype, {\r\n\r\n\tload: {\r\n\t\tvalue: function ( file ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\r\n\t\t\tvar scope = this;\r\n\t\t\tvar audioLoader = new AudioLoader();\r\n\t\t\taudioLoader.load( file, function ( buffer ) {\r\n\r\n\t\t\t\tscope.setBuffer( buffer );\r\n\r\n\t\t\t} );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t},\r\n\tstartTime: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nAudioAnalyser.prototype.getData = function () {\r\n\r\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\r\n\treturn this.getFrequencyData();\r\n\r\n};\r\n\r\n//\r\n\r\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\r\n\r\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\r\n\treturn this.update( renderer, scene );\r\n\r\n};\r\n\r\n//\r\n\r\nvar GeometryUtils = {\r\n\r\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\r\n\r\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\r\n\t\tvar matrix;\r\n\r\n\t\tif ( geometry2.isMesh ) {\r\n\r\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\r\n\r\n\t\t\tmatrix = geometry2.matrix;\r\n\t\t\tgeometry2 = geometry2.geometry;\r\n\r\n\t\t}\r\n\r\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\r\n\r\n\t},\r\n\r\n\tcenter: function ( geometry ) {\r\n\r\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\r\n\t\treturn geometry.center();\r\n\r\n\t}\r\n\r\n};\r\n\r\nImageUtils.crossOrigin = undefined;\r\n\r\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\r\n\r\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\r\n\r\n\tvar loader = new TextureLoader();\r\n\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\tvar texture = loader.load( url, onLoad, undefined, onError );\r\n\r\n\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\treturn texture;\r\n\r\n};\r\n\r\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\r\n\r\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\r\n\r\n\tvar loader = new CubeTextureLoader();\r\n\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\r\n\r\n\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\treturn texture;\r\n\r\n};\r\n\r\nImageUtils.loadCompressedTexture = function () {\r\n\r\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n};\r\n\r\nImageUtils.loadCompressedTextureCube = function () {\r\n\r\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n};\r\n\r\n//\r\n\r\nfunction CanvasRenderer() {\r\n\r\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction JSONLoader() {\r\n\r\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\r\n\r\n}\r\n\r\n//\r\n\r\nvar SceneUtils = {\r\n\r\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t},\r\n\r\n\tdetach: function ( /* child, parent, scene */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t},\r\n\r\n\tattach: function ( /* child, scene, parent */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t}\r\n\r\n};\r\n\r\n//\r\n\r\nfunction LensFlare() {\r\n\r\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\r\n\r\n}\r\n\r\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t/* eslint-disable no-undef */\r\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\r\n\t\trevision: REVISION,\r\n\t} } ) );\r\n\t/* eslint-enable no-undef */\r\n\r\n}\r\n\r\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\r\n","module.exports=\"#define GLSLIFY 1\\nvarying float alpha;\\nvoid main() {\\n    // make the fragment white with the alpha calculated from the vertex shader\\n    gl_FragColor = vec4(1,1,1, alpha);\\n}\";","module.exports=\"#define GLSLIFY 1\\nvarying float alpha;\\nvoid main() \\n{ \\n    //calculate the vertex position as expected in a perpective renderer\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  \\n    //now onto the alpha calculation\\n    //get the vertex vertex normal \\n    vec3 nmal = normal;\\n  \\n    // find vector from the vertex to camera and then normalise it\\n    vec3 viewVector =  normalize((cameraPosition - normal));\\n  \\n    // now find the dot poduct\\n    // faceing the camera is 1 and perpendicular is 0 so for this effect you want to minus it from 1\\n    // note that alpha is the varying float passed between the vertex and fragment shader\\n    alpha =  1.0 - dot(nmal, viewVector);\";","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (!this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\n\r\n/*!\r\n * GSAP 3.2.5\r\n * https://greensock.com\r\n *\r\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\r\n * Subject to the terms at https://greensock.com/standard-license or for\r\n * Club GreenSock members, the agreement issued with that membership.\r\n * @author: Jack Doyle, jack@greensock.com\r\n*/\r\n\r\n/* eslint-disable */\r\nvar _config = {\r\n  autoSleep: 120,\r\n  force3D: \"auto\",\r\n  nullTargetWarn: 1,\r\n  units: {\r\n    lineHeight: \"\"\r\n  }\r\n},\r\n    _defaults = {\r\n  duration: .5,\r\n  overwrite: false,\r\n  delay: 0\r\n},\r\n    _bigNum = 1e8,\r\n    _tinyNum = 1 / _bigNum,\r\n    _2PI = Math.PI * 2,\r\n    _HALF_PI = _2PI / 4,\r\n    _gsID = 0,\r\n    _sqrt = Math.sqrt,\r\n    _cos = Math.cos,\r\n    _sin = Math.sin,\r\n    _isString = function _isString(value) {\r\n  return typeof value === \"string\";\r\n},\r\n    _isFunction = function _isFunction(value) {\r\n  return typeof value === \"function\";\r\n},\r\n    _isNumber = function _isNumber(value) {\r\n  return typeof value === \"number\";\r\n},\r\n    _isUndefined = function _isUndefined(value) {\r\n  return typeof value === \"undefined\";\r\n},\r\n    _isObject = function _isObject(value) {\r\n  return typeof value === \"object\";\r\n},\r\n    _isNotFalse = function _isNotFalse(value) {\r\n  return value !== false;\r\n},\r\n    _windowExists = function _windowExists() {\r\n  return typeof window !== \"undefined\";\r\n},\r\n    _isFuncOrString = function _isFuncOrString(value) {\r\n  return _isFunction(value) || _isString(value);\r\n},\r\n    _isArray = Array.isArray,\r\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\r\n    //only numbers (including negatives and decimals) but NOT relative values.\r\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-\\+]*\\d*/g,\r\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\r\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\r\n    _complexStringNumExp = /[-+=.]*\\d+(?:\\.|e-|e)*\\d*/gi,\r\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\r\n_parenthesesExp = /\\(([^()]+)\\)/i,\r\n    //finds the string between parentheses.\r\n_relExp = /[+-]=-?[\\.\\d]+/,\r\n    _delimitedValueExp = /[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,\r\n    _globalTimeline,\r\n    _win,\r\n    _coreInitted,\r\n    _doc,\r\n    _globals = {},\r\n    _installScope = {},\r\n    _coreReady,\r\n    _install = function _install(scope) {\r\n  return (_installScope = _merge(scope, _globals)) && gsap;\r\n},\r\n    _missingPlugin = function _missingPlugin(property, value) {\r\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\r\n},\r\n    _warn = function _warn(message, suppress) {\r\n  return !suppress && console.warn(message);\r\n},\r\n    _addGlobal = function _addGlobal(name, obj) {\r\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\r\n},\r\n    _emptyFunc = function _emptyFunc() {\r\n  return 0;\r\n},\r\n    _reservedProps = {},\r\n    _lazyTweens = [],\r\n    _lazyLookup = {},\r\n    _lastRenderedFrame,\r\n    _plugins = {},\r\n    _effects = {},\r\n    _nextGCFrame = 30,\r\n    _harnessPlugins = [],\r\n    _callbackNames = \"\",\r\n    _harness = function _harness(targets) {\r\n  var target = targets[0],\r\n      harnessPlugin,\r\n      i;\r\n\r\n  if (!_isObject(target) && !_isFunction(target)) {\r\n    targets = [targets];\r\n  }\r\n\r\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\r\n    i = _harnessPlugins.length;\r\n\r\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\r\n\r\n    harnessPlugin = _harnessPlugins[i];\r\n  }\r\n\r\n  i = targets.length;\r\n\r\n  while (i--) {\r\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\r\n  }\r\n\r\n  return targets;\r\n},\r\n    _getCache = function _getCache(target) {\r\n  return target._gsap || _harness(toArray(target))[0]._gsap;\r\n},\r\n    _getProperty = function _getProperty(target, property) {\r\n  var currentValue = target[property];\r\n  return _isFunction(currentValue) ? target[property]() : _isUndefined(currentValue) && target.getAttribute(property) || currentValue;\r\n},\r\n    _forEachName = function _forEachName(names, func) {\r\n  return (names = names.split(\",\")).forEach(func) || names;\r\n},\r\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\r\n_round = function _round(value) {\r\n  return Math.round(value * 100000) / 100000 || 0;\r\n},\r\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\r\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\r\n  var l = toFind.length,\r\n      i = 0;\r\n\r\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\r\n\r\n  return i < l;\r\n},\r\n    _parseVars = function _parseVars(params, type, parent) {\r\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\r\n  var isLegacy = _isNumber(params[1]),\r\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\r\n      vars = params[varsIndex],\r\n      irVars;\r\n\r\n  if (isLegacy) {\r\n    vars.duration = params[1];\r\n  }\r\n\r\n  vars.parent = parent;\r\n\r\n  if (type) {\r\n    irVars = vars;\r\n\r\n    while (parent && !(\"immediateRender\" in irVars)) {\r\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\r\n      irVars = parent.vars.defaults || {};\r\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\r\n    }\r\n\r\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\r\n\r\n    if (type < 2) {\r\n      vars.runBackwards = 1;\r\n    } else {\r\n      vars.startAt = params[varsIndex - 1]; // \"from\" vars\r\n    }\r\n  }\r\n\r\n  return vars;\r\n},\r\n    _lazyRender = function _lazyRender() {\r\n  var l = _lazyTweens.length,\r\n      a = _lazyTweens.slice(0),\r\n      i,\r\n      tween;\r\n\r\n  _lazyLookup = {};\r\n  _lazyTweens.length = 0;\r\n\r\n  for (i = 0; i < l; i++) {\r\n    tween = a[i];\r\n\r\n    if (tween && tween._lazy) {\r\n      tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0;\r\n    }\r\n  }\r\n},\r\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\r\n  if (_lazyTweens.length) {\r\n    _lazyRender();\r\n  }\r\n\r\n  animation.render(time, suppressEvents, force);\r\n\r\n  if (_lazyTweens.length) {\r\n    //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\r\n    _lazyRender();\r\n  }\r\n},\r\n    _numericIfPossible = function _numericIfPossible(value) {\r\n  var n = parseFloat(value);\r\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : value;\r\n},\r\n    _passThrough = function _passThrough(p) {\r\n  return p;\r\n},\r\n    _setDefaults = function _setDefaults(obj, defaults) {\r\n  for (var p in defaults) {\r\n    if (!(p in obj)) {\r\n      obj[p] = defaults[p];\r\n    }\r\n  }\r\n\r\n  return obj;\r\n},\r\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\r\n  for (var p in defaults) {\r\n    if (!(p in obj) && p !== \"duration\" && p !== \"ease\") {\r\n      obj[p] = defaults[p];\r\n    }\r\n  }\r\n},\r\n    _merge = function _merge(base, toMerge) {\r\n  for (var p in toMerge) {\r\n    base[p] = toMerge[p];\r\n  }\r\n\r\n  return base;\r\n},\r\n    _mergeDeep = function _mergeDeep(base, toMerge) {\r\n  for (var p in toMerge) {\r\n    base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];\r\n  }\r\n\r\n  return base;\r\n},\r\n    _copyExcluding = function _copyExcluding(obj, excluding) {\r\n  var copy = {},\r\n      p;\r\n\r\n  for (p in obj) {\r\n    if (!(p in excluding)) {\r\n      copy[p] = obj[p];\r\n    }\r\n  }\r\n\r\n  return copy;\r\n},\r\n    _inheritDefaults = function _inheritDefaults(vars) {\r\n  var parent = vars.parent || _globalTimeline,\r\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\r\n\r\n  if (_isNotFalse(vars.inherit)) {\r\n    while (parent) {\r\n      func(vars, parent.vars.defaults);\r\n      parent = parent.parent;\r\n    }\r\n  }\r\n\r\n  return vars;\r\n},\r\n    _arraysMatch = function _arraysMatch(a1, a2) {\r\n  var i = a1.length,\r\n      match = i === a2.length;\r\n\r\n  while (match && i-- && a1[i] === a2[i]) {}\r\n\r\n  return i < 0;\r\n},\r\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\r\n  if (firstProp === void 0) {\r\n    firstProp = \"_first\";\r\n  }\r\n\r\n  if (lastProp === void 0) {\r\n    lastProp = \"_last\";\r\n  }\r\n\r\n  var prev = parent[lastProp],\r\n      t;\r\n\r\n  if (sortBy) {\r\n    t = child[sortBy];\r\n\r\n    while (prev && prev[sortBy] > t) {\r\n      prev = prev._prev;\r\n    }\r\n  }\r\n\r\n  if (prev) {\r\n    child._next = prev._next;\r\n    prev._next = child;\r\n  } else {\r\n    child._next = parent[firstProp];\r\n    parent[firstProp] = child;\r\n  }\r\n\r\n  if (child._next) {\r\n    child._next._prev = child;\r\n  } else {\r\n    parent[lastProp] = child;\r\n  }\r\n\r\n  child._prev = prev;\r\n  child.parent = child._dp = parent;\r\n  return child;\r\n},\r\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\r\n  if (firstProp === void 0) {\r\n    firstProp = \"_first\";\r\n  }\r\n\r\n  if (lastProp === void 0) {\r\n    lastProp = \"_last\";\r\n  }\r\n\r\n  var prev = child._prev,\r\n      next = child._next;\r\n\r\n  if (prev) {\r\n    prev._next = next;\r\n  } else if (parent[firstProp] === child) {\r\n    parent[firstProp] = next;\r\n  }\r\n\r\n  if (next) {\r\n    next._prev = prev;\r\n  } else if (parent[lastProp] === child) {\r\n    parent[lastProp] = prev;\r\n  }\r\n\r\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\r\n},\r\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\r\n  if (child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren)) {\r\n    child.parent.remove(child);\r\n  }\r\n\r\n  child._act = 0;\r\n},\r\n    _uncache = function _uncache(animation) {\r\n  var a = animation;\r\n\r\n  while (a) {\r\n    a._dirty = 1;\r\n    a = a.parent;\r\n  }\r\n\r\n  return animation;\r\n},\r\n    _recacheAncestors = function _recacheAncestors(animation) {\r\n  var parent = animation.parent;\r\n\r\n  while (parent && parent.parent) {\r\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\r\n    parent._dirty = 1;\r\n    parent.totalDuration();\r\n    parent = parent.parent;\r\n  }\r\n\r\n  return animation;\r\n},\r\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\r\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\r\n},\r\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\r\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\r\n},\r\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\r\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\r\n  return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;\r\n},\r\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\r\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\r\n},\r\n    _setEnd = function _setEnd(animation) {\r\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\r\n},\r\n\r\n/*\r\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\r\n\tlet cycleDuration = duration + repeatDelay,\r\n\t\ttime = _round(clampedTotalTime % cycleDuration);\r\n\tif (time > duration) {\r\n\t\ttime = duration;\r\n\t}\r\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\r\n},\r\n*/\r\n_postAddChecks = function _postAddChecks(timeline, child) {\r\n  var t;\r\n\r\n  if (child._time || child._initted && !child._dur) {\r\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\r\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\r\n\r\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\r\n      child.render(t, true);\r\n    }\r\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\r\n\r\n\r\n  if (_uncache(timeline)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\r\n    //in case any of the ancestors had completed but should now be enabled...\r\n    if (timeline._dur < timeline.duration()) {\r\n      t = timeline;\r\n\r\n      while (t._dp) {\r\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\r\n\r\n        t = t._dp;\r\n      }\r\n    }\r\n\r\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\r\n  }\r\n},\r\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\r\n  child.parent && _removeFromParent(child);\r\n  child._start = _round(position + child._delay);\r\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\r\n\r\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\r\n\r\n  timeline._recent = child;\r\n  skipChecks || _postAddChecks(timeline, child);\r\n  return timeline;\r\n},\r\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\r\n  _initTween(tween, totalTime);\r\n\r\n  if (!tween._initted) {\r\n    return 1;\r\n  }\r\n\r\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\r\n    _lazyTweens.push(tween);\r\n\r\n    tween._lazy = [totalTime, suppressEvents];\r\n    return 1;\r\n  }\r\n},\r\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\r\n  var prevRatio = tween._zTime < 0 ? 0 : 1,\r\n      ratio = totalTime < 0 ? 0 : 1,\r\n      repeatDelay = tween._rDelay,\r\n      tTime = 0,\r\n      pt,\r\n      iteration,\r\n      prevIteration;\r\n\r\n  if (repeatDelay && tween._repeat) {\r\n    //in case there's a zero-duration tween that has a repeat with a repeatDelay\r\n    tTime = _clamp(0, tween._tDur, totalTime);\r\n    iteration = _animationCycle(tTime, repeatDelay);\r\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\r\n\r\n    if (iteration !== prevIteration) {\r\n      prevRatio = 1 - ratio;\r\n\r\n      if (tween.vars.repeatRefresh && tween._initted) {\r\n        tween.invalidate();\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\r\n    //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\r\n    return;\r\n  }\r\n\r\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\r\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\r\n\r\n    tween.ratio = ratio;\r\n\r\n    if (tween._from) {\r\n      ratio = 1 - ratio;\r\n    }\r\n\r\n    tween._time = 0;\r\n    tween._tTime = tTime;\r\n    suppressEvents || _callback(tween, \"onStart\");\r\n    pt = tween._pt;\r\n\r\n    while (pt) {\r\n      pt.r(ratio, pt.d);\r\n      pt = pt._next;\r\n    }\r\n\r\n    if (!ratio && tween._startAt && !tween._onUpdate && tween._start) {\r\n      //if the tween is positioned at the VERY beginning (_start 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\r\n      tween._startAt.render(totalTime, true, force);\r\n    }\r\n\r\n    tween._onUpdate && (suppressEvents || _callback(tween, \"onUpdate\"));\r\n\r\n    if (tTime && tween._repeat && !suppressEvents && tween.parent) {\r\n      _callback(tween, \"onRepeat\");\r\n    }\r\n\r\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\r\n      tween.ratio && _removeFromParent(tween, 1);\r\n\r\n      if (!suppressEvents) {\r\n        _callback(tween, tween.ratio ? \"onComplete\" : \"onReverseComplete\", true);\r\n\r\n        tween._prom && tween._prom();\r\n      }\r\n    }\r\n  }\r\n},\r\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\r\n  var child;\r\n\r\n  if (time > prevTime) {\r\n    child = animation._first;\r\n\r\n    while (child && child._start <= time) {\r\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\r\n        return child;\r\n      }\r\n\r\n      child = child._next;\r\n    }\r\n  } else {\r\n    child = animation._last;\r\n\r\n    while (child && child._start >= time) {\r\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\r\n        return child;\r\n      }\r\n\r\n      child = child._prev;\r\n    }\r\n  }\r\n},\r\n    _setDuration = function _setDuration(animation, duration, skipUncache) {\r\n  var repeat = animation._repeat,\r\n      dur = _round(duration) || 0;\r\n  animation._dur = dur;\r\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e12 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\r\n\r\n  if (animation._time > dur) {\r\n    animation._time = dur;\r\n    animation._tTime = Math.min(animation._tTime, animation._tDur);\r\n  }\r\n\r\n  !skipUncache && _uncache(animation.parent);\r\n  animation.parent && _setEnd(animation);\r\n  return animation;\r\n},\r\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\r\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\r\n},\r\n    _zeroPosition = {\r\n  _start: 0,\r\n  endTime: _emptyFunc\r\n},\r\n    _parsePosition = function _parsePosition(animation, position) {\r\n  var labels = animation.labels,\r\n      recent = animation._recent || _zeroPosition,\r\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\r\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\r\n  i,\r\n      offset;\r\n\r\n  if (_isString(position) && (isNaN(position) || position in labels)) {\r\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\r\n    i = position.charAt(0);\r\n\r\n    if (i === \"<\" || i === \">\") {\r\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\r\n    }\r\n\r\n    i = position.indexOf(\"=\");\r\n\r\n    if (i < 0) {\r\n      if (!(position in labels)) {\r\n        labels[position] = clippedDuration;\r\n      }\r\n\r\n      return labels[position];\r\n    }\r\n\r\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\r\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\r\n  }\r\n\r\n  return position == null ? clippedDuration : +position;\r\n},\r\n    _conditionalReturn = function _conditionalReturn(value, func) {\r\n  return value || value === 0 ? func(value) : func;\r\n},\r\n    _clamp = function _clamp(min, max, value) {\r\n  return value < min ? min : value > max ? max : value;\r\n},\r\n    getUnit = function getUnit(value) {\r\n  return (value + \"\").substr((parseFloat(value) + \"\").length);\r\n},\r\n    clamp = function clamp(min, max, value) {\r\n  return _conditionalReturn(value, function (v) {\r\n    return _clamp(min, max, v);\r\n  });\r\n},\r\n    _slice = [].slice,\r\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\r\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\r\n},\r\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\r\n  if (accumulator === void 0) {\r\n    accumulator = [];\r\n  }\r\n\r\n  return ar.forEach(function (value) {\r\n    var _accumulator;\r\n\r\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\r\n  }) || accumulator;\r\n},\r\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\r\ntoArray = function toArray(value, leaveStrings) {\r\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\r\n},\r\n    shuffle = function shuffle(a) {\r\n  return a.sort(function () {\r\n    return .5 - Math.random();\r\n  });\r\n},\r\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = ~~(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\r\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\r\ndistribute = function distribute(v) {\r\n  if (_isFunction(v)) {\r\n    return v;\r\n  }\r\n\r\n  var vars = _isObject(v) ? v : {\r\n    each: v\r\n  },\r\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\r\n  ease = _parseEase(vars.ease),\r\n      from = vars.from || 0,\r\n      base = parseFloat(vars.base) || 0,\r\n      cache = {},\r\n      isDecimal = from > 0 && from < 1,\r\n      ratios = isNaN(from) || isDecimal,\r\n      axis = vars.axis,\r\n      ratioX = from,\r\n      ratioY = from;\r\n\r\n  if (_isString(from)) {\r\n    ratioX = ratioY = {\r\n      center: .5,\r\n      edges: .5,\r\n      end: 1\r\n    }[from] || 0;\r\n  } else if (!isDecimal && ratios) {\r\n    ratioX = from[0];\r\n    ratioY = from[1];\r\n  }\r\n\r\n  return function (i, target, a) {\r\n    var l = (a || vars).length,\r\n        distances = cache[l],\r\n        originX,\r\n        originY,\r\n        x,\r\n        y,\r\n        d,\r\n        j,\r\n        max,\r\n        min,\r\n        wrapAt;\r\n\r\n    if (!distances) {\r\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\r\n\r\n      if (!wrapAt) {\r\n        max = -_bigNum;\r\n\r\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\r\n\r\n        wrapAt--;\r\n      }\r\n\r\n      distances = cache[l] = [];\r\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\r\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\r\n      max = 0;\r\n      min = _bigNum;\r\n\r\n      for (j = 0; j < l; j++) {\r\n        x = j % wrapAt - originX;\r\n        y = originY - (j / wrapAt | 0);\r\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\r\n\r\n        if (d > max) {\r\n          max = d;\r\n        }\r\n\r\n        if (d < min) {\r\n          min = d;\r\n        }\r\n      }\r\n\r\n      from === \"random\" && shuffle(distances);\r\n      distances.max = max - min;\r\n      distances.min = min;\r\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\r\n      distances.b = l < 0 ? base - l : base;\r\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\r\n\r\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\r\n    }\r\n\r\n    l = (distances[i] - distances.min) / distances.max || 0;\r\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\r\n  };\r\n},\r\n    _roundModifier = function _roundModifier(v) {\r\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\r\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\r\n\r\n  return function (raw) {\r\n    return ~~(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));\r\n  };\r\n},\r\n    snap = function snap(snapTo, value) {\r\n  var isArray = _isArray(snapTo),\r\n      radius,\r\n      is2D;\r\n\r\n  if (!isArray && _isObject(snapTo)) {\r\n    radius = isArray = snapTo.radius || _bigNum;\r\n\r\n    if (snapTo.values) {\r\n      snapTo = toArray(snapTo.values);\r\n\r\n      if (is2D = !_isNumber(snapTo[0])) {\r\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\r\n      }\r\n    } else {\r\n      snapTo = _roundModifier(snapTo.increment);\r\n    }\r\n  }\r\n\r\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\r\n    is2D = snapTo(raw);\r\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\r\n  } : function (raw) {\r\n    var x = parseFloat(is2D ? raw.x : raw),\r\n        y = parseFloat(is2D ? raw.y : 0),\r\n        min = _bigNum,\r\n        closest = 0,\r\n        i = snapTo.length,\r\n        dx,\r\n        dy;\r\n\r\n    while (i--) {\r\n      if (is2D) {\r\n        dx = snapTo[i].x - x;\r\n        dy = snapTo[i].y - y;\r\n        dx = dx * dx + dy * dy;\r\n      } else {\r\n        dx = Math.abs(snapTo[i] - x);\r\n      }\r\n\r\n      if (dx < min) {\r\n        min = dx;\r\n        closest = i;\r\n      }\r\n    }\r\n\r\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\r\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\r\n  });\r\n},\r\n    random = function random(min, max, roundingIncrement, returnFunction) {\r\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\r\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && ~~(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\r\n  });\r\n},\r\n    pipe = function pipe() {\r\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    functions[_key] = arguments[_key];\r\n  }\r\n\r\n  return function (value) {\r\n    return functions.reduce(function (v, f) {\r\n      return f(v);\r\n    }, value);\r\n  };\r\n},\r\n    unitize = function unitize(func, unit) {\r\n  return function (value) {\r\n    return func(parseFloat(value)) + (unit || getUnit(value));\r\n  };\r\n},\r\n    normalize = function normalize(min, max, value) {\r\n  return mapRange(min, max, 0, 1, value);\r\n},\r\n    _wrapArray = function _wrapArray(a, wrapper, value) {\r\n  return _conditionalReturn(value, function (index) {\r\n    return a[~~wrapper(index)];\r\n  });\r\n},\r\n    wrap = function wrap(min, max, value) {\r\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\r\n  var range = max - min;\r\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\r\n    return (range + (value - min) % range) % range + min;\r\n  });\r\n},\r\n    wrapYoyo = function wrapYoyo(min, max, value) {\r\n  var range = max - min,\r\n      total = range * 2;\r\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\r\n    value = (total + (value - min) % total) % total;\r\n    return min + (value > range ? total - value : value);\r\n  });\r\n},\r\n    _replaceRandom = function _replaceRandom(value) {\r\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\r\n  var prev = 0,\r\n      s = \"\",\r\n      i,\r\n      nums,\r\n      end,\r\n      isArray;\r\n\r\n  while (~(i = value.indexOf(\"random(\", prev))) {\r\n    end = value.indexOf(\")\", i);\r\n    isArray = value.charAt(i + 7) === \"[\";\r\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\r\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], +nums[1], +nums[2] || 1e-5);\r\n    prev = end + 1;\r\n  }\r\n\r\n  return s + value.substr(prev, value.length - prev);\r\n},\r\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\r\n  var inRange = inMax - inMin,\r\n      outRange = outMax - outMin;\r\n  return _conditionalReturn(value, function (value) {\r\n    return outMin + (value - inMin) / inRange * outRange;\r\n  });\r\n},\r\n    interpolate = function interpolate(start, end, progress, mutate) {\r\n  var func = isNaN(start + end) ? 0 : function (p) {\r\n    return (1 - p) * start + p * end;\r\n  };\r\n\r\n  if (!func) {\r\n    var isString = _isString(start),\r\n        master = {},\r\n        p,\r\n        i,\r\n        interpolators,\r\n        l,\r\n        il;\r\n\r\n    progress === true && (mutate = 1) && (progress = null);\r\n\r\n    if (isString) {\r\n      start = {\r\n        p: start\r\n      };\r\n      end = {\r\n        p: end\r\n      };\r\n    } else if (_isArray(start) && !_isArray(end)) {\r\n      interpolators = [];\r\n      l = start.length;\r\n      il = l - 2;\r\n\r\n      for (i = 1; i < l; i++) {\r\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\r\n      }\r\n\r\n      l--;\r\n\r\n      func = function func(p) {\r\n        p *= l;\r\n        var i = Math.min(il, ~~p);\r\n        return interpolators[i](p - i);\r\n      };\r\n\r\n      progress = end;\r\n    } else if (!mutate) {\r\n      start = _merge(_isArray(start) ? [] : {}, start);\r\n    }\r\n\r\n    if (!interpolators) {\r\n      for (p in end) {\r\n        _addPropTween.call(master, start, p, \"get\", end[p]);\r\n      }\r\n\r\n      func = function func(p) {\r\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\r\n      };\r\n    }\r\n  }\r\n\r\n  return _conditionalReturn(progress, func);\r\n},\r\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\r\n  //used for nextLabel() and previousLabel()\r\n  var labels = timeline.labels,\r\n      min = _bigNum,\r\n      p,\r\n      distance,\r\n      label;\r\n\r\n  for (p in labels) {\r\n    distance = labels[p] - fromTime;\r\n\r\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\r\n      label = p;\r\n      min = distance;\r\n    }\r\n  }\r\n\r\n  return label;\r\n},\r\n    _callback = function _callback(animation, type, executeLazyFirst) {\r\n  var v = animation.vars,\r\n      callback = v[type],\r\n      params,\r\n      scope;\r\n\r\n  if (!callback) {\r\n    return;\r\n  }\r\n\r\n  params = v[type + \"Params\"];\r\n  scope = v.callbackScope || animation;\r\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\r\n\r\n  return params ? callback.apply(scope, params) : callback.call(scope);\r\n},\r\n    _interrupt = function _interrupt(animation) {\r\n  _removeFromParent(animation);\r\n\r\n  if (animation.progress() < 1) {\r\n    _callback(animation, \"onInterrupt\");\r\n  }\r\n\r\n  return animation;\r\n},\r\n    _quickTween,\r\n    _createPlugin = function _createPlugin(config) {\r\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\r\n\r\n  var name = config.name,\r\n      isFunc = _isFunction(config),\r\n      Plugin = name && !isFunc && config.init ? function () {\r\n    this._props = [];\r\n  } : config,\r\n      //in case someone passes in an object that's not a plugin, like CustomEase\r\n  instanceDefaults = {\r\n    init: _emptyFunc,\r\n    render: _renderPropTweens,\r\n    add: _addPropTween,\r\n    kill: _killPropTweensOf,\r\n    modifier: _addPluginModifier,\r\n    rawVars: 0\r\n  },\r\n      statics = {\r\n    targetTest: 0,\r\n    get: 0,\r\n    getSetter: _getSetter,\r\n    aliases: {},\r\n    register: 0\r\n  };\r\n\r\n  _wake();\r\n\r\n  if (config !== Plugin) {\r\n    if (_plugins[name]) {\r\n      return;\r\n    }\r\n\r\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\r\n\r\n\r\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\r\n\r\n\r\n    _plugins[Plugin.prop = name] = Plugin;\r\n\r\n    if (config.targetTest) {\r\n      _harnessPlugins.push(Plugin);\r\n\r\n      _reservedProps[name] = 1;\r\n    }\r\n\r\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\r\n  }\r\n\r\n  _addGlobal(name, Plugin);\r\n\r\n  if (config.register) {\r\n    config.register(gsap, Plugin, PropTween);\r\n  }\r\n},\r\n\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * COLORS\r\n * --------------------------------------------------------------------------------------\r\n */\r\n_255 = 255,\r\n    _colorLookup = {\r\n  aqua: [0, _255, _255],\r\n  lime: [0, _255, 0],\r\n  silver: [192, 192, 192],\r\n  black: [0, 0, 0],\r\n  maroon: [128, 0, 0],\r\n  teal: [0, 128, 128],\r\n  blue: [0, 0, _255],\r\n  navy: [0, 0, 128],\r\n  white: [_255, _255, _255],\r\n  olive: [128, 128, 0],\r\n  yellow: [_255, _255, 0],\r\n  orange: [_255, 165, 0],\r\n  gray: [128, 128, 128],\r\n  purple: [128, 0, 128],\r\n  green: [0, 128, 0],\r\n  red: [_255, 0, 0],\r\n  pink: [_255, 192, 203],\r\n  cyan: [0, _255, _255],\r\n  transparent: [_255, _255, _255, 0]\r\n},\r\n    _hue = function _hue(h, m1, m2) {\r\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\r\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\r\n},\r\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\r\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\r\n      r,\r\n      g,\r\n      b,\r\n      h,\r\n      s,\r\n      l,\r\n      max,\r\n      min,\r\n      d,\r\n      wasHSL;\r\n\r\n  if (!a) {\r\n    if (v.substr(-1) === \",\") {\r\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\r\n      v = v.substr(0, v.length - 1);\r\n    }\r\n\r\n    if (_colorLookup[v]) {\r\n      a = _colorLookup[v];\r\n    } else if (v.charAt(0) === \"#\") {\r\n      if (v.length === 4) {\r\n        //for shorthand like #9F0\r\n        r = v.charAt(1);\r\n        g = v.charAt(2);\r\n        b = v.charAt(3);\r\n        v = \"#\" + r + r + g + g + b + b;\r\n      }\r\n\r\n      v = parseInt(v.substr(1), 16);\r\n      a = [v >> 16, v >> 8 & _255, v & _255];\r\n    } else if (v.substr(0, 3) === \"hsl\") {\r\n      a = wasHSL = v.match(_strictNumExp);\r\n\r\n      if (!toHSL) {\r\n        h = +a[0] % 360 / 360;\r\n        s = +a[1] / 100;\r\n        l = +a[2] / 100;\r\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\r\n        r = l * 2 - g;\r\n\r\n        if (a.length > 3) {\r\n          a[3] *= 1; //cast as number\r\n        }\r\n\r\n        a[0] = _hue(h + 1 / 3, r, g);\r\n        a[1] = _hue(h, r, g);\r\n        a[2] = _hue(h - 1 / 3, r, g);\r\n      } else if (~v.indexOf(\"=\")) {\r\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\r\n        a = v.match(_numExp);\r\n        forceAlpha && a.length < 4 && (a[3] = 1);\r\n        return a;\r\n      }\r\n    } else {\r\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\r\n    }\r\n\r\n    a = a.map(Number);\r\n  }\r\n\r\n  if (toHSL && !wasHSL) {\r\n    r = a[0] / _255;\r\n    g = a[1] / _255;\r\n    b = a[2] / _255;\r\n    max = Math.max(r, g, b);\r\n    min = Math.min(r, g, b);\r\n    l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = s = 0;\r\n    } else {\r\n      d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\r\n      h *= 60;\r\n    }\r\n\r\n    a[0] = ~~(h + .5);\r\n    a[1] = ~~(s * 100 + .5);\r\n    a[2] = ~~(l * 100 + .5);\r\n  }\r\n\r\n  forceAlpha && a.length < 4 && (a[3] = 1);\r\n  return a;\r\n},\r\n    _colorOrderData = function _colorOrderData(v) {\r\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\r\n  var values = [],\r\n      c = [],\r\n      i = -1;\r\n  v.split(_colorExp).forEach(function (v) {\r\n    var a = v.match(_numWithUnitExp) || [];\r\n    values.push.apply(values, a);\r\n    c.push(i += a.length + 1);\r\n  });\r\n  values.c = c;\r\n  return values;\r\n},\r\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\r\n  var result = \"\",\r\n      colors = (s + result).match(_colorExp),\r\n      type = toHSL ? \"hsla(\" : \"rgba(\",\r\n      i = 0,\r\n      c,\r\n      shell,\r\n      d,\r\n      l;\r\n\r\n  if (!colors) {\r\n    return s;\r\n  }\r\n\r\n  colors = colors.map(function (color) {\r\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\r\n  });\r\n\r\n  if (orderMatchData) {\r\n    d = _colorOrderData(s);\r\n    c = orderMatchData.c;\r\n\r\n    if (c.join(result) !== d.c.join(result)) {\r\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\r\n      l = shell.length - 1;\r\n\r\n      for (; i < l; i++) {\r\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!shell) {\r\n    shell = s.split(_colorExp);\r\n    l = shell.length - 1;\r\n\r\n    for (; i < l; i++) {\r\n      result += shell[i] + colors[i];\r\n    }\r\n  }\r\n\r\n  return result + shell[l];\r\n},\r\n    _colorExp = function () {\r\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\",\r\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\r\n  p;\r\n\r\n  for (p in _colorLookup) {\r\n    s += \"|\" + p + \"\\\\b\";\r\n  }\r\n\r\n  return new RegExp(s + \")\", \"gi\");\r\n}(),\r\n    _hslExp = /hsl[a]?\\(/,\r\n    _colorStringFilter = function _colorStringFilter(a) {\r\n  var combined = a.join(\" \"),\r\n      toHSL;\r\n  _colorExp.lastIndex = 0;\r\n\r\n  if (_colorExp.test(combined)) {\r\n    toHSL = _hslExp.test(combined);\r\n    a[1] = _formatColors(a[1], toHSL);\r\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\r\n\r\n    return true;\r\n  }\r\n},\r\n\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * TICKER\r\n * --------------------------------------------------------------------------------------\r\n */\r\n_tickerActive,\r\n    _ticker = function () {\r\n  var _getTime = Date.now,\r\n      _lagThreshold = 500,\r\n      _adjustedLag = 33,\r\n      _startTime = _getTime(),\r\n      _lastUpdate = _startTime,\r\n      _gap = 1 / 240,\r\n      _nextTime = _gap,\r\n      _listeners = [],\r\n      _id,\r\n      _req,\r\n      _raf,\r\n      _self,\r\n      _tick = function _tick(v) {\r\n    var elapsed = _getTime() - _lastUpdate,\r\n        manual = v === true,\r\n        overlap,\r\n        dispatch;\r\n\r\n    if (elapsed > _lagThreshold) {\r\n      _startTime += elapsed - _adjustedLag;\r\n    }\r\n\r\n    _lastUpdate += elapsed;\r\n    _self.time = (_lastUpdate - _startTime) / 1000;\r\n    overlap = _self.time - _nextTime;\r\n\r\n    if (overlap > 0 || manual) {\r\n      _self.frame++;\r\n      _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\r\n      dispatch = 1;\r\n    }\r\n\r\n    if (!manual) {\r\n      //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\r\n      _id = _req(_tick);\r\n    }\r\n\r\n    if (dispatch) {\r\n      _listeners.forEach(function (l) {\r\n        return l(_self.time, elapsed, _self.frame, v);\r\n      });\r\n    }\r\n  };\r\n\r\n  _self = {\r\n    time: 0,\r\n    frame: 0,\r\n    tick: function tick() {\r\n      _tick(true);\r\n    },\r\n    wake: function wake() {\r\n      if (_coreReady) {\r\n        if (!_coreInitted && _windowExists()) {\r\n          _win = _coreInitted = window;\r\n          _doc = _win.document || {};\r\n          _globals.gsap = gsap;\r\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\r\n\r\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\r\n\r\n          _raf = _win.requestAnimationFrame;\r\n        }\r\n\r\n        _id && _self.sleep();\r\n\r\n        _req = _raf || function (f) {\r\n          return setTimeout(f, (_nextTime - _self.time) * 1000 + 1 | 0);\r\n        };\r\n\r\n        _tickerActive = 1;\r\n\r\n        _tick(2);\r\n      }\r\n    },\r\n    sleep: function sleep() {\r\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\r\n      _tickerActive = 0;\r\n      _req = _emptyFunc;\r\n    },\r\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\r\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\r\n\r\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\r\n    },\r\n    fps: function fps(_fps) {\r\n      _gap = 1 / (_fps || 240);\r\n      _nextTime = _self.time + _gap;\r\n    },\r\n    add: function add(callback) {\r\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\r\n\r\n      _wake();\r\n    },\r\n    remove: function remove(callback) {\r\n      var i;\r\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1);\r\n    },\r\n    _listeners: _listeners\r\n  };\r\n  return _self;\r\n}(),\r\n    _wake = function _wake() {\r\n  return !_tickerActive && _ticker.wake();\r\n},\r\n    //also ensures the core classes are initialized.\r\n\r\n/*\r\n* -------------------------------------------------\r\n* EASING\r\n* -------------------------------------------------\r\n*/\r\n_easeMap = {},\r\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\r\n    _quotesExp = /[\"']/g,\r\n    _parseObjectInString = function _parseObjectInString(value) {\r\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\r\n  var obj = {},\r\n      split = value.substr(1, value.length - 3).split(\":\"),\r\n      key = split[0],\r\n      i = 1,\r\n      l = split.length,\r\n      index,\r\n      val,\r\n      parsedVal;\r\n\r\n  for (; i < l; i++) {\r\n    val = split[i];\r\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\r\n    parsedVal = val.substr(0, index);\r\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\r\n    key = val.substr(index + 1).trim();\r\n  }\r\n\r\n  return obj;\r\n},\r\n    _configEaseFromString = function _configEaseFromString(name) {\r\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\r\n  var split = (name + \"\").split(\"(\"),\r\n      ease = _easeMap[split[0]];\r\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _parenthesesExp.exec(name)[1].split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\r\n},\r\n    _invertEase = function _invertEase(ease) {\r\n  return function (p) {\r\n    return 1 - ease(1 - p);\r\n  };\r\n},\r\n    // potential future feature - allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos. Not sure it's worth the kb.\r\n// _propagateYoyoEase = (timeline, isYoyo) => {\r\n// \tlet child = timeline._first, ease;\r\n// \twhile (child) {\r\n// \t\tif (child instanceof Timeline) {\r\n// \t\t\t_propagateYoyoEase(child, isYoyo);\r\n// \t\t} else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\r\n// \t\t\tif (child.timeline) {\r\n// \t\t\t\t_propagateYoyoEase(child.timeline, isYoyo);\r\n// \t\t\t} else {\r\n// \t\t\t\tease = child._ease;\r\n// \t\t\t\tchild._ease = child._yEase;\r\n// \t\t\t\tchild._yEase = ease;\r\n// \t\t\t\tchild._yoyo = isYoyo;\r\n// \t\t\t}\r\n// \t\t}\r\n// \t\tchild = child._next;\r\n// \t}\r\n// },\r\n_parseEase = function _parseEase(ease, defaultEase) {\r\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\r\n},\r\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\r\n  if (easeOut === void 0) {\r\n    easeOut = function easeOut(p) {\r\n      return 1 - easeIn(1 - p);\r\n    };\r\n  }\r\n\r\n  if (easeInOut === void 0) {\r\n    easeInOut = function easeInOut(p) {\r\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\r\n    };\r\n  }\r\n\r\n  var ease = {\r\n    easeIn: easeIn,\r\n    easeOut: easeOut,\r\n    easeInOut: easeInOut\r\n  },\r\n      lowercaseName;\r\n\r\n  _forEachName(names, function (name) {\r\n    _easeMap[name] = _globals[name] = ease;\r\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\r\n\r\n    for (var p in ease) {\r\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\r\n    }\r\n  });\r\n\r\n  return ease;\r\n},\r\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\r\n  return function (p) {\r\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\r\n  };\r\n},\r\n    _configElastic = function _configElastic(type, amplitude, period) {\r\n  var p1 = amplitude >= 1 ? amplitude : 1,\r\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\r\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\r\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\r\n      easeOut = function easeOut(p) {\r\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\r\n  },\r\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\r\n    return 1 - easeOut(1 - p);\r\n  } : _easeInOutFromOut(easeOut);\r\n\r\n  p2 = _2PI / p2; //precalculate to optimize\r\n\r\n  ease.config = function (amplitude, period) {\r\n    return _configElastic(type, amplitude, period);\r\n  };\r\n\r\n  return ease;\r\n},\r\n    _configBack = function _configBack(type, overshoot) {\r\n  if (overshoot === void 0) {\r\n    overshoot = 1.70158;\r\n  }\r\n\r\n  var easeOut = function easeOut(p) {\r\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\r\n  },\r\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\r\n    return 1 - easeOut(1 - p);\r\n  } : _easeInOutFromOut(easeOut);\r\n\r\n  ease.config = function (overshoot) {\r\n    return _configBack(type, overshoot);\r\n  };\r\n\r\n  return ease;\r\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\r\n// _weightedEase = ratio => {\r\n// \tlet y = 0.5 + ratio / 2;\r\n// \treturn p => (2 * (1 - p) * p * y + p * p);\r\n// },\r\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\r\n// _weightedEaseStrong = ratio => {\r\n// \tratio = .5 + ratio / 2;\r\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\r\n// \t\tb = ratio - o,\r\n// \t\tc = ratio + o;\r\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\r\n// };\r\n\r\n\r\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\r\n  var power = i < 5 ? i + 1 : i;\r\n\r\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\r\n    return Math.pow(p, power);\r\n  } : function (p) {\r\n    return p;\r\n  }, function (p) {\r\n    return 1 - Math.pow(1 - p, power);\r\n  }, function (p) {\r\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\r\n  });\r\n});\r\n\r\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\r\n\r\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\r\n\r\n(function (n, c) {\r\n  var n1 = 1 / c,\r\n      n2 = 2 * n1,\r\n      n3 = 2.5 * n1,\r\n      easeOut = function easeOut(p) {\r\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\r\n  };\r\n\r\n  _insertEase(\"Bounce\", function (p) {\r\n    return 1 - easeOut(1 - p);\r\n  }, easeOut);\r\n})(7.5625, 2.75);\r\n\r\n_insertEase(\"Expo\", function (p) {\r\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\r\n});\r\n\r\n_insertEase(\"Circ\", function (p) {\r\n  return -(_sqrt(1 - p * p) - 1);\r\n});\r\n\r\n_insertEase(\"Sine\", function (p) {\r\n  return -_cos(p * _HALF_PI) + 1;\r\n});\r\n\r\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\r\n\r\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\r\n  config: function config(steps, immediateStart) {\r\n    if (steps === void 0) {\r\n      steps = 1;\r\n    }\r\n\r\n    var p1 = 1 / steps,\r\n        p2 = steps + (immediateStart ? 0 : 1),\r\n        p3 = immediateStart ? 1 : 0,\r\n        max = 1 - _tinyNum;\r\n    return function (p) {\r\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\r\n    };\r\n  }\r\n};\r\n_defaults.ease = _easeMap[\"quad.out\"];\r\n\r\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\r\n  return _callbackNames += name + \",\" + name + \"Params,\";\r\n});\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * CACHE\r\n * --------------------------------------------------------------------------------------\r\n */\r\n\r\n\r\nexport var GSCache = function GSCache(target, harness) {\r\n  this.id = _gsID++;\r\n  target._gsap = this;\r\n  this.target = target;\r\n  this.harness = harness;\r\n  this.get = harness ? harness.get : _getProperty;\r\n  this.set = harness ? harness.getSetter : _getSetter;\r\n};\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * ANIMATION\r\n * --------------------------------------------------------------------------------------\r\n */\r\n\r\nexport var Animation =\r\n/*#__PURE__*/\r\nfunction () {\r\n  function Animation(vars, time) {\r\n    var parent = vars.parent || _globalTimeline;\r\n    this.vars = vars;\r\n    this._delay = +vars.delay || 0;\r\n\r\n    if (this._repeat = vars.repeat || 0) {\r\n      this._rDelay = vars.repeatDelay || 0;\r\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\r\n    }\r\n\r\n    this._ts = 1;\r\n\r\n    _setDuration(this, +vars.duration, 1);\r\n\r\n    this.data = vars.data;\r\n    _tickerActive || _ticker.wake();\r\n    parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);\r\n    vars.reversed && this.reverse();\r\n    vars.paused && this.paused(true);\r\n  }\r\n\r\n  var _proto = Animation.prototype;\r\n\r\n  _proto.delay = function delay(value) {\r\n    if (value || value === 0) {\r\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\r\n      this._delay = value;\r\n      return this;\r\n    }\r\n\r\n    return this._delay;\r\n  };\r\n\r\n  _proto.duration = function duration(value) {\r\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\r\n  };\r\n\r\n  _proto.totalDuration = function totalDuration(value) {\r\n    if (!arguments.length) {\r\n      return this._tDur;\r\n    }\r\n\r\n    this._dirty = 0;\r\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\r\n  };\r\n\r\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\r\n    _wake();\r\n\r\n    if (!arguments.length) {\r\n      return this._tTime;\r\n    }\r\n\r\n    var parent = this.parent || this._dp;\r\n\r\n    if (parent && parent.smoothChildTiming && this._ts) {\r\n      // if (!parent._dp && parent._time === parent._dur) { // if a root timeline completes...and then a while later one of its children resumes, we must shoot the playhead forward to where it should be raw-wise, otherwise the child will jump to the end. Down side: this assumes it's using the _ticker.time as a reference.\r\n      // \tparent._time = _ticker.time - parent._start;\r\n      // }\r\n      this._start = _round(parent._time - (this._ts > 0 ? _totalTime / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - _totalTime) / -this._ts));\r\n\r\n      _setEnd(this);\r\n\r\n      if (!parent._dirty) {\r\n        //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\r\n        _uncache(parent);\r\n      } //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\r\n\r\n\r\n      while (parent.parent) {\r\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\r\n          parent.totalTime(parent._tTime, true);\r\n        }\r\n\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!this.parent && this._dp.autoRemoveChildren) {\r\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\r\n        _addToTimeline(this._dp, this, this._start - this._delay);\r\n      }\r\n    }\r\n\r\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum) {\r\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\r\n\r\n      _lazySafeRender(this, _totalTime, suppressEvents);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  _proto.time = function time(value, suppressEvents) {\r\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\r\n  };\r\n\r\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\r\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\r\n  };\r\n\r\n  _proto.progress = function progress(value, suppressEvents) {\r\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\r\n  };\r\n\r\n  _proto.iteration = function iteration(value, suppressEvents) {\r\n    var cycleDuration = this.duration() + this._rDelay;\r\n\r\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\r\n  };\r\n\r\n  _proto.timeScale = function timeScale(value) {\r\n    if (!arguments.length) {\r\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\r\n    }\r\n\r\n    if (this._rts === value) {\r\n      return this;\r\n    }\r\n\r\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\r\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\r\n\r\n    this._rts = +value || 0;\r\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\r\n\r\n    return _recacheAncestors(this.totalTime(tTime, true));\r\n  };\r\n\r\n  _proto.paused = function paused(value) {\r\n    if (!arguments.length) {\r\n      return this._ps;\r\n    }\r\n\r\n    if (this._ps !== value) {\r\n      this._ps = value;\r\n\r\n      if (value) {\r\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\r\n\r\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\r\n      } else {\r\n        _wake();\r\n\r\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\r\n\r\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  _proto.startTime = function startTime(value) {\r\n    if (arguments.length) {\r\n      this._start = value;\r\n      var parent = this.parent || this._dp;\r\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\r\n      return this;\r\n    }\r\n\r\n    return this._start;\r\n  };\r\n\r\n  _proto.endTime = function endTime(includeRepeats) {\r\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\r\n  };\r\n\r\n  _proto.rawTime = function rawTime(wrapRepeats) {\r\n    var parent = this.parent || this._dp; // _dp = detatched parent\r\n\r\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\r\n  } // globalTime(rawTime) {\r\n  // \tlet animation = this,\r\n  // \t\ttime = arguments.length ? rawTime : animation.rawTime();\r\n  // \twhile (animation) {\r\n  // \t\ttime = animation._start + time / (animation._ts || 1);\r\n  // \t\tanimation = animation.parent;\r\n  // \t}\r\n  // \treturn time;\r\n  // }\r\n  ;\r\n\r\n  _proto.repeat = function repeat(value) {\r\n    if (arguments.length) {\r\n      this._repeat = value;\r\n      return _onUpdateTotalDuration(this);\r\n    }\r\n\r\n    return this._repeat;\r\n  };\r\n\r\n  _proto.repeatDelay = function repeatDelay(value) {\r\n    if (arguments.length) {\r\n      this._rDelay = value;\r\n      return _onUpdateTotalDuration(this);\r\n    }\r\n\r\n    return this._rDelay;\r\n  };\r\n\r\n  _proto.yoyo = function yoyo(value) {\r\n    if (arguments.length) {\r\n      this._yoyo = value;\r\n      return this;\r\n    }\r\n\r\n    return this._yoyo;\r\n  };\r\n\r\n  _proto.seek = function seek(position, suppressEvents) {\r\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\r\n  };\r\n\r\n  _proto.restart = function restart(includeDelay, suppressEvents) {\r\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\r\n  };\r\n\r\n  _proto.play = function play(from, suppressEvents) {\r\n    if (from != null) {\r\n      this.seek(from, suppressEvents);\r\n    }\r\n\r\n    return this.reversed(false).paused(false);\r\n  };\r\n\r\n  _proto.reverse = function reverse(from, suppressEvents) {\r\n    if (from != null) {\r\n      this.seek(from || this.totalDuration(), suppressEvents);\r\n    }\r\n\r\n    return this.reversed(true).paused(false);\r\n  };\r\n\r\n  _proto.pause = function pause(atTime, suppressEvents) {\r\n    if (atTime != null) {\r\n      this.seek(atTime, suppressEvents);\r\n    }\r\n\r\n    return this.paused(true);\r\n  };\r\n\r\n  _proto.resume = function resume() {\r\n    return this.paused(false);\r\n  };\r\n\r\n  _proto.reversed = function reversed(value) {\r\n    if (arguments.length) {\r\n      if (!!value !== this.reversed()) {\r\n        this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    return this._rts < 0;\r\n  };\r\n\r\n  _proto.invalidate = function invalidate() {\r\n    this._initted = 0;\r\n    this._zTime = -_tinyNum;\r\n    return this;\r\n  };\r\n\r\n  _proto.isActive = function isActive(hasStarted) {\r\n    var parent = this.parent || this._dp,\r\n        start = this._start,\r\n        rawTime;\r\n    return !!(!parent || this._ts && (this._initted || !hasStarted) && parent.isActive(hasStarted) && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\r\n  };\r\n\r\n  _proto.eventCallback = function eventCallback(type, callback, params) {\r\n    var vars = this.vars;\r\n\r\n    if (arguments.length > 1) {\r\n      if (!callback) {\r\n        delete vars[type];\r\n      } else {\r\n        vars[type] = callback;\r\n\r\n        if (params) {\r\n          vars[type + \"Params\"] = params;\r\n        }\r\n\r\n        if (type === \"onUpdate\") {\r\n          this._onUpdate = callback;\r\n        }\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    return vars[type];\r\n  };\r\n\r\n  _proto.then = function then(onFulfilled) {\r\n    var self = this;\r\n    return new Promise(function (resolve) {\r\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\r\n          _resolve = function _resolve() {\r\n        var _then = self.then;\r\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\r\n\r\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\r\n        resolve(f);\r\n        self.then = _then;\r\n      };\r\n\r\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\r\n        _resolve();\r\n      } else {\r\n        self._prom = _resolve;\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.kill = function kill() {\r\n    _interrupt(this);\r\n  };\r\n\r\n  return Animation;\r\n}();\r\n\r\n_setDefaults(Animation.prototype, {\r\n  _time: 0,\r\n  _start: 0,\r\n  _end: 0,\r\n  _tTime: 0,\r\n  _tDur: 0,\r\n  _dirty: 0,\r\n  _repeat: 0,\r\n  _yoyo: false,\r\n  parent: null,\r\n  _initted: false,\r\n  _rDelay: 0,\r\n  _ts: 1,\r\n  _dp: 0,\r\n  ratio: 0,\r\n  _zTime: -_tinyNum,\r\n  _prom: 0,\r\n  _ps: false,\r\n  _rts: 1\r\n});\r\n/*\r\n * -------------------------------------------------\r\n * TIMELINE\r\n * -------------------------------------------------\r\n */\r\n\r\n\r\nexport var Timeline =\r\n/*#__PURE__*/\r\nfunction (_Animation) {\r\n  _inheritsLoose(Timeline, _Animation);\r\n\r\n  function Timeline(vars, time) {\r\n    var _this;\r\n\r\n    if (vars === void 0) {\r\n      vars = {};\r\n    }\r\n\r\n    _this = _Animation.call(this, vars, time) || this;\r\n    _this.labels = {};\r\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\r\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\r\n    _this._sort = _isNotFalse(vars.sortChildren);\r\n    _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));\r\n    return _this;\r\n  }\r\n\r\n  var _proto2 = Timeline.prototype;\r\n\r\n  _proto2.to = function to(targets, vars, position) {\r\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\r\n    return this;\r\n  };\r\n\r\n  _proto2.from = function from(targets, vars, position) {\r\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\r\n    return this;\r\n  };\r\n\r\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\r\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\r\n    return this;\r\n  };\r\n\r\n  _proto2.set = function set(targets, vars, position) {\r\n    vars.duration = 0;\r\n    vars.parent = this;\r\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\r\n    vars.immediateRender = !!vars.immediateRender;\r\n    new Tween(targets, vars, _parsePosition(this, position), 1);\r\n    return this;\r\n  };\r\n\r\n  _proto2.call = function call(callback, params, position) {\r\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\r\n  } //ONLY for backward compatibility! Maybe delete?\r\n  ;\r\n\r\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\r\n    vars.duration = duration;\r\n    vars.stagger = vars.stagger || stagger;\r\n    vars.onComplete = onCompleteAll;\r\n    vars.onCompleteParams = onCompleteAllParams;\r\n    vars.parent = this;\r\n    new Tween(targets, vars, _parsePosition(this, position));\r\n    return this;\r\n  };\r\n\r\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\r\n    vars.runBackwards = 1;\r\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\r\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\r\n  };\r\n\r\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\r\n    toVars.startAt = fromVars;\r\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\r\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\r\n  };\r\n\r\n  _proto2.render = function render(totalTime, suppressEvents, force) {\r\n    var prevTime = this._time,\r\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\r\n        dur = this._dur,\r\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\r\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\r\n        time,\r\n        child,\r\n        next,\r\n        iteration,\r\n        cycleDuration,\r\n        prevPaused,\r\n        pauseTween,\r\n        timeScale,\r\n        prevStart,\r\n        prevIteration,\r\n        yoyo,\r\n        isYoyo;\r\n\r\n    if (tTime !== this._tTime || force || crossingStart) {\r\n      if (prevTime !== this._time && dur) {\r\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\r\n        tTime += this._time - prevTime;\r\n        totalTime += this._time - prevTime;\r\n      }\r\n\r\n      time = tTime;\r\n      prevStart = this._start;\r\n      timeScale = this._ts;\r\n      prevPaused = !timeScale;\r\n\r\n      if (crossingStart) {\r\n        if (!dur) {\r\n          prevTime = this._zTime;\r\n        }\r\n\r\n        if (totalTime || !suppressEvents) {\r\n          //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\r\n          this._zTime = totalTime;\r\n        }\r\n      }\r\n\r\n      if (this._repeat) {\r\n        //adjust the time for repeats and yoyos\r\n        yoyo = this._yoyo;\r\n        cycleDuration = dur + this._rDelay;\r\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\r\n\r\n        if (time > dur || tDur === tTime) {\r\n          time = dur;\r\n        }\r\n\r\n        iteration = ~~(tTime / cycleDuration);\r\n\r\n        if (iteration && iteration === tTime / cycleDuration) {\r\n          time = dur;\r\n          iteration--;\r\n        }\r\n\r\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\r\n\r\n        if (yoyo && iteration & 1) {\r\n          time = dur - time;\r\n          isYoyo = 1;\r\n        }\r\n        /*\r\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\r\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\r\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\r\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\r\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\r\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\r\n        */\r\n\r\n\r\n        if (iteration !== prevIteration && !this._lock) {\r\n          var rewinding = yoyo && prevIteration & 1,\r\n              doesWrap = rewinding === (yoyo && iteration & 1);\r\n\r\n          if (iteration < prevIteration) {\r\n            rewinding = !rewinding;\r\n          }\r\n\r\n          prevTime = rewinding ? 0 : dur;\r\n          this._lock = 1;\r\n          this.render(prevTime, suppressEvents, !dur)._lock = 0;\r\n\r\n          if (!suppressEvents && this.parent) {\r\n            _callback(this, \"onRepeat\");\r\n          }\r\n\r\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\r\n\r\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\r\n            return this;\r\n          }\r\n\r\n          if (doesWrap) {\r\n            this._lock = 2;\r\n            prevTime = rewinding ? dur + 0.0001 : -0.0001;\r\n            this.render(prevTime, true);\r\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\r\n          }\r\n\r\n          this._lock = 0;\r\n\r\n          if (!this._ts && !prevPaused) {\r\n            return this;\r\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\r\n          //_propagateYoyoEase(this, isYoyo);\r\n\r\n        }\r\n      }\r\n\r\n      if (this._hasPause && !this._forcing && this._lock < 2) {\r\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\r\n\r\n        if (pauseTween) {\r\n          tTime -= time - (time = pauseTween._start);\r\n        }\r\n      }\r\n\r\n      this._tTime = tTime;\r\n      this._time = time;\r\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\r\n\r\n      if (!this._initted) {\r\n        this._onUpdate = this.vars.onUpdate;\r\n        this._initted = 1;\r\n        this._zTime = totalTime;\r\n      }\r\n\r\n      if (!prevTime && time && !suppressEvents) {\r\n        _callback(this, \"onStart\");\r\n      }\r\n\r\n      if (time >= prevTime && totalTime >= 0) {\r\n        child = this._first;\r\n\r\n        while (child) {\r\n          next = child._next;\r\n\r\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\r\n            if (child.parent !== this) {\r\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\r\n              return this.render(totalTime, suppressEvents, force);\r\n            }\r\n\r\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\r\n\r\n            if (time !== this._time || !this._ts && !prevPaused) {\r\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\r\n              pauseTween = 0;\r\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\r\n\r\n              break;\r\n            }\r\n          }\r\n\r\n          child = next;\r\n        }\r\n      } else {\r\n        child = this._last;\r\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\r\n\r\n        while (child) {\r\n          next = child._prev;\r\n\r\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\r\n            if (child.parent !== this) {\r\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\r\n              return this.render(totalTime, suppressEvents, force);\r\n            }\r\n\r\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\r\n\r\n            if (time !== this._time || !this._ts && !prevPaused) {\r\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\r\n              pauseTween = 0;\r\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\r\n\r\n              break;\r\n            }\r\n          }\r\n\r\n          child = next;\r\n        }\r\n      }\r\n\r\n      if (pauseTween && !suppressEvents) {\r\n        this.pause();\r\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\r\n\r\n        if (this._ts) {\r\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\r\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\r\n\r\n          _setEnd(this);\r\n\r\n          return this.render(totalTime, suppressEvents, force);\r\n        }\r\n      }\r\n\r\n      if (this._onUpdate && !suppressEvents) {\r\n        _callback(this, \"onUpdate\", true);\r\n      }\r\n\r\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && this._ts < 0) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\r\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\r\n\r\n        if (!suppressEvents && !(totalTime < 0 && !prevTime)) {\r\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\r\n\r\n          this._prom && this._prom();\r\n        }\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  _proto2.add = function add(child, position) {\r\n    var _this2 = this;\r\n\r\n    if (!_isNumber(position)) {\r\n      position = _parsePosition(this, position);\r\n    }\r\n\r\n    if (!(child instanceof Animation)) {\r\n      if (_isArray(child)) {\r\n        child.forEach(function (obj) {\r\n          return _this2.add(obj, position);\r\n        });\r\n        return _uncache(this);\r\n      }\r\n\r\n      if (_isString(child)) {\r\n        return this.addLabel(child, position);\r\n      }\r\n\r\n      if (_isFunction(child)) {\r\n        child = Tween.delayedCall(0, child);\r\n      } else {\r\n        return this;\r\n      }\r\n    }\r\n\r\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\r\n  };\r\n\r\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\r\n    if (nested === void 0) {\r\n      nested = true;\r\n    }\r\n\r\n    if (tweens === void 0) {\r\n      tweens = true;\r\n    }\r\n\r\n    if (timelines === void 0) {\r\n      timelines = true;\r\n    }\r\n\r\n    if (ignoreBeforeTime === void 0) {\r\n      ignoreBeforeTime = -_bigNum;\r\n    }\r\n\r\n    var a = [],\r\n        child = this._first;\r\n\r\n    while (child) {\r\n      if (child._start >= ignoreBeforeTime) {\r\n        if (child instanceof Tween) {\r\n          if (tweens) {\r\n            a.push(child);\r\n          }\r\n        } else {\r\n          if (timelines) {\r\n            a.push(child);\r\n          }\r\n\r\n          if (nested) {\r\n            a.push.apply(a, child.getChildren(true, tweens, timelines));\r\n          }\r\n        }\r\n      }\r\n\r\n      child = child._next;\r\n    }\r\n\r\n    return a;\r\n  };\r\n\r\n  _proto2.getById = function getById(id) {\r\n    var animations = this.getChildren(1, 1, 1),\r\n        i = animations.length;\r\n\r\n    while (i--) {\r\n      if (animations[i].vars.id === id) {\r\n        return animations[i];\r\n      }\r\n    }\r\n  };\r\n\r\n  _proto2.remove = function remove(child) {\r\n    if (_isString(child)) {\r\n      return this.removeLabel(child);\r\n    }\r\n\r\n    if (_isFunction(child)) {\r\n      return this.killTweensOf(child);\r\n    }\r\n\r\n    _removeLinkedListItem(this, child);\r\n\r\n    if (child === this._recent) {\r\n      this._recent = this._last;\r\n    }\r\n\r\n    return _uncache(this);\r\n  };\r\n\r\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\r\n    if (!arguments.length) {\r\n      return this._tTime;\r\n    }\r\n\r\n    this._forcing = 1;\r\n\r\n    if (!this.parent && !this._dp && this._ts) {\r\n      //special case for the global timeline (or any other that has no parent or detached parent).\r\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\r\n    }\r\n\r\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\r\n\r\n    this._forcing = 0;\r\n    return this;\r\n  };\r\n\r\n  _proto2.addLabel = function addLabel(label, position) {\r\n    this.labels[label] = _parsePosition(this, position);\r\n    return this;\r\n  };\r\n\r\n  _proto2.removeLabel = function removeLabel(label) {\r\n    delete this.labels[label];\r\n    return this;\r\n  };\r\n\r\n  _proto2.addPause = function addPause(position, callback, params) {\r\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\r\n    t.data = \"isPause\";\r\n    this._hasPause = 1;\r\n    return _addToTimeline(this, t, _parsePosition(this, position));\r\n  };\r\n\r\n  _proto2.removePause = function removePause(position) {\r\n    var child = this._first;\r\n    position = _parsePosition(this, position);\r\n\r\n    while (child) {\r\n      if (child._start === position && child.data === \"isPause\") {\r\n        _removeFromParent(child);\r\n      }\r\n\r\n      child = child._next;\r\n    }\r\n  };\r\n\r\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\r\n    var tweens = this.getTweensOf(targets, onlyActive),\r\n        i = tweens.length;\r\n\r\n    while (i--) {\r\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\r\n    var a = [],\r\n        parsedTargets = toArray(targets),\r\n        child = this._first,\r\n        children;\r\n\r\n    while (child) {\r\n      if (child instanceof Tween) {\r\n        if (_arrayContainsAny(child._targets, parsedTargets) && (!onlyActive || child.isActive(onlyActive === \"started\"))) {\r\n          a.push(child);\r\n        }\r\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\r\n        a.push.apply(a, children);\r\n      }\r\n\r\n      child = child._next;\r\n    }\r\n\r\n    return a;\r\n  };\r\n\r\n  _proto2.tweenTo = function tweenTo(position, vars) {\r\n    vars = vars || {};\r\n\r\n    var tl = this,\r\n        endTime = _parsePosition(tl, position),\r\n        _vars = vars,\r\n        startAt = _vars.startAt,\r\n        _onStart = _vars.onStart,\r\n        onStartParams = _vars.onStartParams,\r\n        tween = Tween.to(tl, _setDefaults(vars, {\r\n      ease: \"none\",\r\n      lazy: false,\r\n      time: endTime,\r\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\r\n      onStart: function onStart() {\r\n        tl.pause();\r\n        var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());\r\n\r\n        if (tween._dur !== duration) {\r\n          _setDuration(tween, duration).render(tween._time, true, true);\r\n        }\r\n\r\n        if (_onStart) {\r\n          //in case the user had an onStart in the vars - we don't want to overwrite it.\r\n          _onStart.apply(tween, onStartParams || []);\r\n        }\r\n      }\r\n    }));\r\n\r\n    return tween;\r\n  };\r\n\r\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\r\n    return this.tweenTo(toPosition, _setDefaults({\r\n      startAt: {\r\n        time: _parsePosition(this, fromPosition)\r\n      }\r\n    }, vars));\r\n  };\r\n\r\n  _proto2.recent = function recent() {\r\n    return this._recent;\r\n  };\r\n\r\n  _proto2.nextLabel = function nextLabel(afterTime) {\r\n    if (afterTime === void 0) {\r\n      afterTime = this._time;\r\n    }\r\n\r\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\r\n  };\r\n\r\n  _proto2.previousLabel = function previousLabel(beforeTime) {\r\n    if (beforeTime === void 0) {\r\n      beforeTime = this._time;\r\n    }\r\n\r\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\r\n  };\r\n\r\n  _proto2.currentLabel = function currentLabel(value) {\r\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\r\n  };\r\n\r\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\r\n    if (ignoreBeforeTime === void 0) {\r\n      ignoreBeforeTime = 0;\r\n    }\r\n\r\n    var child = this._first,\r\n        labels = this.labels,\r\n        p;\r\n\r\n    while (child) {\r\n      if (child._start >= ignoreBeforeTime) {\r\n        child._start += amount;\r\n      }\r\n\r\n      child = child._next;\r\n    }\r\n\r\n    if (adjustLabels) {\r\n      for (p in labels) {\r\n        if (labels[p] >= ignoreBeforeTime) {\r\n          labels[p] += amount;\r\n        }\r\n      }\r\n    }\r\n\r\n    return _uncache(this);\r\n  };\r\n\r\n  _proto2.invalidate = function invalidate() {\r\n    var child = this._first;\r\n    this._lock = 0;\r\n\r\n    while (child) {\r\n      child.invalidate();\r\n      child = child._next;\r\n    }\r\n\r\n    return _Animation.prototype.invalidate.call(this);\r\n  };\r\n\r\n  _proto2.clear = function clear(includeLabels) {\r\n    if (includeLabels === void 0) {\r\n      includeLabels = true;\r\n    }\r\n\r\n    var child = this._first,\r\n        next;\r\n\r\n    while (child) {\r\n      next = child._next;\r\n      this.remove(child);\r\n      child = next;\r\n    }\r\n\r\n    this._time = this._tTime = 0;\r\n\r\n    if (includeLabels) {\r\n      this.labels = {};\r\n    }\r\n\r\n    return _uncache(this);\r\n  };\r\n\r\n  _proto2.totalDuration = function totalDuration(value) {\r\n    var max = 0,\r\n        self = this,\r\n        child = self._last,\r\n        prevStart = _bigNum,\r\n        prev,\r\n        end,\r\n        start,\r\n        parent;\r\n\r\n    if (arguments.length) {\r\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\r\n    }\r\n\r\n    if (self._dirty) {\r\n      parent = self.parent;\r\n\r\n      while (child) {\r\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\r\n\r\n        if (child._dirty) {\r\n          child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\r\n        }\r\n\r\n        start = child._start;\r\n\r\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\r\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\r\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\r\n\r\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\r\n        } else {\r\n          prevStart = start;\r\n        }\r\n\r\n        if (start < 0 && child._ts) {\r\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\r\n          max -= start;\r\n\r\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\r\n            self._start += start / self._ts;\r\n            self._time -= start;\r\n            self._tTime -= start;\r\n          }\r\n\r\n          self.shiftChildren(-start, false, -1e20);\r\n          prevStart = 0;\r\n        }\r\n\r\n        end = _setEnd(child);\r\n\r\n        if (end > max && child._ts) {\r\n          max = end;\r\n        }\r\n\r\n        child = prev;\r\n      }\r\n\r\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : Math.min(_bigNum, max), 1);\r\n\r\n      self._dirty = 0;\r\n    }\r\n\r\n    return self._tDur;\r\n  };\r\n\r\n  Timeline.updateRoot = function updateRoot(time) {\r\n    if (_globalTimeline._ts) {\r\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\r\n\r\n      _lastRenderedFrame = _ticker.frame;\r\n    }\r\n\r\n    if (_ticker.frame >= _nextGCFrame) {\r\n      _nextGCFrame += _config.autoSleep || 120;\r\n      var child = _globalTimeline._first;\r\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\r\n        while (child && !child._ts) {\r\n          child = child._next;\r\n        }\r\n\r\n        if (!child) {\r\n          _ticker.sleep();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return Timeline;\r\n}(Animation);\r\n\r\n_setDefaults(Timeline.prototype, {\r\n  _lock: 0,\r\n  _hasPause: 0,\r\n  _forcing: 0\r\n});\r\n\r\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\r\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\r\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\r\n      index = 0,\r\n      matchIndex = 0,\r\n      result,\r\n      startNums,\r\n      color,\r\n      endNum,\r\n      chunk,\r\n      startNum,\r\n      hasRandom,\r\n      a;\r\n  pt.b = start;\r\n  pt.e = end;\r\n  start += \"\"; //ensure values are strings\r\n\r\n  end += \"\";\r\n\r\n  if (hasRandom = ~end.indexOf(\"random(\")) {\r\n    end = _replaceRandom(end);\r\n  }\r\n\r\n  if (stringFilter) {\r\n    a = [start, end];\r\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\r\n\r\n    start = a[0];\r\n    end = a[1];\r\n  }\r\n\r\n  startNums = start.match(_complexStringNumExp) || [];\r\n\r\n  while (result = _complexStringNumExp.exec(end)) {\r\n    endNum = result[0];\r\n    chunk = end.substring(index, result.index);\r\n\r\n    if (color) {\r\n      color = (color + 1) % 5;\r\n    } else if (chunk.substr(-5) === \"rgba(\") {\r\n      color = 1;\r\n    }\r\n\r\n    if (endNum !== startNums[matchIndex++]) {\r\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\r\n\r\n      pt._pt = {\r\n        _next: pt._pt,\r\n        p: chunk || matchIndex === 1 ? chunk : \",\",\r\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\r\n        s: startNum,\r\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\r\n        m: color && color < 4 ? Math.round : 0\r\n      };\r\n      index = _complexStringNumExp.lastIndex;\r\n    }\r\n  }\r\n\r\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\r\n\r\n  pt.fp = funcParam;\r\n\r\n  if (_relExp.test(end) || hasRandom) {\r\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\r\n  }\r\n\r\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\r\n\r\n  return pt;\r\n},\r\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\r\n  if (_isFunction(end)) {\r\n    end = end(index || 0, target, targets);\r\n  }\r\n\r\n  var currentValue = target[prop],\r\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\r\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\r\n      pt;\r\n\r\n  if (_isString(end)) {\r\n    if (~end.indexOf(\"random(\")) {\r\n      end = _replaceRandom(end);\r\n    }\r\n\r\n    if (end.charAt(1) === \"=\") {\r\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\r\n    }\r\n  }\r\n\r\n  if (parsedStart !== end) {\r\n    if (!isNaN(parsedStart + end)) {\r\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\r\n\r\n      if (funcParam) {\r\n        pt.fp = funcParam;\r\n      }\r\n\r\n      if (modifier) {\r\n        pt.modifier(modifier, this, target);\r\n      }\r\n\r\n      return this._pt = pt;\r\n    }\r\n\r\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\r\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\r\n  }\r\n},\r\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\r\n_processVars = function _processVars(vars, index, target, targets, tween) {\r\n  if (_isFunction(vars)) {\r\n    vars = _parseFuncOrString(vars, tween, index, target, targets);\r\n  }\r\n\r\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars)) {\r\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\r\n  }\r\n\r\n  var copy = {},\r\n      p;\r\n\r\n  for (p in vars) {\r\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\r\n  }\r\n\r\n  return copy;\r\n},\r\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\r\n  var plugin, pt, ptLookup, i;\r\n\r\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\r\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\r\n\r\n    if (tween !== _quickTween) {\r\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\r\n\r\n      i = plugin._props.length;\r\n\r\n      while (i--) {\r\n        ptLookup[plugin._props[i]] = pt;\r\n      }\r\n    }\r\n  }\r\n\r\n  return plugin;\r\n},\r\n    _overwritingTween,\r\n    //store a reference temporarily so we can avoid overwriting itself.\r\n_initTween = function _initTween(tween, time) {\r\n  var vars = tween.vars,\r\n      ease = vars.ease,\r\n      startAt = vars.startAt,\r\n      immediateRender = vars.immediateRender,\r\n      lazy = vars.lazy,\r\n      onUpdate = vars.onUpdate,\r\n      onUpdateParams = vars.onUpdateParams,\r\n      callbackScope = vars.callbackScope,\r\n      runBackwards = vars.runBackwards,\r\n      yoyoEase = vars.yoyoEase,\r\n      keyframes = vars.keyframes,\r\n      autoRevert = vars.autoRevert,\r\n      dur = tween._dur,\r\n      prevStartAt = tween._startAt,\r\n      targets = tween._targets,\r\n      parent = tween.parent,\r\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\r\n      autoOverwrite = tween._overwrite === \"auto\",\r\n      tl = tween.timeline,\r\n      cleanVars,\r\n      i,\r\n      p,\r\n      pt,\r\n      target,\r\n      hasPriority,\r\n      gsData,\r\n      harness,\r\n      plugin,\r\n      ptLookup,\r\n      index,\r\n      harnessVars;\r\n\r\n  if (tl && (!keyframes || !ease)) {\r\n    ease = \"none\";\r\n  }\r\n\r\n  tween._ease = _parseEase(ease, _defaults.ease);\r\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\r\n\r\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\r\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\r\n    yoyoEase = tween._yEase;\r\n    tween._yEase = tween._ease;\r\n    tween._ease = yoyoEase;\r\n  }\r\n\r\n  if (!tl) {\r\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\r\n    if (prevStartAt) {\r\n      prevStartAt.render(-1, true).kill();\r\n    }\r\n\r\n    if (startAt) {\r\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\r\n        data: \"isStart\",\r\n        overwrite: false,\r\n        parent: parent,\r\n        immediateRender: true,\r\n        lazy: _isNotFalse(lazy),\r\n        startAt: null,\r\n        delay: 0,\r\n        onUpdate: onUpdate,\r\n        onUpdateParams: onUpdateParams,\r\n        callbackScope: callbackScope,\r\n        stagger: 0\r\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\r\n\r\n\r\n      if (immediateRender) {\r\n        if (time > 0) {\r\n          !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\r\n        } else if (dur) {\r\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\r\n        }\r\n      }\r\n    } else if (runBackwards && dur) {\r\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\r\n      if (prevStartAt) {\r\n        !autoRevert && (tween._startAt = 0);\r\n      } else {\r\n        if (time) {\r\n          //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\r\n          immediateRender = false;\r\n        }\r\n\r\n        _removeFromParent(tween._startAt = Tween.set(targets, _merge(_copyExcluding(vars, _reservedProps), {\r\n          overwrite: false,\r\n          data: \"isFromStart\",\r\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\r\n          lazy: immediateRender && _isNotFalse(lazy),\r\n          immediateRender: immediateRender,\r\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\r\n          stagger: 0,\r\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\r\n\r\n        })));\r\n\r\n        if (!immediateRender) {\r\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\r\n\r\n        } else if (!time) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    cleanVars = _copyExcluding(vars, _reservedProps);\r\n    tween._pt = 0;\r\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\r\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\r\n\r\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\r\n\r\n    for (i = 0; i < targets.length; i++) {\r\n      target = targets[i];\r\n      gsData = target._gsap || _harness(targets)[i]._gsap;\r\n      tween._ptLookup[i] = ptLookup = {};\r\n\r\n      if (_lazyLookup[gsData.id]) {\r\n        _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\r\n\r\n      }\r\n\r\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\r\n\r\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\r\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\r\n\r\n        plugin._props.forEach(function (name) {\r\n          ptLookup[name] = pt;\r\n        });\r\n\r\n        if (plugin.priority) {\r\n          hasPriority = 1;\r\n        }\r\n      }\r\n\r\n      if (!harness || harnessVars) {\r\n        for (p in cleanVars) {\r\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\r\n            if (plugin.priority) {\r\n              hasPriority = 1;\r\n            }\r\n          } else {\r\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (tween._op && tween._op[i]) {\r\n        tween.kill(target, tween._op[i]);\r\n      }\r\n\r\n      if (autoOverwrite && tween._pt) {\r\n        _overwritingTween = tween;\r\n\r\n        _globalTimeline.killTweensOf(target, ptLookup, \"started\"); //Also make sure the overwriting doesn't overwrite THIS tween!!!\r\n\r\n\r\n        _overwritingTween = 0;\r\n      }\r\n\r\n      if (tween._pt && lazy) {\r\n        _lazyLookup[gsData.id] = 1;\r\n      }\r\n    }\r\n\r\n    if (hasPriority) {\r\n      _sortPropTweensByPriority(tween);\r\n    }\r\n\r\n    if (tween._onInit) {\r\n      //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\r\n      tween._onInit(tween);\r\n    }\r\n  }\r\n\r\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\r\n\r\n  tween._onUpdate = onUpdate;\r\n  tween._initted = 1;\r\n},\r\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\r\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\r\n      propertyAliases = harness && harness.aliases,\r\n      copy,\r\n      p,\r\n      i,\r\n      aliases;\r\n\r\n  if (!propertyAliases) {\r\n    return vars;\r\n  }\r\n\r\n  copy = _merge({}, vars);\r\n\r\n  for (p in propertyAliases) {\r\n    if (p in copy) {\r\n      aliases = propertyAliases[p].split(\",\");\r\n      i = aliases.length;\r\n\r\n      while (i--) {\r\n        copy[aliases[i]] = copy[p];\r\n      }\r\n    }\r\n  }\r\n\r\n  return copy;\r\n},\r\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\r\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\r\n},\r\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\r\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused\").split(\",\");\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * TWEEN\r\n * --------------------------------------------------------------------------------------\r\n */\r\n\r\n\r\nexport var Tween =\r\n/*#__PURE__*/\r\nfunction (_Animation2) {\r\n  _inheritsLoose(Tween, _Animation2);\r\n\r\n  function Tween(targets, vars, time, skipInherit) {\r\n    var _this3;\r\n\r\n    if (typeof vars === \"number\") {\r\n      time.duration = vars;\r\n      vars = time;\r\n      time = null;\r\n    }\r\n\r\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;\r\n    var _this3$vars = _this3.vars,\r\n        duration = _this3$vars.duration,\r\n        delay = _this3$vars.delay,\r\n        immediateRender = _this3$vars.immediateRender,\r\n        stagger = _this3$vars.stagger,\r\n        overwrite = _this3$vars.overwrite,\r\n        keyframes = _this3$vars.keyframes,\r\n        defaults = _this3$vars.defaults,\r\n        parent = _this3.parent,\r\n        parsedTargets = (_isArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\r\n        tl,\r\n        i,\r\n        copy,\r\n        l,\r\n        p,\r\n        curTarget,\r\n        staggerFunc,\r\n        staggerVarsToMerge;\r\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\r\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\r\n\r\n    _this3._overwrite = overwrite;\r\n\r\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\r\n      vars = _this3.vars;\r\n      tl = _this3.timeline = new Timeline({\r\n        data: \"nested\",\r\n        defaults: defaults || {}\r\n      });\r\n      tl.kill();\r\n      tl.parent = _assertThisInitialized(_this3);\r\n\r\n      if (keyframes) {\r\n        _setDefaults(tl.vars.defaults, {\r\n          ease: \"none\"\r\n        });\r\n\r\n        keyframes.forEach(function (frame) {\r\n          return tl.to(parsedTargets, frame, \">\");\r\n        });\r\n      } else {\r\n        l = parsedTargets.length;\r\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\r\n\r\n        if (_isObject(stagger)) {\r\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\r\n          for (p in stagger) {\r\n            if (~_staggerTweenProps.indexOf(p)) {\r\n              if (!staggerVarsToMerge) {\r\n                staggerVarsToMerge = {};\r\n              }\r\n\r\n              staggerVarsToMerge[p] = stagger[p];\r\n            }\r\n          }\r\n        }\r\n\r\n        for (i = 0; i < l; i++) {\r\n          copy = {};\r\n\r\n          for (p in vars) {\r\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\r\n              copy[p] = vars[p];\r\n            }\r\n          }\r\n\r\n          copy.stagger = 0;\r\n\r\n          if (staggerVarsToMerge) {\r\n            _merge(copy, staggerVarsToMerge);\r\n          }\r\n\r\n          if (vars.yoyoEase && !vars.repeat) {\r\n            //so that propagation works properly when a ancestor timeline yoyos\r\n            copy.yoyoEase = vars.yoyoEase;\r\n          }\r\n\r\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\r\n\r\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\r\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\r\n\r\n          if (!stagger && l === 1 && copy.delay) {\r\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\r\n            _this3._delay = delay = copy.delay;\r\n            _this3._start += delay;\r\n            copy.delay = 0;\r\n          }\r\n\r\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\r\n        }\r\n\r\n        duration = delay = 0;\r\n      }\r\n\r\n      duration || _this3.duration(duration = tl.duration());\r\n    } else {\r\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\r\n    }\r\n\r\n    if (overwrite === true) {\r\n      _overwritingTween = _assertThisInitialized(_this3);\r\n\r\n      _globalTimeline.killTweensOf(parsedTargets);\r\n\r\n      _overwritingTween = 0;\r\n    }\r\n\r\n    parent && _postAddChecks(parent, _assertThisInitialized(_this3));\r\n\r\n    if (immediateRender || !duration && !keyframes && _this3._start === parent._time && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\r\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\r\n\r\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\r\n\r\n    }\r\n\r\n    return _this3;\r\n  }\r\n\r\n  var _proto3 = Tween.prototype;\r\n\r\n  _proto3.render = function render(totalTime, suppressEvents, force) {\r\n    var prevTime = this._time,\r\n        tDur = this._tDur,\r\n        dur = this._dur,\r\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\r\n        time,\r\n        pt,\r\n        iteration,\r\n        cycleDuration,\r\n        prevIteration,\r\n        isYoyo,\r\n        ratio,\r\n        timeline,\r\n        yoyoEase;\r\n\r\n    if (!dur) {\r\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\r\n    } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {\r\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\r\n      time = tTime;\r\n      timeline = this.timeline;\r\n\r\n      if (this._repeat) {\r\n        //adjust the time for repeats and yoyos\r\n        cycleDuration = dur + this._rDelay;\r\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\r\n\r\n        if (time > dur || tDur === tTime) {\r\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\r\n          time = dur;\r\n        }\r\n\r\n        iteration = ~~(tTime / cycleDuration);\r\n\r\n        if (iteration && iteration === tTime / cycleDuration) {\r\n          time = dur;\r\n          iteration--;\r\n        }\r\n\r\n        isYoyo = this._yoyo && iteration & 1;\r\n\r\n        if (isYoyo) {\r\n          yoyoEase = this._yEase;\r\n          time = dur - time;\r\n        }\r\n\r\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\r\n\r\n        if (time === prevTime && !force && this._initted) {\r\n          //could be during the repeatDelay part. No need to render and fire callbacks.\r\n          return this;\r\n        }\r\n\r\n        if (iteration !== prevIteration) {\r\n          //timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo);\r\n          //repeatRefresh functionality\r\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\r\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\r\n\r\n            this.render(cycleDuration * iteration, true).invalidate()._lock = 0;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this._initted) {\r\n        if (_attemptInitTween(this, time, force, suppressEvents)) {\r\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\r\n\r\n          return this;\r\n        }\r\n\r\n        if (dur !== this._dur) {\r\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\r\n          return this.render(totalTime, suppressEvents, force);\r\n        }\r\n      }\r\n\r\n      this._tTime = tTime;\r\n      this._time = time;\r\n\r\n      if (!this._act && this._ts) {\r\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\r\n\r\n        this._lazy = 0;\r\n      }\r\n\r\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\r\n\r\n      if (this._from) {\r\n        this.ratio = ratio = 1 - ratio;\r\n      }\r\n\r\n      if (!prevTime && time && !suppressEvents) {\r\n        _callback(this, \"onStart\");\r\n      }\r\n\r\n      pt = this._pt;\r\n\r\n      while (pt) {\r\n        pt.r(ratio, pt.d);\r\n        pt = pt._next;\r\n      }\r\n\r\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\r\n\r\n      if (this._onUpdate && !suppressEvents) {\r\n        if (totalTime < 0 && this._startAt) {\r\n          this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\r\n\r\n        }\r\n\r\n        _callback(this, \"onUpdate\");\r\n      }\r\n\r\n      if (this._repeat) if (iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent) {\r\n        _callback(this, \"onRepeat\");\r\n      }\r\n\r\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\r\n        if (totalTime < 0 && this._startAt && !this._onUpdate) {\r\n          this._startAt.render(totalTime, true, force);\r\n        }\r\n\r\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\r\n\r\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && !(tTime < tDur && this.timeScale() > 0)) {\r\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\r\n\r\n          this._prom && this._prom();\r\n        }\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  _proto3.targets = function targets() {\r\n    return this._targets;\r\n  };\r\n\r\n  _proto3.invalidate = function invalidate() {\r\n    this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;\r\n    this._ptLookup = [];\r\n    this.timeline && this.timeline.invalidate();\r\n    return _Animation2.prototype.invalidate.call(this);\r\n  };\r\n\r\n  _proto3.kill = function kill(targets, vars) {\r\n    if (vars === void 0) {\r\n      vars = \"all\";\r\n    }\r\n\r\n    if (!targets && (!vars || vars === \"all\")) {\r\n      this._lazy = 0;\r\n\r\n      if (this.parent) {\r\n        return _interrupt(this);\r\n      }\r\n    }\r\n\r\n    if (this.timeline) {\r\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true);\r\n      return this;\r\n    }\r\n\r\n    var parsedTargets = this._targets,\r\n        killingTargets = targets ? toArray(targets) : parsedTargets,\r\n        propTweenLookup = this._ptLookup,\r\n        firstPT = this._pt,\r\n        overwrittenProps,\r\n        curLookup,\r\n        curOverwriteProps,\r\n        props,\r\n        p,\r\n        pt,\r\n        i;\r\n\r\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\r\n      return _interrupt(this);\r\n    }\r\n\r\n    overwrittenProps = this._op = this._op || [];\r\n\r\n    if (vars !== \"all\") {\r\n      //so people can pass in a comma-delimited list of property names\r\n      if (_isString(vars)) {\r\n        p = {};\r\n\r\n        _forEachName(vars, function (name) {\r\n          return p[name] = 1;\r\n        });\r\n\r\n        vars = p;\r\n      }\r\n\r\n      vars = _addAliasesToVars(parsedTargets, vars);\r\n    }\r\n\r\n    i = parsedTargets.length;\r\n\r\n    while (i--) {\r\n      if (~killingTargets.indexOf(parsedTargets[i])) {\r\n        curLookup = propTweenLookup[i];\r\n\r\n        if (vars === \"all\") {\r\n          overwrittenProps[i] = vars;\r\n          props = curLookup;\r\n          curOverwriteProps = {};\r\n        } else {\r\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\r\n          props = vars;\r\n        }\r\n\r\n        for (p in props) {\r\n          pt = curLookup && curLookup[p];\r\n\r\n          if (pt) {\r\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\r\n              _removeLinkedListItem(this, pt, \"_pt\");\r\n            }\r\n\r\n            delete curLookup[p];\r\n          }\r\n\r\n          if (curOverwriteProps !== \"all\") {\r\n            curOverwriteProps[p] = 1;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this._initted && !this._pt && firstPT) {\r\n      //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\r\n      _interrupt(this);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  Tween.to = function to(targets, vars) {\r\n    return new Tween(targets, vars, arguments[2]);\r\n  };\r\n\r\n  Tween.from = function from(targets, vars) {\r\n    return new Tween(targets, _parseVars(arguments, 1));\r\n  };\r\n\r\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\r\n    return new Tween(callback, 0, {\r\n      immediateRender: false,\r\n      lazy: false,\r\n      overwrite: false,\r\n      delay: delay,\r\n      onComplete: callback,\r\n      onReverseComplete: callback,\r\n      onCompleteParams: params,\r\n      onReverseCompleteParams: params,\r\n      callbackScope: scope\r\n    });\r\n  };\r\n\r\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\r\n    return new Tween(targets, _parseVars(arguments, 2));\r\n  };\r\n\r\n  Tween.set = function set(targets, vars) {\r\n    vars.duration = 0;\r\n    vars.repeatDelay || (vars.repeat = 0);\r\n    return new Tween(targets, vars);\r\n  };\r\n\r\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\r\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\r\n  };\r\n\r\n  return Tween;\r\n}(Animation);\r\n\r\n_setDefaults(Tween.prototype, {\r\n  _targets: [],\r\n  _lazy: 0,\r\n  _startAt: 0,\r\n  _op: 0,\r\n  _onInit: 0\r\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\r\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\r\n// \tTween.prototype[name] = function() {\r\n// \t\tlet tl = new Timeline();\r\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\r\n// \t}\r\n// });\r\n//for backward compatibility. Leverage the timeline calls.\r\n\r\n\r\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\r\n  Tween[name] = function () {\r\n    var tl = new Timeline(),\r\n        params = _slice.call(arguments, 0);\r\n\r\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\r\n    return tl[name].apply(tl, params);\r\n  };\r\n});\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * PROPTWEEN\r\n * --------------------------------------------------------------------------------------\r\n */\r\n\r\n\r\nvar _setterPlain = function _setterPlain(target, property, value) {\r\n  return target[property] = value;\r\n},\r\n    _setterFunc = function _setterFunc(target, property, value) {\r\n  return target[property](value);\r\n},\r\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\r\n  return target[property](data.fp, value);\r\n},\r\n    _setterAttribute = function _setterAttribute(target, property, value) {\r\n  return target.setAttribute(property, value);\r\n},\r\n    _getSetter = function _getSetter(target, property) {\r\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\r\n},\r\n    _renderPlain = function _renderPlain(ratio, data) {\r\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\r\n},\r\n    _renderBoolean = function _renderBoolean(ratio, data) {\r\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\r\n},\r\n    _renderComplexString = function _renderComplexString(ratio, data) {\r\n  var pt = data._pt,\r\n      s = \"\";\r\n\r\n  if (!ratio && data.b) {\r\n    //b = beginning string\r\n    s = data.b;\r\n  } else if (ratio === 1 && data.e) {\r\n    //e = ending string\r\n    s = data.e;\r\n  } else {\r\n    while (pt) {\r\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\r\n\r\n      pt = pt._next;\r\n    }\r\n\r\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\r\n  }\r\n\r\n  data.set(data.t, data.p, s, data);\r\n},\r\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\r\n  var pt = data._pt;\r\n\r\n  while (pt) {\r\n    pt.r(ratio, pt.d);\r\n    pt = pt._next;\r\n  }\r\n},\r\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\r\n  var pt = this._pt,\r\n      next;\r\n\r\n  while (pt) {\r\n    next = pt._next;\r\n\r\n    if (pt.p === property) {\r\n      pt.modifier(modifier, tween, target);\r\n    }\r\n\r\n    pt = next;\r\n  }\r\n},\r\n    _killPropTweensOf = function _killPropTweensOf(property) {\r\n  var pt = this._pt,\r\n      hasNonDependentRemaining,\r\n      next;\r\n\r\n  while (pt) {\r\n    next = pt._next;\r\n\r\n    if (pt.p === property && !pt.op || pt.op === property) {\r\n      _removeLinkedListItem(this, pt, \"_pt\");\r\n    } else if (!pt.dep) {\r\n      hasNonDependentRemaining = 1;\r\n    }\r\n\r\n    pt = next;\r\n  }\r\n\r\n  return !hasNonDependentRemaining;\r\n},\r\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\r\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\r\n},\r\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\r\n  var pt = parent._pt,\r\n      next,\r\n      pt2,\r\n      first,\r\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\r\n\r\n  while (pt) {\r\n    next = pt._next;\r\n    pt2 = first;\r\n\r\n    while (pt2 && pt2.pr > pt.pr) {\r\n      pt2 = pt2._next;\r\n    }\r\n\r\n    if (pt._prev = pt2 ? pt2._prev : last) {\r\n      pt._prev._next = pt;\r\n    } else {\r\n      first = pt;\r\n    }\r\n\r\n    if (pt._next = pt2) {\r\n      pt2._prev = pt;\r\n    } else {\r\n      last = pt;\r\n    }\r\n\r\n    pt = next;\r\n  }\r\n\r\n  parent._pt = first;\r\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\r\n\r\n\r\nexport var PropTween =\r\n/*#__PURE__*/\r\nfunction () {\r\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\r\n    this.t = target;\r\n    this.s = start;\r\n    this.c = change;\r\n    this.p = prop;\r\n    this.r = renderer || _renderPlain;\r\n    this.d = data || this;\r\n    this.set = setter || _setterPlain;\r\n    this.pr = priority || 0;\r\n    this._next = next;\r\n\r\n    if (next) {\r\n      next._prev = this;\r\n    }\r\n  }\r\n\r\n  var _proto4 = PropTween.prototype;\r\n\r\n  _proto4.modifier = function modifier(func, tween, target) {\r\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\r\n\r\n    this.set = _setterWithModifier;\r\n    this.m = func;\r\n    this.mt = target; //modifier target\r\n\r\n    this.tween = tween;\r\n  };\r\n\r\n  return PropTween;\r\n}(); //Initialization tasks\r\n\r\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert\", function (name) {\r\n  return _reservedProps[name] = 1;\r\n});\r\n\r\n_globals.TweenMax = _globals.TweenLite = Tween;\r\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\r\n_globalTimeline = new Timeline({\r\n  sortChildren: false,\r\n  defaults: _defaults,\r\n  autoRemoveChildren: true,\r\n  id: \"root\",\r\n  smoothChildTiming: true\r\n});\r\n_config.stringFilter = _colorStringFilter;\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * GSAP\r\n * --------------------------------------------------------------------------------------\r\n */\r\n\r\nvar _gsap = {\r\n  registerPlugin: function registerPlugin() {\r\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n      args[_key2] = arguments[_key2];\r\n    }\r\n\r\n    args.forEach(function (config) {\r\n      return _createPlugin(config);\r\n    });\r\n  },\r\n  timeline: function timeline(vars) {\r\n    return new Timeline(vars);\r\n  },\r\n  getTweensOf: function getTweensOf(targets, onlyActive) {\r\n    return _globalTimeline.getTweensOf(targets, onlyActive);\r\n  },\r\n  getProperty: function getProperty(target, property, unit, uncache) {\r\n    if (_isString(target)) {\r\n      //in case selector text or an array is passed in\r\n      target = toArray(target)[0];\r\n    }\r\n\r\n    var getter = _getCache(target || {}).get,\r\n        format = unit ? _passThrough : _numericIfPossible;\r\n\r\n    if (unit === \"native\") {\r\n      unit = \"\";\r\n    }\r\n\r\n    return !target ? target : !property ? function (property, unit, uncache) {\r\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\r\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\r\n  },\r\n  quickSetter: function quickSetter(target, property, unit) {\r\n    target = toArray(target);\r\n\r\n    if (target.length > 1) {\r\n      var setters = target.map(function (t) {\r\n        return gsap.quickSetter(t, property, unit);\r\n      }),\r\n          l = setters.length;\r\n      return function (value) {\r\n        var i = l;\r\n\r\n        while (i--) {\r\n          setters[i](value);\r\n        }\r\n      };\r\n    }\r\n\r\n    target = target[0] || {};\r\n\r\n    var Plugin = _plugins[property],\r\n        cache = _getCache(target),\r\n        setter = Plugin ? function (value) {\r\n      var p = new Plugin();\r\n      _quickTween._pt = 0;\r\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\r\n      p.render(1, p);\r\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\r\n    } : cache.set(target, property);\r\n\r\n    return Plugin ? setter : function (value) {\r\n      return setter(target, property, unit ? value + unit : value, cache, 1);\r\n    };\r\n  },\r\n  isTweening: function isTweening(targets) {\r\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\r\n  },\r\n  defaults: function defaults(value) {\r\n    if (value && value.ease) {\r\n      value.ease = _parseEase(value.ease, _defaults.ease);\r\n    }\r\n\r\n    return _mergeDeep(_defaults, value || {});\r\n  },\r\n  config: function config(value) {\r\n    return _mergeDeep(_config, value || {});\r\n  },\r\n  registerEffect: function registerEffect(_ref) {\r\n    var name = _ref.name,\r\n        effect = _ref.effect,\r\n        plugins = _ref.plugins,\r\n        defaults = _ref.defaults,\r\n        extendTimeline = _ref.extendTimeline;\r\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\r\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\r\n    });\r\n\r\n    _effects[name] = function (targets, vars, tl) {\r\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\r\n    };\r\n\r\n    if (extendTimeline) {\r\n      Timeline.prototype[name] = function (targets, vars, position) {\r\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\r\n      };\r\n    }\r\n  },\r\n  registerEase: function registerEase(name, ease) {\r\n    _easeMap[name] = _parseEase(ease);\r\n  },\r\n  parseEase: function parseEase(ease, defaultEase) {\r\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\r\n  },\r\n  getById: function getById(id) {\r\n    return _globalTimeline.getById(id);\r\n  },\r\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\r\n    if (vars === void 0) {\r\n      vars = {};\r\n    }\r\n\r\n    var tl = new Timeline(vars),\r\n        child,\r\n        next;\r\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\r\n\r\n    _globalTimeline.remove(tl);\r\n\r\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\r\n\r\n    tl._time = tl._tTime = _globalTimeline._time;\r\n    child = _globalTimeline._first;\r\n\r\n    while (child) {\r\n      next = child._next;\r\n\r\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\r\n        _addToTimeline(tl, child, child._start - child._delay);\r\n      }\r\n\r\n      child = next;\r\n    }\r\n\r\n    _addToTimeline(_globalTimeline, tl, 0);\r\n\r\n    return tl;\r\n  },\r\n  utils: {\r\n    wrap: wrap,\r\n    wrapYoyo: wrapYoyo,\r\n    distribute: distribute,\r\n    random: random,\r\n    snap: snap,\r\n    normalize: normalize,\r\n    getUnit: getUnit,\r\n    clamp: clamp,\r\n    splitColor: splitColor,\r\n    toArray: toArray,\r\n    mapRange: mapRange,\r\n    pipe: pipe,\r\n    unitize: unitize,\r\n    interpolate: interpolate,\r\n    shuffle: shuffle\r\n  },\r\n  install: _install,\r\n  effects: _effects,\r\n  ticker: _ticker,\r\n  updateRoot: Timeline.updateRoot,\r\n  plugins: _plugins,\r\n  globalTimeline: _globalTimeline,\r\n  core: {\r\n    PropTween: PropTween,\r\n    globals: _addGlobal,\r\n    Tween: Tween,\r\n    Timeline: Timeline,\r\n    Animation: Animation,\r\n    getCache: _getCache,\r\n    _removeLinkedListItem: _removeLinkedListItem\r\n  }\r\n};\r\n\r\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\r\n  return _gsap[name] = Tween[name];\r\n});\r\n\r\n_ticker.add(Timeline.updateRoot);\r\n\r\n_quickTween = _gsap.to({}, {\r\n  duration: 0\r\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\r\n\r\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\r\n  var pt = plugin._pt;\r\n\r\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\r\n    pt = pt._next;\r\n  }\r\n\r\n  return pt;\r\n},\r\n    _addModifiers = function _addModifiers(tween, modifiers) {\r\n  var targets = tween._targets,\r\n      p,\r\n      i,\r\n      pt;\r\n\r\n  for (p in modifiers) {\r\n    i = targets.length;\r\n\r\n    while (i--) {\r\n      pt = tween._ptLookup[i][p];\r\n\r\n      if (pt && (pt = pt.d)) {\r\n        if (pt._pt) {\r\n          // is a plugin\r\n          pt = _getPluginPropTween(pt, p);\r\n        }\r\n\r\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\r\n      }\r\n    }\r\n  }\r\n},\r\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\r\n  return {\r\n    name: name,\r\n    rawVars: 1,\r\n    //don't pre-process function-based values or \"random()\" strings.\r\n    init: function init(target, vars, tween) {\r\n      tween._onInit = function (tween) {\r\n        var temp, p;\r\n\r\n        if (_isString(vars)) {\r\n          temp = {};\r\n\r\n          _forEachName(vars, function (name) {\r\n            return temp[name] = 1;\r\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\r\n\r\n\r\n          vars = temp;\r\n        }\r\n\r\n        if (modifier) {\r\n          temp = {};\r\n\r\n          for (p in vars) {\r\n            temp[p] = modifier(vars[p]);\r\n          }\r\n\r\n          vars = temp;\r\n        }\r\n\r\n        _addModifiers(tween, vars);\r\n      };\r\n    }\r\n  };\r\n}; //register core plugins\r\n\r\n\r\nexport var gsap = _gsap.registerPlugin({\r\n  name: \"attr\",\r\n  init: function init(target, vars, tween, index, targets) {\r\n    for (var p in vars) {\r\n      this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p); //this.add(target, \"setAttribute\", (target.getAttribute((p in target.dataset ? (p = \"data-\" + p) : p)) || 0) + \"\", vars[p], index, targets, 0, 0, p);\r\n\r\n      this._props.push(p);\r\n    }\r\n  }\r\n}, {\r\n  name: \"endArray\",\r\n  init: function init(target, value) {\r\n    var i = value.length;\r\n\r\n    while (i--) {\r\n      this.add(target, i, target[i] || 0, value[i]);\r\n    }\r\n  }\r\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\r\n\r\nTween.version = Timeline.version = gsap.version = \"3.2.5\";\r\n_coreReady = 1;\r\n\r\nif (_windowExists()) {\r\n  _wake();\r\n}\r\n\r\nvar Power0 = _easeMap.Power0,\r\n    Power1 = _easeMap.Power1,\r\n    Power2 = _easeMap.Power2,\r\n    Power3 = _easeMap.Power3,\r\n    Power4 = _easeMap.Power4,\r\n    Linear = _easeMap.Linear,\r\n    Quad = _easeMap.Quad,\r\n    Cubic = _easeMap.Cubic,\r\n    Quart = _easeMap.Quart,\r\n    Quint = _easeMap.Quint,\r\n    Strong = _easeMap.Strong,\r\n    Elastic = _easeMap.Elastic,\r\n    Back = _easeMap.Back,\r\n    SteppedEase = _easeMap.SteppedEase,\r\n    Bounce = _easeMap.Bounce,\r\n    Sine = _easeMap.Sine,\r\n    Expo = _easeMap.Expo,\r\n    Circ = _easeMap.Circ;\r\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\r\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\r\n\r\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","/*!\r\n * CSSPlugin 3.2.5\r\n * https://greensock.com\r\n *\r\n * Copyright 2008-2020, GreenSock. All rights reserved.\r\n * Subject to the terms at https://greensock.com/standard-license or for\r\n * Club GreenSock members, the agreement issued with that membership.\r\n * @author: Jack Doyle, jack@greensock.com\r\n*/\r\n\r\n/* eslint-disable */\r\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\r\n} from \"./gsap-core.js\";\r\n\r\nvar _win,\r\n    _doc,\r\n    _docElement,\r\n    _pluginInitted,\r\n    _tempDiv,\r\n    _tempDivStyler,\r\n    _recentSetterPlugin,\r\n    _windowExists = function _windowExists() {\r\n  return typeof window !== \"undefined\";\r\n},\r\n    _transformProps = {},\r\n    _RAD2DEG = 180 / Math.PI,\r\n    _DEG2RAD = Math.PI / 180,\r\n    _atan2 = Math.atan2,\r\n    _bigNum = 1e8,\r\n    _capsExp = /([A-Z])/g,\r\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\r\n    _complexExp = /[\\s,\\(]\\S/,\r\n    _propertyAliases = {\r\n  autoAlpha: \"opacity,visibility\",\r\n  scale: \"scaleX,scaleY\",\r\n  alpha: \"opacity\"\r\n},\r\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\r\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\r\n},\r\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\r\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\r\n},\r\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\r\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\r\n},\r\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\r\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\r\n  var value = data.s + data.c * ratio;\r\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\r\n},\r\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\r\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\r\n},\r\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\r\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\r\n},\r\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\r\n  return target.style[property] = value;\r\n},\r\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\r\n  return target.style.setProperty(property, value);\r\n},\r\n    _setterTransform = function _setterTransform(target, property, value) {\r\n  return target._gsap[property] = value;\r\n},\r\n    _setterScale = function _setterScale(target, property, value) {\r\n  return target._gsap.scaleX = target._gsap.scaleY = value;\r\n},\r\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\r\n  var cache = target._gsap;\r\n  cache.scaleX = cache.scaleY = value;\r\n  cache.renderTransform(ratio, cache);\r\n},\r\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\r\n  var cache = target._gsap;\r\n  cache[property] = value;\r\n  cache.renderTransform(ratio, cache);\r\n},\r\n    _transformProp = \"transform\",\r\n    _transformOriginProp = _transformProp + \"Origin\",\r\n    _supports3D,\r\n    _createElement = function _createElement(type, ns) {\r\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\r\n\r\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\r\n},\r\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\r\n  var cs = getComputedStyle(target);\r\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\r\n},\r\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\r\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\r\n  var e = element || _tempDiv,\r\n      s = e.style,\r\n      i = 5;\r\n\r\n  if (property in s && !preferPrefix) {\r\n    return property;\r\n  }\r\n\r\n  property = property.charAt(0).toUpperCase() + property.substr(1);\r\n\r\n  while (i-- && !(_prefixes[i] + property in s)) {}\r\n\r\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\r\n},\r\n    _initCore = function _initCore() {\r\n  if (_windowExists()) {\r\n    _win = window;\r\n    _doc = _win.document;\r\n    _docElement = _doc.documentElement;\r\n    _tempDiv = _createElement(\"div\") || {\r\n      style: {}\r\n    };\r\n    _tempDivStyler = _createElement(\"div\");\r\n    _transformProp = _checkPropPrefix(_transformProp);\r\n    _transformOriginProp = _checkPropPrefix(_transformOriginProp);\r\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\r\n\r\n    _supports3D = !!_checkPropPrefix(\"perspective\");\r\n    _pluginInitted = 1;\r\n  }\r\n},\r\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\r\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\r\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\r\n      oldParent = this.parentNode,\r\n      oldSibling = this.nextSibling,\r\n      oldCSS = this.style.cssText,\r\n      bbox;\r\n\r\n  _docElement.appendChild(svg);\r\n\r\n  svg.appendChild(this);\r\n  this.style.display = \"block\";\r\n\r\n  if (swapIfPossible) {\r\n    try {\r\n      bbox = this.getBBox();\r\n      this._gsapBBox = this.getBBox; //store the original\r\n\r\n      this.getBBox = _getBBoxHack;\r\n    } catch (e) {}\r\n  } else if (this._gsapBBox) {\r\n    bbox = this._gsapBBox();\r\n  }\r\n\r\n  if (oldParent) {\r\n    if (oldSibling) {\r\n      oldParent.insertBefore(this, oldSibling);\r\n    } else {\r\n      oldParent.appendChild(this);\r\n    }\r\n  }\r\n\r\n  _docElement.removeChild(svg);\r\n\r\n  this.style.cssText = oldCSS;\r\n  return bbox;\r\n},\r\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\r\n  var i = attributesArray.length;\r\n\r\n  while (i--) {\r\n    if (target.hasAttribute(attributesArray[i])) {\r\n      return target.getAttribute(attributesArray[i]);\r\n    }\r\n  }\r\n},\r\n    _getBBox = function _getBBox(target) {\r\n  var bounds;\r\n\r\n  try {\r\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\r\n  } catch (error) {\r\n    bounds = _getBBoxHack.call(target, true);\r\n  }\r\n\r\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\r\n\r\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\r\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\r\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\r\n    width: 0,\r\n    height: 0\r\n  } : bounds;\r\n},\r\n    _isSVG = function _isSVG(e) {\r\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\r\n},\r\n    //reports if the element is an SVG on which getBBox() actually works\r\n_removeProperty = function _removeProperty(target, property) {\r\n  if (property) {\r\n    var style = target.style;\r\n\r\n    if (property in _transformProps) {\r\n      property = _transformProp;\r\n    }\r\n\r\n    if (style.removeProperty) {\r\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\r\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\r\n        property = \"-\" + property;\r\n      }\r\n\r\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\r\n    } else {\r\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\r\n      style.removeAttribute(property);\r\n    }\r\n  }\r\n},\r\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\r\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\r\n  plugin._pt = pt;\r\n  pt.b = beginning;\r\n  pt.e = end;\r\n\r\n  plugin._props.push(property);\r\n\r\n  return pt;\r\n},\r\n    _nonConvertibleUnits = {\r\n  deg: 1,\r\n  rad: 1,\r\n  turn: 1\r\n},\r\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\r\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\r\n  var curValue = parseFloat(value) || 0,\r\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\r\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\r\n  style = _tempDiv.style,\r\n      horizontal = _horizontalExp.test(property),\r\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\r\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\r\n      amount = 100,\r\n      toPixels = unit === \"px\",\r\n      toPercent = unit === \"%\",\r\n      px,\r\n      parent,\r\n      cache,\r\n      isSVG;\r\n\r\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\r\n    return curValue;\r\n  }\r\n\r\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\r\n  isSVG = target.getCTM && _isSVG(target);\r\n\r\n  if (toPercent && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\r\n    //transforms and borderRadius are relative to the size of the element itself!\r\n    return _round(curValue / (isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty]) * amount);\r\n  }\r\n\r\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\r\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\r\n\r\n  if (isSVG) {\r\n    parent = (target.ownerSVGElement || {}).parentNode;\r\n  }\r\n\r\n  if (!parent || parent === _doc || !parent.appendChild) {\r\n    parent = _doc.body;\r\n  }\r\n\r\n  cache = parent._gsap;\r\n\r\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\r\n    return _round(curValue / cache.width * amount);\r\n  } else {\r\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\r\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\r\n\r\n    parent.appendChild(_tempDiv);\r\n    px = _tempDiv[measureProperty];\r\n    parent.removeChild(_tempDiv);\r\n    style.position = \"absolute\";\r\n\r\n    if (horizontal && toPercent) {\r\n      cache = _getCache(parent);\r\n      cache.time = _ticker.time;\r\n      cache.width = parent[measureProperty];\r\n    }\r\n  }\r\n\r\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\r\n},\r\n    _get = function _get(target, property, unit, uncache) {\r\n  var value;\r\n\r\n  if (!_pluginInitted) {\r\n    _initCore();\r\n  }\r\n\r\n  if (property in _propertyAliases && property !== \"transform\") {\r\n    property = _propertyAliases[property];\r\n\r\n    if (~property.indexOf(\",\")) {\r\n      property = property.split(\",\")[0];\r\n    }\r\n  }\r\n\r\n  if (_transformProps[property] && property !== \"transform\") {\r\n    value = _parseTransform(target, uncache);\r\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\r\n  } else {\r\n    value = target.style[property];\r\n\r\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\r\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\r\n    }\r\n  }\r\n\r\n  return unit && !~(value + \"\").indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\r\n},\r\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\r\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\r\n  if (!start || start === \"none\") {\r\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\r\n    var p = _checkPropPrefix(prop, target, 1),\r\n        s = p && _getComputedProperty(target, p, 1);\r\n\r\n    if (s && s !== start) {\r\n      prop = p;\r\n      start = s;\r\n    }\r\n  }\r\n\r\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\r\n      index = 0,\r\n      matchIndex = 0,\r\n      a,\r\n      result,\r\n      startValues,\r\n      startNum,\r\n      color,\r\n      startValue,\r\n      endValue,\r\n      endNum,\r\n      chunk,\r\n      endUnit,\r\n      startUnit,\r\n      relative,\r\n      endValues;\r\n  pt.b = start;\r\n  pt.e = end;\r\n  start += \"\"; //ensure values are strings\r\n\r\n  end += \"\";\r\n\r\n  if (end === \"auto\") {\r\n    target.style[prop] = end;\r\n    end = _getComputedProperty(target, prop) || end;\r\n    target.style[prop] = start;\r\n  }\r\n\r\n  a = [start, end];\r\n\r\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\r\n\r\n\r\n  start = a[0];\r\n  end = a[1];\r\n  startValues = start.match(_numWithUnitExp) || [];\r\n  endValues = end.match(_numWithUnitExp) || [];\r\n\r\n  if (endValues.length) {\r\n    while (result = _numWithUnitExp.exec(end)) {\r\n      endValue = result[0];\r\n      chunk = end.substring(index, result.index);\r\n\r\n      if (color) {\r\n        color = (color + 1) % 5;\r\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\r\n        color = 1;\r\n      }\r\n\r\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\r\n        startNum = parseFloat(startValue) || 0;\r\n        startUnit = startValue.substr((startNum + \"\").length);\r\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\r\n\r\n        if (relative) {\r\n          endValue = endValue.substr(2);\r\n        }\r\n\r\n        endNum = parseFloat(endValue);\r\n        endUnit = endValue.substr((endNum + \"\").length);\r\n        index = _numWithUnitExp.lastIndex - endUnit.length;\r\n\r\n        if (!endUnit) {\r\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\r\n          endUnit = endUnit || _config.units[prop] || startUnit;\r\n\r\n          if (index === end.length) {\r\n            end += endUnit;\r\n            pt.e += endUnit;\r\n          }\r\n        }\r\n\r\n        if (startUnit !== endUnit) {\r\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\r\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\r\n\r\n\r\n        pt._pt = {\r\n          _next: pt._pt,\r\n          p: chunk || matchIndex === 1 ? chunk : \",\",\r\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\r\n          s: startNum,\r\n          c: relative ? relative * endNum : endNum - startNum,\r\n          m: color && color < 4 ? Math.round : 0\r\n        };\r\n      }\r\n    }\r\n\r\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\r\n  } else {\r\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\r\n  }\r\n\r\n  if (_relExp.test(end)) {\r\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\r\n  }\r\n\r\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\r\n\r\n  return pt;\r\n},\r\n    _keywordToPercent = {\r\n  top: \"0%\",\r\n  bottom: \"100%\",\r\n  left: \"0%\",\r\n  right: \"100%\",\r\n  center: \"50%\"\r\n},\r\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\r\n  var split = value.split(\" \"),\r\n      x = split[0],\r\n      y = split[1] || \"50%\";\r\n\r\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\r\n    //the user provided them in the wrong order, so flip them\r\n    value = x;\r\n    x = y;\r\n    y = value;\r\n  }\r\n\r\n  split[0] = _keywordToPercent[x] || x;\r\n  split[1] = _keywordToPercent[y] || y;\r\n  return split.join(\" \");\r\n},\r\n    _renderClearProps = function _renderClearProps(ratio, data) {\r\n  if (data.tween && data.tween._time === data.tween._dur) {\r\n    var target = data.t,\r\n        style = target.style,\r\n        props = data.u,\r\n        cache = target._gsap,\r\n        prop,\r\n        clearTransforms,\r\n        i;\r\n\r\n    if (props === \"all\" || props === true) {\r\n      style.cssText = \"\";\r\n      clearTransforms = 1;\r\n    } else {\r\n      props = props.split(\",\");\r\n      i = props.length;\r\n\r\n      while (--i > -1) {\r\n        prop = props[i];\r\n\r\n        if (_transformProps[prop]) {\r\n          clearTransforms = 1;\r\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\r\n        }\r\n\r\n        _removeProperty(target, prop);\r\n      }\r\n    }\r\n\r\n    if (clearTransforms) {\r\n      _removeProperty(target, _transformProp);\r\n\r\n      if (cache) {\r\n        cache.svg && target.removeAttribute(\"transform\");\r\n\r\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\r\n\r\n\r\n        cache.uncache = 1;\r\n      }\r\n    }\r\n  }\r\n},\r\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\r\n_specialProps = {\r\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\r\n    if (tween.data !== \"isFromStart\") {\r\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\r\n      pt.u = endValue;\r\n      pt.pr = -10;\r\n      pt.tween = tween;\r\n\r\n      plugin._props.push(property);\r\n\r\n      return 1;\r\n    }\r\n  }\r\n  /* className feature (about 0.4kb gzipped).\r\n  , className(plugin, target, property, endValue, tween) {\r\n  \tlet _renderClassName = (ratio, data) => {\r\n  \t\t\tdata.css.render(ratio, data.css);\r\n  \t\t\tif (!ratio || ratio === 1) {\r\n  \t\t\t\tlet inline = data.rmv,\r\n  \t\t\t\t\ttarget = data.t,\r\n  \t\t\t\t\tp;\r\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\r\n  \t\t\t\tfor (p in inline) {\r\n  \t\t\t\t\t_removeProperty(target, p);\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t},\r\n  \t\t_getAllStyles = (target) => {\r\n  \t\t\tlet styles = {},\r\n  \t\t\t\tcomputed = getComputedStyle(target),\r\n  \t\t\t\tp;\r\n  \t\t\tfor (p in computed) {\r\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\r\n  \t\t\t\t\tstyles[p] = computed[p];\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\r\n  \t\t\treturn styles;\r\n  \t\t},\r\n  \t\tstartClassList = target.getAttribute(\"class\"),\r\n  \t\tstyle = target.style,\r\n  \t\tcssText = style.cssText,\r\n  \t\tcache = target._gsap,\r\n  \t\tclassPT = cache.classPT,\r\n  \t\tinlineToRemoveAtEnd = {},\r\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\r\n  \t\tchangingVars = {},\r\n  \t\tstartVars = _getAllStyles(target),\r\n  \t\ttransformRelated = /(transform|perspective)/i,\r\n  \t\tendVars, p;\r\n  \tif (classPT) {\r\n  \t\tclassPT.r(1, classPT.d);\r\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\r\n  \t}\r\n  \ttarget.setAttribute(\"class\", data.e);\r\n  \tendVars = _getAllStyles(target, true);\r\n  \ttarget.setAttribute(\"class\", startClassList);\r\n  \tfor (p in endVars) {\r\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\r\n  \t\t\tchangingVars[p] = endVars[p];\r\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\r\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\r\n  \t\t\t}\r\n  \t\t}\r\n  \t}\r\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\r\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\r\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\r\n  \t}\r\n  \t_parseTransform(target, true); //to clear the caching of transforms\r\n  \tdata.css = new gsap.plugins.css();\r\n  \tdata.css.init(target, changingVars, tween);\r\n  \tplugin._props.push(...data.css._props);\r\n  \treturn 1;\r\n  }\r\n  */\r\n\r\n},\r\n\r\n/*\r\n * --------------------------------------------------------------------------------------\r\n * TRANSFORMS\r\n * --------------------------------------------------------------------------------------\r\n */\r\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\r\n    _rotationalProperties = {},\r\n    _isNullTransform = function _isNullTransform(value) {\r\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\r\n},\r\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\r\n  var matrixString = _getComputedProperty(target, _transformProp);\r\n\r\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\r\n},\r\n    _getMatrix = function _getMatrix(target, force2D) {\r\n  var cache = target._gsap || _getCache(target),\r\n      style = target.style,\r\n      matrix = _getComputedTransformMatrixAsArray(target),\r\n      parent,\r\n      nextSibling,\r\n      temp,\r\n      addedToDOM;\r\n\r\n  if (cache.svg && target.getAttribute(\"transform\")) {\r\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\r\n\r\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\r\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\r\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\r\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\r\n    temp = style.display;\r\n    style.display = \"block\";\r\n    parent = target.parentNode;\r\n\r\n    if (!parent || !target.offsetParent) {\r\n      addedToDOM = 1; //flag\r\n\r\n      nextSibling = target.nextSibling;\r\n\r\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\r\n\r\n    }\r\n\r\n    matrix = _getComputedTransformMatrixAsArray(target);\r\n\r\n    if (temp) {\r\n      style.display = temp;\r\n    } else {\r\n      _removeProperty(target, \"display\");\r\n    }\r\n\r\n    if (addedToDOM) {\r\n      if (nextSibling) {\r\n        parent.insertBefore(target, nextSibling);\r\n      } else if (parent) {\r\n        parent.appendChild(target);\r\n      } else {\r\n        _docElement.removeChild(target);\r\n      }\r\n    }\r\n  }\r\n\r\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\r\n},\r\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\r\n  var cache = target._gsap,\r\n      matrix = matrixArray || _getMatrix(target, true),\r\n      xOriginOld = cache.xOrigin || 0,\r\n      yOriginOld = cache.yOrigin || 0,\r\n      xOffsetOld = cache.xOffset || 0,\r\n      yOffsetOld = cache.yOffset || 0,\r\n      a = matrix[0],\r\n      b = matrix[1],\r\n      c = matrix[2],\r\n      d = matrix[3],\r\n      tx = matrix[4],\r\n      ty = matrix[5],\r\n      originSplit = origin.split(\" \"),\r\n      xOrigin = parseFloat(originSplit[0]) || 0,\r\n      yOrigin = parseFloat(originSplit[1]) || 0,\r\n      bounds,\r\n      determinant,\r\n      x,\r\n      y;\r\n\r\n  if (!originIsAbsolute) {\r\n    bounds = _getBBox(target);\r\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\r\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\r\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\r\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\r\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\r\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\r\n    xOrigin = x;\r\n    yOrigin = y;\r\n  }\r\n\r\n  if (smooth || smooth !== false && cache.smooth) {\r\n    tx = xOrigin - xOriginOld;\r\n    ty = yOrigin - yOriginOld;\r\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\r\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\r\n  } else {\r\n    cache.xOffset = cache.yOffset = 0;\r\n  }\r\n\r\n  cache.xOrigin = xOrigin;\r\n  cache.yOrigin = yOrigin;\r\n  cache.smooth = !!smooth;\r\n  cache.origin = origin;\r\n  cache.originIsAbsolute = !!originIsAbsolute;\r\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\r\n\r\n  if (pluginToAddPropTweensTo) {\r\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\r\n\r\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\r\n\r\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\r\n\r\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\r\n  }\r\n\r\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\r\n},\r\n    _parseTransform = function _parseTransform(target, uncache) {\r\n  var cache = target._gsap || new GSCache(target);\r\n\r\n  if (\"x\" in cache && !uncache && !cache.uncache) {\r\n    return cache;\r\n  }\r\n\r\n  var style = target.style,\r\n      invertedScaleX = cache.scaleX < 0,\r\n      px = \"px\",\r\n      deg = \"deg\",\r\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\r\n      x,\r\n      y,\r\n      z,\r\n      scaleX,\r\n      scaleY,\r\n      rotation,\r\n      rotationX,\r\n      rotationY,\r\n      skewX,\r\n      skewY,\r\n      perspective,\r\n      xOrigin,\r\n      yOrigin,\r\n      matrix,\r\n      angle,\r\n      cos,\r\n      sin,\r\n      a,\r\n      b,\r\n      c,\r\n      d,\r\n      a12,\r\n      a22,\r\n      t1,\r\n      t2,\r\n      t3,\r\n      a13,\r\n      a23,\r\n      a33,\r\n      a42,\r\n      a43,\r\n      a32;\r\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\r\n  scaleX = scaleY = 1;\r\n  cache.svg = !!(target.getCTM && _isSVG(target));\r\n  matrix = _getMatrix(target, cache.svg);\r\n\r\n  if (cache.svg) {\r\n    t1 = !cache.uncache && target.getAttribute(\"data-svg-origin\");\r\n\r\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\r\n  }\r\n\r\n  xOrigin = cache.xOrigin || 0;\r\n  yOrigin = cache.yOrigin || 0;\r\n\r\n  if (matrix !== _identity2DMatrix) {\r\n    a = matrix[0]; //a11\r\n\r\n    b = matrix[1]; //a21\r\n\r\n    c = matrix[2]; //a31\r\n\r\n    d = matrix[3]; //a41\r\n\r\n    x = a12 = matrix[4];\r\n    y = a22 = matrix[5]; //2D matrix\r\n\r\n    if (matrix.length === 6) {\r\n      scaleX = Math.sqrt(a * a + b * b);\r\n      scaleY = Math.sqrt(d * d + c * c);\r\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\r\n\r\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\r\n      skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));\r\n\r\n      if (cache.svg) {\r\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\r\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\r\n      } //3D matrix\r\n\r\n    } else {\r\n      a32 = matrix[6];\r\n      a42 = matrix[7];\r\n      a13 = matrix[8];\r\n      a23 = matrix[9];\r\n      a33 = matrix[10];\r\n      a43 = matrix[11];\r\n      x = matrix[12];\r\n      y = matrix[13];\r\n      z = matrix[14];\r\n      angle = _atan2(a32, a33);\r\n      rotationX = angle * _RAD2DEG; //rotationX\r\n\r\n      if (angle) {\r\n        cos = Math.cos(-angle);\r\n        sin = Math.sin(-angle);\r\n        t1 = a12 * cos + a13 * sin;\r\n        t2 = a22 * cos + a23 * sin;\r\n        t3 = a32 * cos + a33 * sin;\r\n        a13 = a12 * -sin + a13 * cos;\r\n        a23 = a22 * -sin + a23 * cos;\r\n        a33 = a32 * -sin + a33 * cos;\r\n        a43 = a42 * -sin + a43 * cos;\r\n        a12 = t1;\r\n        a22 = t2;\r\n        a32 = t3;\r\n      } //rotationY\r\n\r\n\r\n      angle = _atan2(-c, a33);\r\n      rotationY = angle * _RAD2DEG;\r\n\r\n      if (angle) {\r\n        cos = Math.cos(-angle);\r\n        sin = Math.sin(-angle);\r\n        t1 = a * cos - a13 * sin;\r\n        t2 = b * cos - a23 * sin;\r\n        t3 = c * cos - a33 * sin;\r\n        a43 = d * sin + a43 * cos;\r\n        a = t1;\r\n        b = t2;\r\n        c = t3;\r\n      } //rotationZ\r\n\r\n\r\n      angle = _atan2(b, a);\r\n      rotation = angle * _RAD2DEG;\r\n\r\n      if (angle) {\r\n        cos = Math.cos(angle);\r\n        sin = Math.sin(angle);\r\n        t1 = a * cos + b * sin;\r\n        t2 = a12 * cos + a22 * sin;\r\n        b = b * cos - a * sin;\r\n        a22 = a22 * cos - a12 * sin;\r\n        a = t1;\r\n        a12 = t2;\r\n      }\r\n\r\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\r\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\r\n        rotationX = rotation = 0;\r\n        rotationY = 180 - rotationY;\r\n      }\r\n\r\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\r\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\r\n      angle = _atan2(a12, a22);\r\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\r\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\r\n    }\r\n\r\n    if (cache.svg) {\r\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\r\n      matrix = target.getAttribute(\"transform\");\r\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\r\n      matrix && target.setAttribute(\"transform\", matrix);\r\n    }\r\n  }\r\n\r\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\r\n    if (invertedScaleX) {\r\n      scaleX *= -1;\r\n      skewX += rotation <= 0 ? 180 : -180;\r\n      rotation += rotation <= 0 ? 180 : -180;\r\n    } else {\r\n      scaleY *= -1;\r\n      skewX += skewX <= 0 ? 180 : -180;\r\n    }\r\n  }\r\n\r\n  cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;\r\n  cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;\r\n  cache.z = z + px;\r\n  cache.scaleX = _round(scaleX);\r\n  cache.scaleY = _round(scaleY);\r\n  cache.rotation = _round(rotation) + deg;\r\n  cache.rotationX = _round(rotationX) + deg;\r\n  cache.rotationY = _round(rotationY) + deg;\r\n  cache.skewX = skewX + deg;\r\n  cache.skewY = skewY + deg;\r\n  cache.transformPerspective = perspective + px;\r\n\r\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\r\n    style[_transformOriginProp] = _firstTwoOnly(origin);\r\n  }\r\n\r\n  cache.xOffset = cache.yOffset = 0;\r\n  cache.force3D = _config.force3D;\r\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\r\n  cache.uncache = 0;\r\n  return cache;\r\n},\r\n    _firstTwoOnly = function _firstTwoOnly(value) {\r\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\r\n},\r\n    //for handling transformOrigin values, stripping out the 3rd dimension\r\n_addPxTranslate = function _addPxTranslate(target, start, value) {\r\n  var unit = getUnit(start);\r\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\r\n},\r\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\r\n  cache.z = \"0px\";\r\n  cache.rotationY = cache.rotationX = \"0deg\";\r\n  cache.force3D = 0;\r\n\r\n  _renderCSSTransforms(ratio, cache);\r\n},\r\n    _zeroDeg = \"0deg\",\r\n    _zeroPx = \"0px\",\r\n    _endParenthesis = \") \",\r\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\r\n  var _ref = cache || this,\r\n      xPercent = _ref.xPercent,\r\n      yPercent = _ref.yPercent,\r\n      x = _ref.x,\r\n      y = _ref.y,\r\n      z = _ref.z,\r\n      rotation = _ref.rotation,\r\n      rotationY = _ref.rotationY,\r\n      rotationX = _ref.rotationX,\r\n      skewX = _ref.skewX,\r\n      skewY = _ref.skewY,\r\n      scaleX = _ref.scaleX,\r\n      scaleY = _ref.scaleY,\r\n      transformPerspective = _ref.transformPerspective,\r\n      force3D = _ref.force3D,\r\n      target = _ref.target,\r\n      zOrigin = _ref.zOrigin,\r\n      transforms = \"\",\r\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\r\n\r\n\r\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\r\n    var angle = parseFloat(rotationY) * _DEG2RAD,\r\n        a13 = Math.sin(angle),\r\n        a33 = Math.cos(angle),\r\n        cos;\r\n\r\n    angle = parseFloat(rotationX) * _DEG2RAD;\r\n    cos = Math.cos(angle);\r\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\r\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\r\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\r\n  }\r\n\r\n  if (transformPerspective !== _zeroPx) {\r\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\r\n  }\r\n\r\n  if (xPercent || yPercent) {\r\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\r\n  }\r\n\r\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\r\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\r\n  }\r\n\r\n  if (rotation !== _zeroDeg) {\r\n    transforms += \"rotate(\" + rotation + _endParenthesis;\r\n  }\r\n\r\n  if (rotationY !== _zeroDeg) {\r\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\r\n  }\r\n\r\n  if (rotationX !== _zeroDeg) {\r\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\r\n  }\r\n\r\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\r\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\r\n  }\r\n\r\n  if (scaleX !== 1 || scaleY !== 1) {\r\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\r\n  }\r\n\r\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\r\n},\r\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\r\n  var _ref2 = cache || this,\r\n      xPercent = _ref2.xPercent,\r\n      yPercent = _ref2.yPercent,\r\n      x = _ref2.x,\r\n      y = _ref2.y,\r\n      rotation = _ref2.rotation,\r\n      skewX = _ref2.skewX,\r\n      skewY = _ref2.skewY,\r\n      scaleX = _ref2.scaleX,\r\n      scaleY = _ref2.scaleY,\r\n      target = _ref2.target,\r\n      xOrigin = _ref2.xOrigin,\r\n      yOrigin = _ref2.yOrigin,\r\n      xOffset = _ref2.xOffset,\r\n      yOffset = _ref2.yOffset,\r\n      forceCSS = _ref2.forceCSS,\r\n      tx = parseFloat(x),\r\n      ty = parseFloat(y),\r\n      a11,\r\n      a21,\r\n      a12,\r\n      a22,\r\n      temp;\r\n\r\n  rotation = parseFloat(rotation);\r\n  skewX = parseFloat(skewX);\r\n  skewY = parseFloat(skewY);\r\n\r\n  if (skewY) {\r\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\r\n    skewY = parseFloat(skewY);\r\n    skewX += skewY;\r\n    rotation += skewY;\r\n  }\r\n\r\n  if (rotation || skewX) {\r\n    rotation *= _DEG2RAD;\r\n    skewX *= _DEG2RAD;\r\n    a11 = Math.cos(rotation) * scaleX;\r\n    a21 = Math.sin(rotation) * scaleX;\r\n    a12 = Math.sin(rotation - skewX) * -scaleY;\r\n    a22 = Math.cos(rotation - skewX) * scaleY;\r\n\r\n    if (skewX) {\r\n      skewY *= _DEG2RAD;\r\n      temp = Math.tan(skewX - skewY);\r\n      temp = Math.sqrt(1 + temp * temp);\r\n      a12 *= temp;\r\n      a22 *= temp;\r\n\r\n      if (skewY) {\r\n        temp = Math.tan(skewY);\r\n        temp = Math.sqrt(1 + temp * temp);\r\n        a11 *= temp;\r\n        a21 *= temp;\r\n      }\r\n    }\r\n\r\n    a11 = _round(a11);\r\n    a21 = _round(a21);\r\n    a12 = _round(a12);\r\n    a22 = _round(a22);\r\n  } else {\r\n    a11 = scaleX;\r\n    a22 = scaleY;\r\n    a21 = a12 = 0;\r\n  }\r\n\r\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\r\n    tx = _convertToUnit(target, \"x\", x, \"px\");\r\n    ty = _convertToUnit(target, \"y\", y, \"px\");\r\n  }\r\n\r\n  if (xOrigin || yOrigin || xOffset || yOffset) {\r\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\r\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\r\n  }\r\n\r\n  if (xPercent || yPercent) {\r\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\r\n    temp = target.getBBox();\r\n    tx = _round(tx + xPercent / 100 * temp.width);\r\n    ty = _round(ty + yPercent / 100 * temp.height);\r\n  }\r\n\r\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\r\n  target.setAttribute(\"transform\", temp);\r\n\r\n  if (forceCSS) {\r\n    //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\r\n    target.style[_transformProp] = temp;\r\n  }\r\n},\r\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\r\n  var cap = 360,\r\n      isString = _isString(endValue),\r\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\r\n      change = relative ? endNum * relative : endNum - startNum,\r\n      finalValue = startNum + change + \"deg\",\r\n      direction,\r\n      pt;\r\n\r\n  if (isString) {\r\n    direction = endValue.split(\"_\")[1];\r\n\r\n    if (direction === \"short\") {\r\n      change %= cap;\r\n\r\n      if (change !== change % (cap / 2)) {\r\n        change += change < 0 ? cap : -cap;\r\n      }\r\n    }\r\n\r\n    if (direction === \"cw\" && change < 0) {\r\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\r\n    } else if (direction === \"ccw\" && change > 0) {\r\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\r\n    }\r\n  }\r\n\r\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\r\n  pt.e = finalValue;\r\n  pt.u = \"deg\";\r\n\r\n  plugin._props.push(property);\r\n\r\n  return pt;\r\n},\r\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\r\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\r\n  var style = _tempDivStyler.style,\r\n      startCache = target._gsap,\r\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\r\n      endCache,\r\n      p,\r\n      startValue,\r\n      endValue,\r\n      startNum,\r\n      endNum,\r\n      startUnit,\r\n      endUnit;\r\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\r\n\r\n  style[_transformProp] = transforms;\r\n\r\n  _doc.body.appendChild(_tempDivStyler);\r\n\r\n  endCache = _parseTransform(_tempDivStyler, 1);\r\n\r\n  for (p in _transformProps) {\r\n    startValue = startCache[p];\r\n    endValue = endCache[p];\r\n\r\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\r\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\r\n      startUnit = getUnit(startValue);\r\n      endUnit = getUnit(endValue);\r\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\r\n      endNum = parseFloat(endValue);\r\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\r\n      plugin._pt.u = endUnit || 0;\r\n\r\n      plugin._props.push(p);\r\n    }\r\n  }\r\n\r\n  _doc.body.removeChild(_tempDivStyler);\r\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\r\n\r\n\r\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\r\n  var t = \"Top\",\r\n      r = \"Right\",\r\n      b = \"Bottom\",\r\n      l = \"Left\",\r\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\r\n    return index < 2 ? name + side : \"border\" + side + name;\r\n  });\r\n\r\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\r\n    var a, vars;\r\n\r\n    if (arguments.length < 4) {\r\n      // getter, passed target, property, and unit (from _get())\r\n      a = props.map(function (prop) {\r\n        return _get(plugin, prop, property);\r\n      });\r\n      vars = a.join(\" \");\r\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\r\n    }\r\n\r\n    a = (endValue + \"\").split(\" \");\r\n    vars = {};\r\n    props.forEach(function (prop, i) {\r\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\r\n    });\r\n    plugin.init(target, vars, tween);\r\n  };\r\n});\r\n\r\nexport var CSSPlugin = {\r\n  name: \"css\",\r\n  register: _initCore,\r\n  targetTest: function targetTest(target) {\r\n    return target.style && target.nodeType;\r\n  },\r\n  init: function init(target, vars, tween, index, targets) {\r\n    var props = this._props,\r\n        style = target.style,\r\n        startValue,\r\n        endValue,\r\n        endNum,\r\n        startNum,\r\n        type,\r\n        specialProp,\r\n        p,\r\n        startUnit,\r\n        endUnit,\r\n        relative,\r\n        isTransformRelated,\r\n        transformPropTween,\r\n        cache,\r\n        smooth,\r\n        hasPriority;\r\n\r\n    if (!_pluginInitted) {\r\n      _initCore();\r\n    }\r\n\r\n    for (p in vars) {\r\n      if (p === \"autoRound\") {\r\n        continue;\r\n      }\r\n\r\n      endValue = vars[p];\r\n\r\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\r\n        //plugins\r\n        continue;\r\n      }\r\n\r\n      type = typeof endValue;\r\n      specialProp = _specialProps[p];\r\n\r\n      if (type === \"function\") {\r\n        endValue = endValue.call(tween, index, target, targets);\r\n        type = typeof endValue;\r\n      }\r\n\r\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\r\n        endValue = _replaceRandom(endValue);\r\n      }\r\n\r\n      if (specialProp) {\r\n        if (specialProp(this, target, p, endValue, tween)) {\r\n          hasPriority = 1;\r\n        }\r\n      } else if (p.substr(0, 2) === \"--\") {\r\n        //CSS variable\r\n        this.add(style, \"setProperty\", getComputedStyle(target).getPropertyValue(p) + \"\", endValue + \"\", index, targets, 0, 0, p);\r\n      } else {\r\n        startValue = _get(target, p);\r\n        startNum = parseFloat(startValue);\r\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\r\n\r\n        if (relative) {\r\n          endValue = endValue.substr(2);\r\n        }\r\n\r\n        endNum = parseFloat(endValue);\r\n\r\n        if (p in _propertyAliases) {\r\n          if (p === \"autoAlpha\") {\r\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\r\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\r\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\r\n              startNum = 0;\r\n            }\r\n\r\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\r\n          }\r\n\r\n          if (p !== \"scale\" && p !== \"transform\") {\r\n            p = _propertyAliases[p];\r\n\r\n            if (~p.indexOf(\",\")) {\r\n              p = p.split(\",\")[0];\r\n            }\r\n          }\r\n        }\r\n\r\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\r\n\r\n        if (isTransformRelated) {\r\n          if (!transformPropTween) {\r\n            cache = target._gsap;\r\n            cache.renderTransform || _parseTransform(target); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\r\n\r\n            smooth = vars.smoothOrigin !== false && cache.smooth;\r\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\r\n\r\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\r\n          }\r\n\r\n          if (p === \"scale\") {\r\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\r\n            props.push(\"scaleY\", p);\r\n            p += \"X\";\r\n          } else if (p === \"transformOrigin\") {\r\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\r\n\r\n            if (cache.svg) {\r\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\r\n            } else {\r\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\r\n\r\n              if (endUnit !== cache.zOrigin) {\r\n                _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\r\n              }\r\n\r\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\r\n            }\r\n\r\n            continue;\r\n          } else if (p === \"svgOrigin\") {\r\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\r\n\r\n            continue;\r\n          } else if (p in _rotationalProperties) {\r\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\r\n\r\n            continue;\r\n          } else if (p === \"smoothOrigin\") {\r\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\r\n\r\n            continue;\r\n          } else if (p === \"force3D\") {\r\n            cache[p] = endValue;\r\n            continue;\r\n          } else if (p === \"transform\") {\r\n            _addRawTransformPTs(this, endValue, target);\r\n\r\n            continue;\r\n          }\r\n        } else if (!(p in style)) {\r\n          p = _checkPropPrefix(p) || p;\r\n        }\r\n\r\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\r\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\r\n          endNum || (endNum = 0); // protect against NaN\r\n\r\n          endUnit = (endValue + \"\").substr((endNum + \"\").length) || (p in _config.units ? _config.units[p] : startUnit);\r\n\r\n          if (startUnit !== endUnit) {\r\n            startNum = _convertToUnit(target, p, startValue, endUnit);\r\n          }\r\n\r\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === \"px\" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);\r\n          this._pt.u = endUnit || 0;\r\n\r\n          if (startUnit !== endUnit) {\r\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\r\n            this._pt.b = startValue;\r\n            this._pt.r = _renderCSSPropWithBeginning;\r\n          }\r\n        } else if (!(p in style)) {\r\n          if (p in target) {\r\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\r\n            this.add(target, p, target[p], endValue, index, targets);\r\n          } else {\r\n            _missingPlugin(p, endValue);\r\n\r\n            continue;\r\n          }\r\n        } else {\r\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\r\n        }\r\n\r\n        props.push(p);\r\n      }\r\n    }\r\n\r\n    if (hasPriority) {\r\n      _sortPropTweensByPriority(this);\r\n    }\r\n  },\r\n  get: _get,\r\n  aliases: _propertyAliases,\r\n  getSetter: function getSetter(target, property, plugin) {\r\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\r\n    var p = _propertyAliases[property];\r\n    p && p.indexOf(\",\") < 0 && (property = p);\r\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\r\n  },\r\n  core: {\r\n    _removeProperty: _removeProperty,\r\n    _getMatrix: _getMatrix\r\n  }\r\n};\r\ngsap.utils.checkPrefix = _checkPropPrefix;\r\n\r\n(function (positionAndScale, rotation, others, aliases) {\r\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\r\n    _transformProps[name] = 1;\r\n  });\r\n\r\n  _forEachName(rotation, function (name) {\r\n    _config.units[name] = \"deg\";\r\n    _rotationalProperties[name] = 1;\r\n  });\r\n\r\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\r\n\r\n  _forEachName(aliases, function (name) {\r\n    var split = name.split(\":\");\r\n    _propertyAliases[split[1]] = all[split[0]];\r\n  });\r\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\r\n\r\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\r\n  _config.units[name] = \"px\";\r\n});\r\n\r\ngsap.registerPlugin(CSSPlugin);\r\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\r\nimport { CSSPlugin } from \"./CSSPlugin.js\";\r\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\r\n    // to protect from tree shaking\r\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\r\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('three')) :\r\n  typeof define === 'function' && define.amd ? define(['three'], factory) :\r\n  (global.orbitControls = factory(global.three));\r\n}(this, (function (three) { 'use strict';\r\n\r\n  function _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n      throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n  }\r\n\r\n  function _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n      var descriptor = props[i];\r\n      descriptor.enumerable = descriptor.enumerable || false;\r\n      descriptor.configurable = true;\r\n      if (\"value\" in descriptor) descriptor.writable = true;\r\n      Object.defineProperty(target, descriptor.key, descriptor);\r\n    }\r\n  }\r\n\r\n  function _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n    if (staticProps) _defineProperties(Constructor, staticProps);\r\n    return Constructor;\r\n  }\r\n\r\n  function _inherits(subClass, superClass) {\r\n    if (typeof superClass !== \"function\" && superClass !== null) {\r\n      throw new TypeError(\"Super expression must either be null or a function\");\r\n    }\r\n\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n      constructor: {\r\n        value: subClass,\r\n        writable: true,\r\n        configurable: true\r\n      }\r\n    });\r\n    if (superClass) _setPrototypeOf(subClass, superClass);\r\n  }\r\n\r\n  function _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\r\n      return o.__proto__ || Object.getPrototypeOf(o);\r\n    };\r\n    return _getPrototypeOf(o);\r\n  }\r\n\r\n  function _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n      o.__proto__ = p;\r\n      return o;\r\n    };\r\n\r\n    return _setPrototypeOf(o, p);\r\n  }\r\n\r\n  function _assertThisInitialized(self) {\r\n    if (self === void 0) {\r\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n    }\r\n\r\n    return self;\r\n  }\r\n\r\n  function _possibleConstructorReturn(self, call) {\r\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\r\n      return call;\r\n    }\r\n\r\n    return _assertThisInitialized(self);\r\n  }\r\n\r\n  /**\r\n   * @author qiao / https://github.com/qiao\r\n   * @author mrdoob / http://mrdoob.com\r\n   * @author alteredq / http://alteredqualia.com/\r\n   * @author WestLangley / http://github.com/WestLangley\r\n   * @author erich666 / http://erichaines.com\r\n   */\r\n\r\n  var OrbitControls =\r\n  /*#__PURE__*/\r\n  function (_EventDispatcher) {\r\n    _inherits(OrbitControls, _EventDispatcher);\r\n\r\n    function OrbitControls(object, domElement) {\r\n      var _this;\r\n\r\n      _classCallCheck(this, OrbitControls);\r\n\r\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(OrbitControls).call(this));\r\n      _this.object = object;\r\n      _this.domElement = domElement !== undefined ? domElement : document; // Set to false to disable this control\r\n\r\n      _this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\r\n\r\n      _this.target = new three.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\r\n\r\n      _this.minDistance = 0;\r\n      _this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\r\n\r\n      _this.minZoom = 0;\r\n      _this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\r\n      // Range is 0 to Math.PI radians.\r\n\r\n      _this.minPolarAngle = 0; // radians\r\n\r\n      _this.maxPolarAngle = Math.PI; // radians\r\n      // How far you can orbit horizontally, upper and lower limits.\r\n      // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n\r\n      _this.minAzimuthAngle = -Infinity; // radians\r\n\r\n      _this.maxAzimuthAngle = Infinity; // radians\r\n      // Set to true to enable damping (inertia)\r\n      // If damping is enabled, you must call controls.update() in your animation loop\r\n\r\n      _this.enableDamping = false;\r\n      _this.dampingFactor = 0.25; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n      // Set to false to disable zooming\r\n\r\n      _this.enableZoom = true;\r\n      _this.zoomSpeed = 1.0; // Set to false to disable rotating\r\n\r\n      _this.enableRotate = true;\r\n      _this.rotateSpeed = 1.0; // Set to false to disable panning\r\n\r\n      _this.enablePan = true;\r\n      _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\r\n      // Set to true to automatically rotate around the target\r\n      // If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\r\n      _this.autoRotate = false;\r\n      _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n      // Set to false to disable use of the keys\r\n\r\n      _this.enableKeys = true; // The four arrow keys\r\n\r\n      _this.keys = {\r\n        LEFT: 37,\r\n        UP: 38,\r\n        RIGHT: 39,\r\n        BOTTOM: 40\r\n      }; // Mouse buttons\r\n\r\n      _this.mouseButtons = {\r\n        ORBIT: three.MOUSE.LEFT,\r\n        ZOOM: three.MOUSE.MIDDLE,\r\n        PAN: three.MOUSE.RIGHT\r\n      }; // for reset\r\n\r\n      _this.target0 = _this.target.clone();\r\n      _this.position0 = _this.object.position.clone();\r\n      _this.zoom0 = _this.object.zoom; //\r\n      // public methods\r\n      //\r\n\r\n      _this.getPolarAngle = function () {\r\n        return spherical.phi;\r\n      };\r\n\r\n      _this.getAzimuthalAngle = function () {\r\n        return spherical.theta;\r\n      };\r\n\r\n      _this.reset = function () {\r\n        scope.target.copy(scope.target0);\r\n        scope.object.position.copy(scope.position0);\r\n        scope.object.zoom = scope.zoom0;\r\n        scope.object.updateProjectionMatrix();\r\n        scope.dispatchEvent(changeEvent);\r\n        scope.update();\r\n        state = STATE.NONE;\r\n      }; // this method is exposed, but perhaps it would be better if we can make it private...\r\n\r\n\r\n      _this.update = function () {\r\n        var offset = new three.Vector3(); // so camera.up is the orbit axis\r\n\r\n        var quat = new three.Quaternion().setFromUnitVectors(object.up, new three.Vector3(0, 1, 0));\r\n        var quatInverse = quat.clone().inverse();\r\n        var lastPosition = new three.Vector3();\r\n        var lastQuaternion = new three.Quaternion();\r\n        return function update() {\r\n          var position = scope.object.position;\r\n          offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\r\n\r\n          offset.applyQuaternion(quat); // angle from z-axis around y-axis\r\n\r\n          spherical.setFromVector3(offset);\r\n\r\n          if (scope.autoRotate && state === STATE.NONE) {\r\n            rotateLeft(getAutoRotationAngle());\r\n          }\r\n\r\n          spherical.theta += sphericalDelta.theta;\r\n          spherical.phi += sphericalDelta.phi; // restrict theta to be between desired limits\r\n\r\n          spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta)); // restrict phi to be between desired limits\r\n\r\n          spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\r\n          spherical.makeSafe();\r\n          spherical.radius *= scale; // restrict radius to be between desired limits\r\n\r\n          spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\r\n\r\n          scope.target.add(panOffset);\r\n          offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\r\n\r\n          offset.applyQuaternion(quatInverse);\r\n          position.copy(scope.target).add(offset);\r\n          scope.object.lookAt(scope.target);\r\n\r\n          if (scope.enableDamping === true) {\r\n            sphericalDelta.theta *= 1 - scope.dampingFactor;\r\n            sphericalDelta.phi *= 1 - scope.dampingFactor;\r\n          } else {\r\n            sphericalDelta.set(0, 0, 0);\r\n          }\r\n\r\n          scale = 1;\r\n          panOffset.set(0, 0, 0); // update condition is:\r\n          // min(camera displacement, camera rotation in radians)^2 > EPS\r\n          // using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n          if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\r\n            scope.dispatchEvent(changeEvent);\r\n            lastPosition.copy(scope.object.position);\r\n            lastQuaternion.copy(scope.object.quaternion);\r\n            zoomChanged = false;\r\n            return true;\r\n          }\r\n\r\n          return false;\r\n        };\r\n      }();\r\n\r\n      _this.dispose = function () {\r\n        scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\r\n        scope.domElement.removeEventListener('mousedown', onMouseDown, false);\r\n        scope.domElement.removeEventListener('wheel', onMouseWheel, false);\r\n        scope.domElement.removeEventListener('touchstart', onTouchStart, false);\r\n        scope.domElement.removeEventListener('touchend', onTouchEnd, false);\r\n        scope.domElement.removeEventListener('touchmove', onTouchMove, false);\r\n        document.removeEventListener('mousemove', onMouseMove, false);\r\n        document.removeEventListener('mouseup', onMouseUp, false);\r\n        window.removeEventListener('keydown', onKeyDown, false); // scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n      }; //\r\n      // internals\r\n      //\r\n\r\n\r\n      var scope = _assertThisInitialized(_assertThisInitialized(_this));\r\n\r\n      var changeEvent = {\r\n        type: 'change'\r\n      };\r\n      var startEvent = {\r\n        type: 'start'\r\n      };\r\n      var endEvent = {\r\n        type: 'end'\r\n      };\r\n      var STATE = {\r\n        NONE: -1,\r\n        ROTATE: 0,\r\n        DOLLY: 1,\r\n        PAN: 2,\r\n        TOUCH_ROTATE: 3,\r\n        TOUCH_DOLLY: 4,\r\n        TOUCH_PAN: 5\r\n      };\r\n      var state = STATE.NONE;\r\n      var EPS = 0.000001; // current position in spherical coordinates\r\n\r\n      var spherical = new three.Spherical();\r\n      var sphericalDelta = new three.Spherical();\r\n      var scale = 1;\r\n      var panOffset = new three.Vector3();\r\n      var zoomChanged = false;\r\n      var rotateStart = new three.Vector2();\r\n      var rotateEnd = new three.Vector2();\r\n      var rotateDelta = new three.Vector2();\r\n      var panStart = new three.Vector2();\r\n      var panEnd = new three.Vector2();\r\n      var panDelta = new three.Vector2();\r\n      var dollyStart = new three.Vector2();\r\n      var dollyEnd = new three.Vector2();\r\n      var dollyDelta = new three.Vector2();\r\n\r\n      function getAutoRotationAngle() {\r\n        return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n      }\r\n\r\n      function getZoomScale() {\r\n        return Math.pow(0.95, scope.zoomSpeed);\r\n      }\r\n\r\n      function rotateLeft(angle) {\r\n        sphericalDelta.theta -= angle;\r\n      }\r\n\r\n      function rotateUp(angle) {\r\n        sphericalDelta.phi -= angle;\r\n      }\r\n\r\n      var panLeft = function () {\r\n        var v = new three.Vector3();\r\n        return function panLeft(distance, objectMatrix) {\r\n          v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\r\n\r\n          v.multiplyScalar(-distance);\r\n          panOffset.add(v);\r\n        };\r\n      }();\r\n\r\n      var panUp = function () {\r\n        var v = new three.Vector3();\r\n        return function panUp(distance, objectMatrix) {\r\n          v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\r\n\r\n          v.multiplyScalar(distance);\r\n          panOffset.add(v);\r\n        };\r\n      }(); // deltaX and deltaY are in pixels; right and down are positive\r\n\r\n\r\n      var pan = function () {\r\n        var offset = new three.Vector3();\r\n        return function pan(deltaX, deltaY) {\r\n          var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n          if (Object.getPrototypeOf(scope.object).isPerspectiveCamera) {\r\n            // perspective\r\n            var position = scope.object.position;\r\n            offset.copy(position).sub(scope.target);\r\n            var targetDistance = offset.length(); // half of the fov is center to top of screen\r\n\r\n            targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n\r\n            panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\r\n            panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\r\n          } else if (Object.getPrototypeOf(scope.object).isOrthographicCamera) {\r\n            // orthographic\r\n            panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\r\n            panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\r\n          } else {\r\n            // camera neither orthographic nor perspective\r\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\r\n            scope.enablePan = false;\r\n          }\r\n        };\r\n      }();\r\n\r\n      function dollyIn(dollyScale) {\r\n        if (Object.getPrototypeOf(scope.object).isPerspectiveCamera) {\r\n          scale /= dollyScale;\r\n        } else if (Object.getPrototypeOf(scope.object).isOrthographicCamera) {\r\n          scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\r\n          scope.object.updateProjectionMatrix();\r\n          zoomChanged = true;\r\n        } else {\r\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n          scope.enableZoom = false;\r\n        }\r\n      }\r\n\r\n      function dollyOut(dollyScale) {\r\n        if (Object.getPrototypeOf(scope.object).isPerspectiveCamera) {\r\n          scale *= dollyScale;\r\n        } else if (Object.getPrototypeOf(scope.object).isOrthographicCamera) {\r\n          scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\r\n          scope.object.updateProjectionMatrix();\r\n          zoomChanged = true;\r\n        } else {\r\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n          scope.enableZoom = false;\r\n        }\r\n      } //\r\n      // event callbacks - update the object state\r\n      //\r\n\r\n\r\n      function handleMouseDownRotate(event) {\r\n        // console.log( 'handleMouseDownRotate' );\r\n        rotateStart.set(event.clientX, event.clientY);\r\n      }\r\n\r\n      function handleMouseDownDolly(event) {\r\n        // console.log( 'handleMouseDownDolly' );\r\n        dollyStart.set(event.clientX, event.clientY);\r\n      }\r\n\r\n      function handleMouseDownPan(event) {\r\n        // console.log( 'handleMouseDownPan' );\r\n        panStart.set(event.clientX, event.clientY);\r\n      }\r\n\r\n      function handleMouseMoveRotate(event) {\r\n        // console.log( 'handleMouseMoveRotate' );\r\n        rotateEnd.set(event.clientX, event.clientY);\r\n        rotateDelta.subVectors(rotateEnd, rotateStart);\r\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\r\n\r\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\r\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\r\n        rotateStart.copy(rotateEnd);\r\n        scope.update();\r\n      }\r\n\r\n      function handleMouseMoveDolly(event) {\r\n        // console.log( 'handleMouseMoveDolly' );\r\n        dollyEnd.set(event.clientX, event.clientY);\r\n        dollyDelta.subVectors(dollyEnd, dollyStart);\r\n\r\n        if (dollyDelta.y > 0) {\r\n          dollyIn(getZoomScale());\r\n        } else if (dollyDelta.y < 0) {\r\n          dollyOut(getZoomScale());\r\n        }\r\n\r\n        dollyStart.copy(dollyEnd);\r\n        scope.update();\r\n      }\r\n\r\n      function handleMouseMovePan(event) {\r\n        // console.log( 'handleMouseMovePan' );\r\n        panEnd.set(event.clientX, event.clientY);\r\n        panDelta.subVectors(panEnd, panStart);\r\n        pan(panDelta.x, panDelta.y);\r\n        panStart.copy(panEnd);\r\n        scope.update();\r\n      }\r\n\r\n      function handleMouseWheel(event) {\r\n        // console.log( 'handleMouseWheel' );\r\n        if (event.deltaY < 0) {\r\n          dollyOut(getZoomScale());\r\n        } else if (event.deltaY > 0) {\r\n          dollyIn(getZoomScale());\r\n        }\r\n\r\n        scope.update();\r\n      }\r\n\r\n      function handleKeyDown(event) {\r\n        // console.log( 'handleKeyDown' );\r\n        switch (event.keyCode) {\r\n          case scope.keys.UP:\r\n            pan(0, scope.keyPanSpeed);\r\n            scope.update();\r\n            break;\r\n\r\n          case scope.keys.BOTTOM:\r\n            pan(0, -scope.keyPanSpeed);\r\n            scope.update();\r\n            break;\r\n\r\n          case scope.keys.LEFT:\r\n            pan(scope.keyPanSpeed, 0);\r\n            scope.update();\r\n            break;\r\n\r\n          case scope.keys.RIGHT:\r\n            pan(-scope.keyPanSpeed, 0);\r\n            scope.update();\r\n            break;\r\n        }\r\n      }\r\n\r\n      function handleTouchStartRotate(event) {\r\n        // console.log( 'handleTouchStartRotate' );\r\n        rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      }\r\n\r\n      function handleTouchStartDolly(event) {\r\n        // console.log( 'handleTouchStartDolly' );\r\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\r\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\r\n        var distance = Math.sqrt(dx * dx + dy * dy);\r\n        dollyStart.set(0, distance);\r\n      }\r\n\r\n      function handleTouchStartPan(event) {\r\n        // console.log( 'handleTouchStartPan' );\r\n        panStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      }\r\n\r\n      function handleTouchMoveRotate(event) {\r\n        // console.log( 'handleTouchMoveRotate' );\r\n        rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n        rotateDelta.subVectors(rotateEnd, rotateStart);\r\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\r\n\r\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\r\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\r\n        rotateStart.copy(rotateEnd);\r\n        scope.update();\r\n      }\r\n\r\n      function handleTouchMoveDolly(event) {\r\n        // console.log( 'handleTouchMoveDolly' );\r\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\r\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\r\n        var distance = Math.sqrt(dx * dx + dy * dy);\r\n        dollyEnd.set(0, distance);\r\n        dollyDelta.subVectors(dollyEnd, dollyStart);\r\n\r\n        if (dollyDelta.y > 0) {\r\n          dollyOut(getZoomScale());\r\n        } else if (dollyDelta.y < 0) {\r\n          dollyIn(getZoomScale());\r\n        }\r\n\r\n        dollyStart.copy(dollyEnd);\r\n        scope.update();\r\n      }\r\n\r\n      function handleTouchMovePan(event) {\r\n        // console.log( 'handleTouchMovePan' );\r\n        panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n        panDelta.subVectors(panEnd, panStart);\r\n        pan(panDelta.x, panDelta.y);\r\n        panStart.copy(panEnd);\r\n        scope.update();\r\n      } //\r\n      // event handlers - FSM: listen for events and reset state\r\n      //\r\n\r\n\r\n      function onMouseDown(event) {\r\n        if (scope.enabled === false) return;\r\n        event.preventDefault();\r\n\r\n        if (event.button === scope.mouseButtons.ORBIT) {\r\n          if (scope.enableRotate === false) return;\r\n          handleMouseDownRotate(event);\r\n          state = STATE.ROTATE;\r\n        } else if (event.button === scope.mouseButtons.ZOOM) {\r\n          if (scope.enableZoom === false) return;\r\n          handleMouseDownDolly(event);\r\n          state = STATE.DOLLY;\r\n        } else if (event.button === scope.mouseButtons.PAN) {\r\n          if (scope.enablePan === false) return;\r\n          handleMouseDownPan(event);\r\n          state = STATE.PAN;\r\n        }\r\n\r\n        if (state !== STATE.NONE) {\r\n          document.addEventListener('mousemove', onMouseMove, false);\r\n          document.addEventListener('mouseup', onMouseUp, false);\r\n          scope.dispatchEvent(startEvent);\r\n        }\r\n      }\r\n\r\n      function onMouseMove(event) {\r\n        if (scope.enabled === false) return;\r\n        event.preventDefault();\r\n\r\n        if (state === STATE.ROTATE) {\r\n          if (scope.enableRotate === false) return;\r\n          handleMouseMoveRotate(event);\r\n        } else if (state === STATE.DOLLY) {\r\n          if (scope.enableZoom === false) return;\r\n          handleMouseMoveDolly(event);\r\n        } else if (state === STATE.PAN) {\r\n          if (scope.enablePan === false) return;\r\n          handleMouseMovePan(event);\r\n        }\r\n      }\r\n\r\n      function onMouseUp(event) {\r\n        if (scope.enabled === false) return;\r\n        document.removeEventListener('mousemove', onMouseMove, false);\r\n        document.removeEventListener('mouseup', onMouseUp, false);\r\n        scope.dispatchEvent(endEvent);\r\n        state = STATE.NONE;\r\n      }\r\n\r\n      function onMouseWheel(event) {\r\n        if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        handleMouseWheel(event);\r\n        scope.dispatchEvent(startEvent); // not sure why these are here...\r\n\r\n        scope.dispatchEvent(endEvent);\r\n      }\r\n\r\n      function onKeyDown(event) {\r\n        if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\r\n        handleKeyDown(event);\r\n      }\r\n\r\n      function onTouchStart(event) {\r\n        if (scope.enabled === false) return;\r\n\r\n        switch (event.touches.length) {\r\n          case 1:\r\n            // one-fingered touch: rotate\r\n            if (scope.enableRotate === false) return;\r\n            handleTouchStartRotate(event);\r\n            state = STATE.TOUCH_ROTATE;\r\n            break;\r\n\r\n          case 2:\r\n            // two-fingered touch: dolly\r\n            if (scope.enableZoom === false) return;\r\n            handleTouchStartDolly(event);\r\n            state = STATE.TOUCH_DOLLY;\r\n            break;\r\n\r\n          case 3:\r\n            // three-fingered touch: pan\r\n            if (scope.enablePan === false) return;\r\n            handleTouchStartPan(event);\r\n            state = STATE.TOUCH_PAN;\r\n            break;\r\n\r\n          default:\r\n            state = STATE.NONE;\r\n        }\r\n\r\n        if (state !== STATE.NONE) {\r\n          scope.dispatchEvent(startEvent);\r\n        }\r\n      }\r\n\r\n      function onTouchMove(event) {\r\n        if (scope.enabled === false) return;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        switch (event.touches.length) {\r\n          case 1:\r\n            // one-fingered touch: rotate\r\n            if (scope.enableRotate === false) return;\r\n            if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\r\n\r\n            handleTouchMoveRotate(event);\r\n            break;\r\n\r\n          case 2:\r\n            // two-fingered touch: dolly\r\n            if (scope.enableZoom === false) return;\r\n            if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\r\n\r\n            handleTouchMoveDolly(event);\r\n            break;\r\n\r\n          case 3:\r\n            // three-fingered touch: pan\r\n            if (scope.enablePan === false) return;\r\n            if (state !== STATE.TOUCH_PAN) return; // is this needed?...\r\n\r\n            handleTouchMovePan(event);\r\n            break;\r\n\r\n          default:\r\n            state = STATE.NONE;\r\n        }\r\n      }\r\n\r\n      function onTouchEnd(event) {\r\n        if (scope.enabled === false) return;\r\n        scope.dispatchEvent(endEvent);\r\n        state = STATE.NONE;\r\n      }\r\n\r\n      function onContextMenu(event) {\r\n        event.preventDefault();\r\n      } //\r\n\r\n\r\n      scope.domElement.addEventListener('contextmenu', onContextMenu, false);\r\n      scope.domElement.addEventListener('mousedown', onMouseDown, false);\r\n      scope.domElement.addEventListener('wheel', onMouseWheel, false);\r\n      scope.domElement.addEventListener('touchstart', onTouchStart, false);\r\n      scope.domElement.addEventListener('touchend', onTouchEnd, false);\r\n      scope.domElement.addEventListener('touchmove', onTouchMove, false);\r\n      window.addEventListener('keydown', onKeyDown, false); // force an update at start\r\n\r\n      _this.update();\r\n\r\n      return _this;\r\n    }\r\n\r\n    _createClass(OrbitControls, [{\r\n      key: \"center\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .center has been renamed to .target');\r\n        return this.target;\r\n      } // backward compatibility\r\n\r\n    }, {\r\n      key: \"noZoom\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\r\n        return !this.enableZoom;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\r\n        this.enableZoom = !value;\r\n      }\r\n    }, {\r\n      key: \"noRotate\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\r\n        return !this.enableRotate;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\r\n        this.enableRotate = !value;\r\n      }\r\n    }, {\r\n      key: \"noPan\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\r\n        return !this.enablePan;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\r\n        this.enablePan = !value;\r\n      }\r\n    }, {\r\n      key: \"noKeys\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\r\n        return !this.enableKeys;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\r\n        this.enableKeys = !value;\r\n      }\r\n    }, {\r\n      key: \"staticMoving\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\r\n        return !this.enableDamping;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\r\n        this.enableDamping = !value;\r\n      }\r\n    }, {\r\n      key: \"dynamicDampingFactor\",\r\n      get: function get() {\r\n        console.warn('OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\r\n        return this.dampingFactor;\r\n      },\r\n      set: function set(value) {\r\n        console.warn('OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\r\n        this.dampingFactor = value;\r\n      }\r\n    }]);\r\n\r\n    return OrbitControls;\r\n  }(three.EventDispatcher);\r\n\r\n  return OrbitControls;\r\n\r\n})));\r\n","/*\r\n * Copyright (c) 2015 cannon.js Authors\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies\r\n * of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&false)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.CANNON=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\r\nmodule.exports={\r\n  \"name\": \"cannon\",\r\n  \"version\": \"0.6.2\",\r\n  \"description\": \"A lightweight 3D physics engine written in JavaScript.\",\r\n  \"homepage\": \"https://github.com/schteppe/cannon.js\",\r\n  \"author\": \"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)\",\r\n  \"keywords\": [\r\n    \"cannon.js\",\r\n    \"cannon\",\r\n    \"physics\",\r\n    \"engine\",\r\n    \"3d\"\r\n  ],\r\n  \"main\": \"./build/cannon.js\",\r\n  \"engines\": {\r\n    \"node\": \"*\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/schteppe/cannon.js.git\"\r\n  },\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/schteppe/cannon.js/issues\"\r\n  },\r\n  \"licenses\": [\r\n    {\r\n      \"type\": \"MIT\"\r\n    }\r\n  ],\r\n  \"devDependencies\": {\r\n    \"jshint\": \"latest\",\r\n    \"uglify-js\": \"latest\",\r\n    \"nodeunit\": \"^0.9.0\",\r\n    \"grunt\": \"~0.4.0\",\r\n    \"grunt-contrib-jshint\": \"~0.1.1\",\r\n    \"grunt-contrib-nodeunit\": \"^0.4.1\",\r\n    \"grunt-contrib-concat\": \"~0.1.3\",\r\n    \"grunt-contrib-uglify\": \"^0.5.1\",\r\n    \"grunt-browserify\": \"^2.1.4\",\r\n    \"grunt-contrib-yuidoc\": \"^0.5.2\",\r\n    \"browserify\": \"*\"\r\n  },\r\n  \"dependencies\": {}\r\n}\r\n\r\n},{}],2:[function(_dereq_,module,exports){\r\n// Export classes\r\nmodule.exports = {\r\n    version :                       _dereq_('../package.json').version,\r\n\r\n    AABB :                          _dereq_('./collision/AABB'),\r\n    ArrayCollisionMatrix :          _dereq_('./collision/ArrayCollisionMatrix'),\r\n    Body :                          _dereq_('./objects/Body'),\r\n    Box :                           _dereq_('./shapes/Box'),\r\n    Broadphase :                    _dereq_('./collision/Broadphase'),\r\n    Constraint :                    _dereq_('./constraints/Constraint'),\r\n    ContactEquation :               _dereq_('./equations/ContactEquation'),\r\n    Narrowphase :                   _dereq_('./world/Narrowphase'),\r\n    ConeTwistConstraint :           _dereq_('./constraints/ConeTwistConstraint'),\r\n    ContactMaterial :               _dereq_('./material/ContactMaterial'),\r\n    ConvexPolyhedron :              _dereq_('./shapes/ConvexPolyhedron'),\r\n    Cylinder :                      _dereq_('./shapes/Cylinder'),\r\n    DistanceConstraint :            _dereq_('./constraints/DistanceConstraint'),\r\n    Equation :                      _dereq_('./equations/Equation'),\r\n    EventTarget :                   _dereq_('./utils/EventTarget'),\r\n    FrictionEquation :              _dereq_('./equations/FrictionEquation'),\r\n    GSSolver :                      _dereq_('./solver/GSSolver'),\r\n    GridBroadphase :                _dereq_('./collision/GridBroadphase'),\r\n    Heightfield :                   _dereq_('./shapes/Heightfield'),\r\n    HingeConstraint :               _dereq_('./constraints/HingeConstraint'),\r\n    LockConstraint :                _dereq_('./constraints/LockConstraint'),\r\n    Mat3 :                          _dereq_('./math/Mat3'),\r\n    Material :                      _dereq_('./material/Material'),\r\n    NaiveBroadphase :               _dereq_('./collision/NaiveBroadphase'),\r\n    ObjectCollisionMatrix :         _dereq_('./collision/ObjectCollisionMatrix'),\r\n    Pool :                          _dereq_('./utils/Pool'),\r\n    Particle :                      _dereq_('./shapes/Particle'),\r\n    Plane :                         _dereq_('./shapes/Plane'),\r\n    PointToPointConstraint :        _dereq_('./constraints/PointToPointConstraint'),\r\n    Quaternion :                    _dereq_('./math/Quaternion'),\r\n    Ray :                           _dereq_('./collision/Ray'),\r\n    RaycastVehicle :                _dereq_('./objects/RaycastVehicle'),\r\n    RaycastResult :                 _dereq_('./collision/RaycastResult'),\r\n    RigidVehicle :                  _dereq_('./objects/RigidVehicle'),\r\n    RotationalEquation :            _dereq_('./equations/RotationalEquation'),\r\n    RotationalMotorEquation :       _dereq_('./equations/RotationalMotorEquation'),\r\n    SAPBroadphase :                 _dereq_('./collision/SAPBroadphase'),\r\n    SPHSystem :                     _dereq_('./objects/SPHSystem'),\r\n    Shape :                         _dereq_('./shapes/Shape'),\r\n    Solver :                        _dereq_('./solver/Solver'),\r\n    Sphere :                        _dereq_('./shapes/Sphere'),\r\n    SplitSolver :                   _dereq_('./solver/SplitSolver'),\r\n    Spring :                        _dereq_('./objects/Spring'),\r\n    Trimesh :                       _dereq_('./shapes/Trimesh'),\r\n    Vec3 :                          _dereq_('./math/Vec3'),\r\n    Vec3Pool :                      _dereq_('./utils/Vec3Pool'),\r\n    World :                         _dereq_('./world/World'),\r\n};\r\n\r\n},{\"../package.json\":1,\"./collision/AABB\":3,\"./collision/ArrayCollisionMatrix\":4,\"./collision/Broadphase\":5,\"./collision/GridBroadphase\":6,\"./collision/NaiveBroadphase\":7,\"./collision/ObjectCollisionMatrix\":8,\"./collision/Ray\":9,\"./collision/RaycastResult\":10,\"./collision/SAPBroadphase\":11,\"./constraints/ConeTwistConstraint\":12,\"./constraints/Constraint\":13,\"./constraints/DistanceConstraint\":14,\"./constraints/HingeConstraint\":15,\"./constraints/LockConstraint\":16,\"./constraints/PointToPointConstraint\":17,\"./equations/ContactEquation\":19,\"./equations/Equation\":20,\"./equations/FrictionEquation\":21,\"./equations/RotationalEquation\":22,\"./equations/RotationalMotorEquation\":23,\"./material/ContactMaterial\":24,\"./material/Material\":25,\"./math/Mat3\":27,\"./math/Quaternion\":28,\"./math/Vec3\":30,\"./objects/Body\":31,\"./objects/RaycastVehicle\":32,\"./objects/RigidVehicle\":33,\"./objects/SPHSystem\":34,\"./objects/Spring\":35,\"./shapes/Box\":37,\"./shapes/ConvexPolyhedron\":38,\"./shapes/Cylinder\":39,\"./shapes/Heightfield\":40,\"./shapes/Particle\":41,\"./shapes/Plane\":42,\"./shapes/Shape\":43,\"./shapes/Sphere\":44,\"./shapes/Trimesh\":45,\"./solver/GSSolver\":46,\"./solver/Solver\":47,\"./solver/SplitSolver\":48,\"./utils/EventTarget\":49,\"./utils/Pool\":51,\"./utils/Vec3Pool\":54,\"./world/Narrowphase\":55,\"./world/World\":56}],3:[function(_dereq_,module,exports){\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Utils = _dereq_('../utils/Utils');\r\n\r\nmodule.exports = AABB;\r\n\r\n/**\r\n * Axis aligned bounding box class.\r\n * @class AABB\r\n * @constructor\r\n * @param {Object} [options]\r\n * @param {Vec3}   [options.upperBound]\r\n * @param {Vec3}   [options.lowerBound]\r\n */\r\nfunction AABB(options){\r\n    options = options || {};\r\n\r\n    /**\r\n     * The lower bound of the bounding box.\r\n     * @property lowerBound\r\n     * @type {Vec3}\r\n     */\r\n    this.lowerBound = new Vec3();\r\n    if(options.lowerBound){\r\n        this.lowerBound.copy(options.lowerBound);\r\n    }\r\n\r\n    /**\r\n     * The upper bound of the bounding box.\r\n     * @property upperBound\r\n     * @type {Vec3}\r\n     */\r\n    this.upperBound = new Vec3();\r\n    if(options.upperBound){\r\n        this.upperBound.copy(options.upperBound);\r\n    }\r\n}\r\n\r\nvar tmp = new Vec3();\r\n\r\n/**\r\n * Set the AABB bounds from a set of points.\r\n * @method setFromPoints\r\n * @param {Array} points An array of Vec3's.\r\n * @param {Vec3} position\r\n * @param {Quaternion} quaternion\r\n * @param {number} skinSize\r\n * @return {AABB} The self object\r\n */\r\nAABB.prototype.setFromPoints = function(points, position, quaternion, skinSize){\r\n    var l = this.lowerBound,\r\n        u = this.upperBound,\r\n        q = quaternion;\r\n\r\n    // Set to the first point\r\n    l.copy(points[0]);\r\n    if(q){\r\n        q.vmult(l, l);\r\n    }\r\n    u.copy(l);\r\n\r\n    for(var i = 1; i<points.length; i++){\r\n        var p = points[i];\r\n\r\n        if(q){\r\n            q.vmult(p, tmp);\r\n            p = tmp;\r\n        }\r\n\r\n        if(p.x > u.x){ u.x = p.x; }\r\n        if(p.x < l.x){ l.x = p.x; }\r\n        if(p.y > u.y){ u.y = p.y; }\r\n        if(p.y < l.y){ l.y = p.y; }\r\n        if(p.z > u.z){ u.z = p.z; }\r\n        if(p.z < l.z){ l.z = p.z; }\r\n    }\r\n\r\n    // Add offset\r\n    if (position) {\r\n        position.vadd(l, l);\r\n        position.vadd(u, u);\r\n    }\r\n\r\n    if(skinSize){\r\n        l.x -= skinSize;\r\n        l.y -= skinSize;\r\n        l.z -= skinSize;\r\n        u.x += skinSize;\r\n        u.y += skinSize;\r\n        u.z += skinSize;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Copy bounds from an AABB to this AABB\r\n * @method copy\r\n * @param  {AABB} aabb Source to copy from\r\n * @return {AABB} The this object, for chainability\r\n */\r\nAABB.prototype.copy = function(aabb){\r\n    this.lowerBound.copy(aabb.lowerBound);\r\n    this.upperBound.copy(aabb.upperBound);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Clone an AABB\r\n * @method clone\r\n */\r\nAABB.prototype.clone = function(){\r\n    return new AABB().copy(this);\r\n};\r\n\r\n/**\r\n * Extend this AABB so that it covers the given AABB too.\r\n * @method extend\r\n * @param  {AABB} aabb\r\n */\r\nAABB.prototype.extend = function(aabb){\r\n    // Extend lower bound\r\n    var l = aabb.lowerBound.x;\r\n    if(this.lowerBound.x > l){\r\n        this.lowerBound.x = l;\r\n    }\r\n\r\n    // Upper\r\n    var u = aabb.upperBound.x;\r\n    if(this.upperBound.x < u){\r\n        this.upperBound.x = u;\r\n    }\r\n\r\n    // Extend lower bound\r\n    var l = aabb.lowerBound.y;\r\n    if(this.lowerBound.y > l){\r\n        this.lowerBound.y = l;\r\n    }\r\n\r\n    // Upper\r\n    var u = aabb.upperBound.y;\r\n    if(this.upperBound.y < u){\r\n        this.upperBound.y = u;\r\n    }\r\n\r\n    // Extend lower bound\r\n    var l = aabb.lowerBound.z;\r\n    if(this.lowerBound.z > l){\r\n        this.lowerBound.z = l;\r\n    }\r\n\r\n    // Upper\r\n    var u = aabb.upperBound.z;\r\n    if(this.upperBound.z < u){\r\n        this.upperBound.z = u;\r\n    }\r\n};\r\n\r\n/**\r\n * Returns true if the given AABB overlaps this AABB.\r\n * @method overlaps\r\n * @param  {AABB} aabb\r\n * @return {Boolean}\r\n */\r\nAABB.prototype.overlaps = function(aabb){\r\n    var l1 = this.lowerBound,\r\n        u1 = this.upperBound,\r\n        l2 = aabb.lowerBound,\r\n        u2 = aabb.upperBound;\r\n\r\n    //      l2        u2\r\n    //      |---------|\r\n    // |--------|\r\n    // l1       u1\r\n\r\n    return ((l2.x <= u1.x && u1.x <= u2.x) || (l1.x <= u2.x && u2.x <= u1.x)) &&\r\n           ((l2.y <= u1.y && u1.y <= u2.y) || (l1.y <= u2.y && u2.y <= u1.y)) &&\r\n           ((l2.z <= u1.z && u1.z <= u2.z) || (l1.z <= u2.z && u2.z <= u1.z));\r\n};\r\n\r\n/**\r\n * Returns true if the given AABB is fully contained in this AABB.\r\n * @method contains\r\n * @param {AABB} aabb\r\n * @return {Boolean}\r\n */\r\nAABB.prototype.contains = function(aabb){\r\n    var l1 = this.lowerBound,\r\n        u1 = this.upperBound,\r\n        l2 = aabb.lowerBound,\r\n        u2 = aabb.upperBound;\r\n\r\n    //      l2        u2\r\n    //      |---------|\r\n    // |---------------|\r\n    // l1              u1\r\n\r\n    return (\r\n        (l1.x <= l2.x && u1.x >= u2.x) &&\r\n        (l1.y <= l2.y && u1.y >= u2.y) &&\r\n        (l1.z <= l2.z && u1.z >= u2.z)\r\n    );\r\n};\r\n\r\n/**\r\n * @method getCorners\r\n * @param {Vec3} a\r\n * @param {Vec3} b\r\n * @param {Vec3} c\r\n * @param {Vec3} d\r\n * @param {Vec3} e\r\n * @param {Vec3} f\r\n * @param {Vec3} g\r\n * @param {Vec3} h\r\n */\r\nAABB.prototype.getCorners = function(a, b, c, d, e, f, g, h){\r\n    var l = this.lowerBound,\r\n        u = this.upperBound;\r\n\r\n    a.copy(l);\r\n    b.set( u.x, l.y, l.z );\r\n    c.set( u.x, u.y, l.z );\r\n    d.set( l.x, u.y, u.z );\r\n    e.set( u.x, l.y, l.z );\r\n    f.set( l.x, u.y, l.z );\r\n    g.set( l.x, l.y, u.z );\r\n    h.copy(u);\r\n};\r\n\r\nvar transformIntoFrame_corners = [\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3()\r\n];\r\n\r\n/**\r\n * Get the representation of an AABB in another frame.\r\n * @method toLocalFrame\r\n * @param  {Transform} frame\r\n * @param  {AABB} target\r\n * @return {AABB} The \"target\" AABB object.\r\n */\r\nAABB.prototype.toLocalFrame = function(frame, target){\r\n\r\n    var corners = transformIntoFrame_corners;\r\n    var a = corners[0];\r\n    var b = corners[1];\r\n    var c = corners[2];\r\n    var d = corners[3];\r\n    var e = corners[4];\r\n    var f = corners[5];\r\n    var g = corners[6];\r\n    var h = corners[7];\r\n\r\n    // Get corners in current frame\r\n    this.getCorners(a, b, c, d, e, f, g, h);\r\n\r\n    // Transform them to new local frame\r\n    for(var i=0; i !== 8; i++){\r\n        var corner = corners[i];\r\n        frame.pointToLocal(corner, corner);\r\n    }\r\n\r\n    return target.setFromPoints(corners);\r\n};\r\n\r\n/**\r\n * Get the representation of an AABB in the global frame.\r\n * @method toWorldFrame\r\n * @param  {Transform} frame\r\n * @param  {AABB} target\r\n * @return {AABB} The \"target\" AABB object.\r\n */\r\nAABB.prototype.toWorldFrame = function(frame, target){\r\n\r\n    var corners = transformIntoFrame_corners;\r\n    var a = corners[0];\r\n    var b = corners[1];\r\n    var c = corners[2];\r\n    var d = corners[3];\r\n    var e = corners[4];\r\n    var f = corners[5];\r\n    var g = corners[6];\r\n    var h = corners[7];\r\n\r\n    // Get corners in current frame\r\n    this.getCorners(a, b, c, d, e, f, g, h);\r\n\r\n    // Transform them to new local frame\r\n    for(var i=0; i !== 8; i++){\r\n        var corner = corners[i];\r\n        frame.pointToWorld(corner, corner);\r\n    }\r\n\r\n    return target.setFromPoints(corners);\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"../utils/Utils\":53}],4:[function(_dereq_,module,exports){\r\nmodule.exports = ArrayCollisionMatrix;\r\n\r\n/**\r\n * Collision \"matrix\". It's actually a triangular-shaped array of whether two bodies are touching this step, for reference next step\r\n * @class ArrayCollisionMatrix\r\n * @constructor\r\n */\r\nfunction ArrayCollisionMatrix() {\r\n\r\n    /**\r\n     * The matrix storage\r\n     * @property matrix\r\n     * @type {Array}\r\n     */\r\n\tthis.matrix = [];\r\n}\r\n\r\n/**\r\n * Get an element\r\n * @method get\r\n * @param  {Number} i\r\n * @param  {Number} j\r\n * @return {Number}\r\n */\r\nArrayCollisionMatrix.prototype.get = function(i, j) {\r\n\ti = i.index;\r\n\tj = j.index;\r\n    if (j > i) {\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n    }\r\n\treturn this.matrix[(i*(i + 1)>>1) + j-1];\r\n};\r\n\r\n/**\r\n * Set an element\r\n * @method set\r\n * @param {Number} i\r\n * @param {Number} j\r\n * @param {Number} value\r\n */\r\nArrayCollisionMatrix.prototype.set = function(i, j, value) {\r\n\ti = i.index;\r\n\tj = j.index;\r\n    if (j > i) {\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n    }\r\n\tthis.matrix[(i*(i + 1)>>1) + j-1] = value ? 1 : 0;\r\n};\r\n\r\n/**\r\n * Sets all elements to zero\r\n * @method reset\r\n */\r\nArrayCollisionMatrix.prototype.reset = function() {\r\n\tfor (var i=0, l=this.matrix.length; i!==l; i++) {\r\n\t\tthis.matrix[i]=0;\r\n\t}\r\n};\r\n\r\n/**\r\n * Sets the max number of objects\r\n * @method setNumObjects\r\n * @param {Number} n\r\n */\r\nArrayCollisionMatrix.prototype.setNumObjects = function(n) {\r\n\tthis.matrix.length = n*(n-1)>>1;\r\n};\r\n\r\n},{}],5:[function(_dereq_,module,exports){\r\nvar Body = _dereq_('../objects/Body');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Plane = _dereq_('../shapes/Plane');\r\n\r\nmodule.exports = Broadphase;\r\n\r\n/**\r\n * Base class for broadphase implementations\r\n * @class Broadphase\r\n * @constructor\r\n * @author schteppe\r\n */\r\nfunction Broadphase(){\r\n    /**\r\n    * The world to search for collisions in.\r\n    * @property world\r\n    * @type {World}\r\n    */\r\n    this.world = null;\r\n\r\n    /**\r\n     * If set to true, the broadphase uses bounding boxes for intersection test, else it uses bounding spheres.\r\n     * @property useBoundingBoxes\r\n     * @type {Boolean}\r\n     */\r\n    this.useBoundingBoxes = false;\r\n\r\n    /**\r\n     * Set to true if the objects in the world moved.\r\n     * @property {Boolean} dirty\r\n     */\r\n    this.dirty = true;\r\n}\r\n\r\n/**\r\n * Get the collision pairs from the world\r\n * @method collisionPairs\r\n * @param {World} world The world to search in\r\n * @param {Array} p1 Empty array to be filled with body objects\r\n * @param {Array} p2 Empty array to be filled with body objects\r\n */\r\nBroadphase.prototype.collisionPairs = function(world,p1,p2){\r\n    throw new Error(\"collisionPairs not implemented for this BroadPhase class!\");\r\n};\r\n\r\n/**\r\n * Check if a body pair needs to be intersection tested at all.\r\n * @method needBroadphaseCollision\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @return {bool}\r\n */\r\nvar Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC = Body.STATIC | Body.KINEMATIC;\r\nBroadphase.prototype.needBroadphaseCollision = function(bodyA,bodyB){\r\n\r\n    // Check collision filter masks\r\n    if( (bodyA.collisionFilterGroup & bodyB.collisionFilterMask)===0 || (bodyB.collisionFilterGroup & bodyA.collisionFilterMask)===0){\r\n        return false;\r\n    }\r\n\r\n    // Check types\r\n    if(((bodyA.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyA.sleepState === Body.SLEEPING) &&\r\n       ((bodyB.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyB.sleepState === Body.SLEEPING)) {\r\n        // Both bodies are static, kinematic or sleeping. Skip.\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Check if the bounding volumes of two bodies intersect.\r\n * @method intersectionTest\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {array} pairs1\r\n * @param {array} pairs2\r\n  */\r\nBroadphase.prototype.intersectionTest = function(bodyA, bodyB, pairs1, pairs2){\r\n    if(this.useBoundingBoxes){\r\n        this.doBoundingBoxBroadphase(bodyA,bodyB,pairs1,pairs2);\r\n    } else {\r\n        this.doBoundingSphereBroadphase(bodyA,bodyB,pairs1,pairs2);\r\n    }\r\n};\r\n\r\n/**\r\n * Check if the bounding spheres of two bodies are intersecting.\r\n * @method doBoundingSphereBroadphase\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Array} pairs1 bodyA is appended to this array if intersection\r\n * @param {Array} pairs2 bodyB is appended to this array if intersection\r\n */\r\nvar Broadphase_collisionPairs_r = new Vec3(), // Temp objects\r\n    Broadphase_collisionPairs_normal =  new Vec3(),\r\n    Broadphase_collisionPairs_quat =  new Quaternion(),\r\n    Broadphase_collisionPairs_relpos  =  new Vec3();\r\nBroadphase.prototype.doBoundingSphereBroadphase = function(bodyA,bodyB,pairs1,pairs2){\r\n    var r = Broadphase_collisionPairs_r;\r\n    bodyB.position.vsub(bodyA.position,r);\r\n    var boundingRadiusSum2 = Math.pow(bodyA.boundingRadius + bodyB.boundingRadius, 2);\r\n    var norm2 = r.norm2();\r\n    if(norm2 < boundingRadiusSum2){\r\n        pairs1.push(bodyA);\r\n        pairs2.push(bodyB);\r\n    }\r\n};\r\n\r\n/**\r\n * Check if the bounding boxes of two bodies are intersecting.\r\n * @method doBoundingBoxBroadphase\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Array} pairs1\r\n * @param {Array} pairs2\r\n */\r\nBroadphase.prototype.doBoundingBoxBroadphase = function(bodyA,bodyB,pairs1,pairs2){\r\n    if(bodyA.aabbNeedsUpdate){\r\n        bodyA.computeAABB();\r\n    }\r\n    if(bodyB.aabbNeedsUpdate){\r\n        bodyB.computeAABB();\r\n    }\r\n\r\n    // Check AABB / AABB\r\n    if(bodyA.aabb.overlaps(bodyB.aabb)){\r\n        pairs1.push(bodyA);\r\n        pairs2.push(bodyB);\r\n    }\r\n};\r\n\r\n/**\r\n * Removes duplicate pairs from the pair arrays.\r\n * @method makePairsUnique\r\n * @param {Array} pairs1\r\n * @param {Array} pairs2\r\n */\r\nvar Broadphase_makePairsUnique_temp = { keys:[] },\r\n    Broadphase_makePairsUnique_p1 = [],\r\n    Broadphase_makePairsUnique_p2 = [];\r\nBroadphase.prototype.makePairsUnique = function(pairs1,pairs2){\r\n    var t = Broadphase_makePairsUnique_temp,\r\n        p1 = Broadphase_makePairsUnique_p1,\r\n        p2 = Broadphase_makePairsUnique_p2,\r\n        N = pairs1.length;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        p1[i] = pairs1[i];\r\n        p2[i] = pairs2[i];\r\n    }\r\n\r\n    pairs1.length = 0;\r\n    pairs2.length = 0;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        var id1 = p1[i].id,\r\n            id2 = p2[i].id;\r\n        var key = id1 < id2 ? id1+\",\"+id2 :  id2+\",\"+id1;\r\n        t[key] = i;\r\n        t.keys.push(key);\r\n    }\r\n\r\n    for(var i=0; i!==t.keys.length; i++){\r\n        var key = t.keys.pop(),\r\n            pairIndex = t[key];\r\n        pairs1.push(p1[pairIndex]);\r\n        pairs2.push(p2[pairIndex]);\r\n        delete t[key];\r\n    }\r\n};\r\n\r\n/**\r\n * To be implemented by subcasses\r\n * @method setWorld\r\n * @param {World} world\r\n */\r\nBroadphase.prototype.setWorld = function(world){\r\n};\r\n\r\n/**\r\n * Check if the bounding spheres of two bodies overlap.\r\n * @method boundingSphereCheck\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @return {boolean}\r\n */\r\nvar bsc_dist = new Vec3();\r\nBroadphase.boundingSphereCheck = function(bodyA,bodyB){\r\n    var dist = bsc_dist;\r\n    bodyA.position.vsub(bodyB.position,dist);\r\n    return Math.pow(bodyA.shape.boundingSphereRadius + bodyB.shape.boundingSphereRadius,2) > dist.norm2();\r\n};\r\n\r\n/**\r\n * Returns all the bodies within the AABB.\r\n * @method aabbQuery\r\n * @param  {World} world\r\n * @param  {AABB} aabb\r\n * @param  {array} result An array to store resulting bodies in.\r\n * @return {array}\r\n */\r\nBroadphase.prototype.aabbQuery = function(world, aabb, result){\r\n    console.warn('.aabbQuery is not implemented in this Broadphase subclass.');\r\n    return [];\r\n};\r\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Plane\":42,\"../shapes/Shape\":43}],6:[function(_dereq_,module,exports){\r\nmodule.exports = GridBroadphase;\r\n\r\nvar Broadphase = _dereq_('./Broadphase');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Shape = _dereq_('../shapes/Shape');\r\n\r\n/**\r\n * Axis aligned uniform grid broadphase.\r\n * @class GridBroadphase\r\n * @constructor\r\n * @extends Broadphase\r\n * @todo Needs support for more than just planes and spheres.\r\n * @param {Vec3} aabbMin\r\n * @param {Vec3} aabbMax\r\n * @param {Number} nx Number of boxes along x\r\n * @param {Number} ny Number of boxes along y\r\n * @param {Number} nz Number of boxes along z\r\n */\r\nfunction GridBroadphase(aabbMin,aabbMax,nx,ny,nz){\r\n    Broadphase.apply(this);\r\n    this.nx = nx || 10;\r\n    this.ny = ny || 10;\r\n    this.nz = nz || 10;\r\n    this.aabbMin = aabbMin || new Vec3(100,100,100);\r\n    this.aabbMax = aabbMax || new Vec3(-100,-100,-100);\r\n\tvar nbins = this.nx * this.ny * this.nz;\r\n\tif (nbins <= 0) {\r\n\t\tthrow \"GridBroadphase: Each dimension's n must be >0\";\r\n\t}\r\n    this.bins = [];\r\n\tthis.binLengths = []; //Rather than continually resizing arrays (thrashing the memory), just record length and allow them to grow\r\n\tthis.bins.length = nbins;\r\n\tthis.binLengths.length = nbins;\r\n\tfor (var i=0;i<nbins;i++) {\r\n\t\tthis.bins[i]=[];\r\n\t\tthis.binLengths[i]=0;\r\n\t}\r\n}\r\nGridBroadphase.prototype = new Broadphase();\r\nGridBroadphase.prototype.constructor = GridBroadphase;\r\n\r\n/**\r\n * Get all the collision pairs in the physics world\r\n * @method collisionPairs\r\n * @param {World} world\r\n * @param {Array} pairs1\r\n * @param {Array} pairs2\r\n */\r\nvar GridBroadphase_collisionPairs_d = new Vec3();\r\nvar GridBroadphase_collisionPairs_binPos = new Vec3();\r\nGridBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\r\n    var N = world.numObjects(),\r\n        bodies = world.bodies;\r\n\r\n    var max = this.aabbMax,\r\n        min = this.aabbMin,\r\n        nx = this.nx,\r\n        ny = this.ny,\r\n        nz = this.nz;\r\n\r\n\tvar xstep = ny*nz;\r\n\tvar ystep = nz;\r\n\tvar zstep = 1;\r\n\r\n    var xmax = max.x,\r\n        ymax = max.y,\r\n        zmax = max.z,\r\n        xmin = min.x,\r\n        ymin = min.y,\r\n        zmin = min.z;\r\n\r\n    var xmult = nx / (xmax-xmin),\r\n        ymult = ny / (ymax-ymin),\r\n        zmult = nz / (zmax-zmin);\r\n\r\n    var binsizeX = (xmax - xmin) / nx,\r\n        binsizeY = (ymax - ymin) / ny,\r\n        binsizeZ = (zmax - zmin) / nz;\r\n\r\n\tvar binRadius = Math.sqrt(binsizeX*binsizeX + binsizeY*binsizeY + binsizeZ*binsizeZ) * 0.5;\r\n\r\n    var types = Shape.types;\r\n    var SPHERE =            types.SPHERE,\r\n        PLANE =             types.PLANE,\r\n        BOX =               types.BOX,\r\n        COMPOUND =          types.COMPOUND,\r\n        CONVEXPOLYHEDRON =  types.CONVEXPOLYHEDRON;\r\n\r\n    var bins=this.bins,\r\n\t\tbinLengths=this.binLengths,\r\n        Nbins=this.bins.length;\r\n\r\n    // Reset bins\r\n    for(var i=0; i!==Nbins; i++){\r\n        binLengths[i] = 0;\r\n    }\r\n\r\n    var ceil = Math.ceil;\r\n\tvar min = Math.min;\r\n\tvar max = Math.max;\r\n\r\n\tfunction addBoxToBins(x0,y0,z0,x1,y1,z1,bi) {\r\n\t\tvar xoff0 = ((x0 - xmin) * xmult)|0,\r\n\t\t\tyoff0 = ((y0 - ymin) * ymult)|0,\r\n\t\t\tzoff0 = ((z0 - zmin) * zmult)|0,\r\n\t\t\txoff1 = ceil((x1 - xmin) * xmult),\r\n\t\t\tyoff1 = ceil((y1 - ymin) * ymult),\r\n\t\t\tzoff1 = ceil((z1 - zmin) * zmult);\r\n\r\n\t\tif (xoff0 < 0) { xoff0 = 0; } else if (xoff0 >= nx) { xoff0 = nx - 1; }\r\n\t\tif (yoff0 < 0) { yoff0 = 0; } else if (yoff0 >= ny) { yoff0 = ny - 1; }\r\n\t\tif (zoff0 < 0) { zoff0 = 0; } else if (zoff0 >= nz) { zoff0 = nz - 1; }\r\n\t\tif (xoff1 < 0) { xoff1 = 0; } else if (xoff1 >= nx) { xoff1 = nx - 1; }\r\n\t\tif (yoff1 < 0) { yoff1 = 0; } else if (yoff1 >= ny) { yoff1 = ny - 1; }\r\n\t\tif (zoff1 < 0) { zoff1 = 0; } else if (zoff1 >= nz) { zoff1 = nz - 1; }\r\n\r\n\t\txoff0 *= xstep;\r\n\t\tyoff0 *= ystep;\r\n\t\tzoff0 *= zstep;\r\n\t\txoff1 *= xstep;\r\n\t\tyoff1 *= ystep;\r\n\t\tzoff1 *= zstep;\r\n\r\n\t\tfor (var xoff = xoff0; xoff <= xoff1; xoff += xstep) {\r\n\t\t\tfor (var yoff = yoff0; yoff <= yoff1; yoff += ystep) {\r\n\t\t\t\tfor (var zoff = zoff0; zoff <= zoff1; zoff += zstep) {\r\n\t\t\t\t\tvar idx = xoff+yoff+zoff;\r\n\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    // Put all bodies into the bins\r\n    for(var i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        var si = bi.shape;\r\n\r\n        switch(si.type){\r\n        case SPHERE:\r\n            // Put in bin\r\n            // check if overlap with other bins\r\n            var x = bi.position.x,\r\n                y = bi.position.y,\r\n                z = bi.position.z;\r\n            var r = si.radius;\r\n\r\n\t\t\taddBoxToBins(x-r, y-r, z-r, x+r, y+r, z+r, bi);\r\n            break;\r\n\r\n        case PLANE:\r\n            if(si.worldNormalNeedsUpdate){\r\n                si.computeWorldNormal(bi.quaternion);\r\n            }\r\n            var planeNormal = si.worldNormal;\r\n\r\n\t\t\t//Relative position from origin of plane object to the first bin\r\n\t\t\t//Incremented as we iterate through the bins\r\n\t\t\tvar xreset = xmin + binsizeX*0.5 - bi.position.x,\r\n\t\t\t\tyreset = ymin + binsizeY*0.5 - bi.position.y,\r\n\t\t\t\tzreset = zmin + binsizeZ*0.5 - bi.position.z;\r\n\r\n            var d = GridBroadphase_collisionPairs_d;\r\n\t\t\td.set(xreset, yreset, zreset);\r\n\r\n\t\t\tfor (var xi = 0, xoff = 0; xi !== nx; xi++, xoff += xstep, d.y = yreset, d.x += binsizeX) {\r\n\t\t\t\tfor (var yi = 0, yoff = 0; yi !== ny; yi++, yoff += ystep, d.z = zreset, d.y += binsizeY) {\r\n\t\t\t\t\tfor (var zi = 0, zoff = 0; zi !== nz; zi++, zoff += zstep, d.z += binsizeZ) {\r\n\t\t\t\t\t\tif (d.dot(planeNormal) < binRadius) {\r\n\t\t\t\t\t\t\tvar idx = xoff + yoff + zoff;\r\n\t\t\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n            break;\r\n\r\n        default:\r\n\t\t\tif (bi.aabbNeedsUpdate) {\r\n\t\t\t\tbi.computeAABB();\r\n\t\t\t}\r\n\r\n\t\t\taddBoxToBins(\r\n\t\t\t\tbi.aabb.lowerBound.x,\r\n\t\t\t\tbi.aabb.lowerBound.y,\r\n\t\t\t\tbi.aabb.lowerBound.z,\r\n\t\t\t\tbi.aabb.upperBound.x,\r\n\t\t\t\tbi.aabb.upperBound.y,\r\n\t\t\t\tbi.aabb.upperBound.z,\r\n\t\t\t\tbi);\r\n            break;\r\n        }\r\n    }\r\n\r\n    // Check each bin\r\n    for(var i=0; i!==Nbins; i++){\r\n\t\tvar binLength = binLengths[i];\r\n\t\t//Skip bins with no potential collisions\r\n\t\tif (binLength > 1) {\r\n\t\t\tvar bin = bins[i];\r\n\r\n\t\t\t// Do N^2 broadphase inside\r\n\t\t\tfor(var xi=0; xi!==binLength; xi++){\r\n\t\t\t\tvar bi = bin[xi];\r\n\t\t\t\tfor(var yi=0; yi!==xi; yi++){\r\n\t\t\t\t\tvar bj = bin[yi];\r\n\t\t\t\t\tif(this.needBroadphaseCollision(bi,bj)){\r\n\t\t\t\t\t\tthis.intersectionTest(bi,bj,pairs1,pairs2);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n//\tfor (var zi = 0, zoff=0; zi < nz; zi++, zoff+= zstep) {\r\n//\t\tconsole.log(\"layer \"+zi);\r\n//\t\tfor (var yi = 0, yoff=0; yi < ny; yi++, yoff += ystep) {\r\n//\t\t\tvar row = '';\r\n//\t\t\tfor (var xi = 0, xoff=0; xi < nx; xi++, xoff += xstep) {\r\n//\t\t\t\tvar idx = xoff + yoff + zoff;\r\n//\t\t\t\trow += ' ' + binLengths[idx];\r\n//\t\t\t}\r\n//\t\t\tconsole.log(row);\r\n//\t\t}\r\n//\t}\r\n\r\n    this.makePairsUnique(pairs1,pairs2);\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"../shapes/Shape\":43,\"./Broadphase\":5}],7:[function(_dereq_,module,exports){\r\nmodule.exports = NaiveBroadphase;\r\n\r\nvar Broadphase = _dereq_('./Broadphase');\r\nvar AABB = _dereq_('./AABB');\r\n\r\n/**\r\n * Naive broadphase implementation, used in lack of better ones.\r\n * @class NaiveBroadphase\r\n * @constructor\r\n * @description The naive broadphase looks at all possible pairs without restriction, therefore it has complexity N^2 (which is bad)\r\n * @extends Broadphase\r\n */\r\nfunction NaiveBroadphase(){\r\n    Broadphase.apply(this);\r\n}\r\nNaiveBroadphase.prototype = new Broadphase();\r\nNaiveBroadphase.prototype.constructor = NaiveBroadphase;\r\n\r\n/**\r\n * Get all the collision pairs in the physics world\r\n * @method collisionPairs\r\n * @param {World} world\r\n * @param {Array} pairs1\r\n * @param {Array} pairs2\r\n */\r\nNaiveBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\r\n    var bodies = world.bodies,\r\n        n = bodies.length,\r\n        i,j,bi,bj;\r\n\r\n    // Naive N^2 ftw!\r\n    for(i=0; i!==n; i++){\r\n        for(j=0; j!==i; j++){\r\n\r\n            bi = bodies[i];\r\n            bj = bodies[j];\r\n\r\n            if(!this.needBroadphaseCollision(bi,bj)){\r\n                continue;\r\n            }\r\n\r\n            this.intersectionTest(bi,bj,pairs1,pairs2);\r\n        }\r\n    }\r\n};\r\n\r\nvar tmpAABB = new AABB();\r\n\r\n/**\r\n * Returns all the bodies within an AABB.\r\n * @method aabbQuery\r\n * @param  {World} world\r\n * @param  {AABB} aabb\r\n * @param {array} result An array to store resulting bodies in.\r\n * @return {array}\r\n */\r\nNaiveBroadphase.prototype.aabbQuery = function(world, aabb, result){\r\n    result = result || [];\r\n\r\n    for(var i = 0; i < world.bodies.length; i++){\r\n        var b = world.bodies[i];\r\n\r\n        if(b.aabbNeedsUpdate){\r\n            b.computeAABB();\r\n        }\r\n\r\n        // Ugly hack until Body gets aabb\r\n        if(b.aabb.overlaps(aabb)){\r\n            result.push(b);\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n},{\"./AABB\":3,\"./Broadphase\":5}],8:[function(_dereq_,module,exports){\r\nmodule.exports = ObjectCollisionMatrix;\r\n\r\n/**\r\n * Records what objects are colliding with each other\r\n * @class ObjectCollisionMatrix\r\n * @constructor\r\n */\r\nfunction ObjectCollisionMatrix() {\r\n\r\n    /**\r\n     * The matrix storage\r\n     * @property matrix\r\n     * @type {Object}\r\n     */\r\n\tthis.matrix = {};\r\n}\r\n\r\n/**\r\n * @method get\r\n * @param  {Number} i\r\n * @param  {Number} j\r\n * @return {Number}\r\n */\r\nObjectCollisionMatrix.prototype.get = function(i, j) {\r\n\ti = i.id;\r\n\tj = j.id;\r\n    if (j > i) {\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n    }\r\n\treturn i+'-'+j in this.matrix;\r\n};\r\n\r\n/**\r\n * @method set\r\n * @param  {Number} i\r\n * @param  {Number} j\r\n * @param {Number} value\r\n */\r\nObjectCollisionMatrix.prototype.set = function(i, j, value) {\r\n\ti = i.id;\r\n\tj = j.id;\r\n    if (j > i) {\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n\t}\r\n\tif (value) {\r\n\t\tthis.matrix[i+'-'+j] = true;\r\n\t}\r\n\telse {\r\n\t\tdelete this.matrix[i+'-'+j];\r\n\t}\r\n};\r\n\r\n/**\r\n * Empty the matrix\r\n * @method reset\r\n */\r\nObjectCollisionMatrix.prototype.reset = function() {\r\n\tthis.matrix = {};\r\n};\r\n\r\n/**\r\n * Set max number of objects\r\n * @method setNumObjects\r\n * @param {Number} n\r\n */\r\nObjectCollisionMatrix.prototype.setNumObjects = function(n) {\r\n};\r\n\r\n},{}],9:[function(_dereq_,module,exports){\r\nmodule.exports = Ray;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Transform = _dereq_('../math/Transform');\r\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\r\nvar Box = _dereq_('../shapes/Box');\r\nvar RaycastResult = _dereq_('../collision/RaycastResult');\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar AABB = _dereq_('../collision/AABB');\r\n\r\n/**\r\n * A line in 3D space that intersects bodies and return points.\r\n * @class Ray\r\n * @constructor\r\n * @param {Vec3} from\r\n * @param {Vec3} to\r\n */\r\nfunction Ray(from, to){\r\n    /**\r\n     * @property {Vec3} from\r\n     */\r\n    this.from = from ? from.clone() : new Vec3();\r\n\r\n    /**\r\n     * @property {Vec3} to\r\n     */\r\n    this.to = to ? to.clone() : new Vec3();\r\n\r\n    /**\r\n     * @private\r\n     * @property {Vec3} _direction\r\n     */\r\n    this._direction = new Vec3();\r\n\r\n    /**\r\n     * The precision of the ray. Used when checking parallelity etc.\r\n     * @property {Number} precision\r\n     */\r\n    this.precision = 0.0001;\r\n\r\n    /**\r\n     * Set to true if you want the Ray to take .collisionResponse flags into account on bodies and shapes.\r\n     * @property {Boolean} checkCollisionResponse\r\n     */\r\n    this.checkCollisionResponse = true;\r\n\r\n    /**\r\n     * If set to true, the ray skips any hits with normal.dot(rayDirection) < 0.\r\n     * @property {Boolean} skipBackfaces\r\n     */\r\n    this.skipBackfaces = false;\r\n\r\n    /**\r\n     * @property {number} collisionFilterMask\r\n     * @default -1\r\n     */\r\n    this.collisionFilterMask = -1;\r\n\r\n    /**\r\n     * @property {number} collisionFilterGroup\r\n     * @default -1\r\n     */\r\n    this.collisionFilterGroup = -1;\r\n\r\n    /**\r\n     * The intersection mode. Should be Ray.ANY, Ray.ALL or Ray.CLOSEST.\r\n     * @property {number} mode\r\n     */\r\n    this.mode = Ray.ANY;\r\n\r\n    /**\r\n     * Current result object.\r\n     * @property {RaycastResult} result\r\n     */\r\n    this.result = new RaycastResult();\r\n\r\n    /**\r\n     * Will be set to true during intersectWorld() if the ray hit anything.\r\n     * @property {Boolean} hasHit\r\n     */\r\n    this.hasHit = false;\r\n\r\n    /**\r\n     * Current, user-provided result callback. Will be used if mode is Ray.ALL.\r\n     * @property {Function} callback\r\n     */\r\n    this.callback = function(result){};\r\n}\r\nRay.prototype.constructor = Ray;\r\n\r\nRay.CLOSEST = 1;\r\nRay.ANY = 2;\r\nRay.ALL = 4;\r\n\r\nvar tmpAABB = new AABB();\r\nvar tmpArray = [];\r\n\r\n/**\r\n * Do itersection against all bodies in the given World.\r\n * @method intersectWorld\r\n * @param  {World} world\r\n * @param  {object} options\r\n * @return {Boolean} True if the ray hit anything, otherwise false.\r\n */\r\nRay.prototype.intersectWorld = function (world, options) {\r\n    this.mode = options.mode || Ray.ANY;\r\n    this.result = options.result || new RaycastResult();\r\n    this.skipBackfaces = !!options.skipBackfaces;\r\n    this.collisionFilterMask = typeof(options.collisionFilterMask) !== 'undefined' ? options.collisionFilterMask : -1;\r\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) !== 'undefined' ? options.collisionFilterGroup : -1;\r\n    if(options.from){\r\n        this.from.copy(options.from);\r\n    }\r\n    if(options.to){\r\n        this.to.copy(options.to);\r\n    }\r\n    this.callback = options.callback || function(){};\r\n    this.hasHit = false;\r\n\r\n    this.result.reset();\r\n    this._updateDirection();\r\n\r\n    this.getAABB(tmpAABB);\r\n    tmpArray.length = 0;\r\n    world.broadphase.aabbQuery(world, tmpAABB, tmpArray);\r\n    this.intersectBodies(tmpArray);\r\n\r\n    return this.hasHit;\r\n};\r\n\r\nvar v1 = new Vec3(),\r\n    v2 = new Vec3();\r\n\r\n/*\r\n * As per \"Barycentric Technique\" as named here http://www.blackpawn.com/texts/pointinpoly/default.html But without the division\r\n */\r\nRay.pointInTriangle = pointInTriangle;\r\nfunction pointInTriangle(p, a, b, c) {\r\n    c.vsub(a,v0);\r\n    b.vsub(a,v1);\r\n    p.vsub(a,v2);\r\n\r\n    var dot00 = v0.dot( v0 );\r\n    var dot01 = v0.dot( v1 );\r\n    var dot02 = v0.dot( v2 );\r\n    var dot11 = v1.dot( v1 );\r\n    var dot12 = v1.dot( v2 );\r\n\r\n    var u,v;\r\n\r\n    return  ( (u = dot11 * dot02 - dot01 * dot12) >= 0 ) &&\r\n            ( (v = dot00 * dot12 - dot01 * dot02) >= 0 ) &&\r\n            ( u + v < ( dot00 * dot11 - dot01 * dot01 ) );\r\n}\r\n\r\n/**\r\n * Shoot a ray at a body, get back information about the hit.\r\n * @method intersectBody\r\n * @private\r\n * @param {Body} body\r\n * @param {RaycastResult} [result] Deprecated - set the result property of the Ray instead.\r\n */\r\nvar intersectBody_xi = new Vec3();\r\nvar intersectBody_qi = new Quaternion();\r\nRay.prototype.intersectBody = function (body, result) {\r\n    if(result){\r\n        this.result = result;\r\n        this._updateDirection();\r\n    }\r\n    var checkCollisionResponse = this.checkCollisionResponse;\r\n\r\n    if(checkCollisionResponse && !body.collisionResponse){\r\n        return;\r\n    }\r\n\r\n    if((this.collisionFilterGroup & body.collisionFilterMask)===0 || (body.collisionFilterGroup & this.collisionFilterMask)===0){\r\n        return;\r\n    }\r\n\r\n    var xi = intersectBody_xi;\r\n    var qi = intersectBody_qi;\r\n\r\n    for (var i = 0, N = body.shapes.length; i < N; i++) {\r\n        var shape = body.shapes[i];\r\n\r\n        if(checkCollisionResponse && !shape.collisionResponse){\r\n            continue; // Skip\r\n        }\r\n\r\n        body.quaternion.mult(body.shapeOrientations[i], qi);\r\n        body.quaternion.vmult(body.shapeOffsets[i], xi);\r\n        xi.vadd(body.position, xi);\r\n\r\n        this.intersectShape(\r\n            shape,\r\n            qi,\r\n            xi,\r\n            body\r\n        );\r\n\r\n        if(this.result._shouldStop){\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @method intersectBodies\r\n * @param {Array} bodies An array of Body objects.\r\n * @param {RaycastResult} [result] Deprecated\r\n */\r\nRay.prototype.intersectBodies = function (bodies, result) {\r\n    if(result){\r\n        this.result = result;\r\n        this._updateDirection();\r\n    }\r\n\r\n    for ( var i = 0, l = bodies.length; !this.result._shouldStop && i < l; i ++ ) {\r\n        this.intersectBody(bodies[i]);\r\n    }\r\n};\r\n\r\n/**\r\n * Updates the _direction vector.\r\n * @private\r\n * @method _updateDirection\r\n */\r\nRay.prototype._updateDirection = function(){\r\n    this.to.vsub(this.from, this._direction);\r\n    this._direction.normalize();\r\n};\r\n\r\n/**\r\n * @method intersectShape\r\n * @private\r\n * @param {Shape} shape\r\n * @param {Quaternion} quat\r\n * @param {Vec3} position\r\n * @param {Body} body\r\n */\r\nRay.prototype.intersectShape = function(shape, quat, position, body){\r\n    var from = this.from;\r\n\r\n\r\n    // Checking boundingSphere\r\n    var distance = distanceFromIntersection(from, this._direction, position);\r\n    if ( distance > shape.boundingSphereRadius ) {\r\n        return;\r\n    }\r\n\r\n    var intersectMethod = this[shape.type];\r\n    if(intersectMethod){\r\n        intersectMethod.call(this, shape, quat, position, body);\r\n    }\r\n};\r\n\r\nvar vector = new Vec3();\r\nvar normal = new Vec3();\r\nvar intersectPoint = new Vec3();\r\n\r\nvar a = new Vec3();\r\nvar b = new Vec3();\r\nvar c = new Vec3();\r\nvar d = new Vec3();\r\n\r\nvar tmpRaycastResult = new RaycastResult();\r\n\r\n/**\r\n * @method intersectBox\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n */\r\nRay.prototype.intersectBox = function(shape, quat, position, body){\r\n    return this.intersectConvex(shape.convexPolyhedronRepresentation, quat, position, body);\r\n};\r\nRay.prototype[Shape.types.BOX] = Ray.prototype.intersectBox;\r\n\r\n/**\r\n * @method intersectPlane\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n */\r\nRay.prototype.intersectPlane = function(shape, quat, position, body){\r\n    var from = this.from;\r\n    var to = this.to;\r\n    var direction = this._direction;\r\n\r\n    // Get plane normal\r\n    var worldNormal = new Vec3(0, 0, 1);\r\n    quat.vmult(worldNormal, worldNormal);\r\n\r\n    var len = new Vec3();\r\n    from.vsub(position, len);\r\n    var planeToFrom = len.dot(worldNormal);\r\n    to.vsub(position, len);\r\n    var planeToTo = len.dot(worldNormal);\r\n\r\n    if(planeToFrom * planeToTo > 0){\r\n        // \"from\" and \"to\" are on the same side of the plane... bail out\r\n        return;\r\n    }\r\n\r\n    if(from.distanceTo(to) < planeToFrom){\r\n        return;\r\n    }\r\n\r\n    var n_dot_dir = worldNormal.dot(direction);\r\n\r\n    if (Math.abs(n_dot_dir) < this.precision) {\r\n        // No intersection\r\n        return;\r\n    }\r\n\r\n    var planePointToFrom = new Vec3();\r\n    var dir_scaled_with_t = new Vec3();\r\n    var hitPointWorld = new Vec3();\r\n\r\n    from.vsub(position, planePointToFrom);\r\n    var t = -worldNormal.dot(planePointToFrom) / n_dot_dir;\r\n    direction.scale(t, dir_scaled_with_t);\r\n    from.vadd(dir_scaled_with_t, hitPointWorld);\r\n\r\n    this.reportIntersection(worldNormal, hitPointWorld, shape, body, -1);\r\n};\r\nRay.prototype[Shape.types.PLANE] = Ray.prototype.intersectPlane;\r\n\r\n/**\r\n * Get the world AABB of the ray.\r\n * @method getAABB\r\n * @param  {AABB} aabb\r\n */\r\nRay.prototype.getAABB = function(result){\r\n    var to = this.to;\r\n    var from = this.from;\r\n    result.lowerBound.x = Math.min(to.x, from.x);\r\n    result.lowerBound.y = Math.min(to.y, from.y);\r\n    result.lowerBound.z = Math.min(to.z, from.z);\r\n    result.upperBound.x = Math.max(to.x, from.x);\r\n    result.upperBound.y = Math.max(to.y, from.y);\r\n    result.upperBound.z = Math.max(to.z, from.z);\r\n};\r\n\r\nvar intersectConvexOptions = {\r\n    faceList: [0]\r\n};\r\n\r\n/**\r\n * @method intersectHeightfield\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n */\r\nRay.prototype.intersectHeightfield = function(shape, quat, position, body){\r\n    var data = shape.data,\r\n        w = shape.elementSize,\r\n        worldPillarOffset = new Vec3();\r\n\r\n    // Convert the ray to local heightfield coordinates\r\n    var localRay = new Ray(this.from, this.to);\r\n    Transform.pointToLocalFrame(position, quat, localRay.from, localRay.from);\r\n    Transform.pointToLocalFrame(position, quat, localRay.to, localRay.to);\r\n\r\n    // Get the index of the data points to test against\r\n    var index = [];\r\n    var iMinX = null;\r\n    var iMinY = null;\r\n    var iMaxX = null;\r\n    var iMaxY = null;\r\n\r\n    var inside = shape.getIndexOfPosition(localRay.from.x, localRay.from.y, index, false);\r\n    if(inside){\r\n        iMinX = index[0];\r\n        iMinY = index[1];\r\n        iMaxX = index[0];\r\n        iMaxY = index[1];\r\n    }\r\n    inside = shape.getIndexOfPosition(localRay.to.x, localRay.to.y, index, false);\r\n    if(inside){\r\n        if (iMinX === null || index[0] < iMinX) { iMinX = index[0]; }\r\n        if (iMaxX === null || index[0] > iMaxX) { iMaxX = index[0]; }\r\n        if (iMinY === null || index[1] < iMinY) { iMinY = index[1]; }\r\n        if (iMaxY === null || index[1] > iMaxY) { iMaxY = index[1]; }\r\n    }\r\n\r\n    if(iMinX === null){\r\n        return;\r\n    }\r\n\r\n    var minMax = [];\r\n    shape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\r\n    var min = minMax[0];\r\n    var max = minMax[1];\r\n\r\n    // // Bail out if the ray can't touch the bounding box\r\n    // // TODO\r\n    // var aabb = new AABB();\r\n    // this.getAABB(aabb);\r\n    // if(aabb.intersects()){\r\n    //     return;\r\n    // }\r\n\r\n    for(var i = iMinX; i <= iMaxX; i++){\r\n        for(var j = iMinY; j <= iMaxY; j++){\r\n\r\n            if(this.result._shouldStop){\r\n                return;\r\n            }\r\n\r\n            // Lower triangle\r\n            shape.getConvexTrianglePillar(i, j, false);\r\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\r\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\r\n\r\n            if(this.result._shouldStop){\r\n                return;\r\n            }\r\n\r\n            // Upper triangle\r\n            shape.getConvexTrianglePillar(i, j, true);\r\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\r\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\r\n        }\r\n    }\r\n};\r\nRay.prototype[Shape.types.HEIGHTFIELD] = Ray.prototype.intersectHeightfield;\r\n\r\nvar Ray_intersectSphere_intersectionPoint = new Vec3();\r\nvar Ray_intersectSphere_normal = new Vec3();\r\n\r\n/**\r\n * @method intersectSphere\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n */\r\nRay.prototype.intersectSphere = function(shape, quat, position, body){\r\n    var from = this.from,\r\n        to = this.to,\r\n        r = shape.radius;\r\n\r\n    var a = Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2) + Math.pow(to.z - from.z, 2);\r\n    var b = 2 * ((to.x - from.x) * (from.x - position.x) + (to.y - from.y) * (from.y - position.y) + (to.z - from.z) * (from.z - position.z));\r\n    var c = Math.pow(from.x - position.x, 2) + Math.pow(from.y - position.y, 2) + Math.pow(from.z - position.z, 2) - Math.pow(r, 2);\r\n\r\n    var delta = Math.pow(b, 2) - 4 * a * c;\r\n\r\n    var intersectionPoint = Ray_intersectSphere_intersectionPoint;\r\n    var normal = Ray_intersectSphere_normal;\r\n\r\n    if(delta < 0){\r\n        // No intersection\r\n        return;\r\n\r\n    } else if(delta === 0){\r\n        // single intersection point\r\n        from.lerp(to, delta, intersectionPoint);\r\n\r\n        intersectionPoint.vsub(position, normal);\r\n        normal.normalize();\r\n\r\n        this.reportIntersection(normal, intersectionPoint, shape, body, -1);\r\n\r\n    } else {\r\n        var d1 = (- b - Math.sqrt(delta)) / (2 * a);\r\n        var d2 = (- b + Math.sqrt(delta)) / (2 * a);\r\n\r\n        if(d1 >= 0 && d1 <= 1){\r\n            from.lerp(to, d1, intersectionPoint);\r\n            intersectionPoint.vsub(position, normal);\r\n            normal.normalize();\r\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\r\n        }\r\n\r\n        if(this.result._shouldStop){\r\n            return;\r\n        }\r\n\r\n        if(d2 >= 0 && d2 <= 1){\r\n            from.lerp(to, d2, intersectionPoint);\r\n            intersectionPoint.vsub(position, normal);\r\n            normal.normalize();\r\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\r\n        }\r\n    }\r\n};\r\nRay.prototype[Shape.types.SPHERE] = Ray.prototype.intersectSphere;\r\n\r\n\r\nvar intersectConvex_normal = new Vec3();\r\nvar intersectConvex_minDistNormal = new Vec3();\r\nvar intersectConvex_minDistIntersect = new Vec3();\r\nvar intersectConvex_vector = new Vec3();\r\n\r\n/**\r\n * @method intersectConvex\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n * @param {object} [options]\r\n * @param {array} [options.faceList]\r\n */\r\nRay.prototype.intersectConvex = function intersectConvex(\r\n    shape,\r\n    quat,\r\n    position,\r\n    body,\r\n    options\r\n){\r\n    var minDistNormal = intersectConvex_minDistNormal;\r\n    var normal = intersectConvex_normal;\r\n    var vector = intersectConvex_vector;\r\n    var minDistIntersect = intersectConvex_minDistIntersect;\r\n    var faceList = (options && options.faceList) || null;\r\n\r\n    // Checking faces\r\n    var faces = shape.faces,\r\n        vertices = shape.vertices,\r\n        normals = shape.faceNormals;\r\n    var direction = this._direction;\r\n\r\n    var from = this.from;\r\n    var to = this.to;\r\n    var fromToDistance = from.distanceTo(to);\r\n\r\n    var minDist = -1;\r\n    var Nfaces = faceList ? faceList.length : faces.length;\r\n    var result = this.result;\r\n\r\n    for (var j = 0; !result._shouldStop && j < Nfaces; j++) {\r\n        var fi = faceList ? faceList[j] : j;\r\n\r\n        var face = faces[fi];\r\n        var faceNormal = normals[fi];\r\n        var q = quat;\r\n        var x = position;\r\n\r\n        // determine if ray intersects the plane of the face\r\n        // note: this works regardless of the direction of the face normal\r\n\r\n        // Get plane point in world coordinates...\r\n        vector.copy(vertices[face[0]]);\r\n        q.vmult(vector,vector);\r\n        vector.vadd(x,vector);\r\n\r\n        // ...but make it relative to the ray from. We'll fix this later.\r\n        vector.vsub(from,vector);\r\n\r\n        // Get plane normal\r\n        q.vmult(faceNormal,normal);\r\n\r\n        // If this dot product is negative, we have something interesting\r\n        var dot = direction.dot(normal);\r\n\r\n        // Bail out if ray and plane are parallel\r\n        if ( Math.abs( dot ) < this.precision ){\r\n            continue;\r\n        }\r\n\r\n        // calc distance to plane\r\n        var scalar = normal.dot(vector) / dot;\r\n\r\n        // if negative distance, then plane is behind ray\r\n        if (scalar < 0){\r\n            continue;\r\n        }\r\n\r\n        // if (dot < 0) {\r\n\r\n        // Intersection point is from + direction * scalar\r\n        direction.mult(scalar,intersectPoint);\r\n        intersectPoint.vadd(from,intersectPoint);\r\n\r\n        // a is the point we compare points b and c with.\r\n        a.copy(vertices[face[0]]);\r\n        q.vmult(a,a);\r\n        x.vadd(a,a);\r\n\r\n        for(var i = 1; !result._shouldStop && i < face.length - 1; i++){\r\n            // Transform 3 vertices to world coords\r\n            b.copy(vertices[face[i]]);\r\n            c.copy(vertices[face[i+1]]);\r\n            q.vmult(b,b);\r\n            q.vmult(c,c);\r\n            x.vadd(b,b);\r\n            x.vadd(c,c);\r\n\r\n            var distance = intersectPoint.distanceTo(from);\r\n\r\n            if(!(pointInTriangle(intersectPoint, a, b, c) || pointInTriangle(intersectPoint, b, a, c)) || distance > fromToDistance){\r\n                continue;\r\n            }\r\n\r\n            this.reportIntersection(normal, intersectPoint, shape, body, fi);\r\n        }\r\n        // }\r\n    }\r\n};\r\nRay.prototype[Shape.types.CONVEXPOLYHEDRON] = Ray.prototype.intersectConvex;\r\n\r\nvar intersectTrimesh_normal = new Vec3();\r\nvar intersectTrimesh_localDirection = new Vec3();\r\nvar intersectTrimesh_localFrom = new Vec3();\r\nvar intersectTrimesh_localTo = new Vec3();\r\nvar intersectTrimesh_worldNormal = new Vec3();\r\nvar intersectTrimesh_worldIntersectPoint = new Vec3();\r\nvar intersectTrimesh_localAABB = new AABB();\r\nvar intersectTrimesh_triangles = [];\r\nvar intersectTrimesh_treeTransform = new Transform();\r\n\r\n/**\r\n * @method intersectTrimesh\r\n * @private\r\n * @param  {Shape} shape\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} position\r\n * @param  {Body} body\r\n * @param {object} [options]\r\n * @todo Optimize by transforming the world to local space first.\r\n * @todo Use Octree lookup\r\n */\r\nRay.prototype.intersectTrimesh = function intersectTrimesh(\r\n    mesh,\r\n    quat,\r\n    position,\r\n    body,\r\n    options\r\n){\r\n    var normal = intersectTrimesh_normal;\r\n    var triangles = intersectTrimesh_triangles;\r\n    var treeTransform = intersectTrimesh_treeTransform;\r\n    var minDistNormal = intersectConvex_minDistNormal;\r\n    var vector = intersectConvex_vector;\r\n    var minDistIntersect = intersectConvex_minDistIntersect;\r\n    var localAABB = intersectTrimesh_localAABB;\r\n    var localDirection = intersectTrimesh_localDirection;\r\n    var localFrom = intersectTrimesh_localFrom;\r\n    var localTo = intersectTrimesh_localTo;\r\n    var worldIntersectPoint = intersectTrimesh_worldIntersectPoint;\r\n    var worldNormal = intersectTrimesh_worldNormal;\r\n    var faceList = (options && options.faceList) || null;\r\n\r\n    // Checking faces\r\n    var indices = mesh.indices,\r\n        vertices = mesh.vertices,\r\n        normals = mesh.faceNormals;\r\n\r\n    var from = this.from;\r\n    var to = this.to;\r\n    var direction = this._direction;\r\n\r\n    var minDist = -1;\r\n    treeTransform.position.copy(position);\r\n    treeTransform.quaternion.copy(quat);\r\n\r\n    // Transform ray to local space!\r\n    Transform.vectorToLocalFrame(position, quat, direction, localDirection);\r\n    //body.vectorToLocalFrame(direction, localDirection);\r\n    Transform.pointToLocalFrame(position, quat, from, localFrom);\r\n    //body.pointToLocalFrame(from, localFrom);\r\n    Transform.pointToLocalFrame(position, quat, to, localTo);\r\n    //body.pointToLocalFrame(to, localTo);\r\n    var fromToDistanceSquared = localFrom.distanceSquared(localTo);\r\n\r\n    mesh.tree.rayQuery(this, treeTransform, triangles);\r\n\r\n    for (var i = 0, N = triangles.length; !this.result._shouldStop && i !== N; i++) {\r\n        var trianglesIndex = triangles[i];\r\n\r\n        mesh.getNormal(trianglesIndex, normal);\r\n\r\n        // determine if ray intersects the plane of the face\r\n        // note: this works regardless of the direction of the face normal\r\n\r\n        // Get plane point in world coordinates...\r\n        mesh.getVertex(indices[trianglesIndex * 3], a);\r\n\r\n        // ...but make it relative to the ray from. We'll fix this later.\r\n        a.vsub(localFrom,vector);\r\n\r\n        // Get plane normal\r\n        // quat.vmult(normal, normal);\r\n\r\n        // If this dot product is negative, we have something interesting\r\n        var dot = localDirection.dot(normal);\r\n\r\n        // Bail out if ray and plane are parallel\r\n        // if (Math.abs( dot ) < this.precision){\r\n        //     continue;\r\n        // }\r\n\r\n        // calc distance to plane\r\n        var scalar = normal.dot(vector) / dot;\r\n\r\n        // if negative distance, then plane is behind ray\r\n        if (scalar < 0){\r\n            continue;\r\n        }\r\n\r\n        // Intersection point is from + direction * scalar\r\n        localDirection.scale(scalar,intersectPoint);\r\n        intersectPoint.vadd(localFrom,intersectPoint);\r\n\r\n        // Get triangle vertices\r\n        mesh.getVertex(indices[trianglesIndex * 3 + 1], b);\r\n        mesh.getVertex(indices[trianglesIndex * 3 + 2], c);\r\n\r\n        var squaredDistance = intersectPoint.distanceSquared(localFrom);\r\n\r\n        if(!(pointInTriangle(intersectPoint, b, a, c) || pointInTriangle(intersectPoint, a, b, c)) || squaredDistance > fromToDistanceSquared){\r\n            continue;\r\n        }\r\n\r\n        // transform intersectpoint and normal to world\r\n        Transform.vectorToWorldFrame(quat, normal, worldNormal);\r\n        //body.vectorToWorldFrame(normal, worldNormal);\r\n        Transform.pointToWorldFrame(position, quat, intersectPoint, worldIntersectPoint);\r\n        //body.pointToWorldFrame(intersectPoint, worldIntersectPoint);\r\n        this.reportIntersection(worldNormal, worldIntersectPoint, mesh, body, trianglesIndex);\r\n    }\r\n    triangles.length = 0;\r\n};\r\nRay.prototype[Shape.types.TRIMESH] = Ray.prototype.intersectTrimesh;\r\n\r\n\r\n/**\r\n * @method reportIntersection\r\n * @private\r\n * @param  {Vec3} normal\r\n * @param  {Vec3} hitPointWorld\r\n * @param  {Shape} shape\r\n * @param  {Body} body\r\n * @return {boolean} True if the intersections should continue\r\n */\r\nRay.prototype.reportIntersection = function(normal, hitPointWorld, shape, body, hitFaceIndex){\r\n    var from = this.from;\r\n    var to = this.to;\r\n    var distance = from.distanceTo(hitPointWorld);\r\n    var result = this.result;\r\n\r\n    // Skip back faces?\r\n    if(this.skipBackfaces && normal.dot(this._direction) > 0){\r\n        return;\r\n    }\r\n\r\n    result.hitFaceIndex = typeof(hitFaceIndex) !== 'undefined' ? hitFaceIndex : -1;\r\n\r\n    switch(this.mode){\r\n    case Ray.ALL:\r\n        this.hasHit = true;\r\n        result.set(\r\n            from,\r\n            to,\r\n            normal,\r\n            hitPointWorld,\r\n            shape,\r\n            body,\r\n            distance\r\n        );\r\n        result.hasHit = true;\r\n        this.callback(result);\r\n        break;\r\n\r\n    case Ray.CLOSEST:\r\n\r\n        // Store if closer than current closest\r\n        if(distance < result.distance || !result.hasHit){\r\n            this.hasHit = true;\r\n            result.hasHit = true;\r\n            result.set(\r\n                from,\r\n                to,\r\n                normal,\r\n                hitPointWorld,\r\n                shape,\r\n                body,\r\n                distance\r\n            );\r\n        }\r\n        break;\r\n\r\n    case Ray.ANY:\r\n\r\n        // Report and stop.\r\n        this.hasHit = true;\r\n        result.hasHit = true;\r\n        result.set(\r\n            from,\r\n            to,\r\n            normal,\r\n            hitPointWorld,\r\n            shape,\r\n            body,\r\n            distance\r\n        );\r\n        result._shouldStop = true;\r\n        break;\r\n    }\r\n};\r\n\r\nvar v0 = new Vec3(),\r\n    intersect = new Vec3();\r\nfunction distanceFromIntersection(from, direction, position) {\r\n\r\n    // v0 is vector from from to position\r\n    position.vsub(from,v0);\r\n    var dot = v0.dot(direction);\r\n\r\n    // intersect = direction*dot + from\r\n    direction.mult(dot,intersect);\r\n    intersect.vadd(from,intersect);\r\n\r\n    var distance = position.distanceTo(intersect);\r\n\r\n    return distance;\r\n}\r\n\r\n\r\n},{\"../collision/AABB\":3,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43}],10:[function(_dereq_,module,exports){\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\nmodule.exports = RaycastResult;\r\n\r\n/**\r\n * Storage for Ray casting data.\r\n * @class RaycastResult\r\n * @constructor\r\n */\r\nfunction RaycastResult(){\r\n\r\n\t/**\r\n\t * @property {Vec3} rayFromWorld\r\n\t */\r\n\tthis.rayFromWorld = new Vec3();\r\n\r\n\t/**\r\n\t * @property {Vec3} rayToWorld\r\n\t */\r\n\tthis.rayToWorld = new Vec3();\r\n\r\n\t/**\r\n\t * @property {Vec3} hitNormalWorld\r\n\t */\r\n\tthis.hitNormalWorld = new Vec3();\r\n\r\n\t/**\r\n\t * @property {Vec3} hitPointWorld\r\n\t */\r\n\tthis.hitPointWorld = new Vec3();\r\n\r\n\t/**\r\n\t * @property {boolean} hasHit\r\n\t */\r\n\tthis.hasHit = false;\r\n\r\n\t/**\r\n\t * The hit shape, or null.\r\n\t * @property {Shape} shape\r\n\t */\r\n\tthis.shape = null;\r\n\r\n\t/**\r\n\t * The hit body, or null.\r\n\t * @property {Body} body\r\n\t */\r\n\tthis.body = null;\r\n\r\n\t/**\r\n\t * The index of the hit triangle, if the hit shape was a trimesh.\r\n\t * @property {number} hitFaceIndex\r\n\t * @default -1\r\n\t */\r\n\tthis.hitFaceIndex = -1;\r\n\r\n\t/**\r\n\t * Distance to the hit. Will be set to -1 if there was no hit.\r\n\t * @property {number} distance\r\n\t * @default -1\r\n\t */\r\n\tthis.distance = -1;\r\n\r\n\t/**\r\n\t * If the ray should stop traversing the bodies.\r\n\t * @private\r\n\t * @property {Boolean} _shouldStop\r\n\t * @default false\r\n\t */\r\n\tthis._shouldStop = false;\r\n}\r\n\r\n/**\r\n * Reset all result data.\r\n * @method reset\r\n */\r\nRaycastResult.prototype.reset = function () {\r\n\tthis.rayFromWorld.setZero();\r\n\tthis.rayToWorld.setZero();\r\n\tthis.hitNormalWorld.setZero();\r\n\tthis.hitPointWorld.setZero();\r\n\tthis.hasHit = false;\r\n\tthis.shape = null;\r\n\tthis.body = null;\r\n\tthis.hitFaceIndex = -1;\r\n\tthis.distance = -1;\r\n\tthis._shouldStop = false;\r\n};\r\n\r\n/**\r\n * @method abort\r\n */\r\nRaycastResult.prototype.abort = function(){\r\n\tthis._shouldStop = true;\r\n};\r\n\r\n/**\r\n * @method set\r\n * @param {Vec3} rayFromWorld\r\n * @param {Vec3} rayToWorld\r\n * @param {Vec3} hitNormalWorld\r\n * @param {Vec3} hitPointWorld\r\n * @param {Shape} shape\r\n * @param {Body} body\r\n * @param {number} distance\r\n */\r\nRaycastResult.prototype.set = function(\r\n\trayFromWorld,\r\n\trayToWorld,\r\n\thitNormalWorld,\r\n\thitPointWorld,\r\n\tshape,\r\n\tbody,\r\n\tdistance\r\n){\r\n\tthis.rayFromWorld.copy(rayFromWorld);\r\n\tthis.rayToWorld.copy(rayToWorld);\r\n\tthis.hitNormalWorld.copy(hitNormalWorld);\r\n\tthis.hitPointWorld.copy(hitPointWorld);\r\n\tthis.shape = shape;\r\n\tthis.body = body;\r\n\tthis.distance = distance;\r\n};\r\n},{\"../math/Vec3\":30}],11:[function(_dereq_,module,exports){\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Broadphase = _dereq_('../collision/Broadphase');\r\n\r\nmodule.exports = SAPBroadphase;\r\n\r\n/**\r\n * Sweep and prune broadphase along one axis.\r\n *\r\n * @class SAPBroadphase\r\n * @constructor\r\n * @param {World} [world]\r\n * @extends Broadphase\r\n */\r\nfunction SAPBroadphase(world){\r\n    Broadphase.apply(this);\r\n\r\n    /**\r\n     * List of bodies currently in the broadphase.\r\n     * @property axisList\r\n     * @type {Array}\r\n     */\r\n    this.axisList = [];\r\n\r\n    /**\r\n     * The world to search in.\r\n     * @property world\r\n     * @type {World}\r\n     */\r\n    this.world = null;\r\n\r\n    /**\r\n     * Axis to sort the bodies along. Set to 0 for x axis, and 1 for y axis. For best performance, choose an axis that the bodies are spread out more on.\r\n     * @property axisIndex\r\n     * @type {Number}\r\n     */\r\n    this.axisIndex = 0;\r\n\r\n    var axisList = this.axisList;\r\n\r\n    this._addBodyHandler = function(e){\r\n        axisList.push(e.body);\r\n    };\r\n\r\n    this._removeBodyHandler = function(e){\r\n        var idx = axisList.indexOf(e.body);\r\n        if(idx !== -1){\r\n            axisList.splice(idx,1);\r\n        }\r\n    };\r\n\r\n    if(world){\r\n        this.setWorld(world);\r\n    }\r\n}\r\nSAPBroadphase.prototype = new Broadphase();\r\n\r\n/**\r\n * Change the world\r\n * @method setWorld\r\n * @param  {World} world\r\n */\r\nSAPBroadphase.prototype.setWorld = function(world){\r\n    // Clear the old axis array\r\n    this.axisList.length = 0;\r\n\r\n    // Add all bodies from the new world\r\n    for(var i=0; i<world.bodies.length; i++){\r\n        this.axisList.push(world.bodies[i]);\r\n    }\r\n\r\n    // Remove old handlers, if any\r\n    world.removeEventListener(\"addBody\", this._addBodyHandler);\r\n    world.removeEventListener(\"removeBody\", this._removeBodyHandler);\r\n\r\n    // Add handlers to update the list of bodies.\r\n    world.addEventListener(\"addBody\", this._addBodyHandler);\r\n    world.addEventListener(\"removeBody\", this._removeBodyHandler);\r\n\r\n    this.world = world;\r\n    this.dirty = true;\r\n};\r\n\r\n/**\r\n * @static\r\n * @method insertionSortX\r\n * @param  {Array} a\r\n * @return {Array}\r\n */\r\nSAPBroadphase.insertionSortX = function(a) {\r\n    for(var i=1,l=a.length;i<l;i++) {\r\n        var v = a[i];\r\n        for(var j=i - 1;j>=0;j--) {\r\n            if(a[j].aabb.lowerBound.x <= v.aabb.lowerBound.x){\r\n                break;\r\n            }\r\n            a[j+1] = a[j];\r\n        }\r\n        a[j+1] = v;\r\n    }\r\n    return a;\r\n};\r\n\r\n/**\r\n * @static\r\n * @method insertionSortY\r\n * @param  {Array} a\r\n * @return {Array}\r\n */\r\nSAPBroadphase.insertionSortY = function(a) {\r\n    for(var i=1,l=a.length;i<l;i++) {\r\n        var v = a[i];\r\n        for(var j=i - 1;j>=0;j--) {\r\n            if(a[j].aabb.lowerBound.y <= v.aabb.lowerBound.y){\r\n                break;\r\n            }\r\n            a[j+1] = a[j];\r\n        }\r\n        a[j+1] = v;\r\n    }\r\n    return a;\r\n};\r\n\r\n/**\r\n * @static\r\n * @method insertionSortZ\r\n * @param  {Array} a\r\n * @return {Array}\r\n */\r\nSAPBroadphase.insertionSortZ = function(a) {\r\n    for(var i=1,l=a.length;i<l;i++) {\r\n        var v = a[i];\r\n        for(var j=i - 1;j>=0;j--) {\r\n            if(a[j].aabb.lowerBound.z <= v.aabb.lowerBound.z){\r\n                break;\r\n            }\r\n            a[j+1] = a[j];\r\n        }\r\n        a[j+1] = v;\r\n    }\r\n    return a;\r\n};\r\n\r\n/**\r\n * Collect all collision pairs\r\n * @method collisionPairs\r\n * @param  {World} world\r\n * @param  {Array} p1\r\n * @param  {Array} p2\r\n */\r\nSAPBroadphase.prototype.collisionPairs = function(world,p1,p2){\r\n    var bodies = this.axisList,\r\n        N = bodies.length,\r\n        axisIndex = this.axisIndex,\r\n        i, j;\r\n\r\n    if(this.dirty){\r\n        this.sortList();\r\n        this.dirty = false;\r\n    }\r\n\r\n    // Look through the list\r\n    for(i=0; i !== N; i++){\r\n        var bi = bodies[i];\r\n\r\n        for(j=i+1; j < N; j++){\r\n            var bj = bodies[j];\r\n\r\n            if(!this.needBroadphaseCollision(bi,bj)){\r\n                continue;\r\n            }\r\n\r\n            if(!SAPBroadphase.checkBounds(bi,bj,axisIndex)){\r\n                break;\r\n            }\r\n\r\n            this.intersectionTest(bi,bj,p1,p2);\r\n        }\r\n    }\r\n};\r\n\r\nSAPBroadphase.prototype.sortList = function(){\r\n    var axisList = this.axisList;\r\n    var axisIndex = this.axisIndex;\r\n    var N = axisList.length;\r\n\r\n    // Update AABBs\r\n    for(var i = 0; i!==N; i++){\r\n        var bi = axisList[i];\r\n        if(bi.aabbNeedsUpdate){\r\n            bi.computeAABB();\r\n        }\r\n    }\r\n\r\n    // Sort the list\r\n    if(axisIndex === 0){\r\n        SAPBroadphase.insertionSortX(axisList);\r\n    } else if(axisIndex === 1){\r\n        SAPBroadphase.insertionSortY(axisList);\r\n    } else if(axisIndex === 2){\r\n        SAPBroadphase.insertionSortZ(axisList);\r\n    }\r\n};\r\n\r\n/**\r\n * Check if the bounds of two bodies overlap, along the given SAP axis.\r\n * @static\r\n * @method checkBounds\r\n * @param  {Body} bi\r\n * @param  {Body} bj\r\n * @param  {Number} axisIndex\r\n * @return {Boolean}\r\n */\r\nSAPBroadphase.checkBounds = function(bi, bj, axisIndex){\r\n    var biPos;\r\n    var bjPos;\r\n\r\n    if(axisIndex === 0){\r\n        biPos = bi.position.x;\r\n        bjPos = bj.position.x;\r\n    } else if(axisIndex === 1){\r\n        biPos = bi.position.y;\r\n        bjPos = bj.position.y;\r\n    } else if(axisIndex === 2){\r\n        biPos = bi.position.z;\r\n        bjPos = bj.position.z;\r\n    }\r\n\r\n    var ri = bi.boundingRadius,\r\n        rj = bj.boundingRadius,\r\n        boundA1 = biPos - ri,\r\n        boundA2 = biPos + ri,\r\n        boundB1 = bjPos - rj,\r\n        boundB2 = bjPos + rj;\r\n\r\n    return boundB1 < boundA2;\r\n};\r\n\r\n/**\r\n * Computes the variance of the body positions and estimates the best\r\n * axis to use. Will automatically set property .axisIndex.\r\n * @method autoDetectAxis\r\n */\r\nSAPBroadphase.prototype.autoDetectAxis = function(){\r\n    var sumX=0,\r\n        sumX2=0,\r\n        sumY=0,\r\n        sumY2=0,\r\n        sumZ=0,\r\n        sumZ2=0,\r\n        bodies = this.axisList,\r\n        N = bodies.length,\r\n        invN=1/N;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        var b = bodies[i];\r\n\r\n        var centerX = b.position.x;\r\n        sumX += centerX;\r\n        sumX2 += centerX*centerX;\r\n\r\n        var centerY = b.position.y;\r\n        sumY += centerY;\r\n        sumY2 += centerY*centerY;\r\n\r\n        var centerZ = b.position.z;\r\n        sumZ += centerZ;\r\n        sumZ2 += centerZ*centerZ;\r\n    }\r\n\r\n    var varianceX = sumX2 - sumX*sumX*invN,\r\n        varianceY = sumY2 - sumY*sumY*invN,\r\n        varianceZ = sumZ2 - sumZ*sumZ*invN;\r\n\r\n    if(varianceX > varianceY){\r\n        if(varianceX > varianceZ){\r\n            this.axisIndex = 0;\r\n        } else{\r\n            this.axisIndex = 2;\r\n        }\r\n    } else if(varianceY > varianceZ){\r\n        this.axisIndex = 1;\r\n    } else{\r\n        this.axisIndex = 2;\r\n    }\r\n};\r\n\r\n/**\r\n * Returns all the bodies within an AABB.\r\n * @method aabbQuery\r\n * @param  {World} world\r\n * @param  {AABB} aabb\r\n * @param {array} result An array to store resulting bodies in.\r\n * @return {array}\r\n */\r\nSAPBroadphase.prototype.aabbQuery = function(world, aabb, result){\r\n    result = result || [];\r\n\r\n    if(this.dirty){\r\n        this.sortList();\r\n        this.dirty = false;\r\n    }\r\n\r\n    var axisIndex = this.axisIndex, axis = 'x';\r\n    if(axisIndex === 1){ axis = 'y'; }\r\n    if(axisIndex === 2){ axis = 'z'; }\r\n\r\n    var axisList = this.axisList;\r\n    var lower = aabb.lowerBound[axis];\r\n    var upper = aabb.upperBound[axis];\r\n    for(var i = 0; i < axisList.length; i++){\r\n        var b = axisList[i];\r\n\r\n        if(b.aabbNeedsUpdate){\r\n            b.computeAABB();\r\n        }\r\n\r\n        if(b.aabb.overlaps(aabb)){\r\n            result.push(b);\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n},{\"../collision/Broadphase\":5,\"../shapes/Shape\":43}],12:[function(_dereq_,module,exports){\r\nmodule.exports = ConeTwistConstraint;\r\n\r\nvar Constraint = _dereq_('./Constraint');\r\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\r\nvar ConeEquation = _dereq_('../equations/ConeEquation');\r\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * @class ConeTwistConstraint\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {object} [options]\r\n * @param {Vec3} [options.pivotA]\r\n * @param {Vec3} [options.pivotB]\r\n * @param {Vec3} [options.axisA]\r\n * @param {Vec3} [options.axisB]\r\n * @param {Number} [options.maxForce=1e6]\r\n * @extends PointToPointConstraint\r\n */\r\nfunction ConeTwistConstraint(bodyA, bodyB, options){\r\n    options = options || {};\r\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\r\n\r\n    // Set pivot point in between\r\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\r\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\r\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3();\r\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3();\r\n\r\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\r\n\r\n    this.collideConnected = !!options.collideConnected;\r\n\r\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\r\n\r\n    /**\r\n     * @property {ConeEquation} coneEquation\r\n     */\r\n    var c = this.coneEquation = new ConeEquation(bodyA,bodyB,options);\r\n\r\n    /**\r\n     * @property {RotationalEquation} twistEquation\r\n     */\r\n    var t = this.twistEquation = new RotationalEquation(bodyA,bodyB,options);\r\n    this.twistAngle = typeof(options.twistAngle) !== 'undefined' ? options.twistAngle : 0;\r\n\r\n    // Make the cone equation push the bodies toward the cone axis, not outward\r\n    c.maxForce = 0;\r\n    c.minForce = -maxForce;\r\n\r\n    // Make the twist equation add torque toward the initial position\r\n    t.maxForce = 0;\r\n    t.minForce = -maxForce;\r\n\r\n    this.equations.push(c, t);\r\n}\r\nConeTwistConstraint.prototype = new PointToPointConstraint();\r\nConeTwistConstraint.constructor = ConeTwistConstraint;\r\n\r\nvar ConeTwistConstraint_update_tmpVec1 = new Vec3();\r\nvar ConeTwistConstraint_update_tmpVec2 = new Vec3();\r\n\r\nConeTwistConstraint.prototype.update = function(){\r\n    var bodyA = this.bodyA,\r\n        bodyB = this.bodyB,\r\n        cone = this.coneEquation,\r\n        twist = this.twistEquation;\r\n\r\n    PointToPointConstraint.prototype.update.call(this);\r\n\r\n    // Update the axes to the cone constraint\r\n    bodyA.vectorToWorldFrame(this.axisA, cone.axisA);\r\n    bodyB.vectorToWorldFrame(this.axisB, cone.axisB);\r\n\r\n    // Update the world axes in the twist constraint\r\n    this.axisA.tangents(twist.axisA, twist.axisA);\r\n    bodyA.vectorToWorldFrame(twist.axisA, twist.axisA);\r\n\r\n    this.axisB.tangents(twist.axisB, twist.axisB);\r\n    bodyB.vectorToWorldFrame(twist.axisB, twist.axisB);\r\n\r\n    cone.angle = this.angle;\r\n    twist.maxAngle = this.twistAngle;\r\n};\r\n\r\n\r\n},{\"../equations/ConeEquation\":18,\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],13:[function(_dereq_,module,exports){\r\nmodule.exports = Constraint;\r\n\r\nvar Utils = _dereq_('../utils/Utils');\r\n\r\n/**\r\n * Constraint base class\r\n * @class Constraint\r\n * @author schteppe\r\n * @constructor\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {object} [options]\r\n * @param {boolean} [options.collideConnected=true]\r\n * @param {boolean} [options.wakeUpBodies=true]\r\n */\r\nfunction Constraint(bodyA, bodyB, options){\r\n    options = Utils.defaults(options,{\r\n        collideConnected : true,\r\n        wakeUpBodies : true,\r\n    });\r\n\r\n    /**\r\n     * Equations to be solved in this constraint\r\n     * @property equations\r\n     * @type {Array}\r\n     */\r\n    this.equations = [];\r\n\r\n    /**\r\n     * @property {Body} bodyA\r\n     */\r\n    this.bodyA = bodyA;\r\n\r\n    /**\r\n     * @property {Body} bodyB\r\n     */\r\n    this.bodyB = bodyB;\r\n\r\n    /**\r\n     * @property {Number} id\r\n     */\r\n    this.id = Constraint.idCounter++;\r\n\r\n    /**\r\n     * Set to true if you want the bodies to collide when they are connected.\r\n     * @property collideConnected\r\n     * @type {boolean}\r\n     */\r\n    this.collideConnected = options.collideConnected;\r\n\r\n    if(options.wakeUpBodies){\r\n        if(bodyA){\r\n            bodyA.wakeUp();\r\n        }\r\n        if(bodyB){\r\n            bodyB.wakeUp();\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Update all the equations with data.\r\n * @method update\r\n */\r\nConstraint.prototype.update = function(){\r\n    throw new Error(\"method update() not implmemented in this Constraint subclass!\");\r\n};\r\n\r\n/**\r\n * Enables all equations in the constraint.\r\n * @method enable\r\n */\r\nConstraint.prototype.enable = function(){\r\n    var eqs = this.equations;\r\n    for(var i=0; i<eqs.length; i++){\r\n        eqs[i].enabled = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Disables all equations in the constraint.\r\n * @method disable\r\n */\r\nConstraint.prototype.disable = function(){\r\n    var eqs = this.equations;\r\n    for(var i=0; i<eqs.length; i++){\r\n        eqs[i].enabled = false;\r\n    }\r\n};\r\n\r\nConstraint.idCounter = 0;\r\n\r\n},{\"../utils/Utils\":53}],14:[function(_dereq_,module,exports){\r\nmodule.exports = DistanceConstraint;\r\n\r\nvar Constraint = _dereq_('./Constraint');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\n\r\n/**\r\n * Constrains two bodies to be at a constant distance from each others center of mass.\r\n * @class DistanceConstraint\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Number} [distance] The distance to keep. If undefined, it will be set to the current distance between bodyA and bodyB\r\n * @param {Number} [maxForce=1e6]\r\n * @extends Constraint\r\n */\r\nfunction DistanceConstraint(bodyA,bodyB,distance,maxForce){\r\n    Constraint.call(this,bodyA,bodyB);\r\n\r\n    if(typeof(distance)===\"undefined\") {\r\n        distance = bodyA.position.distanceTo(bodyB.position);\r\n    }\r\n\r\n    if(typeof(maxForce)===\"undefined\") {\r\n        maxForce = 1e6;\r\n    }\r\n\r\n    /**\r\n     * @property {number} distance\r\n     */\r\n    this.distance = distance;\r\n\r\n    /**\r\n     * @property {ContactEquation} distanceEquation\r\n     */\r\n    var eq = this.distanceEquation = new ContactEquation(bodyA, bodyB);\r\n    this.equations.push(eq);\r\n\r\n    // Make it bidirectional\r\n    eq.minForce = -maxForce;\r\n    eq.maxForce =  maxForce;\r\n}\r\nDistanceConstraint.prototype = new Constraint();\r\n\r\nDistanceConstraint.prototype.update = function(){\r\n    var bodyA = this.bodyA;\r\n    var bodyB = this.bodyB;\r\n    var eq = this.distanceEquation;\r\n    var halfDist = this.distance * 0.5;\r\n    var normal = eq.ni;\r\n\r\n    bodyB.position.vsub(bodyA.position, normal);\r\n    normal.normalize();\r\n    normal.mult(halfDist, eq.ri);\r\n    normal.mult(-halfDist, eq.rj);\r\n};\r\n},{\"../equations/ContactEquation\":19,\"./Constraint\":13}],15:[function(_dereq_,module,exports){\r\nmodule.exports = HingeConstraint;\r\n\r\nvar Constraint = _dereq_('./Constraint');\r\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\r\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\r\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Hinge constraint. Think of it as a door hinge. It tries to keep the door in the correct place and with the correct orientation.\r\n * @class HingeConstraint\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {object} [options]\r\n * @param {Vec3} [options.pivotA] A point defined locally in bodyA. This defines the offset of axisA.\r\n * @param {Vec3} [options.axisA] An axis that bodyA can rotate around, defined locally in bodyA.\r\n * @param {Vec3} [options.pivotB]\r\n * @param {Vec3} [options.axisB]\r\n * @param {Number} [options.maxForce=1e6]\r\n * @extends PointToPointConstraint\r\n */\r\nfunction HingeConstraint(bodyA, bodyB, options){\r\n    options = options || {};\r\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\r\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\r\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\r\n\r\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\r\n\r\n    /**\r\n     * Rotation axis, defined locally in bodyA.\r\n     * @property {Vec3} axisA\r\n     */\r\n    var axisA = this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1,0,0);\r\n    axisA.normalize();\r\n\r\n    /**\r\n     * Rotation axis, defined locally in bodyB.\r\n     * @property {Vec3} axisB\r\n     */\r\n    var axisB = this.axisB = options.axisB ? options.axisB.clone() : new Vec3(1,0,0);\r\n    axisB.normalize();\r\n\r\n    /**\r\n     * @property {RotationalEquation} rotationalEquation1\r\n     */\r\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\r\n\r\n    /**\r\n     * @property {RotationalEquation} rotationalEquation2\r\n     */\r\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\r\n\r\n    /**\r\n     * @property {RotationalMotorEquation} motorEquation\r\n     */\r\n    var motor = this.motorEquation = new RotationalMotorEquation(bodyA,bodyB,maxForce);\r\n    motor.enabled = false; // Not enabled by default\r\n\r\n    // Equations to be fed to the solver\r\n    this.equations.push(\r\n        r1, // rotational1\r\n        r2, // rotational2\r\n        motor\r\n    );\r\n}\r\nHingeConstraint.prototype = new PointToPointConstraint();\r\nHingeConstraint.constructor = HingeConstraint;\r\n\r\n/**\r\n * @method enableMotor\r\n */\r\nHingeConstraint.prototype.enableMotor = function(){\r\n    this.motorEquation.enabled = true;\r\n};\r\n\r\n/**\r\n * @method disableMotor\r\n */\r\nHingeConstraint.prototype.disableMotor = function(){\r\n    this.motorEquation.enabled = false;\r\n};\r\n\r\n/**\r\n * @method setMotorSpeed\r\n * @param {number} speed\r\n */\r\nHingeConstraint.prototype.setMotorSpeed = function(speed){\r\n    this.motorEquation.targetVelocity = speed;\r\n};\r\n\r\n/**\r\n * @method setMotorMaxForce\r\n * @param {number} maxForce\r\n */\r\nHingeConstraint.prototype.setMotorMaxForce = function(maxForce){\r\n    this.motorEquation.maxForce = maxForce;\r\n    this.motorEquation.minForce = -maxForce;\r\n};\r\n\r\nvar HingeConstraint_update_tmpVec1 = new Vec3();\r\nvar HingeConstraint_update_tmpVec2 = new Vec3();\r\n\r\nHingeConstraint.prototype.update = function(){\r\n    var bodyA = this.bodyA,\r\n        bodyB = this.bodyB,\r\n        motor = this.motorEquation,\r\n        r1 = this.rotationalEquation1,\r\n        r2 = this.rotationalEquation2,\r\n        worldAxisA = HingeConstraint_update_tmpVec1,\r\n        worldAxisB = HingeConstraint_update_tmpVec2;\r\n\r\n    var axisA = this.axisA;\r\n    var axisB = this.axisB;\r\n\r\n    PointToPointConstraint.prototype.update.call(this);\r\n\r\n    // Get world axes\r\n    bodyA.quaternion.vmult(axisA, worldAxisA);\r\n    bodyB.quaternion.vmult(axisB, worldAxisB);\r\n\r\n    worldAxisA.tangents(r1.axisA, r2.axisA);\r\n    r1.axisB.copy(worldAxisB);\r\n    r2.axisB.copy(worldAxisB);\r\n\r\n    if(this.motorEquation.enabled){\r\n        bodyA.quaternion.vmult(this.axisA, motor.axisA);\r\n        bodyB.quaternion.vmult(this.axisB, motor.axisB);\r\n    }\r\n};\r\n\r\n\r\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],16:[function(_dereq_,module,exports){\r\nmodule.exports = LockConstraint;\r\n\r\nvar Constraint = _dereq_('./Constraint');\r\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\r\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\r\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Lock constraint. Will remove all degrees of freedom between the bodies.\r\n * @class LockConstraint\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {object} [options]\r\n * @param {Number} [options.maxForce=1e6]\r\n * @extends PointToPointConstraint\r\n */\r\nfunction LockConstraint(bodyA, bodyB, options){\r\n    options = options || {};\r\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\r\n\r\n    // Set pivot point in between\r\n    var pivotA = new Vec3();\r\n    var pivotB = new Vec3();\r\n    var halfWay = new Vec3();\r\n    bodyA.position.vadd(bodyB.position, halfWay);\r\n    halfWay.scale(0.5, halfWay);\r\n    bodyB.pointToLocalFrame(halfWay, pivotB);\r\n    bodyA.pointToLocalFrame(halfWay, pivotA);\r\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\r\n\r\n    /**\r\n     * @property {RotationalEquation} rotationalEquation1\r\n     */\r\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\r\n\r\n    /**\r\n     * @property {RotationalEquation} rotationalEquation2\r\n     */\r\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\r\n\r\n    /**\r\n     * @property {RotationalEquation} rotationalEquation3\r\n     */\r\n    var r3 = this.rotationalEquation3 = new RotationalEquation(bodyA,bodyB,options);\r\n\r\n    this.equations.push(r1, r2, r3);\r\n}\r\nLockConstraint.prototype = new PointToPointConstraint();\r\nLockConstraint.constructor = LockConstraint;\r\n\r\nvar LockConstraint_update_tmpVec1 = new Vec3();\r\nvar LockConstraint_update_tmpVec2 = new Vec3();\r\n\r\nLockConstraint.prototype.update = function(){\r\n    var bodyA = this.bodyA,\r\n        bodyB = this.bodyB,\r\n        motor = this.motorEquation,\r\n        r1 = this.rotationalEquation1,\r\n        r2 = this.rotationalEquation2,\r\n        r3 = this.rotationalEquation3,\r\n        worldAxisA = LockConstraint_update_tmpVec1,\r\n        worldAxisB = LockConstraint_update_tmpVec2;\r\n\r\n    PointToPointConstraint.prototype.update.call(this);\r\n\r\n    bodyA.vectorToWorldFrame(Vec3.UNIT_X, r1.axisA);\r\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Y, r1.axisB);\r\n\r\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Y, r2.axisA);\r\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Z, r2.axisB);\r\n\r\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Z, r3.axisA);\r\n    bodyB.vectorToWorldFrame(Vec3.UNIT_X, r3.axisB);\r\n};\r\n\r\n\r\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],17:[function(_dereq_,module,exports){\r\nmodule.exports = PointToPointConstraint;\r\n\r\nvar Constraint = _dereq_('./Constraint');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Connects two bodies at given offset points.\r\n * @class PointToPointConstraint\r\n * @extends Constraint\r\n * @constructor\r\n * @param {Body} bodyA\r\n * @param {Vec3} pivotA The point relative to the center of mass of bodyA which bodyA is constrained to.\r\n * @param {Body} bodyB Body that will be constrained in a similar way to the same point as bodyA. We will therefore get a link between bodyA and bodyB. If not specified, bodyA will be constrained to a static point.\r\n * @param {Vec3} pivotB See pivotA.\r\n * @param {Number} maxForce The maximum force that should be applied to constrain the bodies.\r\n *\r\n * @example\r\n *     var bodyA = new Body({ mass: 1 });\r\n *     var bodyB = new Body({ mass: 1 });\r\n *     bodyA.position.set(-1, 0, 0);\r\n *     bodyB.position.set(1, 0, 0);\r\n *     bodyA.addShape(shapeA);\r\n *     bodyB.addShape(shapeB);\r\n *     world.addBody(bodyA);\r\n *     world.addBody(bodyB);\r\n *     var localPivotA = new Vec3(1, 0, 0);\r\n *     var localPivotB = new Vec3(-1, 0, 0);\r\n *     var constraint = new PointToPointConstraint(bodyA, localPivotA, bodyB, localPivotB);\r\n *     world.addConstraint(constraint);\r\n */\r\nfunction PointToPointConstraint(bodyA,pivotA,bodyB,pivotB,maxForce){\r\n    Constraint.call(this,bodyA,bodyB);\r\n\r\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\r\n\r\n    /**\r\n     * Pivot, defined locally in bodyA.\r\n     * @property {Vec3} pivotA\r\n     */\r\n    this.pivotA = pivotA ? pivotA.clone() : new Vec3();\r\n\r\n    /**\r\n     * Pivot, defined locally in bodyB.\r\n     * @property {Vec3} pivotB\r\n     */\r\n    this.pivotB = pivotB ? pivotB.clone() : new Vec3();\r\n\r\n    /**\r\n     * @property {ContactEquation} equationX\r\n     */\r\n    var x = this.equationX = new ContactEquation(bodyA,bodyB);\r\n\r\n    /**\r\n     * @property {ContactEquation} equationY\r\n     */\r\n    var y = this.equationY = new ContactEquation(bodyA,bodyB);\r\n\r\n    /**\r\n     * @property {ContactEquation} equationZ\r\n     */\r\n    var z = this.equationZ = new ContactEquation(bodyA,bodyB);\r\n\r\n    // Equations to be fed to the solver\r\n    this.equations.push(x, y, z);\r\n\r\n    // Make the equations bidirectional\r\n    x.minForce = y.minForce = z.minForce = -maxForce;\r\n    x.maxForce = y.maxForce = z.maxForce =  maxForce;\r\n\r\n    x.ni.set(1, 0, 0);\r\n    y.ni.set(0, 1, 0);\r\n    z.ni.set(0, 0, 1);\r\n}\r\nPointToPointConstraint.prototype = new Constraint();\r\n\r\nPointToPointConstraint.prototype.update = function(){\r\n    var bodyA = this.bodyA;\r\n    var bodyB = this.bodyB;\r\n    var x = this.equationX;\r\n    var y = this.equationY;\r\n    var z = this.equationZ;\r\n\r\n    // Rotate the pivots to world space\r\n    bodyA.quaternion.vmult(this.pivotA,x.ri);\r\n    bodyB.quaternion.vmult(this.pivotB,x.rj);\r\n\r\n    y.ri.copy(x.ri);\r\n    y.rj.copy(x.rj);\r\n    z.ri.copy(x.ri);\r\n    z.rj.copy(x.rj);\r\n};\r\n},{\"../equations/ContactEquation\":19,\"../math/Vec3\":30,\"./Constraint\":13}],18:[function(_dereq_,module,exports){\r\nmodule.exports = ConeEquation;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\nvar Equation = _dereq_('./Equation');\r\n\r\n/**\r\n * Cone equation. Works to keep the given body world vectors aligned, or tilted within a given angle from each other.\r\n * @class ConeEquation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Vec3} [options.axisA] Local axis in A\r\n * @param {Vec3} [options.axisB] Local axis in B\r\n * @param {Vec3} [options.angle] The \"cone angle\" to keep\r\n * @param {number} [options.maxForce=1e6]\r\n * @extends Equation\r\n */\r\nfunction ConeEquation(bodyA, bodyB, options){\r\n    options = options || {};\r\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\r\n\r\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\r\n\r\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\r\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\r\n\r\n    /**\r\n     * The cone angle to keep\r\n     * @property {number} angle\r\n     */\r\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\r\n}\r\n\r\nConeEquation.prototype = new Equation();\r\nConeEquation.prototype.constructor = ConeEquation;\r\n\r\nvar tmpVec1 = new Vec3();\r\nvar tmpVec2 = new Vec3();\r\n\r\nConeEquation.prototype.computeB = function(h){\r\n    var a = this.a,\r\n        b = this.b,\r\n\r\n        ni = this.axisA,\r\n        nj = this.axisB,\r\n\r\n        nixnj = tmpVec1,\r\n        njxni = tmpVec2,\r\n\r\n        GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB;\r\n\r\n    // Caluclate cross products\r\n    ni.cross(nj, nixnj);\r\n    nj.cross(ni, njxni);\r\n\r\n    // The angle between two vector is:\r\n    // cos(theta) = a * b / (length(a) * length(b) = { len(a) = len(b) = 1 } = a * b\r\n\r\n    // g = a * b\r\n    // gdot = (b x a) * wi + (a x b) * wj\r\n    // G = [0 bxa 0 axb]\r\n    // W = [vi wi vj wj]\r\n    GA.rotational.copy(njxni);\r\n    GB.rotational.copy(nixnj);\r\n\r\n    var g = Math.cos(this.angle) - ni.dot(nj),\r\n        GW = this.computeGW(),\r\n        GiMf = this.computeGiMf();\r\n\r\n    var B = - g * a - GW * b - h * GiMf;\r\n\r\n    return B;\r\n};\r\n\r\n\r\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],19:[function(_dereq_,module,exports){\r\nmodule.exports = ContactEquation;\r\n\r\nvar Equation = _dereq_('./Equation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\n\r\n/**\r\n * Contact/non-penetration constraint equation\r\n * @class ContactEquation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @extends Equation\r\n */\r\nfunction ContactEquation(bodyA, bodyB, maxForce){\r\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\r\n    Equation.call(this, bodyA, bodyB, 0, maxForce);\r\n\r\n    /**\r\n     * @property restitution\r\n     * @type {Number}\r\n     */\r\n    this.restitution = 0.0; // \"bounciness\": u1 = -e*u0\r\n\r\n    /**\r\n     * World-oriented vector that goes from the center of bi to the contact point.\r\n     * @property {Vec3} ri\r\n     */\r\n    this.ri = new Vec3();\r\n\r\n    /**\r\n     * World-oriented vector that starts in body j position and goes to the contact point.\r\n     * @property {Vec3} rj\r\n     */\r\n    this.rj = new Vec3();\r\n\r\n    /**\r\n     * Contact normal, pointing out of body i.\r\n     * @property {Vec3} ni\r\n     */\r\n    this.ni = new Vec3();\r\n}\r\n\r\nContactEquation.prototype = new Equation();\r\nContactEquation.prototype.constructor = ContactEquation;\r\n\r\nvar ContactEquation_computeB_temp1 = new Vec3(); // Temp vectors\r\nvar ContactEquation_computeB_temp2 = new Vec3();\r\nvar ContactEquation_computeB_temp3 = new Vec3();\r\nContactEquation.prototype.computeB = function(h){\r\n    var a = this.a,\r\n        b = this.b,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        ri = this.ri,\r\n        rj = this.rj,\r\n        rixn = ContactEquation_computeB_temp1,\r\n        rjxn = ContactEquation_computeB_temp2,\r\n\r\n        vi = bi.velocity,\r\n        wi = bi.angularVelocity,\r\n        fi = bi.force,\r\n        taui = bi.torque,\r\n\r\n        vj = bj.velocity,\r\n        wj = bj.angularVelocity,\r\n        fj = bj.force,\r\n        tauj = bj.torque,\r\n\r\n        penetrationVec = ContactEquation_computeB_temp3,\r\n\r\n        GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n\r\n        n = this.ni;\r\n\r\n    // Caluclate cross products\r\n    ri.cross(n,rixn);\r\n    rj.cross(n,rjxn);\r\n\r\n    // g = xj+rj -(xi+ri)\r\n    // G = [ -ni  -rixn  ni  rjxn ]\r\n    n.negate(GA.spatial);\r\n    rixn.negate(GA.rotational);\r\n    GB.spatial.copy(n);\r\n    GB.rotational.copy(rjxn);\r\n\r\n    // Calculate the penetration vector\r\n    penetrationVec.copy(bj.position);\r\n    penetrationVec.vadd(rj,penetrationVec);\r\n    penetrationVec.vsub(bi.position,penetrationVec);\r\n    penetrationVec.vsub(ri,penetrationVec);\r\n\r\n    var g = n.dot(penetrationVec);\r\n\r\n    // Compute iteration\r\n    var ePlusOne = this.restitution + 1;\r\n    var GW = ePlusOne * vj.dot(n) - ePlusOne * vi.dot(n) + wj.dot(rjxn) - wi.dot(rixn);\r\n    var GiMf = this.computeGiMf();\r\n\r\n    var B = - g * a - GW * b - h*GiMf;\r\n\r\n    return B;\r\n};\r\n\r\nvar ContactEquation_getImpactVelocityAlongNormal_vi = new Vec3();\r\nvar ContactEquation_getImpactVelocityAlongNormal_vj = new Vec3();\r\nvar ContactEquation_getImpactVelocityAlongNormal_xi = new Vec3();\r\nvar ContactEquation_getImpactVelocityAlongNormal_xj = new Vec3();\r\nvar ContactEquation_getImpactVelocityAlongNormal_relVel = new Vec3();\r\n\r\n/**\r\n * Get the current relative velocity in the contact point.\r\n * @method getImpactVelocityAlongNormal\r\n * @return {number}\r\n */\r\nContactEquation.prototype.getImpactVelocityAlongNormal = function(){\r\n    var vi = ContactEquation_getImpactVelocityAlongNormal_vi;\r\n    var vj = ContactEquation_getImpactVelocityAlongNormal_vj;\r\n    var xi = ContactEquation_getImpactVelocityAlongNormal_xi;\r\n    var xj = ContactEquation_getImpactVelocityAlongNormal_xj;\r\n    var relVel = ContactEquation_getImpactVelocityAlongNormal_relVel;\r\n\r\n    this.bi.position.vadd(this.ri, xi);\r\n    this.bj.position.vadd(this.rj, xj);\r\n\r\n    this.bi.getVelocityAtWorldPoint(xi, vi);\r\n    this.bj.getVelocityAtWorldPoint(xj, vj);\r\n\r\n    vi.vsub(vj, relVel);\r\n\r\n    return this.ni.dot(relVel);\r\n};\r\n\r\n\r\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],20:[function(_dereq_,module,exports){\r\nmodule.exports = Equation;\r\n\r\nvar JacobianElement = _dereq_('../math/JacobianElement'),\r\n    Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Equation base class\r\n * @class Equation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bi\r\n * @param {Body} bj\r\n * @param {Number} minForce Minimum (read: negative max) force to be applied by the constraint.\r\n * @param {Number} maxForce Maximum (read: positive max) force to be applied by the constraint.\r\n */\r\nfunction Equation(bi,bj,minForce,maxForce){\r\n    this.id = Equation.id++;\r\n\r\n    /**\r\n     * @property {number} minForce\r\n     */\r\n    this.minForce = typeof(minForce)===\"undefined\" ? -1e6 : minForce;\r\n\r\n    /**\r\n     * @property {number} maxForce\r\n     */\r\n    this.maxForce = typeof(maxForce)===\"undefined\" ? 1e6 : maxForce;\r\n\r\n    /**\r\n     * @property bi\r\n     * @type {Body}\r\n     */\r\n    this.bi = bi;\r\n\r\n    /**\r\n     * @property bj\r\n     * @type {Body}\r\n     */\r\n    this.bj = bj;\r\n\r\n    /**\r\n     * SPOOK parameter\r\n     * @property {number} a\r\n     */\r\n    this.a = 0.0;\r\n\r\n    /**\r\n     * SPOOK parameter\r\n     * @property {number} b\r\n     */\r\n    this.b = 0.0;\r\n\r\n    /**\r\n     * SPOOK parameter\r\n     * @property {number} eps\r\n     */\r\n    this.eps = 0.0;\r\n\r\n    /**\r\n     * @property {JacobianElement} jacobianElementA\r\n     */\r\n    this.jacobianElementA = new JacobianElement();\r\n\r\n    /**\r\n     * @property {JacobianElement} jacobianElementB\r\n     */\r\n    this.jacobianElementB = new JacobianElement();\r\n\r\n    /**\r\n     * @property {boolean} enabled\r\n     * @default true\r\n     */\r\n    this.enabled = true;\r\n\r\n    // Set typical spook params\r\n    this.setSpookParams(1e7,4,1/60);\r\n}\r\nEquation.prototype.constructor = Equation;\r\n\r\nEquation.id = 0;\r\n\r\n/**\r\n * Recalculates a,b,eps.\r\n * @method setSpookParams\r\n */\r\nEquation.prototype.setSpookParams = function(stiffness,relaxation,timeStep){\r\n    var d = relaxation,\r\n        k = stiffness,\r\n        h = timeStep;\r\n    this.a = 4.0 / (h * (1 + 4 * d));\r\n    this.b = (4.0 * d) / (1 + 4 * d);\r\n    this.eps = 4.0 / (h * h * k * (1 + 4 * d));\r\n};\r\n\r\n/**\r\n * Computes the RHS of the SPOOK equation\r\n * @method computeB\r\n * @return {Number}\r\n */\r\nEquation.prototype.computeB = function(a,b,h){\r\n    var GW = this.computeGW(),\r\n        Gq = this.computeGq(),\r\n        GiMf = this.computeGiMf();\r\n    return - Gq * a - GW * b - GiMf*h;\r\n};\r\n\r\n/**\r\n * Computes G*q, where q are the generalized body coordinates\r\n * @method computeGq\r\n * @return {Number}\r\n */\r\nEquation.prototype.computeGq = function(){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        xi = bi.position,\r\n        xj = bj.position;\r\n    return GA.spatial.dot(xi) + GB.spatial.dot(xj);\r\n};\r\n\r\nvar zero = new Vec3();\r\n\r\n/**\r\n * Computes G*W, where W are the body velocities\r\n * @method computeGW\r\n * @return {Number}\r\n */\r\nEquation.prototype.computeGW = function(){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        vi = bi.velocity,\r\n        vj = bj.velocity,\r\n        wi = bi.angularVelocity || zero,\r\n        wj = bj.angularVelocity || zero;\r\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\r\n};\r\n\r\n\r\n/**\r\n * Computes G*Wlambda, where W are the body velocities\r\n * @method computeGWlambda\r\n * @return {Number}\r\n */\r\nEquation.prototype.computeGWlambda = function(){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        vi = bi.vlambda,\r\n        vj = bj.vlambda,\r\n        wi = bi.wlambda || zero,\r\n        wj = bj.wlambda || zero;\r\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\r\n};\r\n\r\n/**\r\n * Computes G*inv(M)*f, where M is the mass matrix with diagonal blocks for each body, and f are the forces on the bodies.\r\n * @method computeGiMf\r\n * @return {Number}\r\n */\r\nvar iMfi = new Vec3(),\r\n    iMfj = new Vec3(),\r\n    invIi_vmult_taui = new Vec3(),\r\n    invIj_vmult_tauj = new Vec3();\r\nEquation.prototype.computeGiMf = function(){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        fi = bi.force,\r\n        ti = bi.torque,\r\n        fj = bj.force,\r\n        tj = bj.torque,\r\n        invMassi = bi.invMassSolve,\r\n        invMassj = bj.invMassSolve;\r\n\r\n    if(bi.invInertiaWorldSolve){ bi.invInertiaWorldSolve.vmult(ti,invIi_vmult_taui); }\r\n    else { invIi_vmult_taui.set(0,0,0); }\r\n    if(bj.invInertiaWorldSolve){ bj.invInertiaWorldSolve.vmult(tj,invIj_vmult_tauj); }\r\n    else { invIj_vmult_tauj.set(0,0,0); }\r\n\r\n    fi.mult(invMassi,iMfi);\r\n    fj.mult(invMassj,iMfj);\r\n\r\n    return GA.multiplyVectors(iMfi,invIi_vmult_taui) + GB.multiplyVectors(iMfj,invIj_vmult_tauj);\r\n};\r\n\r\n/**\r\n * Computes G*inv(M)*G'\r\n * @method computeGiMGt\r\n * @return {Number}\r\n */\r\nvar tmp = new Vec3();\r\nEquation.prototype.computeGiMGt = function(){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        invMassi = bi.invMassSolve,\r\n        invMassj = bj.invMassSolve,\r\n        invIi = bi.invInertiaWorldSolve,\r\n        invIj = bj.invInertiaWorldSolve,\r\n        result = invMassi + invMassj;\r\n\r\n    if(invIi){\r\n        invIi.vmult(GA.rotational,tmp);\r\n        result += tmp.dot(GA.rotational);\r\n    }\r\n\r\n    if(invIj){\r\n        invIj.vmult(GB.rotational,tmp);\r\n        result += tmp.dot(GB.rotational);\r\n    }\r\n\r\n    return  result;\r\n};\r\n\r\nvar addToWlambda_temp = new Vec3(),\r\n    addToWlambda_Gi = new Vec3(),\r\n    addToWlambda_Gj = new Vec3(),\r\n    addToWlambda_ri = new Vec3(),\r\n    addToWlambda_rj = new Vec3(),\r\n    addToWlambda_Mdiag = new Vec3();\r\n\r\n/**\r\n * Add constraint velocity to the bodies.\r\n * @method addToWlambda\r\n * @param {Number} deltalambda\r\n */\r\nEquation.prototype.addToWlambda = function(deltalambda){\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        temp = addToWlambda_temp;\r\n\r\n    // Add to linear velocity\r\n    // v_lambda += inv(M) * delta_lamba * G\r\n    GA.spatial.mult(bi.invMassSolve * deltalambda,temp);\r\n    bi.vlambda.vadd(temp, bi.vlambda);\r\n\r\n    GB.spatial.mult(bj.invMassSolve * deltalambda,temp);\r\n    bj.vlambda.vadd(temp, bj.vlambda);\r\n\r\n    // Add to angular velocity\r\n    if(bi.invInertiaWorldSolve){\r\n        bi.invInertiaWorldSolve.vmult(GA.rotational,temp);\r\n        temp.mult(deltalambda,temp);\r\n        bi.wlambda.vadd(temp,bi.wlambda);\r\n    }\r\n\r\n    if(bj.invInertiaWorldSolve){\r\n        bj.invInertiaWorldSolve.vmult(GB.rotational,temp);\r\n        temp.mult(deltalambda,temp);\r\n        bj.wlambda.vadd(temp,bj.wlambda);\r\n    }\r\n};\r\n\r\n/**\r\n * Compute the denominator part of the SPOOK equation: C = G*inv(M)*G' + eps\r\n * @method computeInvC\r\n * @param  {Number} eps\r\n * @return {Number}\r\n */\r\nEquation.prototype.computeC = function(){\r\n    return this.computeGiMGt() + this.eps;\r\n};\r\n\r\n},{\"../math/JacobianElement\":26,\"../math/Vec3\":30}],21:[function(_dereq_,module,exports){\r\nmodule.exports = FrictionEquation;\r\n\r\nvar Equation = _dereq_('./Equation');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\n\r\n/**\r\n * Constrains the slipping in a contact along a tangent\r\n * @class FrictionEquation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Number} slipForce should be +-F_friction = +-mu * F_normal = +-mu * m * g\r\n * @extends Equation\r\n */\r\nfunction FrictionEquation(bodyA, bodyB, slipForce){\r\n    Equation.call(this,bodyA, bodyB, -slipForce, slipForce);\r\n    this.ri = new Vec3();\r\n    this.rj = new Vec3();\r\n    this.t = new Vec3(); // tangent\r\n}\r\n\r\nFrictionEquation.prototype = new Equation();\r\nFrictionEquation.prototype.constructor = FrictionEquation;\r\n\r\nvar FrictionEquation_computeB_temp1 = new Vec3();\r\nvar FrictionEquation_computeB_temp2 = new Vec3();\r\nFrictionEquation.prototype.computeB = function(h){\r\n    var a = this.a,\r\n        b = this.b,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n        ri = this.ri,\r\n        rj = this.rj,\r\n        rixt = FrictionEquation_computeB_temp1,\r\n        rjxt = FrictionEquation_computeB_temp2,\r\n        t = this.t;\r\n\r\n    // Caluclate cross products\r\n    ri.cross(t,rixt);\r\n    rj.cross(t,rjxt);\r\n\r\n    // G = [-t -rixt t rjxt]\r\n    // And remember, this is a pure velocity constraint, g is always zero!\r\n    var GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB;\r\n    t.negate(GA.spatial);\r\n    rixt.negate(GA.rotational);\r\n    GB.spatial.copy(t);\r\n    GB.rotational.copy(rjxt);\r\n\r\n    var GW = this.computeGW();\r\n    var GiMf = this.computeGiMf();\r\n\r\n    var B = - GW * b - h * GiMf;\r\n\r\n    return B;\r\n};\r\n\r\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],22:[function(_dereq_,module,exports){\r\nmodule.exports = RotationalEquation;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\nvar Equation = _dereq_('./Equation');\r\n\r\n/**\r\n * Rotational constraint. Works to keep the local vectors orthogonal to each other in world space.\r\n * @class RotationalEquation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Vec3} [options.axisA]\r\n * @param {Vec3} [options.axisB]\r\n * @param {number} [options.maxForce]\r\n * @extends Equation\r\n */\r\nfunction RotationalEquation(bodyA, bodyB, options){\r\n    options = options || {};\r\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\r\n\r\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\r\n\r\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\r\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\r\n\r\n    this.maxAngle = Math.PI / 2;\r\n}\r\n\r\nRotationalEquation.prototype = new Equation();\r\nRotationalEquation.prototype.constructor = RotationalEquation;\r\n\r\nvar tmpVec1 = new Vec3();\r\nvar tmpVec2 = new Vec3();\r\n\r\nRotationalEquation.prototype.computeB = function(h){\r\n    var a = this.a,\r\n        b = this.b,\r\n\r\n        ni = this.axisA,\r\n        nj = this.axisB,\r\n\r\n        nixnj = tmpVec1,\r\n        njxni = tmpVec2,\r\n\r\n        GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB;\r\n\r\n    // Caluclate cross products\r\n    ni.cross(nj, nixnj);\r\n    nj.cross(ni, njxni);\r\n\r\n    // g = ni * nj\r\n    // gdot = (nj x ni) * wi + (ni x nj) * wj\r\n    // G = [0 njxni 0 nixnj]\r\n    // W = [vi wi vj wj]\r\n    GA.rotational.copy(njxni);\r\n    GB.rotational.copy(nixnj);\r\n\r\n    var g = Math.cos(this.maxAngle) - ni.dot(nj),\r\n        GW = this.computeGW(),\r\n        GiMf = this.computeGiMf();\r\n\r\n    var B = - g * a - GW * b - h * GiMf;\r\n\r\n    return B;\r\n};\r\n\r\n\r\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],23:[function(_dereq_,module,exports){\r\nmodule.exports = RotationalMotorEquation;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\nvar Equation = _dereq_('./Equation');\r\n\r\n/**\r\n * Rotational motor constraint. Tries to keep the relative angular velocity of the bodies to a given value.\r\n * @class RotationalMotorEquation\r\n * @constructor\r\n * @author schteppe\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Number} maxForce\r\n * @extends Equation\r\n */\r\nfunction RotationalMotorEquation(bodyA, bodyB, maxForce){\r\n    maxForce = typeof(maxForce)!=='undefined' ? maxForce : 1e6;\r\n    Equation.call(this,bodyA,bodyB,-maxForce,maxForce);\r\n\r\n    /**\r\n     * World oriented rotational axis\r\n     * @property {Vec3} axisA\r\n     */\r\n    this.axisA = new Vec3();\r\n\r\n    /**\r\n     * World oriented rotational axis\r\n     * @property {Vec3} axisB\r\n     */\r\n    this.axisB = new Vec3(); // World oriented rotational axis\r\n\r\n    /**\r\n     * Motor velocity\r\n     * @property {Number} targetVelocity\r\n     */\r\n    this.targetVelocity = 0;\r\n}\r\n\r\nRotationalMotorEquation.prototype = new Equation();\r\nRotationalMotorEquation.prototype.constructor = RotationalMotorEquation;\r\n\r\nRotationalMotorEquation.prototype.computeB = function(h){\r\n    var a = this.a,\r\n        b = this.b,\r\n        bi = this.bi,\r\n        bj = this.bj,\r\n\r\n        axisA = this.axisA,\r\n        axisB = this.axisB,\r\n\r\n        GA = this.jacobianElementA,\r\n        GB = this.jacobianElementB;\r\n\r\n    // g = 0\r\n    // gdot = axisA * wi - axisB * wj\r\n    // gdot = G * W = G * [vi wi vj wj]\r\n    // =>\r\n    // G = [0 axisA 0 -axisB]\r\n\r\n    GA.rotational.copy(axisA);\r\n    axisB.negate(GB.rotational);\r\n\r\n    var GW = this.computeGW() - this.targetVelocity,\r\n        GiMf = this.computeGiMf();\r\n\r\n    var B = - GW * b - h * GiMf;\r\n\r\n    return B;\r\n};\r\n\r\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],24:[function(_dereq_,module,exports){\r\nvar Utils = _dereq_('../utils/Utils');\r\n\r\nmodule.exports = ContactMaterial;\r\n\r\n/**\r\n * Defines what happens when two materials meet.\r\n * @class ContactMaterial\r\n * @constructor\r\n * @param {Material} m1\r\n * @param {Material} m2\r\n * @param {object} [options]\r\n * @param {Number} [options.friction=0.3]\r\n * @param {Number} [options.restitution=0.3]\r\n * @param {number} [options.contactEquationStiffness=1e7]\r\n * @param {number} [options.contactEquationRelaxation=3]\r\n * @param {number} [options.frictionEquationStiffness=1e7]\r\n * @param {Number} [options.frictionEquationRelaxation=3]\r\n */\r\nfunction ContactMaterial(m1, m2, options){\r\n    options = Utils.defaults(options, {\r\n        friction: 0.3,\r\n        restitution: 0.3,\r\n        contactEquationStiffness: 1e7,\r\n        contactEquationRelaxation: 3,\r\n        frictionEquationStiffness: 1e7,\r\n        frictionEquationRelaxation: 3\r\n    });\r\n\r\n    /**\r\n     * Identifier of this material\r\n     * @property {Number} id\r\n     */\r\n    this.id = ContactMaterial.idCounter++;\r\n\r\n    /**\r\n     * Participating materials\r\n     * @property {Array} materials\r\n     * @todo  Should be .materialA and .materialB instead\r\n     */\r\n    this.materials = [m1, m2];\r\n\r\n    /**\r\n     * Friction coefficient\r\n     * @property {Number} friction\r\n     */\r\n    this.friction = options.friction;\r\n\r\n    /**\r\n     * Restitution coefficient\r\n     * @property {Number} restitution\r\n     */\r\n    this.restitution = options.restitution;\r\n\r\n    /**\r\n     * Stiffness of the produced contact equations\r\n     * @property {Number} contactEquationStiffness\r\n     */\r\n    this.contactEquationStiffness = options.contactEquationStiffness;\r\n\r\n    /**\r\n     * Relaxation time of the produced contact equations\r\n     * @property {Number} contactEquationRelaxation\r\n     */\r\n    this.contactEquationRelaxation = options.contactEquationRelaxation;\r\n\r\n    /**\r\n     * Stiffness of the produced friction equations\r\n     * @property {Number} frictionEquationStiffness\r\n     */\r\n    this.frictionEquationStiffness = options.frictionEquationStiffness;\r\n\r\n    /**\r\n     * Relaxation time of the produced friction equations\r\n     * @property {Number} frictionEquationRelaxation\r\n     */\r\n    this.frictionEquationRelaxation = options.frictionEquationRelaxation;\r\n}\r\n\r\nContactMaterial.idCounter = 0;\r\n\r\n},{\"../utils/Utils\":53}],25:[function(_dereq_,module,exports){\r\nmodule.exports = Material;\r\n\r\n/**\r\n * Defines a physics material.\r\n * @class Material\r\n * @constructor\r\n * @param {object} [options]\r\n * @author schteppe\r\n */\r\nfunction Material(options){\r\n    var name = '';\r\n    options = options || {};\r\n\r\n    // Backwards compatibility fix\r\n    if(typeof(options) === 'string'){\r\n        name = options;\r\n        options = {};\r\n    } else if(typeof(options) === 'object') {\r\n        name = '';\r\n    }\r\n\r\n    /**\r\n     * @property name\r\n     * @type {String}\r\n     */\r\n    this.name = name;\r\n\r\n    /**\r\n     * material id.\r\n     * @property id\r\n     * @type {number}\r\n     */\r\n    this.id = Material.idCounter++;\r\n\r\n    /**\r\n     * Friction for this material. If non-negative, it will be used instead of the friction given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\r\n     * @property {number} friction\r\n     */\r\n    this.friction = typeof(options.friction) !== 'undefined' ? options.friction : -1;\r\n\r\n    /**\r\n     * Restitution for this material. If non-negative, it will be used instead of the restitution given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\r\n     * @property {number} restitution\r\n     */\r\n    this.restitution = typeof(options.restitution) !== 'undefined' ? options.restitution : -1;\r\n}\r\n\r\nMaterial.idCounter = 0;\r\n\r\n},{}],26:[function(_dereq_,module,exports){\r\nmodule.exports = JacobianElement;\r\n\r\nvar Vec3 = _dereq_('./Vec3');\r\n\r\n/**\r\n * An element containing 6 entries, 3 spatial and 3 rotational degrees of freedom.\r\n * @class JacobianElement\r\n * @constructor\r\n */\r\nfunction JacobianElement(){\r\n\r\n    /**\r\n     * @property {Vec3} spatial\r\n     */\r\n    this.spatial = new Vec3();\r\n\r\n    /**\r\n     * @property {Vec3} rotational\r\n     */\r\n    this.rotational = new Vec3();\r\n}\r\n\r\n/**\r\n * Multiply with other JacobianElement\r\n * @method multiplyElement\r\n * @param  {JacobianElement} element\r\n * @return {Number}\r\n */\r\nJacobianElement.prototype.multiplyElement = function(element){\r\n    return element.spatial.dot(this.spatial) + element.rotational.dot(this.rotational);\r\n};\r\n\r\n/**\r\n * Multiply with two vectors\r\n * @method multiplyVectors\r\n * @param  {Vec3} spatial\r\n * @param  {Vec3} rotational\r\n * @return {Number}\r\n */\r\nJacobianElement.prototype.multiplyVectors = function(spatial,rotational){\r\n    return spatial.dot(this.spatial) + rotational.dot(this.rotational);\r\n};\r\n\r\n},{\"./Vec3\":30}],27:[function(_dereq_,module,exports){\r\nmodule.exports = Mat3;\r\n\r\nvar Vec3 = _dereq_('./Vec3');\r\n\r\n/**\r\n * A 3x3 matrix.\r\n * @class Mat3\r\n * @constructor\r\n * @param array elements Array of nine elements. Optional.\r\n * @author schteppe / http://github.com/schteppe\r\n */\r\nfunction Mat3(elements){\r\n    /**\r\n     * A vector of length 9, containing all matrix elements\r\n     * @property {Array} elements\r\n     */\r\n    if(elements){\r\n        this.elements = elements;\r\n    } else {\r\n        this.elements = [0,0,0,0,0,0,0,0,0];\r\n    }\r\n}\r\n\r\n/**\r\n * Sets the matrix to identity\r\n * @method identity\r\n * @todo Should perhaps be renamed to setIdentity() to be more clear.\r\n * @todo Create another function that immediately creates an identity matrix eg. eye()\r\n */\r\nMat3.prototype.identity = function(){\r\n    var e = this.elements;\r\n    e[0] = 1;\r\n    e[1] = 0;\r\n    e[2] = 0;\r\n\r\n    e[3] = 0;\r\n    e[4] = 1;\r\n    e[5] = 0;\r\n\r\n    e[6] = 0;\r\n    e[7] = 0;\r\n    e[8] = 1;\r\n};\r\n\r\n/**\r\n * Set all elements to zero\r\n * @method setZero\r\n */\r\nMat3.prototype.setZero = function(){\r\n    var e = this.elements;\r\n    e[0] = 0;\r\n    e[1] = 0;\r\n    e[2] = 0;\r\n    e[3] = 0;\r\n    e[4] = 0;\r\n    e[5] = 0;\r\n    e[6] = 0;\r\n    e[7] = 0;\r\n    e[8] = 0;\r\n};\r\n\r\n/**\r\n * Sets the matrix diagonal elements from a Vec3\r\n * @method setTrace\r\n * @param {Vec3} vec3\r\n */\r\nMat3.prototype.setTrace = function(vec3){\r\n    var e = this.elements;\r\n    e[0] = vec3.x;\r\n    e[4] = vec3.y;\r\n    e[8] = vec3.z;\r\n};\r\n\r\n/**\r\n * Gets the matrix diagonal elements\r\n * @method getTrace\r\n * @return {Vec3}\r\n */\r\nMat3.prototype.getTrace = function(target){\r\n    var target = target || new Vec3();\r\n    var e = this.elements;\r\n    target.x = e[0];\r\n    target.y = e[4];\r\n    target.z = e[8];\r\n};\r\n\r\n/**\r\n * Matrix-Vector multiplication\r\n * @method vmult\r\n * @param {Vec3} v The vector to multiply with\r\n * @param {Vec3} target Optional, target to save the result in.\r\n */\r\nMat3.prototype.vmult = function(v,target){\r\n    target = target || new Vec3();\r\n\r\n    var e = this.elements,\r\n        x = v.x,\r\n        y = v.y,\r\n        z = v.z;\r\n    target.x = e[0]*x + e[1]*y + e[2]*z;\r\n    target.y = e[3]*x + e[4]*y + e[5]*z;\r\n    target.z = e[6]*x + e[7]*y + e[8]*z;\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Matrix-scalar multiplication\r\n * @method smult\r\n * @param {Number} s\r\n */\r\nMat3.prototype.smult = function(s){\r\n    for(var i=0; i<this.elements.length; i++){\r\n        this.elements[i] *= s;\r\n    }\r\n};\r\n\r\n/**\r\n * Matrix multiplication\r\n * @method mmult\r\n * @param {Mat3} m Matrix to multiply with from left side.\r\n * @return {Mat3} The result.\r\n */\r\nMat3.prototype.mmult = function(m,target){\r\n    var r = target || new Mat3();\r\n    for(var i=0; i<3; i++){\r\n        for(var j=0; j<3; j++){\r\n            var sum = 0.0;\r\n            for(var k=0; k<3; k++){\r\n                sum += m.elements[i+k*3] * this.elements[k+j*3];\r\n            }\r\n            r.elements[i+j*3] = sum;\r\n        }\r\n    }\r\n    return r;\r\n};\r\n\r\n/**\r\n * Scale each column of the matrix\r\n * @method scale\r\n * @param {Vec3} v\r\n * @return {Mat3} The result.\r\n */\r\nMat3.prototype.scale = function(v,target){\r\n    target = target || new Mat3();\r\n    var e = this.elements,\r\n        t = target.elements;\r\n    for(var i=0; i!==3; i++){\r\n        t[3*i + 0] = v.x * e[3*i + 0];\r\n        t[3*i + 1] = v.y * e[3*i + 1];\r\n        t[3*i + 2] = v.z * e[3*i + 2];\r\n    }\r\n    return target;\r\n};\r\n\r\n/**\r\n * Solve Ax=b\r\n * @method solve\r\n * @param {Vec3} b The right hand side\r\n * @param {Vec3} target Optional. Target vector to save in.\r\n * @return {Vec3} The solution x\r\n * @todo should reuse arrays\r\n */\r\nMat3.prototype.solve = function(b,target){\r\n    target = target || new Vec3();\r\n\r\n    // Construct equations\r\n    var nr = 3; // num rows\r\n    var nc = 4; // num cols\r\n    var eqns = [];\r\n    for(var i=0; i<nr*nc; i++){\r\n        eqns.push(0);\r\n    }\r\n    var i,j;\r\n    for(i=0; i<3; i++){\r\n        for(j=0; j<3; j++){\r\n            eqns[i+nc*j] = this.elements[i+3*j];\r\n        }\r\n    }\r\n    eqns[3+4*0] = b.x;\r\n    eqns[3+4*1] = b.y;\r\n    eqns[3+4*2] = b.z;\r\n\r\n    // Compute right upper triangular version of the matrix - Gauss elimination\r\n    var n = 3, k = n, np;\r\n    var kp = 4; // num rows\r\n    var p, els;\r\n    do {\r\n        i = k - n;\r\n        if (eqns[i+nc*i] === 0) {\r\n            // the pivot is null, swap lines\r\n            for (j = i + 1; j < k; j++) {\r\n                if (eqns[i+nc*j] !== 0) {\r\n                    np = kp;\r\n                    do {  // do ligne( i ) = ligne( i ) + ligne( k )\r\n                        p = kp - np;\r\n                        eqns[p+nc*i] += eqns[p+nc*j];\r\n                    } while (--np);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (eqns[i+nc*i] !== 0) {\r\n            for (j = i + 1; j < k; j++) {\r\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\r\n                np = kp;\r\n                do {  // do ligne( k ) = ligne( k ) - multiplier * ligne( i )\r\n                    p = kp - np;\r\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\r\n                } while (--np);\r\n            }\r\n        }\r\n    } while (--n);\r\n\r\n    // Get the solution\r\n    target.z = eqns[2*nc+3] / eqns[2*nc+2];\r\n    target.y = (eqns[1*nc+3] - eqns[1*nc+2]*target.z) / eqns[1*nc+1];\r\n    target.x = (eqns[0*nc+3] - eqns[0*nc+2]*target.z - eqns[0*nc+1]*target.y) / eqns[0*nc+0];\r\n\r\n    if(isNaN(target.x) || isNaN(target.y) || isNaN(target.z) || target.x===Infinity || target.y===Infinity || target.z===Infinity){\r\n        throw \"Could not solve equation! Got x=[\"+target.toString()+\"], b=[\"+b.toString()+\"], A=[\"+this.toString()+\"]\";\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Get an element in the matrix by index. Index starts at 0, not 1!!!\r\n * @method e\r\n * @param {Number} row\r\n * @param {Number} column\r\n * @param {Number} value Optional. If provided, the matrix element will be set to this value.\r\n * @return {Number}\r\n */\r\nMat3.prototype.e = function( row , column ,value){\r\n    if(value===undefined){\r\n        return this.elements[column+3*row];\r\n    } else {\r\n        // Set value\r\n        this.elements[column+3*row] = value;\r\n    }\r\n};\r\n\r\n/**\r\n * Copy another matrix into this matrix object.\r\n * @method copy\r\n * @param {Mat3} source\r\n * @return {Mat3} this\r\n */\r\nMat3.prototype.copy = function(source){\r\n    for(var i=0; i < source.elements.length; i++){\r\n        this.elements[i] = source.elements[i];\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns a string representation of the matrix.\r\n * @method toString\r\n * @return string\r\n */\r\nMat3.prototype.toString = function(){\r\n    var r = \"\";\r\n    var sep = \",\";\r\n    for(var i=0; i<9; i++){\r\n        r += this.elements[i] + sep;\r\n    }\r\n    return r;\r\n};\r\n\r\n/**\r\n * reverse the matrix\r\n * @method reverse\r\n * @param {Mat3} target Optional. Target matrix to save in.\r\n * @return {Mat3} The solution x\r\n */\r\nMat3.prototype.reverse = function(target){\r\n\r\n    target = target || new Mat3();\r\n\r\n    // Construct equations\r\n    var nr = 3; // num rows\r\n    var nc = 6; // num cols\r\n    var eqns = [];\r\n    for(var i=0; i<nr*nc; i++){\r\n        eqns.push(0);\r\n    }\r\n    var i,j;\r\n    for(i=0; i<3; i++){\r\n        for(j=0; j<3; j++){\r\n            eqns[i+nc*j] = this.elements[i+3*j];\r\n        }\r\n    }\r\n    eqns[3+6*0] = 1;\r\n    eqns[3+6*1] = 0;\r\n    eqns[3+6*2] = 0;\r\n    eqns[4+6*0] = 0;\r\n    eqns[4+6*1] = 1;\r\n    eqns[4+6*2] = 0;\r\n    eqns[5+6*0] = 0;\r\n    eqns[5+6*1] = 0;\r\n    eqns[5+6*2] = 1;\r\n\r\n    // Compute right upper triangular version of the matrix - Gauss elimination\r\n    var n = 3, k = n, np;\r\n    var kp = nc; // num rows\r\n    var p;\r\n    do {\r\n        i = k - n;\r\n        if (eqns[i+nc*i] === 0) {\r\n            // the pivot is null, swap lines\r\n            for (j = i + 1; j < k; j++) {\r\n                if (eqns[i+nc*j] !== 0) {\r\n                    np = kp;\r\n                    do { // do line( i ) = line( i ) + line( k )\r\n                        p = kp - np;\r\n                        eqns[p+nc*i] += eqns[p+nc*j];\r\n                    } while (--np);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (eqns[i+nc*i] !== 0) {\r\n            for (j = i + 1; j < k; j++) {\r\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\r\n                np = kp;\r\n                do { // do line( k ) = line( k ) - multiplier * line( i )\r\n                    p = kp - np;\r\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\r\n                } while (--np);\r\n            }\r\n        }\r\n    } while (--n);\r\n\r\n    // eliminate the upper left triangle of the matrix\r\n    i = 2;\r\n    do {\r\n        j = i-1;\r\n        do {\r\n            var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\r\n            np = nc;\r\n            do {\r\n                p = nc - np;\r\n                eqns[p+nc*j] =  eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\r\n            } while (--np);\r\n        } while (j--);\r\n    } while (--i);\r\n\r\n    // operations on the diagonal\r\n    i = 2;\r\n    do {\r\n        var multiplier = 1 / eqns[i+nc*i];\r\n        np = nc;\r\n        do {\r\n            p = nc - np;\r\n            eqns[p+nc*i] = eqns[p+nc*i] * multiplier ;\r\n        } while (--np);\r\n    } while (i--);\r\n\r\n    i = 2;\r\n    do {\r\n        j = 2;\r\n        do {\r\n            p = eqns[nr+j+nc*i];\r\n            if( isNaN( p ) || p ===Infinity ){\r\n                throw \"Could not reverse! A=[\"+this.toString()+\"]\";\r\n            }\r\n            target.e( i , j , p );\r\n        } while (j--);\r\n    } while (i--);\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Set the matrix from a quaterion\r\n * @method setRotationFromQuaternion\r\n * @param {Quaternion} q\r\n */\r\nMat3.prototype.setRotationFromQuaternion = function( q ) {\r\n    var x = q.x, y = q.y, z = q.z, w = q.w,\r\n        x2 = x + x, y2 = y + y, z2 = z + z,\r\n        xx = x * x2, xy = x * y2, xz = x * z2,\r\n        yy = y * y2, yz = y * z2, zz = z * z2,\r\n        wx = w * x2, wy = w * y2, wz = w * z2,\r\n        e = this.elements;\r\n\r\n    e[3*0 + 0] = 1 - ( yy + zz );\r\n    e[3*0 + 1] = xy - wz;\r\n    e[3*0 + 2] = xz + wy;\r\n\r\n    e[3*1 + 0] = xy + wz;\r\n    e[3*1 + 1] = 1 - ( xx + zz );\r\n    e[3*1 + 2] = yz - wx;\r\n\r\n    e[3*2 + 0] = xz - wy;\r\n    e[3*2 + 1] = yz + wx;\r\n    e[3*2 + 2] = 1 - ( xx + yy );\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Transpose the matrix\r\n * @method transpose\r\n * @param  {Mat3} target Where to store the result.\r\n * @return {Mat3} The target Mat3, or a new Mat3 if target was omitted.\r\n */\r\nMat3.prototype.transpose = function( target ) {\r\n    target = target || new Mat3();\r\n\r\n    var Mt = target.elements,\r\n        M = this.elements;\r\n\r\n    for(var i=0; i!==3; i++){\r\n        for(var j=0; j!==3; j++){\r\n            Mt[3*i + j] = M[3*j + i];\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\n},{\"./Vec3\":30}],28:[function(_dereq_,module,exports){\r\nmodule.exports = Quaternion;\r\n\r\nvar Vec3 = _dereq_('./Vec3');\r\n\r\n/**\r\n * A Quaternion describes a rotation in 3D space. The Quaternion is mathematically defined as Q = x*i + y*j + z*k + w, where (i,j,k) are imaginary basis vectors. (x,y,z) can be seen as a vector related to the axis of rotation, while the real multiplier, w, is related to the amount of rotation.\r\n * @class Quaternion\r\n * @constructor\r\n * @param {Number} x Multiplier of the imaginary basis vector i.\r\n * @param {Number} y Multiplier of the imaginary basis vector j.\r\n * @param {Number} z Multiplier of the imaginary basis vector k.\r\n * @param {Number} w Multiplier of the real part.\r\n * @see http://en.wikipedia.org/wiki/Quaternion\r\n */\r\nfunction Quaternion(x,y,z,w){\r\n    /**\r\n     * @property {Number} x\r\n     */\r\n    this.x = x!==undefined ? x : 0;\r\n\r\n    /**\r\n     * @property {Number} y\r\n     */\r\n    this.y = y!==undefined ? y : 0;\r\n\r\n    /**\r\n     * @property {Number} z\r\n     */\r\n    this.z = z!==undefined ? z : 0;\r\n\r\n    /**\r\n     * The multiplier of the real quaternion basis vector.\r\n     * @property {Number} w\r\n     */\r\n    this.w = w!==undefined ? w : 1;\r\n}\r\n\r\n/**\r\n * Set the value of the quaternion.\r\n * @method set\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} z\r\n * @param {Number} w\r\n */\r\nQuaternion.prototype.set = function(x,y,z,w){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    this.w = w;\r\n};\r\n\r\n/**\r\n * Convert to a readable format\r\n * @method toString\r\n * @return string\r\n */\r\nQuaternion.prototype.toString = function(){\r\n    return this.x+\",\"+this.y+\",\"+this.z+\",\"+this.w;\r\n};\r\n\r\n/**\r\n * Convert to an Array\r\n * @method toArray\r\n * @return Array\r\n */\r\nQuaternion.prototype.toArray = function(){\r\n    return [this.x, this.y, this.z, this.w];\r\n};\r\n\r\n/**\r\n * Set the quaternion components given an axis and an angle.\r\n * @method setFromAxisAngle\r\n * @param {Vec3} axis\r\n * @param {Number} angle in radians\r\n */\r\nQuaternion.prototype.setFromAxisAngle = function(axis,angle){\r\n    var s = Math.sin(angle*0.5);\r\n    this.x = axis.x * s;\r\n    this.y = axis.y * s;\r\n    this.z = axis.z * s;\r\n    this.w = Math.cos(angle*0.5);\r\n};\r\n\r\n/**\r\n * Converts the quaternion to axis/angle representation.\r\n * @method toAxisAngle\r\n * @param {Vec3} targetAxis Optional. A vector object to reuse for storing the axis.\r\n * @return Array An array, first elemnt is the axis and the second is the angle in radians.\r\n */\r\nQuaternion.prototype.toAxisAngle = function(targetAxis){\r\n    targetAxis = targetAxis || new Vec3();\r\n    this.normalize(); // if w>1 acos and sqrt will produce errors, this cant happen if quaternion is normalised\r\n    var angle = 2 * Math.acos(this.w);\r\n    var s = Math.sqrt(1-this.w*this.w); // assuming quaternion normalised then w is less than 1, so term always positive.\r\n    if (s < 0.001) { // test to avoid divide by zero, s is always positive due to sqrt\r\n        // if s close to zero then direction of axis not important\r\n        targetAxis.x = this.x; // if it is important that axis is normalised then replace with x=1; y=z=0;\r\n        targetAxis.y = this.y;\r\n        targetAxis.z = this.z;\r\n    } else {\r\n        targetAxis.x = this.x / s; // normalise axis\r\n        targetAxis.y = this.y / s;\r\n        targetAxis.z = this.z / s;\r\n    }\r\n    return [targetAxis,angle];\r\n};\r\n\r\nvar sfv_t1 = new Vec3(),\r\n    sfv_t2 = new Vec3();\r\n\r\n/**\r\n * Set the quaternion value given two vectors. The resulting rotation will be the needed rotation to rotate u to v.\r\n * @method setFromVectors\r\n * @param {Vec3} u\r\n * @param {Vec3} v\r\n */\r\nQuaternion.prototype.setFromVectors = function(u,v){\r\n    if(u.isAntiparallelTo(v)){\r\n        var t1 = sfv_t1;\r\n        var t2 = sfv_t2;\r\n\r\n        u.tangents(t1,t2);\r\n        this.setFromAxisAngle(t1,Math.PI);\r\n    } else {\r\n        var a = u.cross(v);\r\n        this.x = a.x;\r\n        this.y = a.y;\r\n        this.z = a.z;\r\n        this.w = Math.sqrt(Math.pow(u.norm(),2) * Math.pow(v.norm(),2)) + u.dot(v);\r\n        this.normalize();\r\n    }\r\n};\r\n\r\n/**\r\n * Quaternion multiplication\r\n * @method mult\r\n * @param {Quaternion} q\r\n * @param {Quaternion} target Optional.\r\n * @return {Quaternion}\r\n */\r\nvar Quaternion_mult_va = new Vec3();\r\nvar Quaternion_mult_vb = new Vec3();\r\nvar Quaternion_mult_vaxvb = new Vec3();\r\nQuaternion.prototype.mult = function(q,target){\r\n    target = target || new Quaternion();\r\n    var w = this.w,\r\n        va = Quaternion_mult_va,\r\n        vb = Quaternion_mult_vb,\r\n        vaxvb = Quaternion_mult_vaxvb;\r\n\r\n    va.set(this.x,this.y,this.z);\r\n    vb.set(q.x,q.y,q.z);\r\n    target.w = w*q.w - va.dot(vb);\r\n    va.cross(vb,vaxvb);\r\n\r\n    target.x = w * vb.x + q.w*va.x + vaxvb.x;\r\n    target.y = w * vb.y + q.w*va.y + vaxvb.y;\r\n    target.z = w * vb.z + q.w*va.z + vaxvb.z;\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Get the inverse quaternion rotation.\r\n * @method inverse\r\n * @param {Quaternion} target\r\n * @return {Quaternion}\r\n */\r\nQuaternion.prototype.inverse = function(target){\r\n    var x = this.x, y = this.y, z = this.z, w = this.w;\r\n    target = target || new Quaternion();\r\n\r\n    this.conjugate(target);\r\n    var inorm2 = 1/(x*x + y*y + z*z + w*w);\r\n    target.x *= inorm2;\r\n    target.y *= inorm2;\r\n    target.z *= inorm2;\r\n    target.w *= inorm2;\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Get the quaternion conjugate\r\n * @method conjugate\r\n * @param {Quaternion} target\r\n * @return {Quaternion}\r\n */\r\nQuaternion.prototype.conjugate = function(target){\r\n    target = target || new Quaternion();\r\n\r\n    target.x = -this.x;\r\n    target.y = -this.y;\r\n    target.z = -this.z;\r\n    target.w = this.w;\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Normalize the quaternion. Note that this changes the values of the quaternion.\r\n * @method normalize\r\n */\r\nQuaternion.prototype.normalize = function(){\r\n    var l = Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);\r\n    if ( l === 0 ) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.w = 0;\r\n    } else {\r\n        l = 1 / l;\r\n        this.x *= l;\r\n        this.y *= l;\r\n        this.z *= l;\r\n        this.w *= l;\r\n    }\r\n};\r\n\r\n/**\r\n * Approximation of quaternion normalization. Works best when quat is already almost-normalized.\r\n * @method normalizeFast\r\n * @see http://jsperf.com/fast-quaternion-normalization\r\n * @author unphased, https://github.com/unphased\r\n */\r\nQuaternion.prototype.normalizeFast = function () {\r\n    var f = (3.0-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2.0;\r\n    if ( f === 0 ) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.w = 0;\r\n    } else {\r\n        this.x *= f;\r\n        this.y *= f;\r\n        this.z *= f;\r\n        this.w *= f;\r\n    }\r\n};\r\n\r\n/**\r\n * Multiply the quaternion by a vector\r\n * @method vmult\r\n * @param {Vec3} v\r\n * @param {Vec3} target Optional\r\n * @return {Vec3}\r\n */\r\nQuaternion.prototype.vmult = function(v,target){\r\n    target = target || new Vec3();\r\n\r\n    var x = v.x,\r\n        y = v.y,\r\n        z = v.z;\r\n\r\n    var qx = this.x,\r\n        qy = this.y,\r\n        qz = this.z,\r\n        qw = this.w;\r\n\r\n    // q*v\r\n    var ix =  qw * x + qy * z - qz * y,\r\n    iy =  qw * y + qz * x - qx * z,\r\n    iz =  qw * z + qx * y - qy * x,\r\n    iw = -qx * x - qy * y - qz * z;\r\n\r\n    target.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n    target.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n    target.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Copies value of source to this quaternion.\r\n * @method copy\r\n * @param {Quaternion} source\r\n * @return {Quaternion} this\r\n */\r\nQuaternion.prototype.copy = function(source){\r\n    this.x = source.x;\r\n    this.y = source.y;\r\n    this.z = source.z;\r\n    this.w = source.w;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Convert the quaternion to euler angle representation. Order: YZX, as this page describes: http://www.euclideanspace.com/maths/standards/index.htm\r\n * @method toEuler\r\n * @param {Vec3} target\r\n * @param string order Three-character string e.g. \"YZX\", which also is default.\r\n */\r\nQuaternion.prototype.toEuler = function(target,order){\r\n    order = order || \"YZX\";\r\n\r\n    var heading, attitude, bank;\r\n    var x = this.x, y = this.y, z = this.z, w = this.w;\r\n\r\n    switch(order){\r\n    case \"YZX\":\r\n        var test = x*y + z*w;\r\n        if (test > 0.499) { // singularity at north pole\r\n            heading = 2 * Math.atan2(x,w);\r\n            attitude = Math.PI/2;\r\n            bank = 0;\r\n        }\r\n        if (test < -0.499) { // singularity at south pole\r\n            heading = -2 * Math.atan2(x,w);\r\n            attitude = - Math.PI/2;\r\n            bank = 0;\r\n        }\r\n        if(isNaN(heading)){\r\n            var sqx = x*x;\r\n            var sqy = y*y;\r\n            var sqz = z*z;\r\n            heading = Math.atan2(2*y*w - 2*x*z , 1 - 2*sqy - 2*sqz); // Heading\r\n            attitude = Math.asin(2*test); // attitude\r\n            bank = Math.atan2(2*x*w - 2*y*z , 1 - 2*sqx - 2*sqz); // bank\r\n        }\r\n        break;\r\n    default:\r\n        throw new Error(\"Euler order \"+order+\" not supported yet.\");\r\n    }\r\n\r\n    target.y = heading;\r\n    target.z = attitude;\r\n    target.x = bank;\r\n};\r\n\r\n/**\r\n * See http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\r\n * @method setFromEuler\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} z\r\n * @param {String} order The order to apply angles: 'XYZ' or 'YXZ' or any other combination\r\n */\r\nQuaternion.prototype.setFromEuler = function ( x, y, z, order ) {\r\n    order = order || \"XYZ\";\r\n\r\n    var c1 = Math.cos( x / 2 );\r\n    var c2 = Math.cos( y / 2 );\r\n    var c3 = Math.cos( z / 2 );\r\n    var s1 = Math.sin( x / 2 );\r\n    var s2 = Math.sin( y / 2 );\r\n    var s3 = Math.sin( z / 2 );\r\n\r\n    if ( order === 'XYZ' ) {\r\n\r\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n    } else if ( order === 'YXZ' ) {\r\n\r\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n    } else if ( order === 'ZXY' ) {\r\n\r\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n    } else if ( order === 'ZYX' ) {\r\n\r\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n    } else if ( order === 'YZX' ) {\r\n\r\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n    } else if ( order === 'XZY' ) {\r\n\r\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\r\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\r\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\r\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n    }\r\n\r\n    return this;\r\n\r\n};\r\n\r\nQuaternion.prototype.clone = function(){\r\n    return new Quaternion(this.x, this.y, this.z, this.w);\r\n};\r\n},{\"./Vec3\":30}],29:[function(_dereq_,module,exports){\r\nvar Vec3 = _dereq_('./Vec3');\r\nvar Quaternion = _dereq_('./Quaternion');\r\n\r\nmodule.exports = Transform;\r\n\r\n/**\r\n * @class Transform\r\n * @constructor\r\n */\r\nfunction Transform(options) {\r\n    options = options || {};\r\n\r\n\t/**\r\n\t * @property {Vec3} position\r\n\t */\r\n\tthis.position = new Vec3();\r\n    if(options.position){\r\n        this.position.copy(options.position);\r\n    }\r\n\r\n\t/**\r\n\t * @property {Quaternion} quaternion\r\n\t */\r\n\tthis.quaternion = new Quaternion();\r\n    if(options.quaternion){\r\n        this.quaternion.copy(options.quaternion);\r\n    }\r\n}\r\n\r\nvar tmpQuat = new Quaternion();\r\n\r\n/**\r\n * @static\r\n * @method pointToLocaFrame\r\n * @param {Vec3} position\r\n * @param {Quaternion} quaternion\r\n * @param {Vec3} worldPoint\r\n * @param {Vec3} result\r\n */\r\nTransform.pointToLocalFrame = function(position, quaternion, worldPoint, result){\r\n    var result = result || new Vec3();\r\n    worldPoint.vsub(position, result);\r\n    quaternion.conjugate(tmpQuat);\r\n    tmpQuat.vmult(result, result);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Get a global point in local transform coordinates.\r\n * @method pointToLocal\r\n * @param  {Vec3} point\r\n * @param  {Vec3} result\r\n * @return {Vec3} The \"result\" vector object\r\n */\r\nTransform.prototype.pointToLocal = function(worldPoint, result){\r\n    return Transform.pointToLocalFrame(this.position, this.quaternion, worldPoint, result);\r\n};\r\n\r\n/**\r\n * @static\r\n * @method pointToWorldFrame\r\n * @param {Vec3} position\r\n * @param {Vec3} quaternion\r\n * @param {Vec3} localPoint\r\n * @param {Vec3} result\r\n */\r\nTransform.pointToWorldFrame = function(position, quaternion, localPoint, result){\r\n    var result = result || new Vec3();\r\n    quaternion.vmult(localPoint, result);\r\n    result.vadd(position, result);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Get a local point in global transform coordinates.\r\n * @method pointToWorld\r\n * @param  {Vec3} point\r\n * @param  {Vec3} result\r\n * @return {Vec3} The \"result\" vector object\r\n */\r\nTransform.prototype.pointToWorld = function(localPoint, result){\r\n    return Transform.pointToWorldFrame(this.position, this.quaternion, localPoint, result);\r\n};\r\n\r\n\r\nTransform.prototype.vectorToWorldFrame = function(localVector, result){\r\n    var result = result || new Vec3();\r\n    this.quaternion.vmult(localVector, result);\r\n    return result;\r\n};\r\n\r\nTransform.vectorToWorldFrame = function(quaternion, localVector, result){\r\n    quaternion.vmult(localVector, result);\r\n    return result;\r\n};\r\n\r\nTransform.vectorToLocalFrame = function(position, quaternion, worldVector, result){\r\n    var result = result || new Vec3();\r\n    quaternion.w *= -1;\r\n    quaternion.vmult(worldVector, result);\r\n    quaternion.w *= -1;\r\n    return result;\r\n};\r\n\r\n},{\"./Quaternion\":28,\"./Vec3\":30}],30:[function(_dereq_,module,exports){\r\nmodule.exports = Vec3;\r\n\r\nvar Mat3 = _dereq_('./Mat3');\r\n\r\n/**\r\n * 3-dimensional vector\r\n * @class Vec3\r\n * @constructor\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} z\r\n * @author schteppe\r\n * @example\r\n *     var v = new Vec3(1, 2, 3);\r\n *     console.log('x=' + v.x); // x=1\r\n */\r\nfunction Vec3(x,y,z){\r\n    /**\r\n     * @property x\r\n     * @type {Number}\r\n     */\r\n    this.x = x||0.0;\r\n\r\n    /**\r\n     * @property y\r\n     * @type {Number}\r\n     */\r\n    this.y = y||0.0;\r\n\r\n    /**\r\n     * @property z\r\n     * @type {Number}\r\n     */\r\n    this.z = z||0.0;\r\n}\r\n\r\n/**\r\n * @static\r\n * @property {Vec3} ZERO\r\n */\r\nVec3.ZERO = new Vec3(0, 0, 0);\r\n\r\n/**\r\n * @static\r\n * @property {Vec3} UNIT_X\r\n */\r\nVec3.UNIT_X = new Vec3(1, 0, 0);\r\n\r\n/**\r\n * @static\r\n * @property {Vec3} UNIT_Y\r\n */\r\nVec3.UNIT_Y = new Vec3(0, 1, 0);\r\n\r\n/**\r\n * @static\r\n * @property {Vec3} UNIT_Z\r\n */\r\nVec3.UNIT_Z = new Vec3(0, 0, 1);\r\n\r\n/**\r\n * Vector cross product\r\n * @method cross\r\n * @param {Vec3} v\r\n * @param {Vec3} target Optional. Target to save in.\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.cross = function(v,target){\r\n    var vx=v.x, vy=v.y, vz=v.z, x=this.x, y=this.y, z=this.z;\r\n    target = target || new Vec3();\r\n\r\n    target.x = (y * vz) - (z * vy);\r\n    target.y = (z * vx) - (x * vz);\r\n    target.z = (x * vy) - (y * vx);\r\n\r\n    return target;\r\n};\r\n\r\n/**\r\n * Set the vectors' 3 elements\r\n * @method set\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Number} z\r\n * @return Vec3\r\n */\r\nVec3.prototype.set = function(x,y,z){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Set all components of the vector to zero.\r\n * @method setZero\r\n */\r\nVec3.prototype.setZero = function(){\r\n    this.x = this.y = this.z = 0;\r\n};\r\n\r\n/**\r\n * Vector addition\r\n * @method vadd\r\n * @param {Vec3} v\r\n * @param {Vec3} target Optional.\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.vadd = function(v,target){\r\n    if(target){\r\n        target.x = v.x + this.x;\r\n        target.y = v.y + this.y;\r\n        target.z = v.z + this.z;\r\n    } else {\r\n        return new Vec3(this.x + v.x,\r\n                               this.y + v.y,\r\n                               this.z + v.z);\r\n    }\r\n};\r\n\r\n/**\r\n * Vector subtraction\r\n * @method vsub\r\n * @param {Vec3} v\r\n * @param {Vec3} target Optional. Target to save in.\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.vsub = function(v,target){\r\n    if(target){\r\n        target.x = this.x - v.x;\r\n        target.y = this.y - v.y;\r\n        target.z = this.z - v.z;\r\n    } else {\r\n        return new Vec3(this.x-v.x,\r\n                               this.y-v.y,\r\n                               this.z-v.z);\r\n    }\r\n};\r\n\r\n/**\r\n * Get the cross product matrix a_cross from a vector, such that a x b = a_cross * b = c\r\n * @method crossmat\r\n * @see http://www8.cs.umu.se/kurser/TDBD24/VT06/lectures/Lecture6.pdf\r\n * @return {Mat3}\r\n */\r\nVec3.prototype.crossmat = function(){\r\n    return new Mat3([     0,  -this.z,   this.y,\r\n                            this.z,        0,  -this.x,\r\n                           -this.y,   this.x,        0]);\r\n};\r\n\r\n/**\r\n * Normalize the vector. Note that this changes the values in the vector.\r\n * @method normalize\r\n * @return {Number} Returns the norm of the vector\r\n */\r\nVec3.prototype.normalize = function(){\r\n    var x=this.x, y=this.y, z=this.z;\r\n    var n = Math.sqrt(x*x + y*y + z*z);\r\n    if(n>0.0){\r\n        var invN = 1/n;\r\n        this.x *= invN;\r\n        this.y *= invN;\r\n        this.z *= invN;\r\n    } else {\r\n        // Make something up\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n    }\r\n    return n;\r\n};\r\n\r\n/**\r\n * Get the version of this vector that is of length 1.\r\n * @method unit\r\n * @param {Vec3} target Optional target to save in\r\n * @return {Vec3} Returns the unit vector\r\n */\r\nVec3.prototype.unit = function(target){\r\n    target = target || new Vec3();\r\n    var x=this.x, y=this.y, z=this.z;\r\n    var ninv = Math.sqrt(x*x + y*y + z*z);\r\n    if(ninv>0.0){\r\n        ninv = 1.0/ninv;\r\n        target.x = x * ninv;\r\n        target.y = y * ninv;\r\n        target.z = z * ninv;\r\n    } else {\r\n        target.x = 1;\r\n        target.y = 0;\r\n        target.z = 0;\r\n    }\r\n    return target;\r\n};\r\n\r\n/**\r\n * Get the length of the vector\r\n * @method norm\r\n * @return {Number}\r\n * @deprecated Use .length() instead\r\n */\r\nVec3.prototype.norm = function(){\r\n    var x=this.x, y=this.y, z=this.z;\r\n    return Math.sqrt(x*x + y*y + z*z);\r\n};\r\n\r\n/**\r\n * Get the length of the vector\r\n * @method length\r\n * @return {Number}\r\n */\r\nVec3.prototype.length = Vec3.prototype.norm;\r\n\r\n/**\r\n * Get the squared length of the vector\r\n * @method norm2\r\n * @return {Number}\r\n * @deprecated Use .lengthSquared() instead.\r\n */\r\nVec3.prototype.norm2 = function(){\r\n    return this.dot(this);\r\n};\r\n\r\n/**\r\n * Get the squared length of the vector.\r\n * @method lengthSquared\r\n * @return {Number}\r\n */\r\nVec3.prototype.lengthSquared = Vec3.prototype.norm2;\r\n\r\n/**\r\n * Get distance from this point to another point\r\n * @method distanceTo\r\n * @param  {Vec3} p\r\n * @return {Number}\r\n */\r\nVec3.prototype.distanceTo = function(p){\r\n    var x=this.x, y=this.y, z=this.z;\r\n    var px=p.x, py=p.y, pz=p.z;\r\n    return Math.sqrt((px-x)*(px-x)+\r\n                     (py-y)*(py-y)+\r\n                     (pz-z)*(pz-z));\r\n};\r\n\r\n/**\r\n * Get squared distance from this point to another point\r\n * @method distanceSquared\r\n * @param  {Vec3} p\r\n * @return {Number}\r\n */\r\nVec3.prototype.distanceSquared = function(p){\r\n    var x=this.x, y=this.y, z=this.z;\r\n    var px=p.x, py=p.y, pz=p.z;\r\n    return (px-x)*(px-x) + (py-y)*(py-y) + (pz-z)*(pz-z);\r\n};\r\n\r\n/**\r\n * Multiply all the components of the vector with a scalar.\r\n * @deprecated Use .scale instead\r\n * @method mult\r\n * @param {Number} scalar\r\n * @param {Vec3} target The vector to save the result in.\r\n * @return {Vec3}\r\n * @deprecated Use .scale() instead\r\n */\r\nVec3.prototype.mult = function(scalar,target){\r\n    target = target || new Vec3();\r\n    var x = this.x,\r\n        y = this.y,\r\n        z = this.z;\r\n    target.x = scalar * x;\r\n    target.y = scalar * y;\r\n    target.z = scalar * z;\r\n    return target;\r\n};\r\n\r\n/**\r\n * Multiply the vector with a scalar.\r\n * @method scale\r\n * @param {Number} scalar\r\n * @param {Vec3} target\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.scale = Vec3.prototype.mult;\r\n\r\n/**\r\n * Calculate dot product\r\n * @method dot\r\n * @param {Vec3} v\r\n * @return {Number}\r\n */\r\nVec3.prototype.dot = function(v){\r\n    return this.x * v.x + this.y * v.y + this.z * v.z;\r\n};\r\n\r\n/**\r\n * @method isZero\r\n * @return bool\r\n */\r\nVec3.prototype.isZero = function(){\r\n    return this.x===0 && this.y===0 && this.z===0;\r\n};\r\n\r\n/**\r\n * Make the vector point in the opposite direction.\r\n * @method negate\r\n * @param {Vec3} target Optional target to save in\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.negate = function(target){\r\n    target = target || new Vec3();\r\n    target.x = -this.x;\r\n    target.y = -this.y;\r\n    target.z = -this.z;\r\n    return target;\r\n};\r\n\r\n/**\r\n * Compute two artificial tangents to the vector\r\n * @method tangents\r\n * @param {Vec3} t1 Vector object to save the first tangent in\r\n * @param {Vec3} t2 Vector object to save the second tangent in\r\n */\r\nvar Vec3_tangents_n = new Vec3();\r\nvar Vec3_tangents_randVec = new Vec3();\r\nVec3.prototype.tangents = function(t1,t2){\r\n    var norm = this.norm();\r\n    if(norm>0.0){\r\n        var n = Vec3_tangents_n;\r\n        var inorm = 1/norm;\r\n        n.set(this.x*inorm,this.y*inorm,this.z*inorm);\r\n        var randVec = Vec3_tangents_randVec;\r\n        if(Math.abs(n.x) < 0.9){\r\n            randVec.set(1,0,0);\r\n            n.cross(randVec,t1);\r\n        } else {\r\n            randVec.set(0,1,0);\r\n            n.cross(randVec,t1);\r\n        }\r\n        n.cross(t1,t2);\r\n    } else {\r\n        // The normal length is zero, make something up\r\n        t1.set(1, 0, 0);\r\n        t2.set(0, 1, 0);\r\n    }\r\n};\r\n\r\n/**\r\n * Converts to a more readable format\r\n * @method toString\r\n * @return string\r\n */\r\nVec3.prototype.toString = function(){\r\n    return this.x+\",\"+this.y+\",\"+this.z;\r\n};\r\n\r\n/**\r\n * Converts to an array\r\n * @method toArray\r\n * @return Array\r\n */\r\nVec3.prototype.toArray = function(){\r\n    return [this.x, this.y, this.z];\r\n};\r\n\r\n/**\r\n * Copies value of source to this vector.\r\n * @method copy\r\n * @param {Vec3} source\r\n * @return {Vec3} this\r\n */\r\nVec3.prototype.copy = function(source){\r\n    this.x = source.x;\r\n    this.y = source.y;\r\n    this.z = source.z;\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Do a linear interpolation between two vectors\r\n * @method lerp\r\n * @param {Vec3} v\r\n * @param {Number} t A number between 0 and 1. 0 will make this function return u, and 1 will make it return v. Numbers in between will generate a vector in between them.\r\n * @param {Vec3} target\r\n */\r\nVec3.prototype.lerp = function(v,t,target){\r\n    var x=this.x, y=this.y, z=this.z;\r\n    target.x = x + (v.x-x)*t;\r\n    target.y = y + (v.y-y)*t;\r\n    target.z = z + (v.z-z)*t;\r\n};\r\n\r\n/**\r\n * Check if a vector equals is almost equal to another one.\r\n * @method almostEquals\r\n * @param {Vec3} v\r\n * @param {Number} precision\r\n * @return bool\r\n */\r\nVec3.prototype.almostEquals = function(v,precision){\r\n    if(precision===undefined){\r\n        precision = 1e-6;\r\n    }\r\n    if( Math.abs(this.x-v.x)>precision ||\r\n        Math.abs(this.y-v.y)>precision ||\r\n        Math.abs(this.z-v.z)>precision){\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\n/**\r\n * Check if a vector is almost zero\r\n * @method almostZero\r\n * @param {Number} precision\r\n */\r\nVec3.prototype.almostZero = function(precision){\r\n    if(precision===undefined){\r\n        precision = 1e-6;\r\n    }\r\n    if( Math.abs(this.x)>precision ||\r\n        Math.abs(this.y)>precision ||\r\n        Math.abs(this.z)>precision){\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nvar antip_neg = new Vec3();\r\n\r\n/**\r\n * Check if the vector is anti-parallel to another vector.\r\n * @method isAntiparallelTo\r\n * @param  {Vec3}  v\r\n * @param  {Number}  precision Set to zero for exact comparisons\r\n * @return {Boolean}\r\n */\r\nVec3.prototype.isAntiparallelTo = function(v,precision){\r\n    this.negate(antip_neg);\r\n    return antip_neg.almostEquals(v,precision);\r\n};\r\n\r\n/**\r\n * Clone the vector\r\n * @method clone\r\n * @return {Vec3}\r\n */\r\nVec3.prototype.clone = function(){\r\n    return new Vec3(this.x, this.y, this.z);\r\n};\r\n},{\"./Mat3\":27}],31:[function(_dereq_,module,exports){\r\nmodule.exports = Body;\r\n\r\nvar EventTarget = _dereq_('../utils/EventTarget');\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Mat3 = _dereq_('../math/Mat3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Material = _dereq_('../material/Material');\r\nvar AABB = _dereq_('../collision/AABB');\r\nvar Box = _dereq_('../shapes/Box');\r\n\r\n/**\r\n * Base class for all body types.\r\n * @class Body\r\n * @constructor\r\n * @extends EventTarget\r\n * @param {object} [options]\r\n * @param {Vec3} [options.position]\r\n * @param {Vec3} [options.velocity]\r\n * @param {Vec3} [options.angularVelocity]\r\n * @param {Quaternion} [options.quaternion]\r\n * @param {number} [options.mass]\r\n * @param {Material} [options.material]\r\n * @param {number} [options.type]\r\n * @param {number} [options.linearDamping=0.01]\r\n * @param {number} [options.angularDamping=0.01]\r\n * @param {boolean} [options.allowSleep=true]\r\n * @param {number} [options.sleepSpeedLimit=0.1]\r\n * @param {number} [options.sleepTimeLimit=1]\r\n * @param {number} [options.collisionFilterGroup=1]\r\n * @param {number} [options.collisionFilterMask=1]\r\n * @param {boolean} [options.fixedRotation=false]\r\n * @param {Body} [options.shape]\r\n * @example\r\n *     var body = new Body({\r\n *         mass: 1\r\n *     });\r\n *     var shape = new Sphere(1);\r\n *     body.addShape(shape);\r\n *     world.add(body);\r\n */\r\nfunction Body(options){\r\n    options = options || {};\r\n\r\n    EventTarget.apply(this);\r\n\r\n    this.id = Body.idCounter++;\r\n\r\n    /**\r\n     * Reference to the world the body is living in\r\n     * @property world\r\n     * @type {World}\r\n     */\r\n    this.world = null;\r\n\r\n    /**\r\n     * Callback function that is used BEFORE stepping the system. Use it to apply forces, for example. Inside the function, \"this\" will refer to this Body object.\r\n     * @property preStep\r\n     * @type {Function}\r\n     * @deprecated Use World events instead\r\n     */\r\n    this.preStep = null;\r\n\r\n    /**\r\n     * Callback function that is used AFTER stepping the system. Inside the function, \"this\" will refer to this Body object.\r\n     * @property postStep\r\n     * @type {Function}\r\n     * @deprecated Use World events instead\r\n     */\r\n    this.postStep = null;\r\n\r\n    this.vlambda = new Vec3();\r\n\r\n    /**\r\n     * @property {Number} collisionFilterGroup\r\n     */\r\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) === 'number' ? options.collisionFilterGroup : 1;\r\n\r\n    /**\r\n     * @property {Number} collisionFilterMask\r\n     */\r\n    this.collisionFilterMask = typeof(options.collisionFilterMask) === 'number' ? options.collisionFilterMask : 1;\r\n\r\n    /**\r\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\r\n     * @property {Number} collisionResponse\r\n     */\r\n\tthis.collisionResponse = true;\r\n\r\n    /**\r\n     * @property position\r\n     * @type {Vec3}\r\n     */\r\n    this.position = new Vec3();\r\n\r\n    if(options.position){\r\n        this.position.copy(options.position);\r\n    }\r\n\r\n    /**\r\n     * @property {Vec3} previousPosition\r\n     */\r\n    this.previousPosition = new Vec3();\r\n\r\n    /**\r\n     * Initial position of the body\r\n     * @property initPosition\r\n     * @type {Vec3}\r\n     */\r\n    this.initPosition = new Vec3();\r\n\r\n    /**\r\n     * @property velocity\r\n     * @type {Vec3}\r\n     */\r\n    this.velocity = new Vec3();\r\n\r\n    if(options.velocity){\r\n        this.velocity.copy(options.velocity);\r\n    }\r\n\r\n    /**\r\n     * @property initVelocity\r\n     * @type {Vec3}\r\n     */\r\n    this.initVelocity = new Vec3();\r\n\r\n    /**\r\n     * Linear force on the body\r\n     * @property force\r\n     * @type {Vec3}\r\n     */\r\n    this.force = new Vec3();\r\n\r\n    var mass = typeof(options.mass) === 'number' ? options.mass : 0;\r\n\r\n    /**\r\n     * @property mass\r\n     * @type {Number}\r\n     * @default 0\r\n     */\r\n    this.mass = mass;\r\n\r\n    /**\r\n     * @property invMass\r\n     * @type {Number}\r\n     */\r\n    this.invMass = mass > 0 ? 1.0 / mass : 0;\r\n\r\n    /**\r\n     * @property material\r\n     * @type {Material}\r\n     */\r\n    this.material = options.material || null;\r\n\r\n    /**\r\n     * @property linearDamping\r\n     * @type {Number}\r\n     */\r\n    this.linearDamping = typeof(options.linearDamping) === 'number' ? options.linearDamping : 0.01;\r\n\r\n    /**\r\n     * One of: Body.DYNAMIC, Body.STATIC and Body.KINEMATIC.\r\n     * @property type\r\n     * @type {Number}\r\n     */\r\n    this.type = (mass <= 0.0 ? Body.STATIC : Body.DYNAMIC);\r\n    if(typeof(options.type) === typeof(Body.STATIC)){\r\n        this.type = options.type;\r\n    }\r\n\r\n    /**\r\n     * If true, the body will automatically fall to sleep.\r\n     * @property allowSleep\r\n     * @type {Boolean}\r\n     * @default true\r\n     */\r\n    this.allowSleep = typeof(options.allowSleep) !== 'undefined' ? options.allowSleep : true;\r\n\r\n    /**\r\n     * Current sleep state.\r\n     * @property sleepState\r\n     * @type {Number}\r\n     */\r\n    this.sleepState = 0;\r\n\r\n    /**\r\n     * If the speed (the norm of the velocity) is smaller than this value, the body is considered sleepy.\r\n     * @property sleepSpeedLimit\r\n     * @type {Number}\r\n     * @default 0.1\r\n     */\r\n    this.sleepSpeedLimit = typeof(options.sleepSpeedLimit) !== 'undefined' ? options.sleepSpeedLimit : 0.1;\r\n\r\n    /**\r\n     * If the body has been sleepy for this sleepTimeLimit seconds, it is considered sleeping.\r\n     * @property sleepTimeLimit\r\n     * @type {Number}\r\n     * @default 1\r\n     */\r\n    this.sleepTimeLimit = typeof(options.sleepTimeLimit) !== 'undefined' ? options.sleepTimeLimit : 1;\r\n\r\n    this.timeLastSleepy = 0;\r\n\r\n    this._wakeUpAfterNarrowphase = false;\r\n\r\n\r\n    /**\r\n     * Rotational force on the body, around center of mass\r\n     * @property {Vec3} torque\r\n     */\r\n    this.torque = new Vec3();\r\n\r\n    /**\r\n     * Orientation of the body\r\n     * @property quaternion\r\n     * @type {Quaternion}\r\n     */\r\n    this.quaternion = new Quaternion();\r\n\r\n    if(options.quaternion){\r\n        this.quaternion.copy(options.quaternion);\r\n    }\r\n\r\n    /**\r\n     * @property initQuaternion\r\n     * @type {Quaternion}\r\n     */\r\n    this.initQuaternion = new Quaternion();\r\n\r\n    /**\r\n     * @property angularVelocity\r\n     * @type {Vec3}\r\n     */\r\n    this.angularVelocity = new Vec3();\r\n\r\n    if(options.angularVelocity){\r\n        this.angularVelocity.copy(options.angularVelocity);\r\n    }\r\n\r\n    /**\r\n     * @property initAngularVelocity\r\n     * @type {Vec3}\r\n     */\r\n    this.initAngularVelocity = new Vec3();\r\n\r\n    this.interpolatedPosition = new Vec3();\r\n    this.interpolatedQuaternion = new Quaternion();\r\n\r\n    /**\r\n     * @property shapes\r\n     * @type {array}\r\n     */\r\n    this.shapes = [];\r\n\r\n    /**\r\n     * @property shapeOffsets\r\n     * @type {array}\r\n     */\r\n    this.shapeOffsets = [];\r\n\r\n    /**\r\n     * @property shapeOrientations\r\n     * @type {array}\r\n     */\r\n    this.shapeOrientations = [];\r\n\r\n    /**\r\n     * @property inertia\r\n     * @type {Vec3}\r\n     */\r\n    this.inertia = new Vec3();\r\n\r\n    /**\r\n     * @property {Vec3} invInertia\r\n     */\r\n    this.invInertia = new Vec3();\r\n\r\n    /**\r\n     * @property {Mat3} invInertiaWorld\r\n     */\r\n    this.invInertiaWorld = new Mat3();\r\n\r\n    this.invMassSolve = 0;\r\n\r\n    /**\r\n     * @property {Vec3} invInertiaSolve\r\n     */\r\n    this.invInertiaSolve = new Vec3();\r\n\r\n    /**\r\n     * @property {Mat3} invInertiaWorldSolve\r\n     */\r\n    this.invInertiaWorldSolve = new Mat3();\r\n\r\n    /**\r\n     * Set to true if you don't want the body to rotate. Make sure to run .updateMassProperties() after changing this.\r\n     * @property {Boolean} fixedRotation\r\n     * @default false\r\n     */\r\n    this.fixedRotation = typeof(options.fixedRotation) !== \"undefined\" ? options.fixedRotation : false;\r\n\r\n    /**\r\n     * @property {Number} angularDamping\r\n     */\r\n    this.angularDamping = typeof(options.angularDamping) !== 'undefined' ? options.angularDamping : 0.01;\r\n\r\n    /**\r\n     * @property aabb\r\n     * @type {AABB}\r\n     */\r\n    this.aabb = new AABB();\r\n\r\n    /**\r\n     * Indicates if the AABB needs to be updated before use.\r\n     * @property aabbNeedsUpdate\r\n     * @type {Boolean}\r\n     */\r\n    this.aabbNeedsUpdate = true;\r\n\r\n    this.wlambda = new Vec3();\r\n\r\n    if(options.shape){\r\n        this.addShape(options.shape);\r\n    }\r\n\r\n    this.updateMassProperties();\r\n}\r\nBody.prototype = new EventTarget();\r\nBody.prototype.constructor = Body;\r\n\r\n/**\r\n * A dynamic body is fully simulated. Can be moved manually by the user, but normally they move according to forces. A dynamic body can collide with all body types. A dynamic body always has finite, non-zero mass.\r\n * @static\r\n * @property DYNAMIC\r\n * @type {Number}\r\n */\r\nBody.DYNAMIC = 1;\r\n\r\n/**\r\n * A static body does not move during simulation and behaves as if it has infinite mass. Static bodies can be moved manually by setting the position of the body. The velocity of a static body is always zero. Static bodies do not collide with other static or kinematic bodies.\r\n * @static\r\n * @property STATIC\r\n * @type {Number}\r\n */\r\nBody.STATIC = 2;\r\n\r\n/**\r\n * A kinematic body moves under simulation according to its velocity. They do not respond to forces. They can be moved manually, but normally a kinematic body is moved by setting its velocity. A kinematic body behaves as if it has infinite mass. Kinematic bodies do not collide with other static or kinematic bodies.\r\n * @static\r\n * @property KINEMATIC\r\n * @type {Number}\r\n */\r\nBody.KINEMATIC = 4;\r\n\r\n\r\n\r\n/**\r\n * @static\r\n * @property AWAKE\r\n * @type {number}\r\n */\r\nBody.AWAKE = 0;\r\n\r\n/**\r\n * @static\r\n * @property SLEEPY\r\n * @type {number}\r\n */\r\nBody.SLEEPY = 1;\r\n\r\n/**\r\n * @static\r\n * @property SLEEPING\r\n * @type {number}\r\n */\r\nBody.SLEEPING = 2;\r\n\r\nBody.idCounter = 0;\r\n\r\n/**\r\n * Wake the body up.\r\n * @method wakeUp\r\n */\r\nBody.prototype.wakeUp = function(){\r\n    var s = this.sleepState;\r\n    this.sleepState = 0;\r\n    if(s === Body.SLEEPING){\r\n        this.dispatchEvent({type:\"wakeup\"});\r\n    }\r\n};\r\n\r\n/**\r\n * Force body sleep\r\n * @method sleep\r\n */\r\nBody.prototype.sleep = function(){\r\n    this.sleepState = Body.SLEEPING;\r\n    this.velocity.set(0,0,0);\r\n    this.angularVelocity.set(0,0,0);\r\n};\r\n\r\nBody.sleepyEvent = {\r\n    type: \"sleepy\"\r\n};\r\n\r\nBody.sleepEvent = {\r\n    type: \"sleep\"\r\n};\r\n\r\n/**\r\n * Called every timestep to update internal sleep timer and change sleep state if needed.\r\n * @method sleepTick\r\n * @param {Number} time The world time in seconds\r\n */\r\nBody.prototype.sleepTick = function(time){\r\n    if(this.allowSleep){\r\n        var sleepState = this.sleepState;\r\n        var speedSquared = this.velocity.norm2() + this.angularVelocity.norm2();\r\n        var speedLimitSquared = Math.pow(this.sleepSpeedLimit,2);\r\n        if(sleepState===Body.AWAKE && speedSquared < speedLimitSquared){\r\n            this.sleepState = Body.SLEEPY; // Sleepy\r\n            this.timeLastSleepy = time;\r\n            this.dispatchEvent(Body.sleepyEvent);\r\n        } else if(sleepState===Body.SLEEPY && speedSquared > speedLimitSquared){\r\n            this.wakeUp(); // Wake up\r\n        } else if(sleepState===Body.SLEEPY && (time - this.timeLastSleepy ) > this.sleepTimeLimit){\r\n            this.sleep(); // Sleeping\r\n            this.dispatchEvent(Body.sleepEvent);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * If the body is sleeping, it should be immovable / have infinite mass during solve. We solve it by having a separate \"solve mass\".\r\n * @method updateSolveMassProperties\r\n */\r\nBody.prototype.updateSolveMassProperties = function(){\r\n    if(this.sleepState === Body.SLEEPING || this.type === Body.KINEMATIC){\r\n        this.invMassSolve = 0;\r\n        this.invInertiaSolve.setZero();\r\n        this.invInertiaWorldSolve.setZero();\r\n    } else {\r\n        this.invMassSolve = this.invMass;\r\n        this.invInertiaSolve.copy(this.invInertia);\r\n        this.invInertiaWorldSolve.copy(this.invInertiaWorld);\r\n    }\r\n};\r\n\r\n/**\r\n * Convert a world point to local body frame.\r\n * @method pointToLocalFrame\r\n * @param  {Vec3} worldPoint\r\n * @param  {Vec3} result\r\n * @return {Vec3}\r\n */\r\nBody.prototype.pointToLocalFrame = function(worldPoint,result){\r\n    var result = result || new Vec3();\r\n    worldPoint.vsub(this.position,result);\r\n    this.quaternion.conjugate().vmult(result,result);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Convert a world vector to local body frame.\r\n * @method vectorToLocalFrame\r\n * @param  {Vec3} worldPoint\r\n * @param  {Vec3} result\r\n * @return {Vec3}\r\n */\r\nBody.prototype.vectorToLocalFrame = function(worldVector, result){\r\n    var result = result || new Vec3();\r\n    this.quaternion.conjugate().vmult(worldVector,result);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Convert a local body point to world frame.\r\n * @method pointToWorldFrame\r\n * @param  {Vec3} localPoint\r\n * @param  {Vec3} result\r\n * @return {Vec3}\r\n */\r\nBody.prototype.pointToWorldFrame = function(localPoint,result){\r\n    var result = result || new Vec3();\r\n    this.quaternion.vmult(localPoint,result);\r\n    result.vadd(this.position,result);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Convert a local body point to world frame.\r\n * @method vectorToWorldFrame\r\n * @param  {Vec3} localVector\r\n * @param  {Vec3} result\r\n * @return {Vec3}\r\n */\r\nBody.prototype.vectorToWorldFrame = function(localVector, result){\r\n    var result = result || new Vec3();\r\n    this.quaternion.vmult(localVector, result);\r\n    return result;\r\n};\r\n\r\nvar tmpVec = new Vec3();\r\nvar tmpQuat = new Quaternion();\r\n\r\n/**\r\n * Add a shape to the body with a local offset and orientation.\r\n * @method addShape\r\n * @param {Shape} shape\r\n * @param {Vec3} offset\r\n * @param {Quaternion} quaternion\r\n * @return {Body} The body object, for chainability.\r\n */\r\nBody.prototype.addShape = function(shape, _offset, _orientation){\r\n    var offset = new Vec3();\r\n    var orientation = new Quaternion();\r\n\r\n    if(_offset){\r\n        offset.copy(_offset);\r\n    }\r\n    if(_orientation){\r\n        orientation.copy(_orientation);\r\n    }\r\n\r\n    this.shapes.push(shape);\r\n    this.shapeOffsets.push(offset);\r\n    this.shapeOrientations.push(orientation);\r\n    this.updateMassProperties();\r\n    this.updateBoundingRadius();\r\n\r\n    this.aabbNeedsUpdate = true;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Update the bounding radius of the body. Should be done if any of the shapes are changed.\r\n * @method updateBoundingRadius\r\n */\r\nBody.prototype.updateBoundingRadius = function(){\r\n    var shapes = this.shapes,\r\n        shapeOffsets = this.shapeOffsets,\r\n        N = shapes.length,\r\n        radius = 0;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        var shape = shapes[i];\r\n        shape.updateBoundingSphereRadius();\r\n        var offset = shapeOffsets[i].norm(),\r\n            r = shape.boundingSphereRadius;\r\n        if(offset + r > radius){\r\n            radius = offset + r;\r\n        }\r\n    }\r\n\r\n    this.boundingRadius = radius;\r\n};\r\n\r\nvar computeAABB_shapeAABB = new AABB();\r\n\r\n/**\r\n * Updates the .aabb\r\n * @method computeAABB\r\n * @todo rename to updateAABB()\r\n */\r\nBody.prototype.computeAABB = function(){\r\n    var shapes = this.shapes,\r\n        shapeOffsets = this.shapeOffsets,\r\n        shapeOrientations = this.shapeOrientations,\r\n        N = shapes.length,\r\n        offset = tmpVec,\r\n        orientation = tmpQuat,\r\n        bodyQuat = this.quaternion,\r\n        aabb = this.aabb,\r\n        shapeAABB = computeAABB_shapeAABB;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        var shape = shapes[i];\r\n\r\n        // Get shape world quaternion\r\n        shapeOrientations[i].mult(bodyQuat, orientation);\r\n\r\n        // Get shape world position\r\n        orientation.vmult(shapeOffsets[i], offset);\r\n        offset.vadd(this.position, offset);\r\n\r\n        // vec2.rotate(offset, shapeOffsets[i], bodyAngle);\r\n        // vec2.add(offset, offset, this.position);\r\n\r\n        // Get shape AABB\r\n        shape.calculateWorldAABB(offset, orientation, shapeAABB.lowerBound, shapeAABB.upperBound);\r\n\r\n        if(i === 0){\r\n            aabb.copy(shapeAABB);\r\n        } else {\r\n            aabb.extend(shapeAABB);\r\n        }\r\n    }\r\n\r\n    this.aabbNeedsUpdate = false;\r\n};\r\n\r\nvar uiw_m1 = new Mat3(),\r\n    uiw_m2 = new Mat3(),\r\n    uiw_m3 = new Mat3();\r\n\r\n/**\r\n * Update .inertiaWorld and .invInertiaWorld\r\n * @method updateInertiaWorld\r\n */\r\nBody.prototype.updateInertiaWorld = function(force){\r\n    var I = this.invInertia;\r\n    if (I.x === I.y && I.y === I.z && !force) {\r\n        // If inertia M = s*I, where I is identity and s a scalar, then\r\n        //    R*M*R' = R*(s*I)*R' = s*R*I*R' = s*R*R' = s*I = M\r\n        // where R is the rotation matrix.\r\n        // In other words, we don't have to transform the inertia if all\r\n        // inertia diagonal entries are equal.\r\n    } else {\r\n        var m1 = uiw_m1,\r\n            m2 = uiw_m2,\r\n            m3 = uiw_m3;\r\n        m1.setRotationFromQuaternion(this.quaternion);\r\n        m1.transpose(m2);\r\n        m1.scale(I,m1);\r\n        m1.mmult(m2,this.invInertiaWorld);\r\n        //m3.getTrace(this.invInertiaWorld);\r\n    }\r\n\r\n    /*\r\n    this.quaternion.vmult(this.inertia,this.inertiaWorld);\r\n    this.quaternion.vmult(this.invInertia,this.invInertiaWorld);\r\n    */\r\n};\r\n\r\n/**\r\n * Apply force to a world point. This could for example be a point on the Body surface. Applying force this way will add to Body.force and Body.torque.\r\n * @method applyForce\r\n * @param  {Vec3} force The amount of force to add.\r\n * @param  {Vec3} worldPoint A world point to apply the force on.\r\n */\r\nvar Body_applyForce_r = new Vec3();\r\nvar Body_applyForce_rotForce = new Vec3();\r\nBody.prototype.applyForce = function(force,worldPoint){\r\n    if(this.type !== Body.DYNAMIC){\r\n        return;\r\n    }\r\n\r\n    // Compute point position relative to the body center\r\n    var r = Body_applyForce_r;\r\n    worldPoint.vsub(this.position,r);\r\n\r\n    // Compute produced rotational force\r\n    var rotForce = Body_applyForce_rotForce;\r\n    r.cross(force,rotForce);\r\n\r\n    // Add linear force\r\n    this.force.vadd(force,this.force);\r\n\r\n    // Add rotational force\r\n    this.torque.vadd(rotForce,this.torque);\r\n};\r\n\r\n/**\r\n * Apply force to a local point in the body.\r\n * @method applyLocalForce\r\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\r\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\r\n */\r\nvar Body_applyLocalForce_worldForce = new Vec3();\r\nvar Body_applyLocalForce_worldPoint = new Vec3();\r\nBody.prototype.applyLocalForce = function(localForce, localPoint){\r\n    if(this.type !== Body.DYNAMIC){\r\n        return;\r\n    }\r\n\r\n    var worldForce = Body_applyLocalForce_worldForce;\r\n    var worldPoint = Body_applyLocalForce_worldPoint;\r\n\r\n    // Transform the force vector to world space\r\n    this.vectorToWorldFrame(localForce, worldForce);\r\n    this.pointToWorldFrame(localPoint, worldPoint);\r\n\r\n    this.applyForce(worldForce, worldPoint);\r\n};\r\n\r\n/**\r\n * Apply impulse to a world point. This could for example be a point on the Body surface. An impulse is a force added to a body during a short period of time (impulse = force * time). Impulses will be added to Body.velocity and Body.angularVelocity.\r\n * @method applyImpulse\r\n * @param  {Vec3} impulse The amount of impulse to add.\r\n * @param  {Vec3} worldPoint A world point to apply the force on.\r\n */\r\nvar Body_applyImpulse_r = new Vec3();\r\nvar Body_applyImpulse_velo = new Vec3();\r\nvar Body_applyImpulse_rotVelo = new Vec3();\r\nBody.prototype.applyImpulse = function(impulse, worldPoint){\r\n    if(this.type !== Body.DYNAMIC){\r\n        return;\r\n    }\r\n\r\n    // Compute point position relative to the body center\r\n    var r = Body_applyImpulse_r;\r\n    worldPoint.vsub(this.position,r);\r\n\r\n    // Compute produced central impulse velocity\r\n    var velo = Body_applyImpulse_velo;\r\n    velo.copy(impulse);\r\n    velo.mult(this.invMass,velo);\r\n\r\n    // Add linear impulse\r\n    this.velocity.vadd(velo, this.velocity);\r\n\r\n    // Compute produced rotational impulse velocity\r\n    var rotVelo = Body_applyImpulse_rotVelo;\r\n    r.cross(impulse,rotVelo);\r\n\r\n    /*\r\n    rotVelo.x *= this.invInertia.x;\r\n    rotVelo.y *= this.invInertia.y;\r\n    rotVelo.z *= this.invInertia.z;\r\n    */\r\n    this.invInertiaWorld.vmult(rotVelo,rotVelo);\r\n\r\n    // Add rotational Impulse\r\n    this.angularVelocity.vadd(rotVelo, this.angularVelocity);\r\n};\r\n\r\n/**\r\n * Apply locally-defined impulse to a local point in the body.\r\n * @method applyLocalImpulse\r\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\r\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\r\n */\r\nvar Body_applyLocalImpulse_worldImpulse = new Vec3();\r\nvar Body_applyLocalImpulse_worldPoint = new Vec3();\r\nBody.prototype.applyLocalImpulse = function(localImpulse, localPoint){\r\n    if(this.type !== Body.DYNAMIC){\r\n        return;\r\n    }\r\n\r\n    var worldImpulse = Body_applyLocalImpulse_worldImpulse;\r\n    var worldPoint = Body_applyLocalImpulse_worldPoint;\r\n\r\n    // Transform the force vector to world space\r\n    this.vectorToWorldFrame(localImpulse, worldImpulse);\r\n    this.pointToWorldFrame(localPoint, worldPoint);\r\n\r\n    this.applyImpulse(worldImpulse, worldPoint);\r\n};\r\n\r\nvar Body_updateMassProperties_halfExtents = new Vec3();\r\n\r\n/**\r\n * Should be called whenever you change the body shape or mass.\r\n * @method updateMassProperties\r\n */\r\nBody.prototype.updateMassProperties = function(){\r\n    var halfExtents = Body_updateMassProperties_halfExtents;\r\n\r\n    this.invMass = this.mass > 0 ? 1.0 / this.mass : 0;\r\n    var I = this.inertia;\r\n    var fixed = this.fixedRotation;\r\n\r\n    // Approximate with AABB box\r\n    this.computeAABB();\r\n    halfExtents.set(\r\n        (this.aabb.upperBound.x-this.aabb.lowerBound.x) / 2,\r\n        (this.aabb.upperBound.y-this.aabb.lowerBound.y) / 2,\r\n        (this.aabb.upperBound.z-this.aabb.lowerBound.z) / 2\r\n    );\r\n    Box.calculateInertia(halfExtents, this.mass, I);\r\n\r\n    this.invInertia.set(\r\n        I.x > 0 && !fixed ? 1.0 / I.x : 0,\r\n        I.y > 0 && !fixed ? 1.0 / I.y : 0,\r\n        I.z > 0 && !fixed ? 1.0 / I.z : 0\r\n    );\r\n    this.updateInertiaWorld(true);\r\n};\r\n\r\n/**\r\n * Get world velocity of a point in the body.\r\n * @method getVelocityAtWorldPoint\r\n * @param  {Vec3} worldPoint\r\n * @param  {Vec3} result\r\n * @return {Vec3} The result vector.\r\n */\r\nBody.prototype.getVelocityAtWorldPoint = function(worldPoint, result){\r\n    var r = new Vec3();\r\n    worldPoint.vsub(this.position, r);\r\n    this.angularVelocity.cross(r, result);\r\n    this.velocity.vadd(result, result);\r\n    return result;\r\n};\r\n\r\n},{\"../collision/AABB\":3,\"../material/Material\":25,\"../math/Mat3\":27,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Shape\":43,\"../utils/EventTarget\":49}],32:[function(_dereq_,module,exports){\r\nvar Body = _dereq_('./Body');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar RaycastResult = _dereq_('../collision/RaycastResult');\r\nvar Ray = _dereq_('../collision/Ray');\r\nvar WheelInfo = _dereq_('../objects/WheelInfo');\r\n\r\nmodule.exports = RaycastVehicle;\r\n\r\n/**\r\n * Vehicle helper class that casts rays from the wheel positions towards the ground and applies forces.\r\n * @class RaycastVehicle\r\n * @constructor\r\n * @param {object} [options]\r\n * @param {Body} [options.chassisBody] The car chassis body.\r\n * @param {integer} [options.indexRightAxis] Axis to use for right. x=0, y=1, z=2\r\n * @param {integer} [options.indexLeftAxis]\r\n * @param {integer} [options.indexUpAxis]\r\n */\r\nfunction RaycastVehicle(options){\r\n\r\n    /**\r\n     * @property {Body} chassisBody\r\n     */\r\n    this.chassisBody = options.chassisBody;\r\n\r\n    /**\r\n     * An array of WheelInfo objects.\r\n     * @property {array} wheelInfos\r\n     */\r\n    this.wheelInfos = [];\r\n\r\n    /**\r\n     * Will be set to true if the car is sliding.\r\n     * @property {boolean} sliding\r\n     */\r\n    this.sliding = false;\r\n\r\n    /**\r\n     * @property {World} world\r\n     */\r\n    this.world = null;\r\n\r\n    /**\r\n     * Index of the right axis, 0=x, 1=y, 2=z\r\n     * @property {integer} indexRightAxis\r\n     * @default 1\r\n     */\r\n    this.indexRightAxis = typeof(options.indexRightAxis) !== 'undefined' ? options.indexRightAxis : 1;\r\n\r\n    /**\r\n     * Index of the forward axis, 0=x, 1=y, 2=z\r\n     * @property {integer} indexForwardAxis\r\n     * @default 0\r\n     */\r\n    this.indexForwardAxis = typeof(options.indexForwardAxis) !== 'undefined' ? options.indexForwardAxis : 0;\r\n\r\n    /**\r\n     * Index of the up axis, 0=x, 1=y, 2=z\r\n     * @property {integer} indexUpAxis\r\n     * @default 2\r\n     */\r\n    this.indexUpAxis = typeof(options.indexUpAxis) !== 'undefined' ? options.indexUpAxis : 2;\r\n}\r\n\r\nvar tmpVec1 = new Vec3();\r\nvar tmpVec2 = new Vec3();\r\nvar tmpVec3 = new Vec3();\r\nvar tmpVec4 = new Vec3();\r\nvar tmpVec5 = new Vec3();\r\nvar tmpVec6 = new Vec3();\r\nvar tmpRay = new Ray();\r\n\r\n/**\r\n * Add a wheel. For information about the options, see WheelInfo.\r\n * @method addWheel\r\n * @param {object} [options]\r\n */\r\nRaycastVehicle.prototype.addWheel = function(options){\r\n    options = options || {};\r\n\r\n    var info = new WheelInfo(options);\r\n    var index = this.wheelInfos.length;\r\n    this.wheelInfos.push(info);\r\n\r\n    return index;\r\n};\r\n\r\n/**\r\n * Set the steering value of a wheel.\r\n * @method setSteeringValue\r\n * @param {number} value\r\n * @param {integer} wheelIndex\r\n */\r\nRaycastVehicle.prototype.setSteeringValue = function(value, wheelIndex){\r\n    var wheel = this.wheelInfos[wheelIndex];\r\n    wheel.steering = value;\r\n};\r\n\r\nvar torque = new Vec3();\r\n\r\n/**\r\n * Set the wheel force to apply on one of the wheels each time step\r\n * @method applyEngineForce\r\n * @param  {number} value\r\n * @param  {integer} wheelIndex\r\n */\r\nRaycastVehicle.prototype.applyEngineForce = function(value, wheelIndex){\r\n    this.wheelInfos[wheelIndex].engineForce = value;\r\n};\r\n\r\n/**\r\n * Set the braking force of a wheel\r\n * @method setBrake\r\n * @param {number} brake\r\n * @param {integer} wheelIndex\r\n */\r\nRaycastVehicle.prototype.setBrake = function(brake, wheelIndex){\r\n    this.wheelInfos[wheelIndex].brake = brake;\r\n};\r\n\r\n/**\r\n * Add the vehicle including its constraints to the world.\r\n * @method addToWorld\r\n * @param {World} world\r\n */\r\nRaycastVehicle.prototype.addToWorld = function(world){\r\n    var constraints = this.constraints;\r\n    world.add(this.chassisBody);\r\n    var that = this;\r\n    this.preStepCallback = function(){\r\n        that.updateVehicle(world.dt);\r\n    };\r\n    world.addEventListener('preStep', this.preStepCallback);\r\n    this.world = world;\r\n};\r\n\r\n/**\r\n * Get one of the wheel axles, world-oriented.\r\n * @private\r\n * @method getVehicleAxisWorld\r\n * @param  {integer} axisIndex\r\n * @param  {Vec3} result\r\n */\r\nRaycastVehicle.prototype.getVehicleAxisWorld = function(axisIndex, result){\r\n    result.set(\r\n        axisIndex === 0 ? 1 : 0,\r\n        axisIndex === 1 ? 1 : 0,\r\n        axisIndex === 2 ? 1 : 0\r\n    );\r\n    this.chassisBody.vectorToWorldFrame(result, result);\r\n};\r\n\r\nRaycastVehicle.prototype.updateVehicle = function(timeStep){\r\n    var wheelInfos = this.wheelInfos;\r\n    var numWheels = wheelInfos.length;\r\n    var chassisBody = this.chassisBody;\r\n\r\n    for (var i = 0; i < numWheels; i++) {\r\n        this.updateWheelTransform(i);\r\n    }\r\n\r\n    this.currentVehicleSpeedKmHour = 3.6 * chassisBody.velocity.norm();\r\n\r\n    var forwardWorld = new Vec3();\r\n    this.getVehicleAxisWorld(this.indexForwardAxis, forwardWorld);\r\n\r\n    if (forwardWorld.dot(chassisBody.velocity) < 0){\r\n        this.currentVehicleSpeedKmHour *= -1;\r\n    }\r\n\r\n    // simulate suspension\r\n    for (var i = 0; i < numWheels; i++) {\r\n        this.castRay(wheelInfos[i]);\r\n    }\r\n\r\n    this.updateSuspension(timeStep);\r\n\r\n    var impulse = new Vec3();\r\n    var relpos = new Vec3();\r\n    for (var i = 0; i < numWheels; i++) {\r\n        //apply suspension force\r\n        var wheel = wheelInfos[i];\r\n        var suspensionForce = wheel.suspensionForce;\r\n        if (suspensionForce > wheel.maxSuspensionForce) {\r\n            suspensionForce = wheel.maxSuspensionForce;\r\n        }\r\n        wheel.raycastResult.hitNormalWorld.scale(suspensionForce * timeStep, impulse);\r\n\r\n        wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, relpos);\r\n        chassisBody.applyImpulse(impulse, wheel.raycastResult.hitPointWorld/*relpos*/);\r\n    }\r\n\r\n    this.updateFriction(timeStep);\r\n\r\n    var hitNormalWorldScaledWithProj = new Vec3();\r\n    var fwd  = new Vec3();\r\n    var vel = new Vec3();\r\n    for (i = 0; i < numWheels; i++) {\r\n        var wheel = wheelInfos[i];\r\n        //var relpos = new Vec3();\r\n        //wheel.chassisConnectionPointWorld.vsub(chassisBody.position, relpos);\r\n        chassisBody.getVelocityAtWorldPoint(wheel.chassisConnectionPointWorld, vel);\r\n\r\n        // Hack to get the rotation in the correct direction\r\n        var m = 1;\r\n        switch(this.indexUpAxis){\r\n        case 1:\r\n            m = -1;\r\n            break;\r\n        }\r\n\r\n        if (wheel.isInContact) {\r\n\r\n            this.getVehicleAxisWorld(this.indexForwardAxis, fwd);\r\n            var proj = fwd.dot(wheel.raycastResult.hitNormalWorld);\r\n            wheel.raycastResult.hitNormalWorld.scale(proj, hitNormalWorldScaledWithProj);\r\n\r\n            fwd.vsub(hitNormalWorldScaledWithProj, fwd);\r\n\r\n            var proj2 = fwd.dot(vel);\r\n            wheel.deltaRotation = m * proj2 * timeStep / wheel.radius;\r\n        }\r\n\r\n        if((wheel.sliding || !wheel.isInContact) && wheel.engineForce !== 0 && wheel.useCustomSlidingRotationalSpeed){\r\n            // Apply custom rotation when accelerating and sliding\r\n            wheel.deltaRotation = (wheel.engineForce > 0 ? 1 : -1) * wheel.customSlidingRotationalSpeed * timeStep;\r\n        }\r\n\r\n        // Lock wheels\r\n        if(Math.abs(wheel.brake) > Math.abs(wheel.engineForce)){\r\n            wheel.deltaRotation = 0;\r\n        }\r\n\r\n        wheel.rotation += wheel.deltaRotation; // Use the old value\r\n        wheel.deltaRotation *= 0.99; // damping of rotation when not in contact\r\n    }\r\n};\r\n\r\nRaycastVehicle.prototype.updateSuspension = function(deltaTime) {\r\n    var chassisBody = this.chassisBody;\r\n    var chassisMass = chassisBody.mass;\r\n    var wheelInfos = this.wheelInfos;\r\n    var numWheels = wheelInfos.length;\r\n\r\n    for (var w_it = 0; w_it < numWheels; w_it++){\r\n        var wheel = wheelInfos[w_it];\r\n\r\n        if (wheel.isInContact){\r\n            var force;\r\n\r\n            // Spring\r\n            var susp_length = wheel.suspensionRestLength;\r\n            var current_length = wheel.suspensionLength;\r\n            var length_diff = (susp_length - current_length);\r\n\r\n            force = wheel.suspensionStiffness * length_diff * wheel.clippedInvContactDotSuspension;\r\n\r\n            // Damper\r\n            var projected_rel_vel = wheel.suspensionRelativeVelocity;\r\n            var susp_damping;\r\n            if (projected_rel_vel < 0) {\r\n                susp_damping = wheel.dampingCompression;\r\n            } else {\r\n                susp_damping = wheel.dampingRelaxation;\r\n            }\r\n            force -= susp_damping * projected_rel_vel;\r\n\r\n            wheel.suspensionForce = force * chassisMass;\r\n            if (wheel.suspensionForce < 0) {\r\n                wheel.suspensionForce = 0;\r\n            }\r\n        } else {\r\n            wheel.suspensionForce = 0;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Remove the vehicle including its constraints from the world.\r\n * @method removeFromWorld\r\n * @param {World} world\r\n */\r\nRaycastVehicle.prototype.removeFromWorld = function(world){\r\n    var constraints = this.constraints;\r\n    world.remove(this.chassisBody);\r\n    world.removeEventListener('preStep', this.preStepCallback);\r\n    this.world = null;\r\n};\r\n\r\nvar castRay_rayvector = new Vec3();\r\nvar castRay_target = new Vec3();\r\nRaycastVehicle.prototype.castRay = function(wheel) {\r\n    var rayvector = castRay_rayvector;\r\n    var target = castRay_target;\r\n\r\n    this.updateWheelTransformWorld(wheel);\r\n    var chassisBody = this.chassisBody;\r\n\r\n    var depth = -1;\r\n\r\n    var raylen = wheel.suspensionRestLength + wheel.radius;\r\n\r\n    wheel.directionWorld.scale(raylen, rayvector);\r\n    var source = wheel.chassisConnectionPointWorld;\r\n    source.vadd(rayvector, target);\r\n    var raycastResult = wheel.raycastResult;\r\n\r\n    var param = 0;\r\n\r\n    raycastResult.reset();\r\n    // Turn off ray collision with the chassis temporarily\r\n    var oldState = chassisBody.collisionResponse;\r\n    chassisBody.collisionResponse = false;\r\n\r\n    // Cast ray against world\r\n    this.world.rayTest(source, target, raycastResult);\r\n    chassisBody.collisionResponse = oldState;\r\n\r\n    var object = raycastResult.body;\r\n\r\n    wheel.raycastResult.groundObject = 0;\r\n\r\n    if (object) {\r\n        depth = raycastResult.distance;\r\n        wheel.raycastResult.hitNormalWorld  = raycastResult.hitNormalWorld;\r\n        wheel.isInContact = true;\r\n\r\n        var hitDistance = raycastResult.distance;\r\n        wheel.suspensionLength = hitDistance - wheel.radius;\r\n\r\n        // clamp on max suspension travel\r\n        var minSuspensionLength = wheel.suspensionRestLength - wheel.maxSuspensionTravel;\r\n        var maxSuspensionLength = wheel.suspensionRestLength + wheel.maxSuspensionTravel;\r\n        if (wheel.suspensionLength < minSuspensionLength) {\r\n            wheel.suspensionLength = minSuspensionLength;\r\n        }\r\n        if (wheel.suspensionLength > maxSuspensionLength) {\r\n            wheel.suspensionLength = maxSuspensionLength;\r\n            wheel.raycastResult.reset();\r\n        }\r\n\r\n        var denominator = wheel.raycastResult.hitNormalWorld.dot(wheel.directionWorld);\r\n\r\n        var chassis_velocity_at_contactPoint = new Vec3();\r\n        chassisBody.getVelocityAtWorldPoint(wheel.raycastResult.hitPointWorld, chassis_velocity_at_contactPoint);\r\n\r\n        var projVel = wheel.raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\r\n\r\n        if (denominator >= -0.1) {\r\n            wheel.suspensionRelativeVelocity = 0;\r\n            wheel.clippedInvContactDotSuspension = 1 / 0.1;\r\n        } else {\r\n            var inv = -1 / denominator;\r\n            wheel.suspensionRelativeVelocity = projVel * inv;\r\n            wheel.clippedInvContactDotSuspension = inv;\r\n        }\r\n\r\n    } else {\r\n\r\n        //put wheel info as in rest position\r\n        wheel.suspensionLength = wheel.suspensionRestLength + 0 * wheel.maxSuspensionTravel;\r\n        wheel.suspensionRelativeVelocity = 0.0;\r\n        wheel.directionWorld.scale(-1, wheel.raycastResult.hitNormalWorld);\r\n        wheel.clippedInvContactDotSuspension = 1.0;\r\n    }\r\n\r\n    return depth;\r\n};\r\n\r\nRaycastVehicle.prototype.updateWheelTransformWorld = function(wheel){\r\n    wheel.isInContact = false;\r\n    var chassisBody = this.chassisBody;\r\n    chassisBody.pointToWorldFrame(wheel.chassisConnectionPointLocal, wheel.chassisConnectionPointWorld);\r\n    chassisBody.vectorToWorldFrame(wheel.directionLocal, wheel.directionWorld);\r\n    chassisBody.vectorToWorldFrame(wheel.axleLocal, wheel.axleWorld);\r\n};\r\n\r\n\r\n/**\r\n * Update one of the wheel transform.\r\n * Note when rendering wheels: during each step, wheel transforms are updated BEFORE the chassis; ie. their position becomes invalid after the step. Thus when you render wheels, you must update wheel transforms before rendering them. See raycastVehicle demo for an example.\r\n * @method updateWheelTransform\r\n * @param {integer} wheelIndex The wheel index to update.\r\n */\r\nRaycastVehicle.prototype.updateWheelTransform = function(wheelIndex){\r\n    var up = tmpVec4;\r\n    var right = tmpVec5;\r\n    var fwd = tmpVec6;\r\n\r\n    var wheel = this.wheelInfos[wheelIndex];\r\n    this.updateWheelTransformWorld(wheel);\r\n\r\n    wheel.directionLocal.scale(-1, up);\r\n    right.copy(wheel.axleLocal);\r\n    up.cross(right, fwd);\r\n    fwd.normalize();\r\n    right.normalize();\r\n\r\n    // Rotate around steering over the wheelAxle\r\n    var steering = wheel.steering;\r\n    var steeringOrn = new Quaternion();\r\n    steeringOrn.setFromAxisAngle(up, steering);\r\n\r\n    var rotatingOrn = new Quaternion();\r\n    rotatingOrn.setFromAxisAngle(right, wheel.rotation);\r\n\r\n    // World rotation of the wheel\r\n    var q = wheel.worldTransform.quaternion;\r\n    this.chassisBody.quaternion.mult(steeringOrn, q);\r\n    q.mult(rotatingOrn, q);\r\n\r\n    q.normalize();\r\n\r\n    // world position of the wheel\r\n    var p = wheel.worldTransform.position;\r\n    p.copy(wheel.directionWorld);\r\n    p.scale(wheel.suspensionLength, p);\r\n    p.vadd(wheel.chassisConnectionPointWorld, p);\r\n};\r\n\r\nvar directions = [\r\n    new Vec3(1, 0, 0),\r\n    new Vec3(0, 1, 0),\r\n    new Vec3(0, 0, 1)\r\n];\r\n\r\n/**\r\n * Get the world transform of one of the wheels\r\n * @method getWheelTransformWorld\r\n * @param  {integer} wheelIndex\r\n * @return {Transform}\r\n */\r\nRaycastVehicle.prototype.getWheelTransformWorld = function(wheelIndex) {\r\n    return this.wheelInfos[wheelIndex].worldTransform;\r\n};\r\n\r\n\r\nvar updateFriction_surfNormalWS_scaled_proj = new Vec3();\r\nvar updateFriction_axle = [];\r\nvar updateFriction_forwardWS = [];\r\nvar sideFrictionStiffness2 = 1;\r\nRaycastVehicle.prototype.updateFriction = function(timeStep) {\r\n    var surfNormalWS_scaled_proj = updateFriction_surfNormalWS_scaled_proj;\r\n\r\n    //calculate the impulse, so that the wheels don't move sidewards\r\n    var wheelInfos = this.wheelInfos;\r\n    var numWheels = wheelInfos.length;\r\n    var chassisBody = this.chassisBody;\r\n    var forwardWS = updateFriction_forwardWS;\r\n    var axle = updateFriction_axle;\r\n\r\n    var numWheelsOnGround = 0;\r\n\r\n    for (var i = 0; i < numWheels; i++) {\r\n        var wheel = wheelInfos[i];\r\n\r\n        var groundObject = wheel.raycastResult.body;\r\n        if (groundObject){\r\n            numWheelsOnGround++;\r\n        }\r\n\r\n        wheel.sideImpulse = 0;\r\n        wheel.forwardImpulse = 0;\r\n        if(!forwardWS[i]){\r\n            forwardWS[i] = new Vec3();\r\n        }\r\n        if(!axle[i]){\r\n            axle[i] = new Vec3();\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < numWheels; i++){\r\n        var wheel = wheelInfos[i];\r\n\r\n        var groundObject = wheel.raycastResult.body;\r\n\r\n        if (groundObject) {\r\n            var axlei = axle[i];\r\n            var wheelTrans = this.getWheelTransformWorld(i);\r\n\r\n            // Get world axle\r\n            wheelTrans.vectorToWorldFrame(directions[this.indexRightAxis], axlei);\r\n\r\n            var surfNormalWS = wheel.raycastResult.hitNormalWorld;\r\n            var proj = axlei.dot(surfNormalWS);\r\n            surfNormalWS.scale(proj, surfNormalWS_scaled_proj);\r\n            axlei.vsub(surfNormalWS_scaled_proj, axlei);\r\n            axlei.normalize();\r\n\r\n            surfNormalWS.cross(axlei, forwardWS[i]);\r\n            forwardWS[i].normalize();\r\n\r\n            wheel.sideImpulse = resolveSingleBilateral(\r\n                chassisBody,\r\n                wheel.raycastResult.hitPointWorld,\r\n                groundObject,\r\n                wheel.raycastResult.hitPointWorld,\r\n                axlei\r\n            );\r\n\r\n            wheel.sideImpulse *= sideFrictionStiffness2;\r\n        }\r\n    }\r\n\r\n    var sideFactor = 1;\r\n    var fwdFactor = 0.5;\r\n\r\n    this.sliding = false;\r\n    for (var i = 0; i < numWheels; i++) {\r\n        var wheel = wheelInfos[i];\r\n        var groundObject = wheel.raycastResult.body;\r\n\r\n        var rollingFriction = 0;\r\n\r\n        wheel.slipInfo = 1;\r\n        if (groundObject) {\r\n            var defaultRollingFrictionImpulse = 0;\r\n            var maxImpulse = wheel.brake ? wheel.brake : defaultRollingFrictionImpulse;\r\n\r\n            // btWheelContactPoint contactPt(chassisBody,groundObject,wheelInfraycastInfo.hitPointWorld,forwardWS[wheel],maxImpulse);\r\n            // rollingFriction = calcRollingFriction(contactPt);\r\n            rollingFriction = calcRollingFriction(chassisBody, groundObject, wheel.raycastResult.hitPointWorld, forwardWS[i], maxImpulse);\r\n\r\n            rollingFriction += wheel.engineForce * timeStep;\r\n\r\n            // rollingFriction = 0;\r\n            var factor = maxImpulse / rollingFriction;\r\n            wheel.slipInfo *= factor;\r\n        }\r\n\r\n        //switch between active rolling (throttle), braking and non-active rolling friction (nthrottle/break)\r\n\r\n        wheel.forwardImpulse = 0;\r\n        wheel.skidInfo = 1;\r\n\r\n        if (groundObject) {\r\n            wheel.skidInfo = 1;\r\n\r\n            var maximp = wheel.suspensionForce * timeStep * wheel.frictionSlip;\r\n            var maximpSide = maximp;\r\n\r\n            var maximpSquared = maximp * maximpSide;\r\n\r\n            wheel.forwardImpulse = rollingFriction;//wheelInfo.engineForce* timeStep;\r\n\r\n            var x = wheel.forwardImpulse * fwdFactor;\r\n            var y = wheel.sideImpulse * sideFactor;\r\n\r\n            var impulseSquared = x * x + y * y;\r\n\r\n            wheel.sliding = false;\r\n            if (impulseSquared > maximpSquared) {\r\n                this.sliding = true;\r\n                wheel.sliding = true;\r\n\r\n                var factor = maximp / Math.sqrt(impulseSquared);\r\n\r\n                wheel.skidInfo *= factor;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (this.sliding) {\r\n        for (var i = 0; i < numWheels; i++) {\r\n            var wheel = wheelInfos[i];\r\n            if (wheel.sideImpulse !== 0) {\r\n                if (wheel.skidInfo < 1){\r\n                    wheel.forwardImpulse *= wheel.skidInfo;\r\n                    wheel.sideImpulse *= wheel.skidInfo;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // apply the impulses\r\n    for (var i = 0; i < numWheels; i++) {\r\n        var wheel = wheelInfos[i];\r\n\r\n        var rel_pos = new Vec3();\r\n        //wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, rel_pos);\r\n        // cannons applyimpulse is using world coord for the position\r\n        rel_pos.copy(wheel.raycastResult.hitPointWorld);\r\n\r\n        if (wheel.forwardImpulse !== 0) {\r\n            var impulse = new Vec3();\r\n            forwardWS[i].scale(wheel.forwardImpulse, impulse);\r\n            chassisBody.applyImpulse(impulse, rel_pos);\r\n        }\r\n\r\n        if (wheel.sideImpulse !== 0){\r\n            var groundObject = wheel.raycastResult.body;\r\n\r\n            var rel_pos2 = new Vec3();\r\n            //wheel.raycastResult.hitPointWorld.vsub(groundObject.position, rel_pos2);\r\n            rel_pos2.copy(wheel.raycastResult.hitPointWorld);\r\n            var sideImp = new Vec3();\r\n            axle[i].scale(wheel.sideImpulse, sideImp);\r\n\r\n            // Scale the relative position in the up direction with rollInfluence.\r\n            // If rollInfluence is 1, the impulse will be applied on the hitPoint (easy to roll over), if it is zero it will be applied in the same plane as the center of mass (not easy to roll over).\r\n            chassisBody.pointToLocalFrame(rel_pos, rel_pos);\r\n            rel_pos['xyz'[this.indexUpAxis]] *= wheel.rollInfluence;\r\n            chassisBody.pointToWorldFrame(rel_pos, rel_pos);\r\n            chassisBody.applyImpulse(sideImp, rel_pos);\r\n\r\n            //apply friction impulse on the ground\r\n            sideImp.scale(-1, sideImp);\r\n            groundObject.applyImpulse(sideImp, rel_pos2);\r\n        }\r\n    }\r\n};\r\n\r\nvar calcRollingFriction_vel1 = new Vec3();\r\nvar calcRollingFriction_vel2 = new Vec3();\r\nvar calcRollingFriction_vel = new Vec3();\r\n\r\nfunction calcRollingFriction(body0, body1, frictionPosWorld, frictionDirectionWorld, maxImpulse) {\r\n    var j1 = 0;\r\n    var contactPosWorld = frictionPosWorld;\r\n\r\n    // var rel_pos1 = new Vec3();\r\n    // var rel_pos2 = new Vec3();\r\n    var vel1 = calcRollingFriction_vel1;\r\n    var vel2 = calcRollingFriction_vel2;\r\n    var vel = calcRollingFriction_vel;\r\n    // contactPosWorld.vsub(body0.position, rel_pos1);\r\n    // contactPosWorld.vsub(body1.position, rel_pos2);\r\n\r\n    body0.getVelocityAtWorldPoint(contactPosWorld, vel1);\r\n    body1.getVelocityAtWorldPoint(contactPosWorld, vel2);\r\n    vel1.vsub(vel2, vel);\r\n\r\n    var vrel = frictionDirectionWorld.dot(vel);\r\n\r\n    var denom0 = computeImpulseDenominator(body0, frictionPosWorld, frictionDirectionWorld);\r\n    var denom1 = computeImpulseDenominator(body1, frictionPosWorld, frictionDirectionWorld);\r\n    var relaxation = 1;\r\n    var jacDiagABInv = relaxation / (denom0 + denom1);\r\n\r\n    // calculate j that moves us to zero relative velocity\r\n    j1 = -vrel * jacDiagABInv;\r\n\r\n    if (maxImpulse < j1) {\r\n        j1 = maxImpulse;\r\n    }\r\n    if (j1 < -maxImpulse) {\r\n        j1 = -maxImpulse;\r\n    }\r\n\r\n    return j1;\r\n}\r\n\r\nvar computeImpulseDenominator_r0 = new Vec3();\r\nvar computeImpulseDenominator_c0 = new Vec3();\r\nvar computeImpulseDenominator_vec = new Vec3();\r\nvar computeImpulseDenominator_m = new Vec3();\r\nfunction computeImpulseDenominator(body, pos, normal) {\r\n    var r0 = computeImpulseDenominator_r0;\r\n    var c0 = computeImpulseDenominator_c0;\r\n    var vec = computeImpulseDenominator_vec;\r\n    var m = computeImpulseDenominator_m;\r\n\r\n    pos.vsub(body.position, r0);\r\n    r0.cross(normal, c0);\r\n    body.invInertiaWorld.vmult(c0, m);\r\n    m.cross(r0, vec);\r\n\r\n    return body.invMass + normal.dot(vec);\r\n}\r\n\r\n\r\nvar resolveSingleBilateral_vel1 = new Vec3();\r\nvar resolveSingleBilateral_vel2 = new Vec3();\r\nvar resolveSingleBilateral_vel = new Vec3();\r\n\r\n//bilateral constraint between two dynamic objects\r\nfunction resolveSingleBilateral(body1, pos1, body2, pos2, normal, impulse){\r\n    var normalLenSqr = normal.norm2();\r\n    if (normalLenSqr > 1.1){\r\n        return 0; // no impulse\r\n    }\r\n    // var rel_pos1 = new Vec3();\r\n    // var rel_pos2 = new Vec3();\r\n    // pos1.vsub(body1.position, rel_pos1);\r\n    // pos2.vsub(body2.position, rel_pos2);\r\n\r\n    var vel1 = resolveSingleBilateral_vel1;\r\n    var vel2 = resolveSingleBilateral_vel2;\r\n    var vel = resolveSingleBilateral_vel;\r\n    body1.getVelocityAtWorldPoint(pos1, vel1);\r\n    body2.getVelocityAtWorldPoint(pos2, vel2);\r\n\r\n    vel1.vsub(vel2, vel);\r\n\r\n    var rel_vel = normal.dot(vel);\r\n\r\n    var contactDamping = 0.2;\r\n    var massTerm = 1 / (body1.invMass + body2.invMass);\r\n    var impulse = - contactDamping * rel_vel * massTerm;\r\n\r\n    return impulse;\r\n}\r\n},{\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/WheelInfo\":36,\"./Body\":31}],33:[function(_dereq_,module,exports){\r\nvar Body = _dereq_('./Body');\r\nvar Sphere = _dereq_('../shapes/Sphere');\r\nvar Box = _dereq_('../shapes/Box');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar HingeConstraint = _dereq_('../constraints/HingeConstraint');\r\n\r\nmodule.exports = RigidVehicle;\r\n\r\n/**\r\n * Simple vehicle helper class with spherical rigid body wheels.\r\n * @class RigidVehicle\r\n * @constructor\r\n * @param {Body} [options.chassisBody]\r\n */\r\nfunction RigidVehicle(options){\r\n    this.wheelBodies = [];\r\n\r\n    /**\r\n     * @property coordinateSystem\r\n     * @type {Vec3}\r\n     */\r\n    this.coordinateSystem = typeof(options.coordinateSystem)==='undefined' ? new Vec3(1, 2, 3) : options.coordinateSystem.clone();\r\n\r\n    /**\r\n     * @property {Body} chassisBody\r\n     */\r\n    this.chassisBody = options.chassisBody;\r\n\r\n    if(!this.chassisBody){\r\n        // No chassis body given. Create it!\r\n        var chassisShape = new Box(new Vec3(5, 2, 0.5));\r\n        this.chassisBody = new Body(1, chassisShape);\r\n    }\r\n\r\n    /**\r\n     * @property constraints\r\n     * @type {Array}\r\n     */\r\n    this.constraints = [];\r\n\r\n    this.wheelAxes = [];\r\n    this.wheelForces = [];\r\n}\r\n\r\n/**\r\n * Add a wheel\r\n * @method addWheel\r\n * @param {object} options\r\n * @param {boolean} [options.isFrontWheel]\r\n * @param {Vec3} [options.position] Position of the wheel, locally in the chassis body.\r\n * @param {Vec3} [options.direction] Slide direction of the wheel along the suspension.\r\n * @param {Vec3} [options.axis] Axis of rotation of the wheel, locally defined in the chassis.\r\n * @param {Body} [options.body] The wheel body.\r\n */\r\nRigidVehicle.prototype.addWheel = function(options){\r\n    options = options || {};\r\n    var wheelBody = options.body;\r\n    if(!wheelBody){\r\n        wheelBody =  new Body(1, new Sphere(1.2));\r\n    }\r\n    this.wheelBodies.push(wheelBody);\r\n    this.wheelForces.push(0);\r\n\r\n    // Position constrain wheels\r\n    var zero = new Vec3();\r\n    var position = typeof(options.position) !== 'undefined' ? options.position.clone() : new Vec3();\r\n\r\n    // Set position locally to the chassis\r\n    var worldPosition = new Vec3();\r\n    this.chassisBody.pointToWorldFrame(position, worldPosition);\r\n    wheelBody.position.set(worldPosition.x, worldPosition.y, worldPosition.z);\r\n\r\n    // Constrain wheel\r\n    var axis = typeof(options.axis) !== 'undefined' ? options.axis.clone() : new Vec3(0, 1, 0);\r\n    this.wheelAxes.push(axis);\r\n\r\n    var hingeConstraint = new HingeConstraint(this.chassisBody, wheelBody, {\r\n        pivotA: position,\r\n        axisA: axis,\r\n        pivotB: Vec3.ZERO,\r\n        axisB: axis,\r\n        collideConnected: false\r\n    });\r\n    this.constraints.push(hingeConstraint);\r\n\r\n    return this.wheelBodies.length - 1;\r\n};\r\n\r\n/**\r\n * Set the steering value of a wheel.\r\n * @method setSteeringValue\r\n * @param {number} value\r\n * @param {integer} wheelIndex\r\n * @todo check coordinateSystem\r\n */\r\nRigidVehicle.prototype.setSteeringValue = function(value, wheelIndex){\r\n    // Set angle of the hinge axis\r\n    var axis = this.wheelAxes[wheelIndex];\r\n\r\n    var c = Math.cos(value),\r\n        s = Math.sin(value),\r\n        x = axis.x,\r\n        y = axis.y;\r\n    this.constraints[wheelIndex].axisA.set(\r\n        c*x -s*y,\r\n        s*x +c*y,\r\n        0\r\n    );\r\n};\r\n\r\n/**\r\n * Set the target rotational speed of the hinge constraint.\r\n * @method setMotorSpeed\r\n * @param {number} value\r\n * @param {integer} wheelIndex\r\n */\r\nRigidVehicle.prototype.setMotorSpeed = function(value, wheelIndex){\r\n    var hingeConstraint = this.constraints[wheelIndex];\r\n    hingeConstraint.enableMotor();\r\n    hingeConstraint.motorTargetVelocity = value;\r\n};\r\n\r\n/**\r\n * Set the target rotational speed of the hinge constraint.\r\n * @method disableMotor\r\n * @param {number} value\r\n * @param {integer} wheelIndex\r\n */\r\nRigidVehicle.prototype.disableMotor = function(wheelIndex){\r\n    var hingeConstraint = this.constraints[wheelIndex];\r\n    hingeConstraint.disableMotor();\r\n};\r\n\r\nvar torque = new Vec3();\r\n\r\n/**\r\n * Set the wheel force to apply on one of the wheels each time step\r\n * @method setWheelForce\r\n * @param  {number} value\r\n * @param  {integer} wheelIndex\r\n */\r\nRigidVehicle.prototype.setWheelForce = function(value, wheelIndex){\r\n    this.wheelForces[wheelIndex] = value;\r\n};\r\n\r\n/**\r\n * Apply a torque on one of the wheels.\r\n * @method applyWheelForce\r\n * @param  {number} value\r\n * @param  {integer} wheelIndex\r\n */\r\nRigidVehicle.prototype.applyWheelForce = function(value, wheelIndex){\r\n    var axis = this.wheelAxes[wheelIndex];\r\n    var wheelBody = this.wheelBodies[wheelIndex];\r\n    var bodyTorque = wheelBody.torque;\r\n\r\n    axis.scale(value, torque);\r\n    wheelBody.vectorToWorldFrame(torque, torque);\r\n    bodyTorque.vadd(torque, bodyTorque);\r\n};\r\n\r\n/**\r\n * Add the vehicle including its constraints to the world.\r\n * @method addToWorld\r\n * @param {World} world\r\n */\r\nRigidVehicle.prototype.addToWorld = function(world){\r\n    var constraints = this.constraints;\r\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\r\n\r\n    for (var i = 0; i < bodies.length; i++) {\r\n        world.add(bodies[i]);\r\n    }\r\n\r\n    for (var i = 0; i < constraints.length; i++) {\r\n        world.addConstraint(constraints[i]);\r\n    }\r\n\r\n    world.addEventListener('preStep', this._update.bind(this));\r\n};\r\n\r\nRigidVehicle.prototype._update = function(){\r\n    var wheelForces = this.wheelForces;\r\n    for (var i = 0; i < wheelForces.length; i++) {\r\n        this.applyWheelForce(wheelForces[i], i);\r\n    }\r\n};\r\n\r\n/**\r\n * Remove the vehicle including its constraints from the world.\r\n * @method removeFromWorld\r\n * @param {World} world\r\n */\r\nRigidVehicle.prototype.removeFromWorld = function(world){\r\n    var constraints = this.constraints;\r\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\r\n\r\n    for (var i = 0; i < bodies.length; i++) {\r\n        world.remove(bodies[i]);\r\n    }\r\n\r\n    for (var i = 0; i < constraints.length; i++) {\r\n        world.removeConstraint(constraints[i]);\r\n    }\r\n};\r\n\r\nvar worldAxis = new Vec3();\r\n\r\n/**\r\n * Get current rotational velocity of a wheel\r\n * @method getWheelSpeed\r\n * @param {integer} wheelIndex\r\n */\r\nRigidVehicle.prototype.getWheelSpeed = function(wheelIndex){\r\n    var axis = this.wheelAxes[wheelIndex];\r\n    var wheelBody = this.wheelBodies[wheelIndex];\r\n    var w = wheelBody.angularVelocity;\r\n    this.chassisBody.vectorToWorldFrame(axis, worldAxis);\r\n    return w.dot(worldAxis);\r\n};\r\n\r\n},{\"../constraints/HingeConstraint\":15,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Sphere\":44,\"./Body\":31}],34:[function(_dereq_,module,exports){\r\nmodule.exports = SPHSystem;\r\n\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Particle = _dereq_('../shapes/Particle');\r\nvar Body = _dereq_('../objects/Body');\r\nvar Material = _dereq_('../material/Material');\r\n\r\n/**\r\n * Smoothed-particle hydrodynamics system\r\n * @class SPHSystem\r\n * @constructor\r\n */\r\nfunction SPHSystem(){\r\n    this.particles = [];\r\n\t\r\n    /**\r\n     * Density of the system (kg/m3).\r\n     * @property {number} density\r\n     */\r\n    this.density = 1;\r\n\t\r\n    /**\r\n     * Distance below which two particles are considered to be neighbors.\r\n     * It should be adjusted so there are about 15-20 neighbor particles within this radius.\r\n     * @property {number} smoothingRadius\r\n     */\r\n    this.smoothingRadius = 1;\r\n    this.speedOfSound = 1;\r\n\t\r\n    /**\r\n     * Viscosity of the system.\r\n     * @property {number} viscosity\r\n     */\r\n    this.viscosity = 0.01;\r\n    this.eps = 0.000001;\r\n\r\n    // Stuff Computed per particle\r\n    this.pressures = [];\r\n    this.densities = [];\r\n    this.neighbors = [];\r\n}\r\n\r\n/**\r\n * Add a particle to the system.\r\n * @method add\r\n * @param {Body} particle\r\n */\r\nSPHSystem.prototype.add = function(particle){\r\n    this.particles.push(particle);\r\n    if(this.neighbors.length < this.particles.length){\r\n        this.neighbors.push([]);\r\n    }\r\n};\r\n\r\n/**\r\n * Remove a particle from the system.\r\n * @method remove\r\n * @param {Body} particle\r\n */\r\nSPHSystem.prototype.remove = function(particle){\r\n    var idx = this.particles.indexOf(particle);\r\n    if(idx !== -1){\r\n        this.particles.splice(idx,1);\r\n        if(this.neighbors.length > this.particles.length){\r\n            this.neighbors.pop();\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Get neighbors within smoothing volume, save in the array neighbors\r\n * @method getNeighbors\r\n * @param {Body} particle\r\n * @param {Array} neighbors\r\n */\r\nvar SPHSystem_getNeighbors_dist = new Vec3();\r\nSPHSystem.prototype.getNeighbors = function(particle,neighbors){\r\n    var N = this.particles.length,\r\n        id = particle.id,\r\n        R2 = this.smoothingRadius * this.smoothingRadius,\r\n        dist = SPHSystem_getNeighbors_dist;\r\n    for(var i=0; i!==N; i++){\r\n        var p = this.particles[i];\r\n        p.position.vsub(particle.position,dist);\r\n        if(id!==p.id && dist.norm2() < R2){\r\n            neighbors.push(p);\r\n        }\r\n    }\r\n};\r\n\r\n// Temp vectors for calculation\r\nvar SPHSystem_update_dist = new Vec3(),\r\n    SPHSystem_update_a_pressure = new Vec3(),\r\n    SPHSystem_update_a_visc = new Vec3(),\r\n    SPHSystem_update_gradW = new Vec3(),\r\n    SPHSystem_update_r_vec = new Vec3(),\r\n    SPHSystem_update_u = new Vec3(); // Relative velocity\r\nSPHSystem.prototype.update = function(){\r\n    var N = this.particles.length,\r\n        dist = SPHSystem_update_dist,\r\n        cs = this.speedOfSound,\r\n        eps = this.eps;\r\n\r\n    for(var i=0; i!==N; i++){\r\n        var p = this.particles[i]; // Current particle\r\n        var neighbors = this.neighbors[i];\r\n\r\n        // Get neighbors\r\n        neighbors.length = 0;\r\n        this.getNeighbors(p,neighbors);\r\n        neighbors.push(this.particles[i]); // Add current too\r\n        var numNeighbors = neighbors.length;\r\n\r\n        // Accumulate density for the particle\r\n        var sum = 0.0;\r\n        for(var j=0; j!==numNeighbors; j++){\r\n\r\n            //printf(\"Current particle has position %f %f %f\\n\",objects[id].pos.x(),objects[id].pos.y(),objects[id].pos.z());\r\n            p.position.vsub(neighbors[j].position, dist);\r\n            var len = dist.norm();\r\n\r\n            var weight = this.w(len);\r\n            sum += neighbors[j].mass * weight;\r\n        }\r\n\r\n        // Save\r\n        this.densities[i] = sum;\r\n        this.pressures[i] = cs * cs * (this.densities[i] - this.density);\r\n    }\r\n\r\n    // Add forces\r\n\r\n    // Sum to these accelerations\r\n    var a_pressure= SPHSystem_update_a_pressure;\r\n    var a_visc =    SPHSystem_update_a_visc;\r\n    var gradW =     SPHSystem_update_gradW;\r\n    var r_vec =     SPHSystem_update_r_vec;\r\n    var u =         SPHSystem_update_u;\r\n\r\n    for(var i=0; i!==N; i++){\r\n\r\n        var particle = this.particles[i];\r\n\r\n        a_pressure.set(0,0,0);\r\n        a_visc.set(0,0,0);\r\n\r\n        // Init vars\r\n        var Pij;\r\n        var nabla;\r\n        var Vij;\r\n\r\n        // Sum up for all other neighbors\r\n        var neighbors = this.neighbors[i];\r\n        var numNeighbors = neighbors.length;\r\n\r\n        //printf(\"Neighbors: \");\r\n        for(var j=0; j!==numNeighbors; j++){\r\n\r\n            var neighbor = neighbors[j];\r\n            //printf(\"%d \",nj);\r\n\r\n            // Get r once for all..\r\n            particle.position.vsub(neighbor.position,r_vec);\r\n            var r = r_vec.norm();\r\n\r\n            // Pressure contribution\r\n            Pij = -neighbor.mass * (this.pressures[i] / (this.densities[i]*this.densities[i] + eps) + this.pressures[j] / (this.densities[j]*this.densities[j] + eps));\r\n            this.gradw(r_vec, gradW);\r\n            // Add to pressure acceleration\r\n            gradW.mult(Pij , gradW);\r\n            a_pressure.vadd(gradW, a_pressure);\r\n\r\n            // Viscosity contribution\r\n            neighbor.velocity.vsub(particle.velocity, u);\r\n            u.mult( 1.0 / (0.0001+this.densities[i] * this.densities[j]) * this.viscosity * neighbor.mass , u );\r\n            nabla = this.nablaw(r);\r\n            u.mult(nabla,u);\r\n            // Add to viscosity acceleration\r\n            a_visc.vadd( u, a_visc );\r\n        }\r\n\r\n        // Calculate force\r\n        a_visc.mult(particle.mass, a_visc);\r\n        a_pressure.mult(particle.mass, a_pressure);\r\n\r\n        // Add force to particles\r\n        particle.force.vadd(a_visc, particle.force);\r\n        particle.force.vadd(a_pressure, particle.force);\r\n    }\r\n};\r\n\r\n// Calculate the weight using the W(r) weightfunction\r\nSPHSystem.prototype.w = function(r){\r\n    // 315\r\n    var h = this.smoothingRadius;\r\n    return 315.0/(64.0*Math.PI*Math.pow(h,9)) * Math.pow(h*h-r*r,3);\r\n};\r\n\r\n// calculate gradient of the weight function\r\nSPHSystem.prototype.gradw = function(rVec,resultVec){\r\n    var r = rVec.norm(),\r\n        h = this.smoothingRadius;\r\n    rVec.mult(945.0/(32.0*Math.PI*Math.pow(h,9)) * Math.pow((h*h-r*r),2) , resultVec);\r\n};\r\n\r\n// Calculate nabla(W)\r\nSPHSystem.prototype.nablaw = function(r){\r\n    var h = this.smoothingRadius;\r\n    var nabla = 945.0/(32.0*Math.PI*Math.pow(h,9)) * (h*h-r*r)*(7*r*r - 3*h*h);\r\n    return nabla;\r\n};\r\n\r\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Particle\":41,\"../shapes/Shape\":43}],35:[function(_dereq_,module,exports){\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\nmodule.exports = Spring;\r\n\r\n/**\r\n * A spring, connecting two bodies.\r\n *\r\n * @class Spring\r\n * @constructor\r\n * @param {Body} bodyA\r\n * @param {Body} bodyB\r\n * @param {Object} [options]\r\n * @param {number} [options.restLength]   A number > 0. Default: 1\r\n * @param {number} [options.stiffness]    A number >= 0. Default: 100\r\n * @param {number} [options.damping]      A number >= 0. Default: 1\r\n * @param {Vec3}  [options.worldAnchorA] Where to hook the spring to body A, in world coordinates.\r\n * @param {Vec3}  [options.worldAnchorB]\r\n * @param {Vec3}  [options.localAnchorA] Where to hook the spring to body A, in local body coordinates.\r\n * @param {Vec3}  [options.localAnchorB]\r\n */\r\nfunction Spring(bodyA,bodyB,options){\r\n    options = options || {};\r\n\r\n    /**\r\n     * Rest length of the spring.\r\n     * @property restLength\r\n     * @type {number}\r\n     */\r\n    this.restLength = typeof(options.restLength) === \"number\" ? options.restLength : 1;\r\n\r\n    /**\r\n     * Stiffness of the spring.\r\n     * @property stiffness\r\n     * @type {number}\r\n     */\r\n    this.stiffness = options.stiffness || 100;\r\n\r\n    /**\r\n     * Damping of the spring.\r\n     * @property damping\r\n     * @type {number}\r\n     */\r\n    this.damping = options.damping || 1;\r\n\r\n    /**\r\n     * First connected body.\r\n     * @property bodyA\r\n     * @type {Body}\r\n     */\r\n    this.bodyA = bodyA;\r\n\r\n    /**\r\n     * Second connected body.\r\n     * @property bodyB\r\n     * @type {Body}\r\n     */\r\n    this.bodyB = bodyB;\r\n\r\n    /**\r\n     * Anchor for bodyA in local bodyA coordinates.\r\n     * @property localAnchorA\r\n     * @type {Vec3}\r\n     */\r\n    this.localAnchorA = new Vec3();\r\n\r\n    /**\r\n     * Anchor for bodyB in local bodyB coordinates.\r\n     * @property localAnchorB\r\n     * @type {Vec3}\r\n     */\r\n    this.localAnchorB = new Vec3();\r\n\r\n    if(options.localAnchorA){\r\n        this.localAnchorA.copy(options.localAnchorA);\r\n    }\r\n    if(options.localAnchorB){\r\n        this.localAnchorB.copy(options.localAnchorB);\r\n    }\r\n    if(options.worldAnchorA){\r\n        this.setWorldAnchorA(options.worldAnchorA);\r\n    }\r\n    if(options.worldAnchorB){\r\n        this.setWorldAnchorB(options.worldAnchorB);\r\n    }\r\n}\r\n\r\n/**\r\n * Set the anchor point on body A, using world coordinates.\r\n * @method setWorldAnchorA\r\n * @param {Vec3} worldAnchorA\r\n */\r\nSpring.prototype.setWorldAnchorA = function(worldAnchorA){\r\n    this.bodyA.pointToLocalFrame(worldAnchorA,this.localAnchorA);\r\n};\r\n\r\n/**\r\n * Set the anchor point on body B, using world coordinates.\r\n * @method setWorldAnchorB\r\n * @param {Vec3} worldAnchorB\r\n */\r\nSpring.prototype.setWorldAnchorB = function(worldAnchorB){\r\n    this.bodyB.pointToLocalFrame(worldAnchorB,this.localAnchorB);\r\n};\r\n\r\n/**\r\n * Get the anchor point on body A, in world coordinates.\r\n * @method getWorldAnchorA\r\n * @param {Vec3} result The vector to store the result in.\r\n */\r\nSpring.prototype.getWorldAnchorA = function(result){\r\n    this.bodyA.pointToWorldFrame(this.localAnchorA,result);\r\n};\r\n\r\n/**\r\n * Get the anchor point on body B, in world coordinates.\r\n * @method getWorldAnchorB\r\n * @param {Vec3} result The vector to store the result in.\r\n */\r\nSpring.prototype.getWorldAnchorB = function(result){\r\n    this.bodyB.pointToWorldFrame(this.localAnchorB,result);\r\n};\r\n\r\nvar applyForce_r =              new Vec3(),\r\n    applyForce_r_unit =         new Vec3(),\r\n    applyForce_u =              new Vec3(),\r\n    applyForce_f =              new Vec3(),\r\n    applyForce_worldAnchorA =   new Vec3(),\r\n    applyForce_worldAnchorB =   new Vec3(),\r\n    applyForce_ri =             new Vec3(),\r\n    applyForce_rj =             new Vec3(),\r\n    applyForce_ri_x_f =         new Vec3(),\r\n    applyForce_rj_x_f =         new Vec3(),\r\n    applyForce_tmp =            new Vec3();\r\n\r\n/**\r\n * Apply the spring force to the connected bodies.\r\n * @method applyForce\r\n */\r\nSpring.prototype.applyForce = function(){\r\n    var k = this.stiffness,\r\n        d = this.damping,\r\n        l = this.restLength,\r\n        bodyA = this.bodyA,\r\n        bodyB = this.bodyB,\r\n        r = applyForce_r,\r\n        r_unit = applyForce_r_unit,\r\n        u = applyForce_u,\r\n        f = applyForce_f,\r\n        tmp = applyForce_tmp;\r\n\r\n    var worldAnchorA = applyForce_worldAnchorA,\r\n        worldAnchorB = applyForce_worldAnchorB,\r\n        ri = applyForce_ri,\r\n        rj = applyForce_rj,\r\n        ri_x_f = applyForce_ri_x_f,\r\n        rj_x_f = applyForce_rj_x_f;\r\n\r\n    // Get world anchors\r\n    this.getWorldAnchorA(worldAnchorA);\r\n    this.getWorldAnchorB(worldAnchorB);\r\n\r\n    // Get offset points\r\n    worldAnchorA.vsub(bodyA.position,ri);\r\n    worldAnchorB.vsub(bodyB.position,rj);\r\n\r\n    // Compute distance vector between world anchor points\r\n    worldAnchorB.vsub(worldAnchorA,r);\r\n    var rlen = r.norm();\r\n    r_unit.copy(r);\r\n    r_unit.normalize();\r\n\r\n    // Compute relative velocity of the anchor points, u\r\n    bodyB.velocity.vsub(bodyA.velocity,u);\r\n    // Add rotational velocity\r\n\r\n    bodyB.angularVelocity.cross(rj,tmp);\r\n    u.vadd(tmp,u);\r\n    bodyA.angularVelocity.cross(ri,tmp);\r\n    u.vsub(tmp,u);\r\n\r\n    // F = - k * ( x - L ) - D * ( u )\r\n    r_unit.mult(-k*(rlen-l) - d*u.dot(r_unit), f);\r\n\r\n    // Add forces to bodies\r\n    bodyA.force.vsub(f,bodyA.force);\r\n    bodyB.force.vadd(f,bodyB.force);\r\n\r\n    // Angular force\r\n    ri.cross(f,ri_x_f);\r\n    rj.cross(f,rj_x_f);\r\n    bodyA.torque.vsub(ri_x_f,bodyA.torque);\r\n    bodyB.torque.vadd(rj_x_f,bodyB.torque);\r\n};\r\n\r\n},{\"../math/Vec3\":30}],36:[function(_dereq_,module,exports){\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Transform = _dereq_('../math/Transform');\r\nvar RaycastResult = _dereq_('../collision/RaycastResult');\r\nvar Utils = _dereq_('../utils/Utils');\r\n\r\nmodule.exports = WheelInfo;\r\n\r\n/**\r\n * @class WheelInfo\r\n * @constructor\r\n * @param {Object} [options]\r\n *\r\n * @param {Vec3} [options.chassisConnectionPointLocal]\r\n * @param {Vec3} [options.chassisConnectionPointWorld]\r\n * @param {Vec3} [options.directionLocal]\r\n * @param {Vec3} [options.directionWorld]\r\n * @param {Vec3} [options.axleLocal]\r\n * @param {Vec3} [options.axleWorld]\r\n * @param {number} [options.suspensionRestLength=1]\r\n * @param {number} [options.suspensionMaxLength=2]\r\n * @param {number} [options.radius=1]\r\n * @param {number} [options.suspensionStiffness=100]\r\n * @param {number} [options.dampingCompression=10]\r\n * @param {number} [options.dampingRelaxation=10]\r\n * @param {number} [options.frictionSlip=10000]\r\n * @param {number} [options.steering=0]\r\n * @param {number} [options.rotation=0]\r\n * @param {number} [options.deltaRotation=0]\r\n * @param {number} [options.rollInfluence=0.01]\r\n * @param {number} [options.maxSuspensionForce]\r\n * @param {boolean} [options.isFrontWheel=true]\r\n * @param {number} [options.clippedInvContactDotSuspension=1]\r\n * @param {number} [options.suspensionRelativeVelocity=0]\r\n * @param {number} [options.suspensionForce=0]\r\n * @param {number} [options.skidInfo=0]\r\n * @param {number} [options.suspensionLength=0]\r\n * @param {number} [options.maxSuspensionTravel=1]\r\n * @param {boolean} [options.useCustomSlidingRotationalSpeed=false]\r\n * @param {number} [options.customSlidingRotationalSpeed=-0.1]\r\n */\r\nfunction WheelInfo(options){\r\n    options = Utils.defaults(options, {\r\n        chassisConnectionPointLocal: new Vec3(),\r\n        chassisConnectionPointWorld: new Vec3(),\r\n        directionLocal: new Vec3(),\r\n        directionWorld: new Vec3(),\r\n        axleLocal: new Vec3(),\r\n        axleWorld: new Vec3(),\r\n        suspensionRestLength: 1,\r\n        suspensionMaxLength: 2,\r\n        radius: 1,\r\n        suspensionStiffness: 100,\r\n        dampingCompression: 10,\r\n        dampingRelaxation: 10,\r\n        frictionSlip: 10000,\r\n        steering: 0,\r\n        rotation: 0,\r\n        deltaRotation: 0,\r\n        rollInfluence: 0.01,\r\n        maxSuspensionForce: Number.MAX_VALUE,\r\n        isFrontWheel: true,\r\n        clippedInvContactDotSuspension: 1,\r\n        suspensionRelativeVelocity: 0,\r\n        suspensionForce: 0,\r\n        skidInfo: 0,\r\n        suspensionLength: 0,\r\n        maxSuspensionTravel: 1,\r\n        useCustomSlidingRotationalSpeed: false,\r\n        customSlidingRotationalSpeed: -0.1\r\n    });\r\n\r\n    /**\r\n     * Max travel distance of the suspension, in meters.\r\n     * @property {number} maxSuspensionTravel\r\n     */\r\n    this.maxSuspensionTravel = options.maxSuspensionTravel;\r\n\r\n    /**\r\n     * Speed to apply to the wheel rotation when the wheel is sliding.\r\n     * @property {number} customSlidingRotationalSpeed\r\n     */\r\n    this.customSlidingRotationalSpeed = options.customSlidingRotationalSpeed;\r\n\r\n    /**\r\n     * If the customSlidingRotationalSpeed should be used.\r\n     * @property {Boolean} useCustomSlidingRotationalSpeed\r\n     */\r\n    this.useCustomSlidingRotationalSpeed = options.useCustomSlidingRotationalSpeed;\r\n\r\n    /**\r\n     * @property {Boolean} sliding\r\n     */\r\n    this.sliding = false;\r\n\r\n    /**\r\n     * Connection point, defined locally in the chassis body frame.\r\n     * @property {Vec3} chassisConnectionPointLocal\r\n     */\r\n    this.chassisConnectionPointLocal = options.chassisConnectionPointLocal.clone();\r\n\r\n    /**\r\n     * @property {Vec3} chassisConnectionPointWorld\r\n     */\r\n    this.chassisConnectionPointWorld = options.chassisConnectionPointWorld.clone();\r\n\r\n    /**\r\n     * @property {Vec3} directionLocal\r\n     */\r\n    this.directionLocal = options.directionLocal.clone();\r\n\r\n    /**\r\n     * @property {Vec3} directionWorld\r\n     */\r\n    this.directionWorld = options.directionWorld.clone();\r\n\r\n    /**\r\n     * @property {Vec3} axleLocal\r\n     */\r\n    this.axleLocal = options.axleLocal.clone();\r\n\r\n    /**\r\n     * @property {Vec3} axleWorld\r\n     */\r\n    this.axleWorld = options.axleWorld.clone();\r\n\r\n    /**\r\n     * @property {number} suspensionRestLength\r\n     */\r\n    this.suspensionRestLength = options.suspensionRestLength;\r\n\r\n    /**\r\n     * @property {number} suspensionMaxLength\r\n     */\r\n    this.suspensionMaxLength = options.suspensionMaxLength;\r\n\r\n    /**\r\n     * @property {number} radius\r\n     */\r\n    this.radius = options.radius;\r\n\r\n    /**\r\n     * @property {number} suspensionStiffness\r\n     */\r\n    this.suspensionStiffness = options.suspensionStiffness;\r\n\r\n    /**\r\n     * @property {number} dampingCompression\r\n     */\r\n    this.dampingCompression = options.dampingCompression;\r\n\r\n    /**\r\n     * @property {number} dampingRelaxation\r\n     */\r\n    this.dampingRelaxation = options.dampingRelaxation;\r\n\r\n    /**\r\n     * @property {number} frictionSlip\r\n     */\r\n    this.frictionSlip = options.frictionSlip;\r\n\r\n    /**\r\n     * @property {number} steering\r\n     */\r\n    this.steering = 0;\r\n\r\n    /**\r\n     * Rotation value, in radians.\r\n     * @property {number} rotation\r\n     */\r\n    this.rotation = 0;\r\n\r\n    /**\r\n     * @property {number} deltaRotation\r\n     */\r\n    this.deltaRotation = 0;\r\n\r\n    /**\r\n     * @property {number} rollInfluence\r\n     */\r\n    this.rollInfluence = options.rollInfluence;\r\n\r\n    /**\r\n     * @property {number} maxSuspensionForce\r\n     */\r\n    this.maxSuspensionForce = options.maxSuspensionForce;\r\n\r\n    /**\r\n     * @property {number} engineForce\r\n     */\r\n    this.engineForce = 0;\r\n\r\n    /**\r\n     * @property {number} brake\r\n     */\r\n    this.brake = 0;\r\n\r\n    /**\r\n     * @property {number} isFrontWheel\r\n     */\r\n    this.isFrontWheel = options.isFrontWheel;\r\n\r\n    /**\r\n     * @property {number} clippedInvContactDotSuspension\r\n     */\r\n    this.clippedInvContactDotSuspension = 1;\r\n\r\n    /**\r\n     * @property {number} suspensionRelativeVelocity\r\n     */\r\n    this.suspensionRelativeVelocity = 0;\r\n\r\n    /**\r\n     * @property {number} suspensionForce\r\n     */\r\n    this.suspensionForce = 0;\r\n\r\n    /**\r\n     * @property {number} skidInfo\r\n     */\r\n    this.skidInfo = 0;\r\n\r\n    /**\r\n     * @property {number} suspensionLength\r\n     */\r\n    this.suspensionLength = 0;\r\n\r\n    /**\r\n     * @property {number} sideImpulse\r\n     */\r\n    this.sideImpulse = 0;\r\n\r\n    /**\r\n     * @property {number} forwardImpulse\r\n     */\r\n    this.forwardImpulse = 0;\r\n\r\n    /**\r\n     * The result from raycasting\r\n     * @property {RaycastResult} raycastResult\r\n     */\r\n    this.raycastResult = new RaycastResult();\r\n\r\n    /**\r\n     * Wheel world transform\r\n     * @property {Transform} worldTransform\r\n     */\r\n    this.worldTransform = new Transform();\r\n\r\n    /**\r\n     * @property {boolean} isInContact\r\n     */\r\n    this.isInContact = false;\r\n}\r\n\r\nvar chassis_velocity_at_contactPoint = new Vec3();\r\nvar relpos = new Vec3();\r\nvar chassis_velocity_at_contactPoint = new Vec3();\r\nWheelInfo.prototype.updateWheel = function(chassis){\r\n    var raycastResult = this.raycastResult;\r\n\r\n    if (this.isInContact){\r\n        var project= raycastResult.hitNormalWorld.dot(raycastResult.directionWorld);\r\n        raycastResult.hitPointWorld.vsub(chassis.position, relpos);\r\n        chassis.getVelocityAtWorldPoint(relpos, chassis_velocity_at_contactPoint);\r\n        var projVel = raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\r\n        if (project >= -0.1) {\r\n            this.suspensionRelativeVelocity = 0.0;\r\n            this.clippedInvContactDotSuspension = 1.0 / 0.1;\r\n        } else {\r\n            var inv = -1 / project;\r\n            this.suspensionRelativeVelocity = projVel * inv;\r\n            this.clippedInvContactDotSuspension = inv;\r\n        }\r\n\r\n    } else {\r\n        // Not in contact : position wheel in a nice (rest length) position\r\n        raycastResult.suspensionLength = this.suspensionRestLength;\r\n        this.suspensionRelativeVelocity = 0.0;\r\n        raycastResult.directionWorld.scale(-1, raycastResult.hitNormalWorld);\r\n        this.clippedInvContactDotSuspension = 1.0;\r\n    }\r\n};\r\n},{\"../collision/RaycastResult\":10,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Utils\":53}],37:[function(_dereq_,module,exports){\r\nmodule.exports = Box;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\r\n\r\n/**\r\n * A 3d box shape.\r\n * @class Box\r\n * @constructor\r\n * @param {Vec3} halfExtents\r\n * @author schteppe\r\n * @extends Shape\r\n */\r\nfunction Box(halfExtents){\r\n    Shape.call(this);\r\n\r\n    this.type = Shape.types.BOX;\r\n\r\n    /**\r\n     * @property halfExtents\r\n     * @type {Vec3}\r\n     */\r\n    this.halfExtents = halfExtents;\r\n\r\n    /**\r\n     * Used by the contact generator to make contacts with other convex polyhedra for example\r\n     * @property convexPolyhedronRepresentation\r\n     * @type {ConvexPolyhedron}\r\n     */\r\n    this.convexPolyhedronRepresentation = null;\r\n\r\n    this.updateConvexPolyhedronRepresentation();\r\n    this.updateBoundingSphereRadius();\r\n}\r\nBox.prototype = new Shape();\r\nBox.prototype.constructor = Box;\r\n\r\n/**\r\n * Updates the local convex polyhedron representation used for some collisions.\r\n * @method updateConvexPolyhedronRepresentation\r\n */\r\nBox.prototype.updateConvexPolyhedronRepresentation = function(){\r\n    var sx = this.halfExtents.x;\r\n    var sy = this.halfExtents.y;\r\n    var sz = this.halfExtents.z;\r\n    var V = Vec3;\r\n\r\n    var vertices = [\r\n        new V(-sx,-sy,-sz),\r\n        new V( sx,-sy,-sz),\r\n        new V( sx, sy,-sz),\r\n        new V(-sx, sy,-sz),\r\n        new V(-sx,-sy, sz),\r\n        new V( sx,-sy, sz),\r\n        new V( sx, sy, sz),\r\n        new V(-sx, sy, sz)\r\n    ];\r\n\r\n    var indices = [\r\n        [3,2,1,0], // -z\r\n        [4,5,6,7], // +z\r\n        [5,4,0,1], // -y\r\n        [2,3,7,6], // +y\r\n        [0,4,7,3], // -x\r\n        [1,2,6,5], // +x\r\n    ];\r\n\r\n    var axes = [\r\n        new V(0, 0, 1),\r\n        new V(0, 1, 0),\r\n        new V(1, 0, 0)\r\n    ];\r\n\r\n    var h = new ConvexPolyhedron(vertices, indices);\r\n    this.convexPolyhedronRepresentation = h;\r\n    h.material = this.material;\r\n};\r\n\r\n/**\r\n * @method calculateLocalInertia\r\n * @param  {Number} mass\r\n * @param  {Vec3} target\r\n * @return {Vec3}\r\n */\r\nBox.prototype.calculateLocalInertia = function(mass,target){\r\n    target = target || new Vec3();\r\n    Box.calculateInertia(this.halfExtents, mass, target);\r\n    return target;\r\n};\r\n\r\nBox.calculateInertia = function(halfExtents,mass,target){\r\n    var e = halfExtents;\r\n    target.x = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.z*2*e.z );\r\n    target.y = 1.0 / 12.0 * mass * (   2*e.x*2*e.x + 2*e.z*2*e.z );\r\n    target.z = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.x*2*e.x );\r\n};\r\n\r\n/**\r\n * Get the box 6 side normals\r\n * @method getSideNormals\r\n * @param {array}      sixTargetVectors An array of 6 vectors, to store the resulting side normals in.\r\n * @param {Quaternion} quat             Orientation to apply to the normal vectors. If not provided, the vectors will be in respect to the local frame.\r\n * @return {array}\r\n */\r\nBox.prototype.getSideNormals = function(sixTargetVectors,quat){\r\n    var sides = sixTargetVectors;\r\n    var ex = this.halfExtents;\r\n    sides[0].set(  ex.x,     0,     0);\r\n    sides[1].set(     0,  ex.y,     0);\r\n    sides[2].set(     0,     0,  ex.z);\r\n    sides[3].set( -ex.x,     0,     0);\r\n    sides[4].set(     0, -ex.y,     0);\r\n    sides[5].set(     0,     0, -ex.z);\r\n\r\n    if(quat!==undefined){\r\n        for(var i=0; i!==sides.length; i++){\r\n            quat.vmult(sides[i],sides[i]);\r\n        }\r\n    }\r\n\r\n    return sides;\r\n};\r\n\r\nBox.prototype.volume = function(){\r\n    return 8.0 * this.halfExtents.x * this.halfExtents.y * this.halfExtents.z;\r\n};\r\n\r\nBox.prototype.updateBoundingSphereRadius = function(){\r\n    this.boundingSphereRadius = this.halfExtents.norm();\r\n};\r\n\r\nvar worldCornerTempPos = new Vec3();\r\nvar worldCornerTempNeg = new Vec3();\r\nBox.prototype.forEachWorldCorner = function(pos,quat,callback){\r\n\r\n    var e = this.halfExtents;\r\n    var corners = [[  e.x,  e.y,  e.z],\r\n                   [ -e.x,  e.y,  e.z],\r\n                   [ -e.x, -e.y,  e.z],\r\n                   [ -e.x, -e.y, -e.z],\r\n                   [  e.x, -e.y, -e.z],\r\n                   [  e.x,  e.y, -e.z],\r\n                   [ -e.x,  e.y, -e.z],\r\n                   [  e.x, -e.y,  e.z]];\r\n    for(var i=0; i<corners.length; i++){\r\n        worldCornerTempPos.set(corners[i][0],corners[i][1],corners[i][2]);\r\n        quat.vmult(worldCornerTempPos,worldCornerTempPos);\r\n        pos.vadd(worldCornerTempPos,worldCornerTempPos);\r\n        callback(worldCornerTempPos.x,\r\n                 worldCornerTempPos.y,\r\n                 worldCornerTempPos.z);\r\n    }\r\n};\r\n\r\nvar worldCornersTemp = [\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3(),\r\n    new Vec3()\r\n];\r\nBox.prototype.calculateWorldAABB = function(pos,quat,min,max){\r\n\r\n    var e = this.halfExtents;\r\n    worldCornersTemp[0].set(e.x, e.y, e.z);\r\n    worldCornersTemp[1].set(-e.x,  e.y, e.z);\r\n    worldCornersTemp[2].set(-e.x, -e.y, e.z);\r\n    worldCornersTemp[3].set(-e.x, -e.y, -e.z);\r\n    worldCornersTemp[4].set(e.x, -e.y, -e.z);\r\n    worldCornersTemp[5].set(e.x,  e.y, -e.z);\r\n    worldCornersTemp[6].set(-e.x,  e.y, -e.z);\r\n    worldCornersTemp[7].set(e.x, -e.y,  e.z);\r\n\r\n    var wc = worldCornersTemp[0];\r\n    quat.vmult(wc, wc);\r\n    pos.vadd(wc, wc);\r\n    max.copy(wc);\r\n    min.copy(wc);\r\n    for(var i=1; i<8; i++){\r\n        var wc = worldCornersTemp[i];\r\n        quat.vmult(wc, wc);\r\n        pos.vadd(wc, wc);\r\n        var x = wc.x;\r\n        var y = wc.y;\r\n        var z = wc.z;\r\n        if(x > max.x){\r\n            max.x = x;\r\n        }\r\n        if(y > max.y){\r\n            max.y = y;\r\n        }\r\n        if(z > max.z){\r\n            max.z = z;\r\n        }\r\n\r\n        if(x < min.x){\r\n            min.x = x;\r\n        }\r\n        if(y < min.y){\r\n            min.y = y;\r\n        }\r\n        if(z < min.z){\r\n            min.z = z;\r\n        }\r\n    }\r\n\r\n    // Get each axis max\r\n    // min.set(Infinity,Infinity,Infinity);\r\n    // max.set(-Infinity,-Infinity,-Infinity);\r\n    // this.forEachWorldCorner(pos,quat,function(x,y,z){\r\n    //     if(x > max.x){\r\n    //         max.x = x;\r\n    //     }\r\n    //     if(y > max.y){\r\n    //         max.y = y;\r\n    //     }\r\n    //     if(z > max.z){\r\n    //         max.z = z;\r\n    //     }\r\n\r\n    //     if(x < min.x){\r\n    //         min.x = x;\r\n    //     }\r\n    //     if(y < min.y){\r\n    //         min.y = y;\r\n    //     }\r\n    //     if(z < min.z){\r\n    //         min.z = z;\r\n    //     }\r\n    // });\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],38:[function(_dereq_,module,exports){\r\nmodule.exports = ConvexPolyhedron;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Transform = _dereq_('../math/Transform');\r\n\r\n/**\r\n * A set of polygons describing a convex shape.\r\n * @class ConvexPolyhedron\r\n * @constructor\r\n * @extends Shape\r\n * @description The shape MUST be convex for the code to work properly. No polygons may be coplanar (contained\r\n * in the same 3D plane), instead these should be merged into one polygon.\r\n *\r\n * @param {array} points An array of Vec3's\r\n * @param {array} faces Array of integer arrays, describing which vertices that is included in each face.\r\n *\r\n * @author qiao / https://github.com/qiao (original author, see https://github.com/qiao/three.js/commit/85026f0c769e4000148a67d45a9e9b9c5108836f)\r\n * @author schteppe / https://github.com/schteppe\r\n * @see http://www.altdevblogaday.com/2011/05/13/contact-generation-between-3d-convex-meshes/\r\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\r\n *\r\n * @todo Move the clipping functions to ContactGenerator?\r\n * @todo Automatically merge coplanar polygons in constructor.\r\n */\r\nfunction ConvexPolyhedron(points, faces, uniqueAxes) {\r\n    var that = this;\r\n    Shape.call(this);\r\n    this.type = Shape.types.CONVEXPOLYHEDRON;\r\n\r\n    /**\r\n     * Array of Vec3\r\n     * @property vertices\r\n     * @type {Array}\r\n     */\r\n    this.vertices = points||[];\r\n\r\n    this.worldVertices = []; // World transformed version of .vertices\r\n    this.worldVerticesNeedsUpdate = true;\r\n\r\n    /**\r\n     * Array of integer arrays, indicating which vertices each face consists of\r\n     * @property faces\r\n     * @type {Array}\r\n     */\r\n    this.faces = faces||[];\r\n\r\n    /**\r\n     * Array of Vec3\r\n     * @property faceNormals\r\n     * @type {Array}\r\n     */\r\n    this.faceNormals = [];\r\n    this.computeNormals();\r\n\r\n    this.worldFaceNormalsNeedsUpdate = true;\r\n    this.worldFaceNormals = []; // World transformed version of .faceNormals\r\n\r\n    /**\r\n     * Array of Vec3\r\n     * @property uniqueEdges\r\n     * @type {Array}\r\n     */\r\n    this.uniqueEdges = [];\r\n\r\n    /**\r\n     * If given, these locally defined, normalized axes are the only ones being checked when doing separating axis check.\r\n     * @property {Array} uniqueAxes\r\n     */\r\n    this.uniqueAxes = uniqueAxes ? uniqueAxes.slice() : null;\r\n\r\n    this.computeEdges();\r\n    this.updateBoundingSphereRadius();\r\n}\r\nConvexPolyhedron.prototype = new Shape();\r\nConvexPolyhedron.prototype.constructor = ConvexPolyhedron;\r\n\r\nvar computeEdges_tmpEdge = new Vec3();\r\n/**\r\n * Computes uniqueEdges\r\n * @method computeEdges\r\n */\r\nConvexPolyhedron.prototype.computeEdges = function(){\r\n    var faces = this.faces;\r\n    var vertices = this.vertices;\r\n    var nv = vertices.length;\r\n    var edges = this.uniqueEdges;\r\n\r\n    edges.length = 0;\r\n\r\n    var edge = computeEdges_tmpEdge;\r\n\r\n    for(var i=0; i !== faces.length; i++){\r\n        var face = faces[i];\r\n        var numVertices = face.length;\r\n        for(var j = 0; j !== numVertices; j++){\r\n            var k = ( j+1 ) % numVertices;\r\n            vertices[face[j]].vsub(vertices[face[k]], edge);\r\n            edge.normalize();\r\n            var found = false;\r\n            for(var p=0; p !== edges.length; p++){\r\n                if (edges[p].almostEquals(edge) || edges[p].almostEquals(edge)){\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!found){\r\n                edges.push(edge.clone());\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Compute the normals of the faces. Will reuse existing Vec3 objects in the .faceNormals array if they exist.\r\n * @method computeNormals\r\n */\r\nConvexPolyhedron.prototype.computeNormals = function(){\r\n    this.faceNormals.length = this.faces.length;\r\n\r\n    // Generate normals\r\n    for(var i=0; i<this.faces.length; i++){\r\n\r\n        // Check so all vertices exists for this face\r\n        for(var j=0; j<this.faces[i].length; j++){\r\n            if(!this.vertices[this.faces[i][j]]){\r\n                throw new Error(\"Vertex \"+this.faces[i][j]+\" not found!\");\r\n            }\r\n        }\r\n\r\n        var n = this.faceNormals[i] || new Vec3();\r\n        this.getFaceNormal(i,n);\r\n        n.negate(n);\r\n        this.faceNormals[i] = n;\r\n        var vertex = this.vertices[this.faces[i][0]];\r\n        if(n.dot(vertex) < 0){\r\n            console.error(\".faceNormals[\" + i + \"] = Vec3(\"+n.toString()+\") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.\");\r\n            for(var j=0; j<this.faces[i].length; j++){\r\n                console.warn(\".vertices[\"+this.faces[i][j]+\"] = Vec3(\"+this.vertices[this.faces[i][j]].toString()+\")\");\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Get face normal given 3 vertices\r\n * @static\r\n * @method getFaceNormal\r\n * @param {Vec3} va\r\n * @param {Vec3} vb\r\n * @param {Vec3} vc\r\n * @param {Vec3} target\r\n */\r\nvar cb = new Vec3();\r\nvar ab = new Vec3();\r\nConvexPolyhedron.computeNormal = function ( va, vb, vc, target ) {\r\n    vb.vsub(va,ab);\r\n    vc.vsub(vb,cb);\r\n    cb.cross(ab,target);\r\n    if ( !target.isZero() ) {\r\n        target.normalize();\r\n    }\r\n};\r\n\r\n/**\r\n * Compute the normal of a face from its vertices\r\n * @method getFaceNormal\r\n * @param  {Number} i\r\n * @param  {Vec3} target\r\n */\r\nConvexPolyhedron.prototype.getFaceNormal = function(i,target){\r\n    var f = this.faces[i];\r\n    var va = this.vertices[f[0]];\r\n    var vb = this.vertices[f[1]];\r\n    var vc = this.vertices[f[2]];\r\n    return ConvexPolyhedron.computeNormal(va,vb,vc,target);\r\n};\r\n\r\n/**\r\n * @method clipAgainstHull\r\n * @param {Vec3} posA\r\n * @param {Quaternion} quatA\r\n * @param {ConvexPolyhedron} hullB\r\n * @param {Vec3} posB\r\n * @param {Quaternion} quatB\r\n * @param {Vec3} separatingNormal\r\n * @param {Number} minDist Clamp distance\r\n * @param {Number} maxDist\r\n * @param {array} result The an array of contact point objects, see clipFaceAgainstHull\r\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\r\n */\r\nvar cah_WorldNormal = new Vec3();\r\nConvexPolyhedron.prototype.clipAgainstHull = function(posA,quatA,hullB,posB,quatB,separatingNormal,minDist,maxDist,result){\r\n    var WorldNormal = cah_WorldNormal;\r\n    var hullA = this;\r\n    var curMaxDist = maxDist;\r\n    var closestFaceB = -1;\r\n    var dmax = -Number.MAX_VALUE;\r\n    for(var face=0; face < hullB.faces.length; face++){\r\n        WorldNormal.copy(hullB.faceNormals[face]);\r\n        quatB.vmult(WorldNormal,WorldNormal);\r\n        //posB.vadd(WorldNormal,WorldNormal);\r\n        var d = WorldNormal.dot(separatingNormal);\r\n        if (d > dmax){\r\n            dmax = d;\r\n            closestFaceB = face;\r\n        }\r\n    }\r\n    var worldVertsB1 = [];\r\n    var polyB = hullB.faces[closestFaceB];\r\n    var numVertices = polyB.length;\r\n    for(var e0=0; e0<numVertices; e0++){\r\n        var b = hullB.vertices[polyB[e0]];\r\n        var worldb = new Vec3();\r\n        worldb.copy(b);\r\n        quatB.vmult(worldb,worldb);\r\n        posB.vadd(worldb,worldb);\r\n        worldVertsB1.push(worldb);\r\n    }\r\n\r\n    if (closestFaceB>=0){\r\n        this.clipFaceAgainstHull(separatingNormal,\r\n                                 posA,\r\n                                 quatA,\r\n                                 worldVertsB1,\r\n                                 minDist,\r\n                                 maxDist,\r\n                                 result);\r\n    }\r\n};\r\n\r\n/**\r\n * Find the separating axis between this hull and another\r\n * @method findSeparatingAxis\r\n * @param {ConvexPolyhedron} hullB\r\n * @param {Vec3} posA\r\n * @param {Quaternion} quatA\r\n * @param {Vec3} posB\r\n * @param {Quaternion} quatB\r\n * @param {Vec3} target The target vector to save the axis in\r\n * @return {bool} Returns false if a separation is found, else true\r\n */\r\nvar fsa_faceANormalWS3 = new Vec3(),\r\n    fsa_Worldnormal1 = new Vec3(),\r\n    fsa_deltaC = new Vec3(),\r\n    fsa_worldEdge0 = new Vec3(),\r\n    fsa_worldEdge1 = new Vec3(),\r\n    fsa_Cross = new Vec3();\r\nConvexPolyhedron.prototype.findSeparatingAxis = function(hullB,posA,quatA,posB,quatB,target, faceListA, faceListB){\r\n    var faceANormalWS3 = fsa_faceANormalWS3,\r\n        Worldnormal1 = fsa_Worldnormal1,\r\n        deltaC = fsa_deltaC,\r\n        worldEdge0 = fsa_worldEdge0,\r\n        worldEdge1 = fsa_worldEdge1,\r\n        Cross = fsa_Cross;\r\n\r\n    var dmin = Number.MAX_VALUE;\r\n    var hullA = this;\r\n    var curPlaneTests=0;\r\n\r\n    if(!hullA.uniqueAxes){\r\n\r\n        var numFacesA = faceListA ? faceListA.length : hullA.faces.length;\r\n\r\n        // Test face normals from hullA\r\n        for(var i=0; i<numFacesA; i++){\r\n            var fi = faceListA ? faceListA[i] : i;\r\n\r\n            // Get world face normal\r\n            faceANormalWS3.copy(hullA.faceNormals[fi]);\r\n            quatA.vmult(faceANormalWS3,faceANormalWS3);\r\n\r\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\r\n            if(d===false){\r\n                return false;\r\n            }\r\n\r\n            if(d<dmin){\r\n                dmin = d;\r\n                target.copy(faceANormalWS3);\r\n            }\r\n        }\r\n\r\n    } else {\r\n\r\n        // Test unique axes\r\n        for(var i = 0; i !== hullA.uniqueAxes.length; i++){\r\n\r\n            // Get world axis\r\n            quatA.vmult(hullA.uniqueAxes[i],faceANormalWS3);\r\n\r\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\r\n            if(d===false){\r\n                return false;\r\n            }\r\n\r\n            if(d<dmin){\r\n                dmin = d;\r\n                target.copy(faceANormalWS3);\r\n            }\r\n        }\r\n    }\r\n\r\n    if(!hullB.uniqueAxes){\r\n\r\n        // Test face normals from hullB\r\n        var numFacesB = faceListB ? faceListB.length : hullB.faces.length;\r\n        for(var i=0;i<numFacesB;i++){\r\n\r\n            var fi = faceListB ? faceListB[i] : i;\r\n\r\n            Worldnormal1.copy(hullB.faceNormals[fi]);\r\n            quatB.vmult(Worldnormal1,Worldnormal1);\r\n            curPlaneTests++;\r\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\r\n            if(d===false){\r\n                return false;\r\n            }\r\n\r\n            if(d<dmin){\r\n                dmin = d;\r\n                target.copy(Worldnormal1);\r\n            }\r\n        }\r\n    } else {\r\n\r\n        // Test unique axes in B\r\n        for(var i = 0; i !== hullB.uniqueAxes.length; i++){\r\n            quatB.vmult(hullB.uniqueAxes[i],Worldnormal1);\r\n\r\n            curPlaneTests++;\r\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\r\n            if(d===false){\r\n                return false;\r\n            }\r\n\r\n            if(d<dmin){\r\n                dmin = d;\r\n                target.copy(Worldnormal1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Test edges\r\n    for(var e0=0; e0 !== hullA.uniqueEdges.length; e0++){\r\n\r\n        // Get world edge\r\n        quatA.vmult(hullA.uniqueEdges[e0],worldEdge0);\r\n\r\n        for(var e1=0; e1 !== hullB.uniqueEdges.length; e1++){\r\n\r\n            // Get world edge 2\r\n            quatB.vmult(hullB.uniqueEdges[e1], worldEdge1);\r\n            worldEdge0.cross(worldEdge1,Cross);\r\n\r\n            if(!Cross.almostZero()){\r\n                Cross.normalize();\r\n                var dist = hullA.testSepAxis(Cross, hullB, posA, quatA, posB, quatB);\r\n                if(dist === false){\r\n                    return false;\r\n                }\r\n                if(dist < dmin){\r\n                    dmin = dist;\r\n                    target.copy(Cross);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    posB.vsub(posA,deltaC);\r\n    if((deltaC.dot(target))>0.0){\r\n        target.negate(target);\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nvar maxminA=[], maxminB=[];\r\n\r\n/**\r\n * Test separating axis against two hulls. Both hulls are projected onto the axis and the overlap size is returned if there is one.\r\n * @method testSepAxis\r\n * @param {Vec3} axis\r\n * @param {ConvexPolyhedron} hullB\r\n * @param {Vec3} posA\r\n * @param {Quaternion} quatA\r\n * @param {Vec3} posB\r\n * @param {Quaternion} quatB\r\n * @return {number} The overlap depth, or FALSE if no penetration.\r\n */\r\nConvexPolyhedron.prototype.testSepAxis = function(axis, hullB, posA, quatA, posB, quatB){\r\n    var hullA=this;\r\n    ConvexPolyhedron.project(hullA, axis, posA, quatA, maxminA);\r\n    ConvexPolyhedron.project(hullB, axis, posB, quatB, maxminB);\r\n    var maxA = maxminA[0];\r\n    var minA = maxminA[1];\r\n    var maxB = maxminB[0];\r\n    var minB = maxminB[1];\r\n    if(maxA<minB || maxB<minA){\r\n        return false; // Separated\r\n    }\r\n    var d0 = maxA - minB;\r\n    var d1 = maxB - minA;\r\n    var depth = d0<d1 ? d0:d1;\r\n    return depth;\r\n};\r\n\r\nvar cli_aabbmin = new Vec3(),\r\n    cli_aabbmax = new Vec3();\r\n\r\n/**\r\n * @method calculateLocalInertia\r\n * @param  {Number} mass\r\n * @param  {Vec3} target\r\n */\r\nConvexPolyhedron.prototype.calculateLocalInertia = function(mass,target){\r\n    // Approximate with box inertia\r\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\r\n    this.computeLocalAABB(cli_aabbmin,cli_aabbmax);\r\n    var x = cli_aabbmax.x - cli_aabbmin.x,\r\n        y = cli_aabbmax.y - cli_aabbmin.y,\r\n        z = cli_aabbmax.z - cli_aabbmin.z;\r\n    target.x = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z );\r\n    target.y = 1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z );\r\n    target.z = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x );\r\n};\r\n\r\n/**\r\n * @method getPlaneConstantOfFace\r\n * @param  {Number} face_i Index of the face\r\n * @return {Number}\r\n */\r\nConvexPolyhedron.prototype.getPlaneConstantOfFace = function(face_i){\r\n    var f = this.faces[face_i];\r\n    var n = this.faceNormals[face_i];\r\n    var v = this.vertices[f[0]];\r\n    var c = -n.dot(v);\r\n    return c;\r\n};\r\n\r\n/**\r\n * Clip a face against a hull.\r\n * @method clipFaceAgainstHull\r\n * @param {Vec3} separatingNormal\r\n * @param {Vec3} posA\r\n * @param {Quaternion} quatA\r\n * @param {Array} worldVertsB1 An array of Vec3 with vertices in the world frame.\r\n * @param {Number} minDist Distance clamping\r\n * @param {Number} maxDist\r\n * @param Array result Array to store resulting contact points in. Will be objects with properties: point, depth, normal. These are represented in world coordinates.\r\n */\r\nvar cfah_faceANormalWS = new Vec3(),\r\n    cfah_edge0 = new Vec3(),\r\n    cfah_WorldEdge0 = new Vec3(),\r\n    cfah_worldPlaneAnormal1 = new Vec3(),\r\n    cfah_planeNormalWS1 = new Vec3(),\r\n    cfah_worldA1 = new Vec3(),\r\n    cfah_localPlaneNormal = new Vec3(),\r\n    cfah_planeNormalWS = new Vec3();\r\nConvexPolyhedron.prototype.clipFaceAgainstHull = function(separatingNormal, posA, quatA, worldVertsB1, minDist, maxDist,result){\r\n    var faceANormalWS = cfah_faceANormalWS,\r\n        edge0 = cfah_edge0,\r\n        WorldEdge0 = cfah_WorldEdge0,\r\n        worldPlaneAnormal1 = cfah_worldPlaneAnormal1,\r\n        planeNormalWS1 = cfah_planeNormalWS1,\r\n        worldA1 = cfah_worldA1,\r\n        localPlaneNormal = cfah_localPlaneNormal,\r\n        planeNormalWS = cfah_planeNormalWS;\r\n\r\n    var hullA = this;\r\n    var worldVertsB2 = [];\r\n    var pVtxIn = worldVertsB1;\r\n    var pVtxOut = worldVertsB2;\r\n    // Find the face with normal closest to the separating axis\r\n    var closestFaceA = -1;\r\n    var dmin = Number.MAX_VALUE;\r\n    for(var face=0; face<hullA.faces.length; face++){\r\n        faceANormalWS.copy(hullA.faceNormals[face]);\r\n        quatA.vmult(faceANormalWS,faceANormalWS);\r\n        //posA.vadd(faceANormalWS,faceANormalWS);\r\n        var d = faceANormalWS.dot(separatingNormal);\r\n        if (d < dmin){\r\n            dmin = d;\r\n            closestFaceA = face;\r\n        }\r\n    }\r\n    if (closestFaceA < 0){\r\n        // console.log(\"--- did not find any closest face... ---\");\r\n        return;\r\n    }\r\n    //console.log(\"closest A: \",closestFaceA);\r\n    // Get the face and construct connected faces\r\n    var polyA = hullA.faces[closestFaceA];\r\n    polyA.connectedFaces = [];\r\n    for(var i=0; i<hullA.faces.length; i++){\r\n        for(var j=0; j<hullA.faces[i].length; j++){\r\n            if(polyA.indexOf(hullA.faces[i][j])!==-1 /* Sharing a vertex*/ && i!==closestFaceA /* Not the one we are looking for connections from */ && polyA.connectedFaces.indexOf(i)===-1 /* Not already added */ ){\r\n                polyA.connectedFaces.push(i);\r\n            }\r\n        }\r\n    }\r\n    // Clip the polygon to the back of the planes of all faces of hull A, that are adjacent to the witness face\r\n    var numContacts = pVtxIn.length;\r\n    var numVerticesA = polyA.length;\r\n    var res = [];\r\n    for(var e0=0; e0<numVerticesA; e0++){\r\n        var a = hullA.vertices[polyA[e0]];\r\n        var b = hullA.vertices[polyA[(e0+1)%numVerticesA]];\r\n        a.vsub(b,edge0);\r\n        WorldEdge0.copy(edge0);\r\n        quatA.vmult(WorldEdge0,WorldEdge0);\r\n        posA.vadd(WorldEdge0,WorldEdge0);\r\n        worldPlaneAnormal1.copy(this.faceNormals[closestFaceA]);//transA.getBasis()* btVector3(polyA.m_plane[0],polyA.m_plane[1],polyA.m_plane[2]);\r\n        quatA.vmult(worldPlaneAnormal1,worldPlaneAnormal1);\r\n        posA.vadd(worldPlaneAnormal1,worldPlaneAnormal1);\r\n        WorldEdge0.cross(worldPlaneAnormal1,planeNormalWS1);\r\n        planeNormalWS1.negate(planeNormalWS1);\r\n        worldA1.copy(a);\r\n        quatA.vmult(worldA1,worldA1);\r\n        posA.vadd(worldA1,worldA1);\r\n        var planeEqWS1 = -worldA1.dot(planeNormalWS1);\r\n        var planeEqWS;\r\n        if(true){\r\n            var otherFace = polyA.connectedFaces[e0];\r\n            localPlaneNormal.copy(this.faceNormals[otherFace]);\r\n            var localPlaneEq = this.getPlaneConstantOfFace(otherFace);\r\n\r\n            planeNormalWS.copy(localPlaneNormal);\r\n            quatA.vmult(planeNormalWS,planeNormalWS);\r\n            //posA.vadd(planeNormalWS,planeNormalWS);\r\n            var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\r\n        } else  {\r\n            planeNormalWS.copy(planeNormalWS1);\r\n            planeEqWS = planeEqWS1;\r\n        }\r\n\r\n        // Clip face against our constructed plane\r\n        this.clipFaceAgainstPlane(pVtxIn, pVtxOut, planeNormalWS, planeEqWS);\r\n\r\n        // Throw away all clipped points, but save the reamining until next clip\r\n        while(pVtxIn.length){\r\n            pVtxIn.shift();\r\n        }\r\n        while(pVtxOut.length){\r\n            pVtxIn.push(pVtxOut.shift());\r\n        }\r\n    }\r\n\r\n    //console.log(\"Resulting points after clip:\",pVtxIn);\r\n\r\n    // only keep contact points that are behind the witness face\r\n    localPlaneNormal.copy(this.faceNormals[closestFaceA]);\r\n\r\n    var localPlaneEq = this.getPlaneConstantOfFace(closestFaceA);\r\n    planeNormalWS.copy(localPlaneNormal);\r\n    quatA.vmult(planeNormalWS,planeNormalWS);\r\n\r\n    var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\r\n    for (var i=0; i<pVtxIn.length; i++){\r\n        var depth = planeNormalWS.dot(pVtxIn[i]) + planeEqWS; //???\r\n        /*console.log(\"depth calc from normal=\",planeNormalWS.toString(),\" and constant \"+planeEqWS+\" and vertex \",pVtxIn[i].toString(),\" gives \"+depth);*/\r\n        if (depth <=minDist){\r\n            console.log(\"clamped: depth=\"+depth+\" to minDist=\"+(minDist+\"\"));\r\n            depth = minDist;\r\n        }\r\n\r\n        if (depth <=maxDist){\r\n            var point = pVtxIn[i];\r\n            if(depth<=0){\r\n                /*console.log(\"Got contact point \",point.toString(),\r\n                  \", depth=\",depth,\r\n                  \"contact normal=\",separatingNormal.toString(),\r\n                  \"plane\",planeNormalWS.toString(),\r\n                  \"planeConstant\",planeEqWS);*/\r\n                var p = {\r\n                    point:point,\r\n                    normal:planeNormalWS,\r\n                    depth: depth,\r\n                };\r\n                result.push(p);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Clip a face in a hull against the back of a plane.\r\n * @method clipFaceAgainstPlane\r\n * @param {Array} inVertices\r\n * @param {Array} outVertices\r\n * @param {Vec3} planeNormal\r\n * @param {Number} planeConstant The constant in the mathematical plane equation\r\n */\r\nConvexPolyhedron.prototype.clipFaceAgainstPlane = function(inVertices,outVertices, planeNormal, planeConstant){\r\n    var n_dot_first, n_dot_last;\r\n    var numVerts = inVertices.length;\r\n\r\n    if(numVerts < 2){\r\n        return outVertices;\r\n    }\r\n\r\n    var firstVertex = inVertices[inVertices.length-1],\r\n        lastVertex =   inVertices[0];\r\n\r\n    n_dot_first = planeNormal.dot(firstVertex) + planeConstant;\r\n\r\n    for(var vi = 0; vi < numVerts; vi++){\r\n        lastVertex = inVertices[vi];\r\n        n_dot_last = planeNormal.dot(lastVertex) + planeConstant;\r\n        if(n_dot_first < 0){\r\n            if(n_dot_last < 0){\r\n                // Start < 0, end < 0, so output lastVertex\r\n                var newv = new Vec3();\r\n                newv.copy(lastVertex);\r\n                outVertices.push(newv);\r\n            } else {\r\n                // Start < 0, end >= 0, so output intersection\r\n                var newv = new Vec3();\r\n                firstVertex.lerp(lastVertex,\r\n                                 n_dot_first / (n_dot_first - n_dot_last),\r\n                                 newv);\r\n                outVertices.push(newv);\r\n            }\r\n        } else {\r\n            if(n_dot_last<0){\r\n                // Start >= 0, end < 0 so output intersection and end\r\n                var newv = new Vec3();\r\n                firstVertex.lerp(lastVertex,\r\n                                 n_dot_first / (n_dot_first - n_dot_last),\r\n                                 newv);\r\n                outVertices.push(newv);\r\n                outVertices.push(lastVertex);\r\n            }\r\n        }\r\n        firstVertex = lastVertex;\r\n        n_dot_first = n_dot_last;\r\n    }\r\n    return outVertices;\r\n};\r\n\r\n// Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\r\nConvexPolyhedron.prototype.computeWorldVertices = function(position,quat){\r\n    var N = this.vertices.length;\r\n    while(this.worldVertices.length < N){\r\n        this.worldVertices.push( new Vec3() );\r\n    }\r\n\r\n    var verts = this.vertices,\r\n        worldVerts = this.worldVertices;\r\n    for(var i=0; i!==N; i++){\r\n        quat.vmult( verts[i] , worldVerts[i] );\r\n        position.vadd( worldVerts[i] , worldVerts[i] );\r\n    }\r\n\r\n    this.worldVerticesNeedsUpdate = false;\r\n};\r\n\r\nvar computeLocalAABB_worldVert = new Vec3();\r\nConvexPolyhedron.prototype.computeLocalAABB = function(aabbmin,aabbmax){\r\n    var n = this.vertices.length,\r\n        vertices = this.vertices,\r\n        worldVert = computeLocalAABB_worldVert;\r\n\r\n    aabbmin.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\r\n    aabbmax.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\r\n\r\n    for(var i=0; i<n; i++){\r\n        var v = vertices[i];\r\n        if     (v.x < aabbmin.x){\r\n            aabbmin.x = v.x;\r\n        } else if(v.x > aabbmax.x){\r\n            aabbmax.x = v.x;\r\n        }\r\n        if     (v.y < aabbmin.y){\r\n            aabbmin.y = v.y;\r\n        } else if(v.y > aabbmax.y){\r\n            aabbmax.y = v.y;\r\n        }\r\n        if     (v.z < aabbmin.z){\r\n            aabbmin.z = v.z;\r\n        } else if(v.z > aabbmax.z){\r\n            aabbmax.z = v.z;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\r\n * @method computeWorldFaceNormals\r\n * @param  {Quaternion} quat\r\n */\r\nConvexPolyhedron.prototype.computeWorldFaceNormals = function(quat){\r\n    var N = this.faceNormals.length;\r\n    while(this.worldFaceNormals.length < N){\r\n        this.worldFaceNormals.push( new Vec3() );\r\n    }\r\n\r\n    var normals = this.faceNormals,\r\n        worldNormals = this.worldFaceNormals;\r\n    for(var i=0; i!==N; i++){\r\n        quat.vmult( normals[i] , worldNormals[i] );\r\n    }\r\n\r\n    this.worldFaceNormalsNeedsUpdate = false;\r\n};\r\n\r\n/**\r\n * @method updateBoundingSphereRadius\r\n */\r\nConvexPolyhedron.prototype.updateBoundingSphereRadius = function(){\r\n    // Assume points are distributed with local (0,0,0) as center\r\n    var max2 = 0;\r\n    var verts = this.vertices;\r\n    for(var i=0, N=verts.length; i!==N; i++) {\r\n        var norm2 = verts[i].norm2();\r\n        if(norm2 > max2){\r\n            max2 = norm2;\r\n        }\r\n    }\r\n    this.boundingSphereRadius = Math.sqrt(max2);\r\n};\r\n\r\nvar tempWorldVertex = new Vec3();\r\n\r\n/**\r\n * @method calculateWorldAABB\r\n * @param {Vec3}        pos\r\n * @param {Quaternion}  quat\r\n * @param {Vec3}        min\r\n * @param {Vec3}        max\r\n */\r\nConvexPolyhedron.prototype.calculateWorldAABB = function(pos,quat,min,max){\r\n    var n = this.vertices.length, verts = this.vertices;\r\n    var minx,miny,minz,maxx,maxy,maxz;\r\n    for(var i=0; i<n; i++){\r\n        tempWorldVertex.copy(verts[i]);\r\n        quat.vmult(tempWorldVertex,tempWorldVertex);\r\n        pos.vadd(tempWorldVertex,tempWorldVertex);\r\n        var v = tempWorldVertex;\r\n        if     (v.x < minx || minx===undefined){\r\n            minx = v.x;\r\n        } else if(v.x > maxx || maxx===undefined){\r\n            maxx = v.x;\r\n        }\r\n\r\n        if     (v.y < miny || miny===undefined){\r\n            miny = v.y;\r\n        } else if(v.y > maxy || maxy===undefined){\r\n            maxy = v.y;\r\n        }\r\n\r\n        if     (v.z < minz || minz===undefined){\r\n            minz = v.z;\r\n        } else if(v.z > maxz || maxz===undefined){\r\n            maxz = v.z;\r\n        }\r\n    }\r\n    min.set(minx,miny,minz);\r\n    max.set(maxx,maxy,maxz);\r\n};\r\n\r\n/**\r\n * Get approximate convex volume\r\n * @method volume\r\n * @return {Number}\r\n */\r\nConvexPolyhedron.prototype.volume = function(){\r\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\r\n};\r\n\r\n/**\r\n * Get an average of all the vertices positions\r\n * @method getAveragePointLocal\r\n * @param  {Vec3} target\r\n * @return {Vec3}\r\n */\r\nConvexPolyhedron.prototype.getAveragePointLocal = function(target){\r\n    target = target || new Vec3();\r\n    var n = this.vertices.length,\r\n        verts = this.vertices;\r\n    for(var i=0; i<n; i++){\r\n        target.vadd(verts[i],target);\r\n    }\r\n    target.mult(1/n,target);\r\n    return target;\r\n};\r\n\r\n/**\r\n * Transform all local points. Will change the .vertices\r\n * @method transformAllPoints\r\n * @param  {Vec3} offset\r\n * @param  {Quaternion} quat\r\n */\r\nConvexPolyhedron.prototype.transformAllPoints = function(offset,quat){\r\n    var n = this.vertices.length,\r\n        verts = this.vertices;\r\n\r\n    // Apply rotation\r\n    if(quat){\r\n        // Rotate vertices\r\n        for(var i=0; i<n; i++){\r\n            var v = verts[i];\r\n            quat.vmult(v,v);\r\n        }\r\n        // Rotate face normals\r\n        for(var i=0; i<this.faceNormals.length; i++){\r\n            var v = this.faceNormals[i];\r\n            quat.vmult(v,v);\r\n        }\r\n        /*\r\n        // Rotate edges\r\n        for(var i=0; i<this.uniqueEdges.length; i++){\r\n            var v = this.uniqueEdges[i];\r\n            quat.vmult(v,v);\r\n        }*/\r\n    }\r\n\r\n    // Apply offset\r\n    if(offset){\r\n        for(var i=0; i<n; i++){\r\n            var v = verts[i];\r\n            v.vadd(offset,v);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Checks whether p is inside the polyhedra. Must be in local coords. The point lies outside of the convex hull of the other points if and only if the direction of all the vectors from it to those other points are on less than one half of a sphere around it.\r\n * @method pointIsInside\r\n * @param  {Vec3} p      A point given in local coordinates\r\n * @return {Boolean}\r\n */\r\nvar ConvexPolyhedron_pointIsInside = new Vec3();\r\nvar ConvexPolyhedron_vToP = new Vec3();\r\nvar ConvexPolyhedron_vToPointInside = new Vec3();\r\nConvexPolyhedron.prototype.pointIsInside = function(p){\r\n    var n = this.vertices.length,\r\n        verts = this.vertices,\r\n        faces = this.faces,\r\n        normals = this.faceNormals;\r\n    var positiveResult = null;\r\n    var N = this.faces.length;\r\n    var pointInside = ConvexPolyhedron_pointIsInside;\r\n    this.getAveragePointLocal(pointInside);\r\n    for(var i=0; i<N; i++){\r\n        var numVertices = this.faces[i].length;\r\n        var n = normals[i];\r\n        var v = verts[faces[i][0]]; // We only need one point in the face\r\n\r\n        // This dot product determines which side of the edge the point is\r\n        var vToP = ConvexPolyhedron_vToP;\r\n        p.vsub(v,vToP);\r\n        var r1 = n.dot(vToP);\r\n\r\n        var vToPointInside = ConvexPolyhedron_vToPointInside;\r\n        pointInside.vsub(v,vToPointInside);\r\n        var r2 = n.dot(vToPointInside);\r\n\r\n        if((r1<0 && r2>0) || (r1>0 && r2<0)){\r\n            return false; // Encountered some other sign. Exit.\r\n        } else {\r\n        }\r\n    }\r\n\r\n    // If we got here, all dot products were of the same sign.\r\n    return positiveResult ? 1 : -1;\r\n};\r\n\r\n/**\r\n * Get max and min dot product of a convex hull at position (pos,quat) projected onto an axis. Results are saved in the array maxmin.\r\n * @static\r\n * @method project\r\n * @param {ConvexPolyhedron} hull\r\n * @param {Vec3} axis\r\n * @param {Vec3} pos\r\n * @param {Quaternion} quat\r\n * @param {array} result result[0] and result[1] will be set to maximum and minimum, respectively.\r\n */\r\nvar project_worldVertex = new Vec3();\r\nvar project_localAxis = new Vec3();\r\nvar project_localOrigin = new Vec3();\r\nConvexPolyhedron.project = function(hull, axis, pos, quat, result){\r\n    var n = hull.vertices.length,\r\n        worldVertex = project_worldVertex,\r\n        localAxis = project_localAxis,\r\n        max = 0,\r\n        min = 0,\r\n        localOrigin = project_localOrigin,\r\n        vs = hull.vertices;\r\n\r\n    localOrigin.setZero();\r\n\r\n    // Transform the axis to local\r\n    Transform.vectorToLocalFrame(pos, quat, axis, localAxis);\r\n    Transform.pointToLocalFrame(pos, quat, localOrigin, localOrigin);\r\n    var add = localOrigin.dot(localAxis);\r\n\r\n    min = max = vs[0].dot(localAxis);\r\n\r\n    for(var i = 1; i < n; i++){\r\n        var val = vs[i].dot(localAxis);\r\n\r\n        if(val > max){\r\n            max = val;\r\n        }\r\n\r\n        if(val < min){\r\n            min = val;\r\n        }\r\n    }\r\n\r\n    min -= add;\r\n    max -= add;\r\n\r\n    if(min > max){\r\n        // Inconsistent - swap\r\n        var temp = min;\r\n        min = max;\r\n        max = temp;\r\n    }\r\n    // Output\r\n    result[0] = max;\r\n    result[1] = min;\r\n};\r\n\r\n},{\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"./Shape\":43}],39:[function(_dereq_,module,exports){\r\nmodule.exports = Cylinder;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\r\n\r\n/**\r\n * @class Cylinder\r\n * @constructor\r\n * @extends ConvexPolyhedron\r\n * @author schteppe / https://github.com/schteppe\r\n * @param {Number} radiusTop\r\n * @param {Number} radiusBottom\r\n * @param {Number} height\r\n * @param {Number} numSegments The number of segments to build the cylinder out of\r\n */\r\nfunction Cylinder( radiusTop, radiusBottom, height , numSegments ) {\r\n    var N = numSegments,\r\n        verts = [],\r\n        axes = [],\r\n        faces = [],\r\n        bottomface = [],\r\n        topface = [],\r\n        cos = Math.cos,\r\n        sin = Math.sin;\r\n\r\n    // First bottom point\r\n    verts.push(new Vec3(radiusBottom*cos(0),\r\n                               radiusBottom*sin(0),\r\n                               -height*0.5));\r\n    bottomface.push(0);\r\n\r\n    // First top point\r\n    verts.push(new Vec3(radiusTop*cos(0),\r\n                               radiusTop*sin(0),\r\n                               height*0.5));\r\n    topface.push(1);\r\n\r\n    for(var i=0; i<N; i++){\r\n        var theta = 2*Math.PI/N * (i+1);\r\n        var thetaN = 2*Math.PI/N * (i+0.5);\r\n        if(i<N-1){\r\n            // Bottom\r\n            verts.push(new Vec3(radiusBottom*cos(theta),\r\n                                       radiusBottom*sin(theta),\r\n                                       -height*0.5));\r\n            bottomface.push(2*i+2);\r\n            // Top\r\n            verts.push(new Vec3(radiusTop*cos(theta),\r\n                                       radiusTop*sin(theta),\r\n                                       height*0.5));\r\n            topface.push(2*i+3);\r\n\r\n            // Face\r\n            faces.push([2*i+2, 2*i+3, 2*i+1,2*i]);\r\n        } else {\r\n            faces.push([0,1, 2*i+1, 2*i]); // Connect\r\n        }\r\n\r\n        // Axis: we can cut off half of them if we have even number of segments\r\n        if(N % 2 === 1 || i < N / 2){\r\n            axes.push(new Vec3(cos(thetaN), sin(thetaN), 0));\r\n        }\r\n    }\r\n    faces.push(topface);\r\n    axes.push(new Vec3(0,0,1));\r\n\r\n    // Reorder bottom face\r\n    var temp = [];\r\n    for(var i=0; i<bottomface.length; i++){\r\n        temp.push(bottomface[bottomface.length - i - 1]);\r\n    }\r\n    faces.push(temp);\r\n\r\n    this.type = Shape.types.CONVEXPOLYHEDRON;\r\n    ConvexPolyhedron.call( this, verts, faces, axes );\r\n}\r\n\r\nCylinder.prototype = new ConvexPolyhedron();\r\n\r\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],40:[function(_dereq_,module,exports){\r\nvar Shape = _dereq_('./Shape');\r\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Utils = _dereq_('../utils/Utils');\r\n\r\nmodule.exports = Heightfield;\r\n\r\n/**\r\n * Heightfield shape class. Height data is given as an array. These data points are spread out evenly with a given distance.\r\n * @class Heightfield\r\n * @extends Shape\r\n * @constructor\r\n * @param {Array} data An array of Y values that will be used to construct the terrain.\r\n * @param {object} options\r\n * @param {Number} [options.minValue] Minimum value of the data points in the data array. Will be computed automatically if not given.\r\n * @param {Number} [options.maxValue] Maximum value.\r\n * @param {Number} [options.elementSize=0.1] World spacing between the data points in X direction.\r\n * @todo Should be possible to use along all axes, not just y\r\n *\r\n * @example\r\n *     // Generate some height data (y-values).\r\n *     var data = [];\r\n *     for(var i = 0; i < 1000; i++){\r\n *         var y = 0.5 * Math.cos(0.2 * i);\r\n *         data.push(y);\r\n *     }\r\n *\r\n *     // Create the heightfield shape\r\n *     var heightfieldShape = new Heightfield(data, {\r\n *         elementSize: 1 // Distance between the data points in X and Y directions\r\n *     });\r\n *     var heightfieldBody = new Body();\r\n *     heightfieldBody.addShape(heightfieldShape);\r\n *     world.addBody(heightfieldBody);\r\n */\r\nfunction Heightfield(data, options){\r\n    options = Utils.defaults(options, {\r\n        maxValue : null,\r\n        minValue : null,\r\n        elementSize : 1\r\n    });\r\n\r\n    /**\r\n     * An array of numbers, or height values, that are spread out along the x axis.\r\n     * @property {array} data\r\n     */\r\n    this.data = data;\r\n\r\n    /**\r\n     * Max value of the data\r\n     * @property {number} maxValue\r\n     */\r\n    this.maxValue = options.maxValue;\r\n\r\n    /**\r\n     * Max value of the data\r\n     * @property {number} minValue\r\n     */\r\n    this.minValue = options.minValue;\r\n\r\n    /**\r\n     * The width of each element\r\n     * @property {number} elementSize\r\n     * @todo elementSizeX and Y\r\n     */\r\n    this.elementSize = options.elementSize;\r\n\r\n    if(options.minValue === null){\r\n        this.updateMinValue();\r\n    }\r\n    if(options.maxValue === null){\r\n        this.updateMaxValue();\r\n    }\r\n\r\n    this.cacheEnabled = true;\r\n\r\n    Shape.call(this);\r\n\r\n    this.pillarConvex = new ConvexPolyhedron();\r\n    this.pillarOffset = new Vec3();\r\n\r\n    this.type = Shape.types.HEIGHTFIELD;\r\n    this.updateBoundingSphereRadius();\r\n\r\n    // \"i_j_isUpper\" => { convex: ..., offset: ... }\r\n    // for example:\r\n    // _cachedPillars[\"0_2_1\"]\r\n    this._cachedPillars = {};\r\n}\r\nHeightfield.prototype = new Shape();\r\n\r\n/**\r\n * Call whenever you change the data array.\r\n * @method update\r\n */\r\nHeightfield.prototype.update = function(){\r\n    this._cachedPillars = {};\r\n};\r\n\r\n/**\r\n * Update the .minValue property\r\n * @method updateMinValue\r\n */\r\nHeightfield.prototype.updateMinValue = function(){\r\n    var data = this.data;\r\n    var minValue = data[0][0];\r\n    for(var i=0; i !== data.length; i++){\r\n        for(var j=0; j !== data[i].length; j++){\r\n            var v = data[i][j];\r\n            if(v < minValue){\r\n                minValue = v;\r\n            }\r\n        }\r\n    }\r\n    this.minValue = minValue;\r\n};\r\n\r\n/**\r\n * Update the .maxValue property\r\n * @method updateMaxValue\r\n */\r\nHeightfield.prototype.updateMaxValue = function(){\r\n    var data = this.data;\r\n    var maxValue = data[0][0];\r\n    for(var i=0; i !== data.length; i++){\r\n        for(var j=0; j !== data[i].length; j++){\r\n            var v = data[i][j];\r\n            if(v > maxValue){\r\n                maxValue = v;\r\n            }\r\n        }\r\n    }\r\n    this.maxValue = maxValue;\r\n};\r\n\r\n/**\r\n * Set the height value at an index. Don't forget to update maxValue and minValue after you're done.\r\n * @method setHeightValueAtIndex\r\n * @param {integer} xi\r\n * @param {integer} yi\r\n * @param {number} value\r\n */\r\nHeightfield.prototype.setHeightValueAtIndex = function(xi, yi, value){\r\n    var data = this.data;\r\n    data[xi][yi] = value;\r\n\r\n    // Invalidate cache\r\n    this.clearCachedConvexTrianglePillar(xi, yi, false);\r\n    if(xi > 0){\r\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, true);\r\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, false);\r\n    }\r\n    if(yi > 0){\r\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, true);\r\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, false);\r\n    }\r\n    if(yi > 0 && xi > 0){\r\n        this.clearCachedConvexTrianglePillar(xi - 1, yi - 1, true);\r\n    }\r\n};\r\n\r\n/**\r\n * Get max/min in a rectangle in the matrix data\r\n * @method getRectMinMax\r\n * @param  {integer} iMinX\r\n * @param  {integer} iMinY\r\n * @param  {integer} iMaxX\r\n * @param  {integer} iMaxY\r\n * @param  {array} [result] An array to store the results in.\r\n * @return {array} The result array, if it was passed in. Minimum will be at position 0 and max at 1.\r\n */\r\nHeightfield.prototype.getRectMinMax = function (iMinX, iMinY, iMaxX, iMaxY, result) {\r\n    result = result || [];\r\n\r\n    // Get max and min of the data\r\n    var data = this.data,\r\n        max = this.minValue; // Set first value\r\n    for(var i = iMinX; i <= iMaxX; i++){\r\n        for(var j = iMinY; j <= iMaxY; j++){\r\n            var height = data[i][j];\r\n            if(height > max){\r\n                max = height;\r\n            }\r\n        }\r\n    }\r\n\r\n    result[0] = this.minValue;\r\n    result[1] = max;\r\n};\r\n\r\n/**\r\n * Get the index of a local position on the heightfield. The indexes indicate the rectangles, so if your terrain is made of N x N height data points, you will have rectangle indexes ranging from 0 to N-1.\r\n * @method getIndexOfPosition\r\n * @param  {number} x\r\n * @param  {number} y\r\n * @param  {array} result Two-element array\r\n * @param  {boolean} clamp If the position should be clamped to the heightfield edge.\r\n * @return {boolean}\r\n */\r\nHeightfield.prototype.getIndexOfPosition = function (x, y, result, clamp) {\r\n\r\n    // Get the index of the data points to test against\r\n    var w = this.elementSize;\r\n    var data = this.data;\r\n    var xi = Math.floor(x / w);\r\n    var yi = Math.floor(y / w);\r\n\r\n    result[0] = xi;\r\n    result[1] = yi;\r\n\r\n    if(clamp){\r\n        // Clamp index to edges\r\n        if(xi < 0){ xi = 0; }\r\n        if(yi < 0){ yi = 0; }\r\n        if(xi >= data.length - 1){ xi = data.length - 1; }\r\n        if(yi >= data[0].length - 1){ yi = data[0].length - 1; }\r\n    }\r\n\r\n    // Bail out if we are out of the terrain\r\n    if(xi < 0 || yi < 0 || xi >= data.length-1 || yi >= data[0].length-1){\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nHeightfield.prototype.getHeightAt = function(x, y, edgeClamp){\r\n    var idx = [];\r\n    this.getIndexOfPosition(x, y, idx, edgeClamp);\r\n\r\n    // TODO: get upper or lower triangle, then use barycentric interpolation to get the height in the triangle.\r\n    var minmax = [];\r\n    this.getRectMinMax(idx[0], idx[1] + 1, idx[0], idx[1] + 1, minmax);\r\n\r\n    return (minmax[0] + minmax[1]) / 2; // average\r\n};\r\n\r\nHeightfield.prototype.getCacheConvexTrianglePillarKey = function(xi, yi, getUpperTriangle){\r\n    return xi + '_' + yi + '_' + (getUpperTriangle ? 1 : 0);\r\n};\r\n\r\nHeightfield.prototype.getCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\r\n    return this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\r\n};\r\n\r\nHeightfield.prototype.setCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle, convex, offset){\r\n    this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)] = {\r\n        convex: convex,\r\n        offset: offset\r\n    };\r\n};\r\n\r\nHeightfield.prototype.clearCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\r\n    delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\r\n};\r\n\r\n/**\r\n * Get a triangle in the terrain in the form of a triangular convex shape.\r\n * @method getConvexTrianglePillar\r\n * @param  {integer} i\r\n * @param  {integer} j\r\n * @param  {boolean} getUpperTriangle\r\n */\r\nHeightfield.prototype.getConvexTrianglePillar = function(xi, yi, getUpperTriangle){\r\n    var result = this.pillarConvex;\r\n    var offsetResult = this.pillarOffset;\r\n\r\n    if(this.cacheEnabled){\r\n        var data = this.getCachedConvexTrianglePillar(xi, yi, getUpperTriangle);\r\n        if(data){\r\n            this.pillarConvex = data.convex;\r\n            this.pillarOffset = data.offset;\r\n            return;\r\n        }\r\n\r\n        result = new ConvexPolyhedron();\r\n        offsetResult = new Vec3();\r\n\r\n        this.pillarConvex = result;\r\n        this.pillarOffset = offsetResult;\r\n    }\r\n\r\n    var data = this.data;\r\n    var elementSize = this.elementSize;\r\n    var faces = result.faces;\r\n\r\n    // Reuse verts if possible\r\n    result.vertices.length = 6;\r\n    for (var i = 0; i < 6; i++) {\r\n        if(!result.vertices[i]){\r\n            result.vertices[i] = new Vec3();\r\n        }\r\n    }\r\n\r\n    // Reuse faces if possible\r\n    faces.length = 5;\r\n    for (var i = 0; i < 5; i++) {\r\n        if(!faces[i]){\r\n            faces[i] = [];\r\n        }\r\n    }\r\n\r\n    var verts = result.vertices;\r\n\r\n    var h = (Math.min(\r\n        data[xi][yi],\r\n        data[xi+1][yi],\r\n        data[xi][yi+1],\r\n        data[xi+1][yi+1]\r\n    ) - this.minValue ) / 2 + this.minValue;\r\n\r\n    if (!getUpperTriangle) {\r\n\r\n        // Center of the triangle pillar - all polygons are given relative to this one\r\n        offsetResult.set(\r\n            (xi + 0.25) * elementSize, // sort of center of a triangle\r\n            (yi + 0.25) * elementSize,\r\n            h // vertical center\r\n        );\r\n\r\n        // Top triangle verts\r\n        verts[0].set(\r\n            -0.25 * elementSize,\r\n            -0.25 * elementSize,\r\n            data[xi][yi] - h\r\n        );\r\n        verts[1].set(\r\n            0.75 * elementSize,\r\n            -0.25 * elementSize,\r\n            data[xi + 1][yi] - h\r\n        );\r\n        verts[2].set(\r\n            -0.25 * elementSize,\r\n            0.75 * elementSize,\r\n            data[xi][yi + 1] - h\r\n        );\r\n\r\n        // bottom triangle verts\r\n        verts[3].set(\r\n            -0.25 * elementSize,\r\n            -0.25 * elementSize,\r\n            -h-1\r\n        );\r\n        verts[4].set(\r\n            0.75 * elementSize,\r\n            -0.25 * elementSize,\r\n            -h-1\r\n        );\r\n        verts[5].set(\r\n            -0.25 * elementSize,\r\n            0.75  * elementSize,\r\n            -h-1\r\n        );\r\n\r\n        // top triangle\r\n        faces[0][0] = 0;\r\n        faces[0][1] = 1;\r\n        faces[0][2] = 2;\r\n\r\n        // bottom triangle\r\n        faces[1][0] = 5;\r\n        faces[1][1] = 4;\r\n        faces[1][2] = 3;\r\n\r\n        // -x facing quad\r\n        faces[2][0] = 0;\r\n        faces[2][1] = 2;\r\n        faces[2][2] = 5;\r\n        faces[2][3] = 3;\r\n\r\n        // -y facing quad\r\n        faces[3][0] = 1;\r\n        faces[3][1] = 0;\r\n        faces[3][2] = 3;\r\n        faces[3][3] = 4;\r\n\r\n        // +xy facing quad\r\n        faces[4][0] = 4;\r\n        faces[4][1] = 5;\r\n        faces[4][2] = 2;\r\n        faces[4][3] = 1;\r\n\r\n\r\n    } else {\r\n\r\n        // Center of the triangle pillar - all polygons are given relative to this one\r\n        offsetResult.set(\r\n            (xi + 0.75) * elementSize, // sort of center of a triangle\r\n            (yi + 0.75) * elementSize,\r\n            h // vertical center\r\n        );\r\n\r\n        // Top triangle verts\r\n        verts[0].set(\r\n            0.25 * elementSize,\r\n            0.25 * elementSize,\r\n            data[xi + 1][yi + 1] - h\r\n        );\r\n        verts[1].set(\r\n            -0.75 * elementSize,\r\n            0.25 * elementSize,\r\n            data[xi][yi + 1] - h\r\n        );\r\n        verts[2].set(\r\n            0.25 * elementSize,\r\n            -0.75 * elementSize,\r\n            data[xi + 1][yi] - h\r\n        );\r\n\r\n        // bottom triangle verts\r\n        verts[3].set(\r\n            0.25 * elementSize,\r\n            0.25 * elementSize,\r\n            - h-1\r\n        );\r\n        verts[4].set(\r\n            -0.75 * elementSize,\r\n            0.25 * elementSize,\r\n            - h-1\r\n        );\r\n        verts[5].set(\r\n            0.25 * elementSize,\r\n            -0.75 * elementSize,\r\n            - h-1\r\n        );\r\n\r\n        // Top triangle\r\n        faces[0][0] = 0;\r\n        faces[0][1] = 1;\r\n        faces[0][2] = 2;\r\n\r\n        // bottom triangle\r\n        faces[1][0] = 5;\r\n        faces[1][1] = 4;\r\n        faces[1][2] = 3;\r\n\r\n        // +x facing quad\r\n        faces[2][0] = 2;\r\n        faces[2][1] = 5;\r\n        faces[2][2] = 3;\r\n        faces[2][3] = 0;\r\n\r\n        // +y facing quad\r\n        faces[3][0] = 3;\r\n        faces[3][1] = 4;\r\n        faces[3][2] = 1;\r\n        faces[3][3] = 0;\r\n\r\n        // -xy facing quad\r\n        faces[4][0] = 1;\r\n        faces[4][1] = 4;\r\n        faces[4][2] = 5;\r\n        faces[4][3] = 2;\r\n    }\r\n\r\n    result.computeNormals();\r\n    result.computeEdges();\r\n    result.updateBoundingSphereRadius();\r\n\r\n    this.setCachedConvexTrianglePillar(xi, yi, getUpperTriangle, result, offsetResult);\r\n};\r\n\r\nHeightfield.prototype.calculateLocalInertia = function(mass, target){\r\n    target = target || new Vec3();\r\n    target.set(0, 0, 0);\r\n    return target;\r\n};\r\n\r\nHeightfield.prototype.volume = function(){\r\n    return Number.MAX_VALUE; // The terrain is infinite\r\n};\r\n\r\nHeightfield.prototype.calculateWorldAABB = function(pos, quat, min, max){\r\n    // TODO: do it properly\r\n    min.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\r\n    max.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\r\n};\r\n\r\nHeightfield.prototype.updateBoundingSphereRadius = function(){\r\n    // Use the bounding box of the min/max values\r\n    var data = this.data,\r\n        s = this.elementSize;\r\n    this.boundingSphereRadius = new Vec3(data.length * s, data[0].length * s, Math.max(Math.abs(this.maxValue), Math.abs(this.minValue))).norm();\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"../utils/Utils\":53,\"./ConvexPolyhedron\":38,\"./Shape\":43}],41:[function(_dereq_,module,exports){\r\nmodule.exports = Particle;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Particle shape.\r\n * @class Particle\r\n * @constructor\r\n * @author schteppe\r\n * @extends Shape\r\n */\r\nfunction Particle(){\r\n    Shape.call(this);\r\n\r\n    this.type = Shape.types.PARTICLE;\r\n}\r\nParticle.prototype = new Shape();\r\nParticle.prototype.constructor = Particle;\r\n\r\n/**\r\n * @method calculateLocalInertia\r\n * @param  {Number} mass\r\n * @param  {Vec3} target\r\n * @return {Vec3}\r\n */\r\nParticle.prototype.calculateLocalInertia = function(mass,target){\r\n    target = target || new Vec3();\r\n    target.set(0, 0, 0);\r\n    return target;\r\n};\r\n\r\nParticle.prototype.volume = function(){\r\n    return 0;\r\n};\r\n\r\nParticle.prototype.updateBoundingSphereRadius = function(){\r\n    this.boundingSphereRadius = 0;\r\n};\r\n\r\nParticle.prototype.calculateWorldAABB = function(pos,quat,min,max){\r\n    // Get each axis max\r\n    min.copy(pos);\r\n    max.copy(pos);\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"./Shape\":43}],42:[function(_dereq_,module,exports){\r\nmodule.exports = Plane;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * A plane, facing in the Z direction. The plane has its surface at z=0 and everything below z=0 is assumed to be solid plane. To make the plane face in some other direction than z, you must put it inside a RigidBody and rotate that body. See the demos.\r\n * @class Plane\r\n * @constructor\r\n * @extends Shape\r\n * @author schteppe\r\n */\r\nfunction Plane(){\r\n    Shape.call(this);\r\n    this.type = Shape.types.PLANE;\r\n\r\n    // World oriented normal\r\n    this.worldNormal = new Vec3();\r\n    this.worldNormalNeedsUpdate = true;\r\n\r\n    this.boundingSphereRadius = Number.MAX_VALUE;\r\n}\r\nPlane.prototype = new Shape();\r\nPlane.prototype.constructor = Plane;\r\n\r\nPlane.prototype.computeWorldNormal = function(quat){\r\n    var n = this.worldNormal;\r\n    n.set(0,0,1);\r\n    quat.vmult(n,n);\r\n    this.worldNormalNeedsUpdate = false;\r\n};\r\n\r\nPlane.prototype.calculateLocalInertia = function(mass,target){\r\n    target = target || new Vec3();\r\n    return target;\r\n};\r\n\r\nPlane.prototype.volume = function(){\r\n    return Number.MAX_VALUE; // The plane is infinite...\r\n};\r\n\r\nvar tempNormal = new Vec3();\r\nPlane.prototype.calculateWorldAABB = function(pos, quat, min, max){\r\n    // The plane AABB is infinite, except if the normal is pointing along any axis\r\n    tempNormal.set(0,0,1); // Default plane normal is z\r\n    quat.vmult(tempNormal,tempNormal);\r\n    var maxVal = Number.MAX_VALUE;\r\n    min.set(-maxVal, -maxVal, -maxVal);\r\n    max.set(maxVal, maxVal, maxVal);\r\n\r\n    if(tempNormal.x === 1){ max.x = pos.x; }\r\n    if(tempNormal.y === 1){ max.y = pos.y; }\r\n    if(tempNormal.z === 1){ max.z = pos.z; }\r\n\r\n    if(tempNormal.x === -1){ min.x = pos.x; }\r\n    if(tempNormal.y === -1){ min.y = pos.y; }\r\n    if(tempNormal.z === -1){ min.z = pos.z; }\r\n};\r\n\r\nPlane.prototype.updateBoundingSphereRadius = function(){\r\n    this.boundingSphereRadius = Number.MAX_VALUE;\r\n};\r\n},{\"../math/Vec3\":30,\"./Shape\":43}],43:[function(_dereq_,module,exports){\r\nmodule.exports = Shape;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Material = _dereq_('../material/Material');\r\n\r\n/**\r\n * Base class for shapes\r\n * @class Shape\r\n * @constructor\r\n * @author schteppe\r\n * @todo Should have a mechanism for caching bounding sphere radius instead of calculating it each time\r\n */\r\nfunction Shape(){\r\n\r\n    /**\r\n     * Identifyer of the Shape.\r\n     * @property {number} id\r\n     */\r\n    this.id = Shape.idCounter++;\r\n\r\n    /**\r\n     * The type of this shape. Must be set to an int > 0 by subclasses.\r\n     * @property type\r\n     * @type {Number}\r\n     * @see Shape.types\r\n     */\r\n    this.type = 0;\r\n\r\n    /**\r\n     * The local bounding sphere radius of this shape.\r\n     * @property {Number} boundingSphereRadius\r\n     */\r\n    this.boundingSphereRadius = 0;\r\n\r\n    /**\r\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\r\n     * @property {boolean} collisionResponse\r\n     */\r\n    this.collisionResponse = true;\r\n\r\n    /**\r\n     * @property {Material} material\r\n     */\r\n    this.material = null;\r\n}\r\nShape.prototype.constructor = Shape;\r\n\r\n/**\r\n * Computes the bounding sphere radius. The result is stored in the property .boundingSphereRadius\r\n * @method updateBoundingSphereRadius\r\n * @return {Number}\r\n */\r\nShape.prototype.updateBoundingSphereRadius = function(){\r\n    throw \"computeBoundingSphereRadius() not implemented for shape type \"+this.type;\r\n};\r\n\r\n/**\r\n * Get the volume of this shape\r\n * @method volume\r\n * @return {Number}\r\n */\r\nShape.prototype.volume = function(){\r\n    throw \"volume() not implemented for shape type \"+this.type;\r\n};\r\n\r\n/**\r\n * Calculates the inertia in the local frame for this shape.\r\n * @method calculateLocalInertia\r\n * @return {Vec3}\r\n * @see http://en.wikipedia.org/wiki/List_of_moments_of_inertia\r\n */\r\nShape.prototype.calculateLocalInertia = function(mass,target){\r\n    throw \"calculateLocalInertia() not implemented for shape type \"+this.type;\r\n};\r\n\r\nShape.idCounter = 0;\r\n\r\n/**\r\n * The available shape types.\r\n * @static\r\n * @property types\r\n * @type {Object}\r\n */\r\nShape.types = {\r\n    SPHERE:1,\r\n    PLANE:2,\r\n    BOX:4,\r\n    COMPOUND:8,\r\n    CONVEXPOLYHEDRON:16,\r\n    HEIGHTFIELD:32,\r\n    PARTICLE:64,\r\n    CYLINDER:128,\r\n    TRIMESH:256\r\n};\r\n\r\n\r\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Shape\":43}],44:[function(_dereq_,module,exports){\r\nmodule.exports = Sphere;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\n/**\r\n * Spherical shape\r\n * @class Sphere\r\n * @constructor\r\n * @extends Shape\r\n * @param {Number} radius The radius of the sphere, a non-negative number.\r\n * @author schteppe / http://github.com/schteppe\r\n */\r\nfunction Sphere(radius){\r\n    Shape.call(this);\r\n\r\n    /**\r\n     * @property {Number} radius\r\n     */\r\n    this.radius = radius!==undefined ? Number(radius) : 1.0;\r\n    this.type = Shape.types.SPHERE;\r\n\r\n    if(this.radius < 0){\r\n        throw new Error('The sphere radius cannot be negative.');\r\n    }\r\n\r\n    this.updateBoundingSphereRadius();\r\n}\r\nSphere.prototype = new Shape();\r\nSphere.prototype.constructor = Sphere;\r\n\r\nSphere.prototype.calculateLocalInertia = function(mass,target){\r\n    target = target || new Vec3();\r\n    var I = 2.0*mass*this.radius*this.radius/5.0;\r\n    target.x = I;\r\n    target.y = I;\r\n    target.z = I;\r\n    return target;\r\n};\r\n\r\nSphere.prototype.volume = function(){\r\n    return 4.0 * Math.PI * this.radius / 3.0;\r\n};\r\n\r\nSphere.prototype.updateBoundingSphereRadius = function(){\r\n    this.boundingSphereRadius = this.radius;\r\n};\r\n\r\nSphere.prototype.calculateWorldAABB = function(pos,quat,min,max){\r\n    var r = this.radius;\r\n    var axes = ['x','y','z'];\r\n    for(var i=0; i<axes.length; i++){\r\n        var ax = axes[i];\r\n        min[ax] = pos[ax] - r;\r\n        max[ax] = pos[ax] + r;\r\n    }\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"./Shape\":43}],45:[function(_dereq_,module,exports){\r\nmodule.exports = Trimesh;\r\n\r\nvar Shape = _dereq_('./Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Transform = _dereq_('../math/Transform');\r\nvar AABB = _dereq_('../collision/AABB');\r\nvar Octree = _dereq_('../utils/Octree');\r\n\r\n/**\r\n * @class Trimesh\r\n * @constructor\r\n * @param {array} vertices\r\n * @param {array} indices\r\n * @extends Shape\r\n * @example\r\n *     // How to make a mesh with a single triangle\r\n *     var vertices = [\r\n *         0, 0, 0, // vertex 0\r\n *         1, 0, 0, // vertex 1\r\n *         0, 1, 0  // vertex 2\r\n *     ];\r\n *     var indices = [\r\n *         0, 1, 2  // triangle 0\r\n *     ];\r\n *     var trimeshShape = new Trimesh(vertices, indices);\r\n */\r\nfunction Trimesh(vertices, indices) {\r\n    Shape.call(this);\r\n    this.type = Shape.types.TRIMESH;\r\n\r\n    /**\r\n     * @property vertices\r\n     * @type {Array}\r\n     */\r\n    this.vertices = new Float32Array(vertices);\r\n\r\n    /**\r\n     * Array of integers, indicating which vertices each triangle consists of. The length of this array is thus 3 times the number of triangles.\r\n     * @property indices\r\n     * @type {Array}\r\n     */\r\n    this.indices = new Int16Array(indices);\r\n\r\n    /**\r\n     * The normals data.\r\n     * @property normals\r\n     * @type {Array}\r\n     */\r\n    this.normals = new Float32Array(indices.length);\r\n\r\n    /**\r\n     * The local AABB of the mesh.\r\n     * @property aabb\r\n     * @type {Array}\r\n     */\r\n    this.aabb = new AABB();\r\n\r\n    /**\r\n     * References to vertex pairs, making up all unique edges in the trimesh.\r\n     * @property {array} edges\r\n     */\r\n    this.edges = null;\r\n\r\n    /**\r\n     * Local scaling of the mesh. Use .setScale() to set it.\r\n     * @property {Vec3} scale\r\n     */\r\n    this.scale = new Vec3(1, 1, 1);\r\n\r\n    /**\r\n     * The indexed triangles. Use .updateTree() to update it.\r\n     * @property {Octree} tree\r\n     */\r\n    this.tree = new Octree();\r\n\r\n    this.updateEdges();\r\n    this.updateNormals();\r\n    this.updateAABB();\r\n    this.updateBoundingSphereRadius();\r\n    this.updateTree();\r\n}\r\nTrimesh.prototype = new Shape();\r\nTrimesh.prototype.constructor = Trimesh;\r\n\r\nvar computeNormals_n = new Vec3();\r\n\r\n/**\r\n * @method updateTree\r\n */\r\nTrimesh.prototype.updateTree = function(){\r\n    var tree = this.tree;\r\n\r\n    tree.reset();\r\n    tree.aabb.copy(this.aabb);\r\n    var scale = this.scale; // The local mesh AABB is scaled, but the octree AABB should be unscaled\r\n    tree.aabb.lowerBound.x *= 1 / scale.x;\r\n    tree.aabb.lowerBound.y *= 1 / scale.y;\r\n    tree.aabb.lowerBound.z *= 1 / scale.z;\r\n    tree.aabb.upperBound.x *= 1 / scale.x;\r\n    tree.aabb.upperBound.y *= 1 / scale.y;\r\n    tree.aabb.upperBound.z *= 1 / scale.z;\r\n\r\n    // Insert all triangles\r\n    var triangleAABB = new AABB();\r\n    var a = new Vec3();\r\n    var b = new Vec3();\r\n    var c = new Vec3();\r\n    var points = [a, b, c];\r\n    for (var i = 0; i < this.indices.length / 3; i++) {\r\n        //this.getTriangleVertices(i, a, b, c);\r\n\r\n        // Get unscaled triangle verts\r\n        var i3 = i * 3;\r\n        this._getUnscaledVertex(this.indices[i3], a);\r\n        this._getUnscaledVertex(this.indices[i3 + 1], b);\r\n        this._getUnscaledVertex(this.indices[i3 + 2], c);\r\n\r\n        triangleAABB.setFromPoints(points);\r\n        tree.insert(triangleAABB, i);\r\n    }\r\n    tree.removeEmptyNodes();\r\n};\r\n\r\nvar unscaledAABB = new AABB();\r\n\r\n/**\r\n * Get triangles in a local AABB from the trimesh.\r\n * @method getTrianglesInAABB\r\n * @param  {AABB} aabb\r\n * @param  {array} result An array of integers, referencing the queried triangles.\r\n */\r\nTrimesh.prototype.getTrianglesInAABB = function(aabb, result){\r\n    unscaledAABB.copy(aabb);\r\n\r\n    // Scale it to local\r\n    var scale = this.scale;\r\n    var isx = scale.x;\r\n    var isy = scale.y;\r\n    var isz = scale.z;\r\n    var l = unscaledAABB.lowerBound;\r\n    var u = unscaledAABB.upperBound;\r\n    l.x /= isx;\r\n    l.y /= isy;\r\n    l.z /= isz;\r\n    u.x /= isx;\r\n    u.y /= isy;\r\n    u.z /= isz;\r\n\r\n    return this.tree.aabbQuery(unscaledAABB, result);\r\n};\r\n\r\n/**\r\n * @method setScale\r\n * @param {Vec3} scale\r\n */\r\nTrimesh.prototype.setScale = function(scale){\r\n    var wasUniform = this.scale.x === this.scale.y === this.scale.z;\r\n    var isUniform = scale.x === scale.y === scale.z;\r\n\r\n    if(!(wasUniform && isUniform)){\r\n        // Non-uniform scaling. Need to update normals.\r\n        this.updateNormals();\r\n    }\r\n    this.scale.copy(scale);\r\n    this.updateAABB();\r\n    this.updateBoundingSphereRadius();\r\n};\r\n\r\n/**\r\n * Compute the normals of the faces. Will save in the .normals array.\r\n * @method updateNormals\r\n */\r\nTrimesh.prototype.updateNormals = function(){\r\n    var n = computeNormals_n;\r\n\r\n    // Generate normals\r\n    var normals = this.normals;\r\n    for(var i=0; i < this.indices.length / 3; i++){\r\n        var i3 = i * 3;\r\n\r\n        var a = this.indices[i3],\r\n            b = this.indices[i3 + 1],\r\n            c = this.indices[i3 + 2];\r\n\r\n        this.getVertex(a, va);\r\n        this.getVertex(b, vb);\r\n        this.getVertex(c, vc);\r\n\r\n        Trimesh.computeNormal(vb, va, vc, n);\r\n\r\n        normals[i3] = n.x;\r\n        normals[i3 + 1] = n.y;\r\n        normals[i3 + 2] = n.z;\r\n    }\r\n};\r\n\r\n/**\r\n * Update the .edges property\r\n * @method updateEdges\r\n */\r\nTrimesh.prototype.updateEdges = function(){\r\n    var edges = {};\r\n    var add = function(indexA, indexB){\r\n        var key = a < b ? a + '_' + b : b + '_' + a;\r\n        edges[key] = true;\r\n    };\r\n    for(var i=0; i < this.indices.length / 3; i++){\r\n        var i3 = i * 3;\r\n        var a = this.indices[i3],\r\n            b = this.indices[i3 + 1],\r\n            c = this.indices[i3 + 2];\r\n        add(a,b);\r\n        add(b,c);\r\n        add(c,a);\r\n    }\r\n    var keys = Object.keys(edges);\r\n    this.edges = new Int16Array(keys.length * 2);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        var indices = keys[i].split('_');\r\n        this.edges[2 * i] = parseInt(indices[0], 10);\r\n        this.edges[2 * i + 1] = parseInt(indices[1], 10);\r\n    }\r\n};\r\n\r\n/**\r\n * Get an edge vertex\r\n * @method getEdgeVertex\r\n * @param  {number} edgeIndex\r\n * @param  {number} firstOrSecond 0 or 1, depending on which one of the vertices you need.\r\n * @param  {Vec3} vertexStore Where to store the result\r\n */\r\nTrimesh.prototype.getEdgeVertex = function(edgeIndex, firstOrSecond, vertexStore){\r\n    var vertexIndex = this.edges[edgeIndex * 2 + (firstOrSecond ? 1 : 0)];\r\n    this.getVertex(vertexIndex, vertexStore);\r\n};\r\n\r\nvar getEdgeVector_va = new Vec3();\r\nvar getEdgeVector_vb = new Vec3();\r\n\r\n/**\r\n * Get a vector along an edge.\r\n * @method getEdgeVector\r\n * @param  {number} edgeIndex\r\n * @param  {Vec3} vectorStore\r\n */\r\nTrimesh.prototype.getEdgeVector = function(edgeIndex, vectorStore){\r\n    var va = getEdgeVector_va;\r\n    var vb = getEdgeVector_vb;\r\n    this.getEdgeVertex(edgeIndex, 0, va);\r\n    this.getEdgeVertex(edgeIndex, 1, vb);\r\n    vb.vsub(va, vectorStore);\r\n};\r\n\r\n/**\r\n * Get face normal given 3 vertices\r\n * @static\r\n * @method computeNormal\r\n * @param {Vec3} va\r\n * @param {Vec3} vb\r\n * @param {Vec3} vc\r\n * @param {Vec3} target\r\n */\r\nvar cb = new Vec3();\r\nvar ab = new Vec3();\r\nTrimesh.computeNormal = function ( va, vb, vc, target ) {\r\n    vb.vsub(va,ab);\r\n    vc.vsub(vb,cb);\r\n    cb.cross(ab,target);\r\n    if ( !target.isZero() ) {\r\n        target.normalize();\r\n    }\r\n};\r\n\r\nvar va = new Vec3();\r\nvar vb = new Vec3();\r\nvar vc = new Vec3();\r\n\r\n/**\r\n * Get vertex i.\r\n * @method getVertex\r\n * @param  {number} i\r\n * @param  {Vec3} out\r\n * @return {Vec3} The \"out\" vector object\r\n */\r\nTrimesh.prototype.getVertex = function(i, out){\r\n    var scale = this.scale;\r\n    this._getUnscaledVertex(i, out);\r\n    out.x *= scale.x;\r\n    out.y *= scale.y;\r\n    out.z *= scale.z;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Get raw vertex i\r\n * @private\r\n * @method _getUnscaledVertex\r\n * @param  {number} i\r\n * @param  {Vec3} out\r\n * @return {Vec3} The \"out\" vector object\r\n */\r\nTrimesh.prototype._getUnscaledVertex = function(i, out){\r\n    var i3 = i * 3;\r\n    var vertices = this.vertices;\r\n    return out.set(\r\n        vertices[i3],\r\n        vertices[i3 + 1],\r\n        vertices[i3 + 2]\r\n    );\r\n};\r\n\r\n/**\r\n * Get a vertex from the trimesh,transformed by the given position and quaternion.\r\n * @method getWorldVertex\r\n * @param  {number} i\r\n * @param  {Vec3} pos\r\n * @param  {Quaternion} quat\r\n * @param  {Vec3} out\r\n * @return {Vec3} The \"out\" vector object\r\n */\r\nTrimesh.prototype.getWorldVertex = function(i, pos, quat, out){\r\n    this.getVertex(i, out);\r\n    Transform.pointToWorldFrame(pos, quat, out, out);\r\n    return out;\r\n};\r\n\r\n/**\r\n * Get the three vertices for triangle i.\r\n * @method getTriangleVertices\r\n * @param  {number} i\r\n * @param  {Vec3} a\r\n * @param  {Vec3} b\r\n * @param  {Vec3} c\r\n */\r\nTrimesh.prototype.getTriangleVertices = function(i, a, b, c){\r\n    var i3 = i * 3;\r\n    this.getVertex(this.indices[i3], a);\r\n    this.getVertex(this.indices[i3 + 1], b);\r\n    this.getVertex(this.indices[i3 + 2], c);\r\n};\r\n\r\n/**\r\n * Compute the normal of triangle i.\r\n * @method getNormal\r\n * @param  {Number} i\r\n * @param  {Vec3} target\r\n * @return {Vec3} The \"target\" vector object\r\n */\r\nTrimesh.prototype.getNormal = function(i, target){\r\n    var i3 = i * 3;\r\n    return target.set(\r\n        this.normals[i3],\r\n        this.normals[i3 + 1],\r\n        this.normals[i3 + 2]\r\n    );\r\n};\r\n\r\nvar cli_aabb = new AABB();\r\n\r\n/**\r\n * @method calculateLocalInertia\r\n * @param  {Number} mass\r\n * @param  {Vec3} target\r\n * @return {Vec3} The \"target\" vector object\r\n */\r\nTrimesh.prototype.calculateLocalInertia = function(mass,target){\r\n    // Approximate with box inertia\r\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\r\n    this.computeLocalAABB(cli_aabb);\r\n    var x = cli_aabb.upperBound.x - cli_aabb.lowerBound.x,\r\n        y = cli_aabb.upperBound.y - cli_aabb.lowerBound.y,\r\n        z = cli_aabb.upperBound.z - cli_aabb.lowerBound.z;\r\n    return target.set(\r\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z ),\r\n        1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z ),\r\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x )\r\n    );\r\n};\r\n\r\nvar computeLocalAABB_worldVert = new Vec3();\r\n\r\n/**\r\n * Compute the local AABB for the trimesh\r\n * @method computeLocalAABB\r\n * @param  {AABB} aabb\r\n */\r\nTrimesh.prototype.computeLocalAABB = function(aabb){\r\n    var l = aabb.lowerBound,\r\n        u = aabb.upperBound,\r\n        n = this.vertices.length,\r\n        vertices = this.vertices,\r\n        v = computeLocalAABB_worldVert;\r\n\r\n    this.getVertex(0, v);\r\n    l.copy(v);\r\n    u.copy(v);\r\n\r\n    for(var i=0; i !== n; i++){\r\n        this.getVertex(i, v);\r\n\r\n        if(v.x < l.x){\r\n            l.x = v.x;\r\n        } else if(v.x > u.x){\r\n            u.x = v.x;\r\n        }\r\n\r\n        if(v.y < l.y){\r\n            l.y = v.y;\r\n        } else if(v.y > u.y){\r\n            u.y = v.y;\r\n        }\r\n\r\n        if(v.z < l.z){\r\n            l.z = v.z;\r\n        } else if(v.z > u.z){\r\n            u.z = v.z;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Update the .aabb property\r\n * @method updateAABB\r\n */\r\nTrimesh.prototype.updateAABB = function(){\r\n    this.computeLocalAABB(this.aabb);\r\n};\r\n\r\n/**\r\n * Will update the .boundingSphereRadius property\r\n * @method updateBoundingSphereRadius\r\n */\r\nTrimesh.prototype.updateBoundingSphereRadius = function(){\r\n    // Assume points are distributed with local (0,0,0) as center\r\n    var max2 = 0;\r\n    var vertices = this.vertices;\r\n    var v = new Vec3();\r\n    for(var i=0, N=vertices.length / 3; i !== N; i++) {\r\n        this.getVertex(i, v);\r\n        var norm2 = v.norm2();\r\n        if(norm2 > max2){\r\n            max2 = norm2;\r\n        }\r\n    }\r\n    this.boundingSphereRadius = Math.sqrt(max2);\r\n};\r\n\r\nvar tempWorldVertex = new Vec3();\r\nvar calculateWorldAABB_frame = new Transform();\r\nvar calculateWorldAABB_aabb = new AABB();\r\n\r\n/**\r\n * @method calculateWorldAABB\r\n * @param {Vec3}        pos\r\n * @param {Quaternion}  quat\r\n * @param {Vec3}        min\r\n * @param {Vec3}        max\r\n */\r\nTrimesh.prototype.calculateWorldAABB = function(pos,quat,min,max){\r\n    /*\r\n    var n = this.vertices.length / 3,\r\n        verts = this.vertices;\r\n    var minx,miny,minz,maxx,maxy,maxz;\r\n\r\n    var v = tempWorldVertex;\r\n    for(var i=0; i<n; i++){\r\n        this.getVertex(i, v);\r\n        quat.vmult(v, v);\r\n        pos.vadd(v, v);\r\n        if (v.x < minx || minx===undefined){\r\n            minx = v.x;\r\n        } else if(v.x > maxx || maxx===undefined){\r\n            maxx = v.x;\r\n        }\r\n\r\n        if (v.y < miny || miny===undefined){\r\n            miny = v.y;\r\n        } else if(v.y > maxy || maxy===undefined){\r\n            maxy = v.y;\r\n        }\r\n\r\n        if (v.z < minz || minz===undefined){\r\n            minz = v.z;\r\n        } else if(v.z > maxz || maxz===undefined){\r\n            maxz = v.z;\r\n        }\r\n    }\r\n    min.set(minx,miny,minz);\r\n    max.set(maxx,maxy,maxz);\r\n    */\r\n\r\n    // Faster approximation using local AABB\r\n    var frame = calculateWorldAABB_frame;\r\n    var result = calculateWorldAABB_aabb;\r\n    frame.position = pos;\r\n    frame.quaternion = quat;\r\n    this.aabb.toWorldFrame(frame, result);\r\n    min.copy(result.lowerBound);\r\n    max.copy(result.upperBound);\r\n};\r\n\r\n/**\r\n * Get approximate volume\r\n * @method volume\r\n * @return {Number}\r\n */\r\nTrimesh.prototype.volume = function(){\r\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\r\n};\r\n\r\n/**\r\n * Create a Trimesh instance, shaped as a torus.\r\n * @static\r\n * @method createTorus\r\n * @param  {number} [radius=1]\r\n * @param  {number} [tube=0.5]\r\n * @param  {number} [radialSegments=8]\r\n * @param  {number} [tubularSegments=6]\r\n * @param  {number} [arc=6.283185307179586]\r\n * @return {Trimesh} A torus\r\n */\r\nTrimesh.createTorus = function (radius, tube, radialSegments, tubularSegments, arc) {\r\n    radius = radius || 1;\r\n    tube = tube || 0.5;\r\n    radialSegments = radialSegments || 8;\r\n    tubularSegments = tubularSegments || 6;\r\n    arc = arc || Math.PI * 2;\r\n\r\n    var vertices = [];\r\n    var indices = [];\r\n\r\n    for ( var j = 0; j <= radialSegments; j ++ ) {\r\n        for ( var i = 0; i <= tubularSegments; i ++ ) {\r\n            var u = i / tubularSegments * arc;\r\n            var v = j / radialSegments * Math.PI * 2;\r\n\r\n            var x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\r\n            var y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\r\n            var z = tube * Math.sin( v );\r\n\r\n            vertices.push( x, y, z );\r\n        }\r\n    }\r\n\r\n    for ( var j = 1; j <= radialSegments; j ++ ) {\r\n        for ( var i = 1; i <= tubularSegments; i ++ ) {\r\n            var a = ( tubularSegments + 1 ) * j + i - 1;\r\n            var b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\r\n            var c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\r\n            var d = ( tubularSegments + 1 ) * j + i;\r\n\r\n            indices.push(a, b, d);\r\n            indices.push(b, c, d);\r\n        }\r\n    }\r\n\r\n    return new Trimesh(vertices, indices);\r\n};\r\n\r\n},{\"../collision/AABB\":3,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Octree\":50,\"./Shape\":43}],46:[function(_dereq_,module,exports){\r\nmodule.exports = GSSolver;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Solver = _dereq_('./Solver');\r\n\r\n/**\r\n * Constraint equation Gauss-Seidel solver.\r\n * @class GSSolver\r\n * @constructor\r\n * @todo The spook parameters should be specified for each constraint, not globally.\r\n * @author schteppe / https://github.com/schteppe\r\n * @see https://www8.cs.umu.se/kurser/5DV058/VT09/lectures/spooknotes.pdf\r\n * @extends Solver\r\n */\r\nfunction GSSolver(){\r\n    Solver.call(this);\r\n\r\n    /**\r\n     * The number of solver iterations determines quality of the constraints in the world. The more iterations, the more correct simulation. More iterations need more computations though. If you have a large gravity force in your world, you will need more iterations.\r\n     * @property iterations\r\n     * @type {Number}\r\n     * @todo write more about solver and iterations in the wiki\r\n     */\r\n    this.iterations = 10;\r\n\r\n    /**\r\n     * When tolerance is reached, the system is assumed to be converged.\r\n     * @property tolerance\r\n     * @type {Number}\r\n     */\r\n    this.tolerance = 1e-7;\r\n}\r\nGSSolver.prototype = new Solver();\r\n\r\nvar GSSolver_solve_lambda = []; // Just temporary number holders that we want to reuse each solve.\r\nvar GSSolver_solve_invCs = [];\r\nvar GSSolver_solve_Bs = [];\r\nGSSolver.prototype.solve = function(dt,world){\r\n    var iter = 0,\r\n        maxIter = this.iterations,\r\n        tolSquared = this.tolerance*this.tolerance,\r\n        equations = this.equations,\r\n        Neq = equations.length,\r\n        bodies = world.bodies,\r\n        Nbodies = bodies.length,\r\n        h = dt,\r\n        q, B, invC, deltalambda, deltalambdaTot, GWlambda, lambdaj;\r\n\r\n    // Update solve mass\r\n    if(Neq !== 0){\r\n        for(var i=0; i!==Nbodies; i++){\r\n            bodies[i].updateSolveMassProperties();\r\n        }\r\n    }\r\n\r\n    // Things that does not change during iteration can be computed once\r\n    var invCs = GSSolver_solve_invCs,\r\n        Bs = GSSolver_solve_Bs,\r\n        lambda = GSSolver_solve_lambda;\r\n    invCs.length = Neq;\r\n    Bs.length = Neq;\r\n    lambda.length = Neq;\r\n    for(var i=0; i!==Neq; i++){\r\n        var c = equations[i];\r\n        lambda[i] = 0.0;\r\n        Bs[i] = c.computeB(h);\r\n        invCs[i] = 1.0 / c.computeC();\r\n    }\r\n\r\n    if(Neq !== 0){\r\n\r\n        // Reset vlambda\r\n        for(var i=0; i!==Nbodies; i++){\r\n            var b=bodies[i],\r\n                vlambda=b.vlambda,\r\n                wlambda=b.wlambda;\r\n            vlambda.set(0,0,0);\r\n            if(wlambda){\r\n                wlambda.set(0,0,0);\r\n            }\r\n        }\r\n\r\n        // Iterate over equations\r\n        for(iter=0; iter!==maxIter; iter++){\r\n\r\n            // Accumulate the total error for each iteration.\r\n            deltalambdaTot = 0.0;\r\n\r\n            for(var j=0; j!==Neq; j++){\r\n\r\n                var c = equations[j];\r\n\r\n                // Compute iteration\r\n                B = Bs[j];\r\n                invC = invCs[j];\r\n                lambdaj = lambda[j];\r\n                GWlambda = c.computeGWlambda();\r\n                deltalambda = invC * ( B - GWlambda - c.eps * lambdaj );\r\n\r\n                // Clamp if we are not within the min/max interval\r\n                if(lambdaj + deltalambda < c.minForce){\r\n                    deltalambda = c.minForce - lambdaj;\r\n                } else if(lambdaj + deltalambda > c.maxForce){\r\n                    deltalambda = c.maxForce - lambdaj;\r\n                }\r\n                lambda[j] += deltalambda;\r\n\r\n                deltalambdaTot += deltalambda > 0.0 ? deltalambda : -deltalambda; // abs(deltalambda)\r\n\r\n                c.addToWlambda(deltalambda);\r\n            }\r\n\r\n            // If the total error is small enough - stop iterate\r\n            if(deltalambdaTot*deltalambdaTot < tolSquared){\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Add result to velocity\r\n        for(var i=0; i!==Nbodies; i++){\r\n            var b=bodies[i],\r\n                v=b.velocity,\r\n                w=b.angularVelocity;\r\n            v.vadd(b.vlambda, v);\r\n            if(w){\r\n                w.vadd(b.wlambda, w);\r\n            }\r\n        }\r\n    }\r\n\r\n    return iter;\r\n};\r\n\r\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Solver\":47}],47:[function(_dereq_,module,exports){\r\nmodule.exports = Solver;\r\n\r\n/**\r\n * Constraint equation solver base class.\r\n * @class Solver\r\n * @constructor\r\n * @author schteppe / https://github.com/schteppe\r\n */\r\nfunction Solver(){\r\n    /**\r\n     * All equations to be solved\r\n     * @property {Array} equations\r\n     */\r\n    this.equations = [];\r\n}\r\n\r\n/**\r\n * Should be implemented in subclasses!\r\n * @method solve\r\n * @param  {Number} dt\r\n * @param  {World} world\r\n */\r\nSolver.prototype.solve = function(dt,world){\r\n    // Should return the number of iterations done!\r\n    return 0;\r\n};\r\n\r\n/**\r\n * Add an equation\r\n * @method addEquation\r\n * @param {Equation} eq\r\n */\r\nSolver.prototype.addEquation = function(eq){\r\n    if (eq.enabled) {\r\n        this.equations.push(eq);\r\n    }\r\n};\r\n\r\n/**\r\n * Remove an equation\r\n * @method removeEquation\r\n * @param {Equation} eq\r\n */\r\nSolver.prototype.removeEquation = function(eq){\r\n    var eqs = this.equations;\r\n    var i = eqs.indexOf(eq);\r\n    if(i !== -1){\r\n        eqs.splice(i,1);\r\n    }\r\n};\r\n\r\n/**\r\n * Add all equations\r\n * @method removeAllEquations\r\n */\r\nSolver.prototype.removeAllEquations = function(){\r\n    this.equations.length = 0;\r\n};\r\n\r\n\r\n},{}],48:[function(_dereq_,module,exports){\r\nmodule.exports = SplitSolver;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Solver = _dereq_('./Solver');\r\nvar Body = _dereq_('../objects/Body');\r\n\r\n/**\r\n * Splits the equations into islands and solves them independently. Can improve performance.\r\n * @class SplitSolver\r\n * @constructor\r\n * @extends Solver\r\n * @param {Solver} subsolver\r\n */\r\nfunction SplitSolver(subsolver){\r\n    Solver.call(this);\r\n    this.iterations = 10;\r\n    this.tolerance = 1e-7;\r\n    this.subsolver = subsolver;\r\n    this.nodes = [];\r\n    this.nodePool = [];\r\n\r\n    // Create needed nodes, reuse if possible\r\n    while(this.nodePool.length < 128){\r\n        this.nodePool.push(this.createNode());\r\n    }\r\n}\r\nSplitSolver.prototype = new Solver();\r\n\r\n// Returns the number of subsystems\r\nvar SplitSolver_solve_nodes = []; // All allocated node objects\r\nvar SplitSolver_solve_nodePool = []; // All allocated node objects\r\nvar SplitSolver_solve_eqs = [];   // Temp array\r\nvar SplitSolver_solve_bds = [];   // Temp array\r\nvar SplitSolver_solve_dummyWorld = {bodies:[]}; // Temp object\r\n\r\nvar STATIC = Body.STATIC;\r\nfunction getUnvisitedNode(nodes){\r\n    var Nnodes = nodes.length;\r\n    for(var i=0; i!==Nnodes; i++){\r\n        var node = nodes[i];\r\n        if(!node.visited && !(node.body.type & STATIC)){\r\n            return node;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nvar queue = [];\r\nfunction bfs(root,visitFunc,bds,eqs){\r\n    queue.push(root);\r\n    root.visited = true;\r\n    visitFunc(root,bds,eqs);\r\n    while(queue.length) {\r\n        var node = queue.pop();\r\n        // Loop over unvisited child nodes\r\n        var child;\r\n        while((child = getUnvisitedNode(node.children))) {\r\n            child.visited = true;\r\n            visitFunc(child,bds,eqs);\r\n            queue.push(child);\r\n        }\r\n    }\r\n}\r\n\r\nfunction visitFunc(node,bds,eqs){\r\n    bds.push(node.body);\r\n    var Neqs = node.eqs.length;\r\n    for(var i=0; i!==Neqs; i++){\r\n        var eq = node.eqs[i];\r\n        if(eqs.indexOf(eq) === -1){\r\n            eqs.push(eq);\r\n        }\r\n    }\r\n}\r\n\r\nSplitSolver.prototype.createNode = function(){\r\n    return { body:null, children:[], eqs:[], visited:false };\r\n};\r\n\r\n/**\r\n * Solve the subsystems\r\n * @method solve\r\n * @param  {Number} dt\r\n * @param  {World} world\r\n */\r\nSplitSolver.prototype.solve = function(dt,world){\r\n    var nodes=SplitSolver_solve_nodes,\r\n        nodePool=this.nodePool,\r\n        bodies=world.bodies,\r\n        equations=this.equations,\r\n        Neq=equations.length,\r\n        Nbodies=bodies.length,\r\n        subsolver=this.subsolver;\r\n\r\n    // Create needed nodes, reuse if possible\r\n    while(nodePool.length < Nbodies){\r\n        nodePool.push(this.createNode());\r\n    }\r\n    nodes.length = Nbodies;\r\n    for (var i = 0; i < Nbodies; i++) {\r\n        nodes[i] = nodePool[i];\r\n    }\r\n\r\n    // Reset node values\r\n    for(var i=0; i!==Nbodies; i++){\r\n        var node = nodes[i];\r\n        node.body = bodies[i];\r\n        node.children.length = 0;\r\n        node.eqs.length = 0;\r\n        node.visited = false;\r\n    }\r\n    for(var k=0; k!==Neq; k++){\r\n        var eq=equations[k],\r\n            i=bodies.indexOf(eq.bi),\r\n            j=bodies.indexOf(eq.bj),\r\n            ni=nodes[i],\r\n            nj=nodes[j];\r\n        ni.children.push(nj);\r\n        ni.eqs.push(eq);\r\n        nj.children.push(ni);\r\n        nj.eqs.push(eq);\r\n    }\r\n\r\n    var child, n=0, eqs=SplitSolver_solve_eqs;\r\n\r\n    subsolver.tolerance = this.tolerance;\r\n    subsolver.iterations = this.iterations;\r\n\r\n    var dummyWorld = SplitSolver_solve_dummyWorld;\r\n    while((child = getUnvisitedNode(nodes))){\r\n        eqs.length = 0;\r\n        dummyWorld.bodies.length = 0;\r\n        bfs(child, visitFunc, dummyWorld.bodies, eqs);\r\n\r\n        var Neqs = eqs.length;\r\n\r\n        eqs = eqs.sort(sortById);\r\n\r\n        for(var i=0; i!==Neqs; i++){\r\n            subsolver.addEquation(eqs[i]);\r\n        }\r\n\r\n        var iter = subsolver.solve(dt,dummyWorld);\r\n        subsolver.removeAllEquations();\r\n        n++;\r\n    }\r\n\r\n    return n;\r\n};\r\n\r\nfunction sortById(a, b){\r\n    return b.id - a.id;\r\n}\r\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"./Solver\":47}],49:[function(_dereq_,module,exports){\r\n/**\r\n * Base class for objects that dispatches events.\r\n * @class EventTarget\r\n * @constructor\r\n */\r\nvar EventTarget = function () {\r\n\r\n};\r\n\r\nmodule.exports = EventTarget;\r\n\r\nEventTarget.prototype = {\r\n    constructor: EventTarget,\r\n\r\n    /**\r\n     * Add an event listener\r\n     * @method addEventListener\r\n     * @param  {String} type\r\n     * @param  {Function} listener\r\n     * @return {EventTarget} The self object, for chainability.\r\n     */\r\n    addEventListener: function ( type, listener ) {\r\n        if ( this._listeners === undefined ){ this._listeners = {}; }\r\n        var listeners = this._listeners;\r\n        if ( listeners[ type ] === undefined ) {\r\n            listeners[ type ] = [];\r\n        }\r\n        if ( listeners[ type ].indexOf( listener ) === - 1 ) {\r\n            listeners[ type ].push( listener );\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Check if an event listener is added\r\n     * @method hasEventListener\r\n     * @param  {String} type\r\n     * @param  {Function} listener\r\n     * @return {Boolean}\r\n     */\r\n    hasEventListener: function ( type, listener ) {\r\n        if ( this._listeners === undefined ){ return false; }\r\n        var listeners = this._listeners;\r\n        if ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Remove an event listener\r\n     * @method removeEventListener\r\n     * @param  {String} type\r\n     * @param  {Function} listener\r\n     * @return {EventTarget} The self object, for chainability.\r\n     */\r\n    removeEventListener: function ( type, listener ) {\r\n        if ( this._listeners === undefined ){ return this; }\r\n        var listeners = this._listeners;\r\n        if ( listeners[type] === undefined ){ return this; }\r\n        var index = listeners[ type ].indexOf( listener );\r\n        if ( index !== - 1 ) {\r\n            listeners[ type ].splice( index, 1 );\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Emit an event.\r\n     * @method dispatchEvent\r\n     * @param  {Object} event\r\n     * @param  {String} event.type\r\n     * @return {EventTarget} The self object, for chainability.\r\n     */\r\n    dispatchEvent: function ( event ) {\r\n        if ( this._listeners === undefined ){ return this; }\r\n        var listeners = this._listeners;\r\n        var listenerArray = listeners[ event.type ];\r\n        if ( listenerArray !== undefined ) {\r\n            event.target = this;\r\n            for ( var i = 0, l = listenerArray.length; i < l; i ++ ) {\r\n                listenerArray[ i ].call( this, event );\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n};\r\n\r\n},{}],50:[function(_dereq_,module,exports){\r\nvar AABB = _dereq_('../collision/AABB');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\n\r\nmodule.exports = Octree;\r\n\r\n/**\r\n * @class OctreeNode\r\n * @param {object} [options]\r\n * @param {Octree} [options.root]\r\n * @param {AABB} [options.aabb]\r\n */\r\nfunction OctreeNode(options){\r\n    options = options || {};\r\n\r\n    /**\r\n     * The root node\r\n     * @property {OctreeNode} root\r\n     */\r\n    this.root = options.root || null;\r\n\r\n    /**\r\n     * Boundary of this node\r\n     * @property {AABB} aabb\r\n     */\r\n    this.aabb = options.aabb ? options.aabb.clone() : new AABB();\r\n\r\n    /**\r\n     * Contained data at the current node level.\r\n     * @property {Array} data\r\n     */\r\n    this.data = [];\r\n\r\n    /**\r\n     * Children to this node\r\n     * @property {Array} children\r\n     */\r\n    this.children = [];\r\n}\r\n\r\n/**\r\n * @class Octree\r\n * @param {AABB} aabb The total AABB of the tree\r\n * @param {object} [options]\r\n * @param {number} [options.maxDepth=8]\r\n * @extends OctreeNode\r\n */\r\nfunction Octree(aabb, options){\r\n    options = options || {};\r\n    options.root = null;\r\n    options.aabb = aabb;\r\n    OctreeNode.call(this, options);\r\n\r\n    /**\r\n     * Maximum subdivision depth\r\n     * @property {number} maxDepth\r\n     */\r\n    this.maxDepth = typeof(options.maxDepth) !== 'undefined' ? options.maxDepth : 8;\r\n}\r\nOctree.prototype = new OctreeNode();\r\n\r\nOctreeNode.prototype.reset = function(aabb, options){\r\n    this.children.length = this.data.length = 0;\r\n};\r\n\r\n/**\r\n * Insert data into this node\r\n * @method insert\r\n * @param  {AABB} aabb\r\n * @param  {object} elementData\r\n * @return {boolean} True if successful, otherwise false\r\n */\r\nOctreeNode.prototype.insert = function(aabb, elementData, level){\r\n    var nodeData = this.data;\r\n    level = level || 0;\r\n\r\n    // Ignore objects that do not belong in this node\r\n    if (!this.aabb.contains(aabb)){\r\n        return false; // object cannot be added\r\n    }\r\n\r\n    var children = this.children;\r\n\r\n    if(level < (this.maxDepth || this.root.maxDepth)){\r\n        // Subdivide if there are no children yet\r\n        var subdivided = false;\r\n        if (!children.length){\r\n            this.subdivide();\r\n            subdivided = true;\r\n        }\r\n\r\n        // add to whichever node will accept it\r\n        for (var i = 0; i !== 8; i++) {\r\n            if (children[i].insert(aabb, elementData, level + 1)){\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if(subdivided){\r\n            // No children accepted! Might as well just remove em since they contain none\r\n            children.length = 0;\r\n        }\r\n    }\r\n\r\n    // Too deep, or children didnt want it. add it in current node\r\n    nodeData.push(elementData);\r\n\r\n    return true;\r\n};\r\n\r\nvar halfDiagonal = new Vec3();\r\n\r\n/**\r\n * Create 8 equally sized children nodes and put them in the .children array.\r\n * @method subdivide\r\n */\r\nOctreeNode.prototype.subdivide = function() {\r\n    var aabb = this.aabb;\r\n    var l = aabb.lowerBound;\r\n    var u = aabb.upperBound;\r\n\r\n    var children = this.children;\r\n\r\n    children.push(\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,0) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,0) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,0) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,1) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,1) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,1) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,1) }) }),\r\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,0) }) })\r\n    );\r\n\r\n    u.vsub(l, halfDiagonal);\r\n    halfDiagonal.scale(0.5, halfDiagonal);\r\n\r\n    var root = this.root || this;\r\n\r\n    for (var i = 0; i !== 8; i++) {\r\n        var child = children[i];\r\n\r\n        // Set current node as root\r\n        child.root = root;\r\n\r\n        // Compute bounds\r\n        var lowerBound = child.aabb.lowerBound;\r\n        lowerBound.x *= halfDiagonal.x;\r\n        lowerBound.y *= halfDiagonal.y;\r\n        lowerBound.z *= halfDiagonal.z;\r\n\r\n        lowerBound.vadd(l, lowerBound);\r\n\r\n        // Upper bound is always lower bound + halfDiagonal\r\n        lowerBound.vadd(halfDiagonal, child.aabb.upperBound);\r\n    }\r\n};\r\n\r\n/**\r\n * Get all data, potentially within an AABB\r\n * @method aabbQuery\r\n * @param  {AABB} aabb\r\n * @param  {array} result\r\n * @return {array} The \"result\" object\r\n */\r\nOctreeNode.prototype.aabbQuery = function(aabb, result) {\r\n\r\n    var nodeData = this.data;\r\n\r\n    // abort if the range does not intersect this node\r\n    // if (!this.aabb.overlaps(aabb)){\r\n    //     return result;\r\n    // }\r\n\r\n    // Add objects at this level\r\n    // Array.prototype.push.apply(result, nodeData);\r\n\r\n    // Add child data\r\n    // @todo unwrap recursion into a queue / loop, that's faster in JS\r\n    var children = this.children;\r\n\r\n\r\n    // for (var i = 0, N = this.children.length; i !== N; i++) {\r\n    //     children[i].aabbQuery(aabb, result);\r\n    // }\r\n\r\n    var queue = [this];\r\n    while (queue.length) {\r\n        var node = queue.pop();\r\n        if (node.aabb.overlaps(aabb)){\r\n            Array.prototype.push.apply(result, node.data);\r\n        }\r\n        Array.prototype.push.apply(queue, node.children);\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nvar tmpAABB = new AABB();\r\n\r\n/**\r\n * Get all data, potentially intersected by a ray.\r\n * @method rayQuery\r\n * @param  {Ray} ray\r\n * @param  {Transform} treeTransform\r\n * @param  {array} result\r\n * @return {array} The \"result\" object\r\n */\r\nOctreeNode.prototype.rayQuery = function(ray, treeTransform, result) {\r\n\r\n    // Use aabb query for now.\r\n    // @todo implement real ray query which needs less lookups\r\n    ray.getAABB(tmpAABB);\r\n    tmpAABB.toLocalFrame(treeTransform, tmpAABB);\r\n    this.aabbQuery(tmpAABB, result);\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * @method removeEmptyNodes\r\n */\r\nOctreeNode.prototype.removeEmptyNodes = function() {\r\n    var queue = [this];\r\n    while (queue.length) {\r\n        var node = queue.pop();\r\n        for (var i = node.children.length - 1; i >= 0; i--) {\r\n            if(!node.children[i].data.length){\r\n                node.children.splice(i, 1);\r\n            }\r\n        }\r\n        Array.prototype.push.apply(queue, node.children);\r\n    }\r\n};\r\n\r\n},{\"../collision/AABB\":3,\"../math/Vec3\":30}],51:[function(_dereq_,module,exports){\r\nmodule.exports = Pool;\r\n\r\n/**\r\n * For pooling objects that can be reused.\r\n * @class Pool\r\n * @constructor\r\n */\r\nfunction Pool(){\r\n    /**\r\n     * The pooled objects\r\n     * @property {Array} objects\r\n     */\r\n    this.objects = [];\r\n\r\n    /**\r\n     * Constructor of the objects\r\n     * @property {mixed} type\r\n     */\r\n    this.type = Object;\r\n}\r\n\r\n/**\r\n * Release an object after use\r\n * @method release\r\n * @param {Object} obj\r\n */\r\nPool.prototype.release = function(){\r\n    var Nargs = arguments.length;\r\n    for(var i=0; i!==Nargs; i++){\r\n        this.objects.push(arguments[i]);\r\n    }\r\n};\r\n\r\n/**\r\n * Get an object\r\n * @method get\r\n * @return {mixed}\r\n */\r\nPool.prototype.get = function(){\r\n    if(this.objects.length===0){\r\n        return this.constructObject();\r\n    } else {\r\n        return this.objects.pop();\r\n    }\r\n};\r\n\r\n/**\r\n * Construct an object. Should be implmented in each subclass.\r\n * @method constructObject\r\n * @return {mixed}\r\n */\r\nPool.prototype.constructObject = function(){\r\n    throw new Error(\"constructObject() not implemented in this Pool subclass yet!\");\r\n};\r\n\r\n},{}],52:[function(_dereq_,module,exports){\r\nmodule.exports = TupleDictionary;\r\n\r\n/**\r\n * @class TupleDictionary\r\n * @constructor\r\n */\r\nfunction TupleDictionary() {\r\n\r\n    /**\r\n     * The data storage\r\n     * @property data\r\n     * @type {Object}\r\n     */\r\n    this.data = { keys:[] };\r\n}\r\n\r\n/**\r\n * @method get\r\n * @param  {Number} i\r\n * @param  {Number} j\r\n * @return {Number}\r\n */\r\nTupleDictionary.prototype.get = function(i, j) {\r\n    if (i > j) {\r\n        // swap\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n    }\r\n    return this.data[i+'-'+j];\r\n};\r\n\r\n/**\r\n * @method set\r\n * @param  {Number} i\r\n * @param  {Number} j\r\n * @param {Number} value\r\n */\r\nTupleDictionary.prototype.set = function(i, j, value) {\r\n    if (i > j) {\r\n        var temp = j;\r\n        j = i;\r\n        i = temp;\r\n    }\r\n    var key = i+'-'+j;\r\n\r\n    // Check if key already exists\r\n    if(!this.get(i,j)){\r\n        this.data.keys.push(key);\r\n    }\r\n\r\n    this.data[key] = value;\r\n};\r\n\r\n/**\r\n * @method reset\r\n */\r\nTupleDictionary.prototype.reset = function() {\r\n    var data = this.data,\r\n        keys = data.keys;\r\n    while(keys.length > 0){\r\n        var key = keys.pop();\r\n        delete data[key];\r\n    }\r\n};\r\n\r\n},{}],53:[function(_dereq_,module,exports){\r\nfunction Utils(){}\r\n\r\nmodule.exports = Utils;\r\n\r\n/**\r\n * Extend an options object with default values.\r\n * @static\r\n * @method defaults\r\n * @param  {object} options The options object. May be falsy: in this case, a new object is created and returned.\r\n * @param  {object} defaults An object containing default values.\r\n * @return {object} The modified options object.\r\n */\r\nUtils.defaults = function(options, defaults){\r\n    options = options || {};\r\n\r\n    for(var key in defaults){\r\n        if(!(key in options)){\r\n            options[key] = defaults[key];\r\n        }\r\n    }\r\n\r\n    return options;\r\n};\r\n\r\n},{}],54:[function(_dereq_,module,exports){\r\nmodule.exports = Vec3Pool;\r\n\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Pool = _dereq_('./Pool');\r\n\r\n/**\r\n * @class Vec3Pool\r\n * @constructor\r\n * @extends Pool\r\n */\r\nfunction Vec3Pool(){\r\n    Pool.call(this);\r\n    this.type = Vec3;\r\n}\r\nVec3Pool.prototype = new Pool();\r\n\r\n/**\r\n * Construct a vector\r\n * @method constructObject\r\n * @return {Vec3}\r\n */\r\nVec3Pool.prototype.constructObject = function(){\r\n    return new Vec3();\r\n};\r\n\r\n},{\"../math/Vec3\":30,\"./Pool\":51}],55:[function(_dereq_,module,exports){\r\nmodule.exports = Narrowphase;\r\n\r\nvar AABB = _dereq_('../collision/AABB');\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Ray = _dereq_('../collision/Ray');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Transform = _dereq_('../math/Transform');\r\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar Solver = _dereq_('../solver/Solver');\r\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\r\n\r\n/**\r\n * Helper class for the World. Generates ContactEquations.\r\n * @class Narrowphase\r\n * @constructor\r\n * @todo Sphere-ConvexPolyhedron contacts\r\n * @todo Contact reduction\r\n * @todo  should move methods to prototype\r\n */\r\nfunction Narrowphase(world){\r\n\r\n    /**\r\n     * Internal storage of pooled contact points.\r\n     * @property {Array} contactPointPool\r\n     */\r\n    this.contactPointPool = [];\r\n\r\n    this.frictionEquationPool = [];\r\n\r\n    this.result = [];\r\n    this.frictionResult = [];\r\n\r\n    /**\r\n     * Pooled vectors.\r\n     * @property {Vec3Pool} v3pool\r\n     */\r\n    this.v3pool = new Vec3Pool();\r\n\r\n    this.world = world;\r\n    this.currentContactMaterial = null;\r\n\r\n    /**\r\n     * @property {Boolean} enableFrictionReduction\r\n     */\r\n    this.enableFrictionReduction = false;\r\n}\r\n\r\n/**\r\n * Make a contact object, by using the internal pool or creating a new one.\r\n * @method createContactEquation\r\n * @return {ContactEquation}\r\n */\r\nNarrowphase.prototype.createContactEquation = function(bi, bj, si, sj, rsi, rsj){\r\n    var c;\r\n    if(this.contactPointPool.length){\r\n        c = this.contactPointPool.pop();\r\n        c.bi = bi;\r\n        c.bj = bj;\r\n    } else {\r\n        c = new ContactEquation(bi, bj);\r\n    }\r\n\r\n    c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\r\n\r\n    var cm = this.currentContactMaterial;\r\n\r\n    c.restitution = cm.restitution;\r\n\r\n    c.setSpookParams(\r\n        cm.contactEquationStiffness,\r\n        cm.contactEquationRelaxation,\r\n        this.world.dt\r\n    );\r\n\r\n    var matA = si.material || bi.material;\r\n    var matB = sj.material || bj.material;\r\n    if(matA && matB && matA.restitution >= 0 && matB.restitution >= 0){\r\n        c.restitution = matA.restitution * matB.restitution;\r\n    }\r\n\r\n    c.si = rsi || si;\r\n    c.sj = rsj || sj;\r\n\r\n    return c;\r\n};\r\n\r\nNarrowphase.prototype.createFrictionEquationsFromContact = function(contactEquation, outArray){\r\n    var bodyA = contactEquation.bi;\r\n    var bodyB = contactEquation.bj;\r\n    var shapeA = contactEquation.si;\r\n    var shapeB = contactEquation.sj;\r\n\r\n    var world = this.world;\r\n    var cm = this.currentContactMaterial;\r\n\r\n    // If friction or restitution were specified in the material, use them\r\n    var friction = cm.friction;\r\n    var matA = shapeA.material || bodyA.material;\r\n    var matB = shapeB.material || bodyB.material;\r\n    if(matA && matB && matA.friction >= 0 && matB.friction >= 0){\r\n        friction = matA.friction * matB.friction;\r\n    }\r\n\r\n    if(friction > 0){\r\n\r\n        // Create 2 tangent equations\r\n        var mug = friction * world.gravity.length();\r\n        var reducedMass = (bodyA.invMass + bodyB.invMass);\r\n        if(reducedMass > 0){\r\n            reducedMass = 1/reducedMass;\r\n        }\r\n        var pool = this.frictionEquationPool;\r\n        var c1 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\r\n        var c2 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\r\n\r\n        c1.bi = c2.bi = bodyA;\r\n        c1.bj = c2.bj = bodyB;\r\n        c1.minForce = c2.minForce = -mug*reducedMass;\r\n        c1.maxForce = c2.maxForce = mug*reducedMass;\r\n\r\n        // Copy over the relative vectors\r\n        c1.ri.copy(contactEquation.ri);\r\n        c1.rj.copy(contactEquation.rj);\r\n        c2.ri.copy(contactEquation.ri);\r\n        c2.rj.copy(contactEquation.rj);\r\n\r\n        // Construct tangents\r\n        contactEquation.ni.tangents(c1.t, c2.t);\r\n\r\n        // Set spook params\r\n        c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\r\n        c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\r\n\r\n        c1.enabled = c2.enabled = contactEquation.enabled;\r\n\r\n        outArray.push(c1, c2);\r\n\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nvar averageNormal = new Vec3();\r\nvar averageContactPointA = new Vec3();\r\nvar averageContactPointB = new Vec3();\r\n\r\n// Take the average N latest contact point on the plane.\r\nNarrowphase.prototype.createFrictionFromAverage = function(numContacts){\r\n    // The last contactEquation\r\n    var c = this.result[this.result.length - 1];\r\n\r\n    // Create the result: two \"average\" friction equations\r\n    if (!this.createFrictionEquationsFromContact(c, this.frictionResult) || numContacts === 1) {\r\n        return;\r\n    }\r\n\r\n    var f1 = this.frictionResult[this.frictionResult.length - 2];\r\n    var f2 = this.frictionResult[this.frictionResult.length - 1];\r\n\r\n    averageNormal.setZero();\r\n    averageContactPointA.setZero();\r\n    averageContactPointB.setZero();\r\n\r\n    var bodyA = c.bi;\r\n    var bodyB = c.bj;\r\n    for(var i=0; i!==numContacts; i++){\r\n        c = this.result[this.result.length - 1 - i];\r\n        if(c.bodyA !== bodyA){\r\n            averageNormal.vadd(c.ni, averageNormal); // vec2.add(eq.t, eq.t, c.normalA);\r\n            averageContactPointA.vadd(c.ri, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\r\n            averageContactPointB.vadd(c.rj, averageContactPointB);\r\n        } else {\r\n            averageNormal.vsub(c.ni, averageNormal); // vec2.sub(eq.t, eq.t, c.normalA);\r\n            averageContactPointA.vadd(c.rj, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\r\n            averageContactPointB.vadd(c.ri, averageContactPointB);\r\n        }\r\n    }\r\n\r\n    var invNumContacts = 1 / numContacts;\r\n    averageContactPointA.scale(invNumContacts, f1.ri); // vec2.scale(eq.contactPointA, eq.contactPointA, invNumContacts);\r\n    averageContactPointB.scale(invNumContacts, f1.rj); // vec2.scale(eq.contactPointB, eq.contactPointB, invNumContacts);\r\n    f2.ri.copy(f1.ri); // Should be the same\r\n    f2.rj.copy(f1.rj);\r\n    averageNormal.normalize();\r\n    averageNormal.tangents(f1.t, f2.t);\r\n    // return eq;\r\n};\r\n\r\n\r\nvar tmpVec1 = new Vec3();\r\nvar tmpVec2 = new Vec3();\r\nvar tmpQuat1 = new Quaternion();\r\nvar tmpQuat2 = new Quaternion();\r\n\r\n/**\r\n * Generate all contacts between a list of body pairs\r\n * @method getContacts\r\n * @param {array} p1 Array of body indices\r\n * @param {array} p2 Array of body indices\r\n * @param {World} world\r\n * @param {array} result Array to store generated contacts\r\n * @param {array} oldcontacts Optional. Array of reusable contact objects\r\n */\r\nNarrowphase.prototype.getContacts = function(p1, p2, world, result, oldcontacts, frictionResult, frictionPool){\r\n    // Save old contact objects\r\n    this.contactPointPool = oldcontacts;\r\n    this.frictionEquationPool = frictionPool;\r\n    this.result = result;\r\n    this.frictionResult = frictionResult;\r\n\r\n    var qi = tmpQuat1;\r\n    var qj = tmpQuat2;\r\n    var xi = tmpVec1;\r\n    var xj = tmpVec2;\r\n\r\n    for(var k=0, N=p1.length; k!==N; k++){\r\n\r\n        // Get current collision bodies\r\n        var bi = p1[k],\r\n            bj = p2[k];\r\n\r\n        // Get contact material\r\n        var bodyContactMaterial = null;\r\n        if(bi.material && bj.material){\r\n            bodyContactMaterial = world.getContactMaterial(bi.material,bj.material) || null;\r\n        }\r\n\r\n        for (var i = 0; i < bi.shapes.length; i++) {\r\n            bi.quaternion.mult(bi.shapeOrientations[i], qi);\r\n            bi.quaternion.vmult(bi.shapeOffsets[i], xi);\r\n            xi.vadd(bi.position, xi);\r\n            var si = bi.shapes[i];\r\n\r\n            for (var j = 0; j < bj.shapes.length; j++) {\r\n\r\n                // Compute world transform of shapes\r\n                bj.quaternion.mult(bj.shapeOrientations[j], qj);\r\n                bj.quaternion.vmult(bj.shapeOffsets[j], xj);\r\n                xj.vadd(bj.position, xj);\r\n                var sj = bj.shapes[j];\r\n\r\n                if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\r\n                    continue;\r\n                }\r\n\r\n                // Get collision material\r\n                var shapeContactMaterial = null;\r\n                if(si.material && sj.material){\r\n                    shapeContactMaterial = world.getContactMaterial(si.material,sj.material) || null;\r\n                }\r\n\r\n                this.currentContactMaterial = shapeContactMaterial || bodyContactMaterial || world.defaultContactMaterial;\r\n\r\n                // Get contacts\r\n                var resolver = this[si.type | sj.type];\r\n                if(resolver){\r\n                    if (si.type < sj.type) {\r\n                        resolver.call(this, si, sj, xi, xj, qi, qj, bi, bj, si, sj);\r\n                    } else {\r\n                        resolver.call(this, sj, si, xj, xi, qj, qi, bj, bi, si, sj);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nvar numWarnings = 0;\r\nvar maxWarnings = 10;\r\n\r\nfunction warn(msg){\r\n    if(numWarnings > maxWarnings){\r\n        return;\r\n    }\r\n\r\n    numWarnings++;\r\n\r\n    console.warn(msg);\r\n}\r\n\r\nNarrowphase.prototype[Shape.types.BOX | Shape.types.BOX] =\r\nNarrowphase.prototype.boxBox = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    si.convexPolyhedronRepresentation.material = si.material;\r\n    sj.convexPolyhedronRepresentation.material = sj.material;\r\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\r\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\r\n    this.convexConvex(si.convexPolyhedronRepresentation,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj,si,sj);\r\n};\r\n\r\nNarrowphase.prototype[Shape.types.BOX | Shape.types.CONVEXPOLYHEDRON] =\r\nNarrowphase.prototype.boxConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    si.convexPolyhedronRepresentation.material = si.material;\r\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\r\n    this.convexConvex(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\r\n};\r\n\r\nNarrowphase.prototype[Shape.types.BOX | Shape.types.PARTICLE] =\r\nNarrowphase.prototype.boxParticle = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    si.convexPolyhedronRepresentation.material = si.material;\r\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\r\n    this.convexParticle(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\r\n};\r\n\r\n/**\r\n * @method sphereSphere\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.SPHERE] =\r\nNarrowphase.prototype.sphereSphere = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    // We will have only one contact in this case\r\n    var r = this.createContactEquation(bi,bj,si,sj);\r\n\r\n    // Contact normal\r\n    xj.vsub(xi, r.ni);\r\n    r.ni.normalize();\r\n\r\n    // Contact point locations\r\n    r.ri.copy(r.ni);\r\n    r.rj.copy(r.ni);\r\n    r.ri.mult(si.radius, r.ri);\r\n    r.rj.mult(-sj.radius, r.rj);\r\n\r\n    r.ri.vadd(xi, r.ri);\r\n    r.ri.vsub(bi.position, r.ri);\r\n\r\n    r.rj.vadd(xj, r.rj);\r\n    r.rj.vsub(bj.position, r.rj);\r\n\r\n    this.result.push(r);\r\n\r\n    this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n};\r\n\r\n/**\r\n * @method planeTrimesh\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nvar planeTrimesh_normal = new Vec3();\r\nvar planeTrimesh_relpos = new Vec3();\r\nvar planeTrimesh_projected = new Vec3();\r\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.TRIMESH] =\r\nNarrowphase.prototype.planeTrimesh = function(\r\n    planeShape,\r\n    trimeshShape,\r\n    planePos,\r\n    trimeshPos,\r\n    planeQuat,\r\n    trimeshQuat,\r\n    planeBody,\r\n    trimeshBody\r\n){\r\n    // Make contacts!\r\n    var v = new Vec3();\r\n\r\n    var normal = planeTrimesh_normal;\r\n    normal.set(0,0,1);\r\n    planeQuat.vmult(normal,normal); // Turn normal according to plane\r\n\r\n    for(var i=0; i<trimeshShape.vertices.length / 3; i++){\r\n\r\n        // Get world vertex from trimesh\r\n        trimeshShape.getVertex(i, v);\r\n\r\n        // Safe up\r\n        var v2 = new Vec3();\r\n        v2.copy(v);\r\n        Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\r\n\r\n        // Check plane side\r\n        var relpos = planeTrimesh_relpos;\r\n        v.vsub(planePos, relpos);\r\n        var dot = normal.dot(relpos);\r\n\r\n        if(dot <= 0.0){\r\n            var r = this.createContactEquation(planeBody,trimeshBody,planeShape,trimeshShape);\r\n\r\n            r.ni.copy(normal); // Contact normal is the plane normal\r\n\r\n            // Get vertex position projected on plane\r\n            var projected = planeTrimesh_projected;\r\n            normal.scale(relpos.dot(normal), projected);\r\n            v.vsub(projected,projected);\r\n\r\n            // ri is the projected world position minus plane position\r\n            r.ri.copy(projected);\r\n            r.ri.vsub(planeBody.position, r.ri);\r\n\r\n            r.rj.copy(v);\r\n            r.rj.vsub(trimeshBody.position, r.rj);\r\n\r\n            // Store result\r\n            this.result.push(r);\r\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @method sphereTrimesh\r\n * @param  {Shape}      sphereShape\r\n * @param  {Shape}      trimeshShape\r\n * @param  {Vec3}       spherePos\r\n * @param  {Vec3}       trimeshPos\r\n * @param  {Quaternion} sphereQuat\r\n * @param  {Quaternion} trimeshQuat\r\n * @param  {Body}       sphereBody\r\n * @param  {Body}       trimeshBody\r\n */\r\nvar sphereTrimesh_normal = new Vec3();\r\nvar sphereTrimesh_relpos = new Vec3();\r\nvar sphereTrimesh_projected = new Vec3();\r\nvar sphereTrimesh_v = new Vec3();\r\nvar sphereTrimesh_v2 = new Vec3();\r\nvar sphereTrimesh_edgeVertexA = new Vec3();\r\nvar sphereTrimesh_edgeVertexB = new Vec3();\r\nvar sphereTrimesh_edgeVector = new Vec3();\r\nvar sphereTrimesh_edgeVectorUnit = new Vec3();\r\nvar sphereTrimesh_localSpherePos = new Vec3();\r\nvar sphereTrimesh_tmp = new Vec3();\r\nvar sphereTrimesh_va = new Vec3();\r\nvar sphereTrimesh_vb = new Vec3();\r\nvar sphereTrimesh_vc = new Vec3();\r\nvar sphereTrimesh_localSphereAABB = new AABB();\r\nvar sphereTrimesh_triangles = [];\r\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.TRIMESH] =\r\nNarrowphase.prototype.sphereTrimesh = function (\r\n    sphereShape,\r\n    trimeshShape,\r\n    spherePos,\r\n    trimeshPos,\r\n    sphereQuat,\r\n    trimeshQuat,\r\n    sphereBody,\r\n    trimeshBody\r\n) {\r\n\r\n    var edgeVertexA = sphereTrimesh_edgeVertexA;\r\n    var edgeVertexB = sphereTrimesh_edgeVertexB;\r\n    var edgeVector = sphereTrimesh_edgeVector;\r\n    var edgeVectorUnit = sphereTrimesh_edgeVectorUnit;\r\n    var localSpherePos = sphereTrimesh_localSpherePos;\r\n    var tmp = sphereTrimesh_tmp;\r\n    var localSphereAABB = sphereTrimesh_localSphereAABB;\r\n    var v2 = sphereTrimesh_v2;\r\n    var relpos = sphereTrimesh_relpos;\r\n    var triangles = sphereTrimesh_triangles;\r\n\r\n    // Convert sphere position to local in the trimesh\r\n    Transform.pointToLocalFrame(trimeshPos, trimeshQuat, spherePos, localSpherePos);\r\n\r\n    // Get the aabb of the sphere locally in the trimesh\r\n    var sphereRadius = sphereShape.radius;\r\n    localSphereAABB.lowerBound.set(\r\n        localSpherePos.x - sphereRadius,\r\n        localSpherePos.y - sphereRadius,\r\n        localSpherePos.z - sphereRadius\r\n    );\r\n    localSphereAABB.upperBound.set(\r\n        localSpherePos.x + sphereRadius,\r\n        localSpherePos.y + sphereRadius,\r\n        localSpherePos.z + sphereRadius\r\n    );\r\n\r\n    trimeshShape.getTrianglesInAABB(localSphereAABB, triangles);\r\n    //for (var i = 0; i < trimeshShape.indices.length / 3; i++) triangles.push(i); // All\r\n\r\n    // Vertices\r\n    var v = sphereTrimesh_v;\r\n    var radiusSquared = sphereShape.radius * sphereShape.radius;\r\n    for(var i=0; i<triangles.length; i++){\r\n        for (var j = 0; j < 3; j++) {\r\n\r\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], v);\r\n\r\n            // Check vertex overlap in sphere\r\n            v.vsub(localSpherePos, relpos);\r\n\r\n            if(relpos.norm2() <= radiusSquared){\r\n\r\n                // Safe up\r\n                v2.copy(v);\r\n                Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\r\n\r\n                v.vsub(spherePos, relpos);\r\n\r\n                var r = this.createContactEquation(sphereBody,trimeshBody,sphereShape,trimeshShape);\r\n                r.ni.copy(relpos);\r\n                r.ni.normalize();\r\n\r\n                // ri is the vector from sphere center to the sphere surface\r\n                r.ri.copy(r.ni);\r\n                r.ri.scale(sphereShape.radius, r.ri);\r\n                r.ri.vadd(spherePos, r.ri);\r\n                r.ri.vsub(sphereBody.position, r.ri);\r\n\r\n                r.rj.copy(v);\r\n                r.rj.vsub(trimeshBody.position, r.rj);\r\n\r\n                // Store result\r\n                this.result.push(r);\r\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Check all edges\r\n    for(var i=0; i<triangles.length; i++){\r\n        for (var j = 0; j < 3; j++) {\r\n\r\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], edgeVertexA);\r\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + ((j+1)%3)], edgeVertexB);\r\n            edgeVertexB.vsub(edgeVertexA, edgeVector);\r\n\r\n            // Project sphere position to the edge\r\n            localSpherePos.vsub(edgeVertexB, tmp);\r\n            var positionAlongEdgeB = tmp.dot(edgeVector);\r\n\r\n            localSpherePos.vsub(edgeVertexA, tmp);\r\n            var positionAlongEdgeA = tmp.dot(edgeVector);\r\n\r\n            if(positionAlongEdgeA > 0 && positionAlongEdgeB < 0){\r\n\r\n                // Now check the orthogonal distance from edge to sphere center\r\n                localSpherePos.vsub(edgeVertexA, tmp);\r\n\r\n                edgeVectorUnit.copy(edgeVector);\r\n                edgeVectorUnit.normalize();\r\n                positionAlongEdgeA = tmp.dot(edgeVectorUnit);\r\n\r\n                edgeVectorUnit.scale(positionAlongEdgeA, tmp);\r\n                tmp.vadd(edgeVertexA, tmp);\r\n\r\n                // tmp is now the sphere center position projected to the edge, defined locally in the trimesh frame\r\n                var dist = tmp.distanceTo(localSpherePos);\r\n                if(dist < sphereShape.radius){\r\n                    var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\r\n\r\n                    tmp.vsub(localSpherePos, r.ni);\r\n                    r.ni.normalize();\r\n                    r.ni.scale(sphereShape.radius, r.ri);\r\n\r\n                    Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\r\n                    tmp.vsub(trimeshBody.position, r.rj);\r\n\r\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\r\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\r\n\r\n                    this.result.push(r);\r\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Triangle faces\r\n    var va = sphereTrimesh_va;\r\n    var vb = sphereTrimesh_vb;\r\n    var vc = sphereTrimesh_vc;\r\n    var normal = sphereTrimesh_normal;\r\n    for(var i=0, N = triangles.length; i !== N; i++){\r\n        trimeshShape.getTriangleVertices(triangles[i], va, vb, vc);\r\n        trimeshShape.getNormal(triangles[i], normal);\r\n        localSpherePos.vsub(va, tmp);\r\n        var dist = tmp.dot(normal);\r\n        normal.scale(dist, tmp);\r\n        localSpherePos.vsub(tmp, tmp);\r\n\r\n        // tmp is now the sphere position projected to the triangle plane\r\n        dist = tmp.distanceTo(localSpherePos);\r\n        if(Ray.pointInTriangle(tmp, va, vb, vc) && dist < sphereShape.radius){\r\n            var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\r\n\r\n            tmp.vsub(localSpherePos, r.ni);\r\n            r.ni.normalize();\r\n            r.ni.scale(sphereShape.radius, r.ri);\r\n\r\n            Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\r\n            tmp.vsub(trimeshBody.position, r.rj);\r\n\r\n            Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\r\n            Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\r\n\r\n            this.result.push(r);\r\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n        }\r\n    }\r\n\r\n    triangles.length = 0;\r\n};\r\n\r\nvar point_on_plane_to_sphere = new Vec3();\r\nvar plane_to_sphere_ortho = new Vec3();\r\n\r\n/**\r\n * @method spherePlane\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.PLANE] =\r\nNarrowphase.prototype.spherePlane = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    // We will have one contact in this case\r\n    var r = this.createContactEquation(bi,bj,si,sj);\r\n\r\n    // Contact normal\r\n    r.ni.set(0,0,1);\r\n    qj.vmult(r.ni, r.ni);\r\n    r.ni.negate(r.ni); // body i is the sphere, flip normal\r\n    r.ni.normalize(); // Needed?\r\n\r\n    // Vector from sphere center to contact point\r\n    r.ni.mult(si.radius, r.ri);\r\n\r\n    // Project down sphere on plane\r\n    xi.vsub(xj, point_on_plane_to_sphere);\r\n    r.ni.mult(r.ni.dot(point_on_plane_to_sphere), plane_to_sphere_ortho);\r\n    point_on_plane_to_sphere.vsub(plane_to_sphere_ortho,r.rj); // The sphere position projected to plane\r\n\r\n    if(-point_on_plane_to_sphere.dot(r.ni) <= si.radius){\r\n\r\n        // Make it relative to the body\r\n        var ri = r.ri;\r\n        var rj = r.rj;\r\n        ri.vadd(xi, ri);\r\n        ri.vsub(bi.position, ri);\r\n        rj.vadd(xj, rj);\r\n        rj.vsub(bj.position, rj);\r\n\r\n        this.result.push(r);\r\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n    }\r\n};\r\n\r\n// See http://bulletphysics.com/Bullet/BulletFull/SphereTriangleDetector_8cpp_source.html\r\nvar pointInPolygon_edge = new Vec3();\r\nvar pointInPolygon_edge_x_normal = new Vec3();\r\nvar pointInPolygon_vtp = new Vec3();\r\nfunction pointInPolygon(verts, normal, p){\r\n    var positiveResult = null;\r\n    var N = verts.length;\r\n    for(var i=0; i!==N; i++){\r\n        var v = verts[i];\r\n\r\n        // Get edge to the next vertex\r\n        var edge = pointInPolygon_edge;\r\n        verts[(i+1) % (N)].vsub(v,edge);\r\n\r\n        // Get cross product between polygon normal and the edge\r\n        var edge_x_normal = pointInPolygon_edge_x_normal;\r\n        //var edge_x_normal = new Vec3();\r\n        edge.cross(normal,edge_x_normal);\r\n\r\n        // Get vector between point and current vertex\r\n        var vertex_to_p = pointInPolygon_vtp;\r\n        p.vsub(v,vertex_to_p);\r\n\r\n        // This dot product determines which side of the edge the point is\r\n        var r = edge_x_normal.dot(vertex_to_p);\r\n\r\n        // If all such dot products have same sign, we are inside the polygon.\r\n        if(positiveResult===null || (r>0 && positiveResult===true) || (r<=0 && positiveResult===false)){\r\n            if(positiveResult===null){\r\n                positiveResult = r>0;\r\n            }\r\n            continue;\r\n        } else {\r\n            return false; // Encountered some other sign. Exit.\r\n        }\r\n    }\r\n\r\n    // If we got here, all dot products were of the same sign.\r\n    return true;\r\n}\r\n\r\nvar box_to_sphere = new Vec3();\r\nvar sphereBox_ns = new Vec3();\r\nvar sphereBox_ns1 = new Vec3();\r\nvar sphereBox_ns2 = new Vec3();\r\nvar sphereBox_sides = [new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3()];\r\nvar sphereBox_sphere_to_corner = new Vec3();\r\nvar sphereBox_side_ns = new Vec3();\r\nvar sphereBox_side_ns1 = new Vec3();\r\nvar sphereBox_side_ns2 = new Vec3();\r\n\r\n/**\r\n * @method sphereBox\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.BOX] =\r\nNarrowphase.prototype.sphereBox = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    var v3pool = this.v3pool;\r\n\r\n    // we refer to the box as body j\r\n    var sides = sphereBox_sides;\r\n    xi.vsub(xj,box_to_sphere);\r\n    sj.getSideNormals(sides,qj);\r\n    var R =     si.radius;\r\n    var penetrating_sides = [];\r\n\r\n    // Check side (plane) intersections\r\n    var found = false;\r\n\r\n    // Store the resulting side penetration info\r\n    var side_ns = sphereBox_side_ns;\r\n    var side_ns1 = sphereBox_side_ns1;\r\n    var side_ns2 = sphereBox_side_ns2;\r\n    var side_h = null;\r\n    var side_penetrations = 0;\r\n    var side_dot1 = 0;\r\n    var side_dot2 = 0;\r\n    var side_distance = null;\r\n    for(var idx=0,nsides=sides.length; idx!==nsides && found===false; idx++){\r\n        // Get the plane side normal (ns)\r\n        var ns = sphereBox_ns;\r\n        ns.copy(sides[idx]);\r\n\r\n        var h = ns.norm();\r\n        ns.normalize();\r\n\r\n        // The normal/distance dot product tells which side of the plane we are\r\n        var dot = box_to_sphere.dot(ns);\r\n\r\n        if(dot<h+R && dot>0){\r\n            // Intersects plane. Now check the other two dimensions\r\n            var ns1 = sphereBox_ns1;\r\n            var ns2 = sphereBox_ns2;\r\n            ns1.copy(sides[(idx+1)%3]);\r\n            ns2.copy(sides[(idx+2)%3]);\r\n            var h1 = ns1.norm();\r\n            var h2 = ns2.norm();\r\n            ns1.normalize();\r\n            ns2.normalize();\r\n            var dot1 = box_to_sphere.dot(ns1);\r\n            var dot2 = box_to_sphere.dot(ns2);\r\n            if(dot1<h1 && dot1>-h1 && dot2<h2 && dot2>-h2){\r\n                var dist = Math.abs(dot-h-R);\r\n                if(side_distance===null || dist < side_distance){\r\n                    side_distance = dist;\r\n                    side_dot1 = dot1;\r\n                    side_dot2 = dot2;\r\n                    side_h = h;\r\n                    side_ns.copy(ns);\r\n                    side_ns1.copy(ns1);\r\n                    side_ns2.copy(ns2);\r\n                    side_penetrations++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if(side_penetrations){\r\n        found = true;\r\n        var r = this.createContactEquation(bi,bj,si,sj);\r\n        side_ns.mult(-R,r.ri); // Sphere r\r\n        r.ni.copy(side_ns);\r\n        r.ni.negate(r.ni); // Normal should be out of sphere\r\n        side_ns.mult(side_h,side_ns);\r\n        side_ns1.mult(side_dot1,side_ns1);\r\n        side_ns.vadd(side_ns1,side_ns);\r\n        side_ns2.mult(side_dot2,side_ns2);\r\n        side_ns.vadd(side_ns2,r.rj);\r\n\r\n        // Make relative to bodies\r\n        r.ri.vadd(xi, r.ri);\r\n        r.ri.vsub(bi.position, r.ri);\r\n        r.rj.vadd(xj, r.rj);\r\n        r.rj.vsub(bj.position, r.rj);\r\n\r\n        this.result.push(r);\r\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n    }\r\n\r\n    // Check corners\r\n    var rj = v3pool.get();\r\n    var sphere_to_corner = sphereBox_sphere_to_corner;\r\n    for(var j=0; j!==2 && !found; j++){\r\n        for(var k=0; k!==2 && !found; k++){\r\n            for(var l=0; l!==2 && !found; l++){\r\n                rj.set(0,0,0);\r\n                if(j){\r\n                    rj.vadd(sides[0],rj);\r\n                } else {\r\n                    rj.vsub(sides[0],rj);\r\n                }\r\n                if(k){\r\n                    rj.vadd(sides[1],rj);\r\n                } else {\r\n                    rj.vsub(sides[1],rj);\r\n                }\r\n                if(l){\r\n                    rj.vadd(sides[2],rj);\r\n                } else {\r\n                    rj.vsub(sides[2],rj);\r\n                }\r\n\r\n                // World position of corner\r\n                xj.vadd(rj,sphere_to_corner);\r\n                sphere_to_corner.vsub(xi,sphere_to_corner);\r\n\r\n                if(sphere_to_corner.norm2() < R*R){\r\n                    found = true;\r\n                    var r = this.createContactEquation(bi,bj,si,sj);\r\n                    r.ri.copy(sphere_to_corner);\r\n                    r.ri.normalize();\r\n                    r.ni.copy(r.ri);\r\n                    r.ri.mult(R,r.ri);\r\n                    r.rj.copy(rj);\r\n\r\n                    // Make relative to bodies\r\n                    r.ri.vadd(xi, r.ri);\r\n                    r.ri.vsub(bi.position, r.ri);\r\n                    r.rj.vadd(xj, r.rj);\r\n                    r.rj.vsub(bj.position, r.rj);\r\n\r\n                    this.result.push(r);\r\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    v3pool.release(rj);\r\n    rj = null;\r\n\r\n    // Check edges\r\n    var edgeTangent = v3pool.get();\r\n    var edgeCenter = v3pool.get();\r\n    var r = v3pool.get(); // r = edge center to sphere center\r\n    var orthogonal = v3pool.get();\r\n    var dist = v3pool.get();\r\n    var Nsides = sides.length;\r\n    for(var j=0; j!==Nsides && !found; j++){\r\n        for(var k=0; k!==Nsides && !found; k++){\r\n            if(j%3 !== k%3){\r\n                // Get edge tangent\r\n                sides[k].cross(sides[j],edgeTangent);\r\n                edgeTangent.normalize();\r\n                sides[j].vadd(sides[k], edgeCenter);\r\n                r.copy(xi);\r\n                r.vsub(edgeCenter,r);\r\n                r.vsub(xj,r);\r\n                var orthonorm = r.dot(edgeTangent); // distance from edge center to sphere center in the tangent direction\r\n                edgeTangent.mult(orthonorm,orthogonal); // Vector from edge center to sphere center in the tangent direction\r\n\r\n                // Find the third side orthogonal to this one\r\n                var l = 0;\r\n                while(l===j%3 || l===k%3){\r\n                    l++;\r\n                }\r\n\r\n                // vec from edge center to sphere projected to the plane orthogonal to the edge tangent\r\n                dist.copy(xi);\r\n                dist.vsub(orthogonal,dist);\r\n                dist.vsub(edgeCenter,dist);\r\n                dist.vsub(xj,dist);\r\n\r\n                // Distances in tangent direction and distance in the plane orthogonal to it\r\n                var tdist = Math.abs(orthonorm);\r\n                var ndist = dist.norm();\r\n\r\n                if(tdist < sides[l].norm() && ndist<R){\r\n                    found = true;\r\n                    var res = this.createContactEquation(bi,bj,si,sj);\r\n                    edgeCenter.vadd(orthogonal,res.rj); // box rj\r\n                    res.rj.copy(res.rj);\r\n                    dist.negate(res.ni);\r\n                    res.ni.normalize();\r\n\r\n                    res.ri.copy(res.rj);\r\n                    res.ri.vadd(xj,res.ri);\r\n                    res.ri.vsub(xi,res.ri);\r\n                    res.ri.normalize();\r\n                    res.ri.mult(R,res.ri);\r\n\r\n                    // Make relative to bodies\r\n                    res.ri.vadd(xi, res.ri);\r\n                    res.ri.vsub(bi.position, res.ri);\r\n                    res.rj.vadd(xj, res.rj);\r\n                    res.rj.vsub(bj.position, res.rj);\r\n\r\n                    this.result.push(res);\r\n                    this.createFrictionEquationsFromContact(res, this.frictionResult);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    v3pool.release(edgeTangent,edgeCenter,r,orthogonal,dist);\r\n};\r\n\r\nvar convex_to_sphere = new Vec3();\r\nvar sphereConvex_edge = new Vec3();\r\nvar sphereConvex_edgeUnit = new Vec3();\r\nvar sphereConvex_sphereToCorner = new Vec3();\r\nvar sphereConvex_worldCorner = new Vec3();\r\nvar sphereConvex_worldNormal = new Vec3();\r\nvar sphereConvex_worldPoint = new Vec3();\r\nvar sphereConvex_worldSpherePointClosestToPlane = new Vec3();\r\nvar sphereConvex_penetrationVec = new Vec3();\r\nvar sphereConvex_sphereToWorldPoint = new Vec3();\r\n\r\n/**\r\n * @method sphereConvex\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.CONVEXPOLYHEDRON] =\r\nNarrowphase.prototype.sphereConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    var v3pool = this.v3pool;\r\n    xi.vsub(xj,convex_to_sphere);\r\n    var normals = sj.faceNormals;\r\n    var faces = sj.faces;\r\n    var verts = sj.vertices;\r\n    var R =     si.radius;\r\n    var penetrating_sides = [];\r\n\r\n    // if(convex_to_sphere.norm2() > si.boundingSphereRadius + sj.boundingSphereRadius){\r\n    //     return;\r\n    // }\r\n\r\n    // Check corners\r\n    for(var i=0; i!==verts.length; i++){\r\n        var v = verts[i];\r\n\r\n        // World position of corner\r\n        var worldCorner = sphereConvex_worldCorner;\r\n        qj.vmult(v,worldCorner);\r\n        xj.vadd(worldCorner,worldCorner);\r\n        var sphere_to_corner = sphereConvex_sphereToCorner;\r\n        worldCorner.vsub(xi, sphere_to_corner);\r\n        if(sphere_to_corner.norm2() < R * R){\r\n            found = true;\r\n            var r = this.createContactEquation(bi,bj,si,sj);\r\n            r.ri.copy(sphere_to_corner);\r\n            r.ri.normalize();\r\n            r.ni.copy(r.ri);\r\n            r.ri.mult(R,r.ri);\r\n            worldCorner.vsub(xj,r.rj);\r\n\r\n            // Should be relative to the body.\r\n            r.ri.vadd(xi, r.ri);\r\n            r.ri.vsub(bi.position, r.ri);\r\n\r\n            // Should be relative to the body.\r\n            r.rj.vadd(xj, r.rj);\r\n            r.rj.vsub(bj.position, r.rj);\r\n\r\n            this.result.push(r);\r\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n            return;\r\n        }\r\n    }\r\n\r\n    // Check side (plane) intersections\r\n    var found = false;\r\n    for(var i=0, nfaces=faces.length; i!==nfaces && found===false; i++){\r\n        var normal = normals[i];\r\n        var face = faces[i];\r\n\r\n        // Get world-transformed normal of the face\r\n        var worldNormal = sphereConvex_worldNormal;\r\n        qj.vmult(normal,worldNormal);\r\n\r\n        // Get a world vertex from the face\r\n        var worldPoint = sphereConvex_worldPoint;\r\n        qj.vmult(verts[face[0]],worldPoint);\r\n        worldPoint.vadd(xj,worldPoint);\r\n\r\n        // Get a point on the sphere, closest to the face normal\r\n        var worldSpherePointClosestToPlane = sphereConvex_worldSpherePointClosestToPlane;\r\n        worldNormal.mult(-R, worldSpherePointClosestToPlane);\r\n        xi.vadd(worldSpherePointClosestToPlane, worldSpherePointClosestToPlane);\r\n\r\n        // Vector from a face point to the closest point on the sphere\r\n        var penetrationVec = sphereConvex_penetrationVec;\r\n        worldSpherePointClosestToPlane.vsub(worldPoint,penetrationVec);\r\n\r\n        // The penetration. Negative value means overlap.\r\n        var penetration = penetrationVec.dot(worldNormal);\r\n\r\n        var worldPointToSphere = sphereConvex_sphereToWorldPoint;\r\n        xi.vsub(worldPoint, worldPointToSphere);\r\n\r\n        if(penetration < 0 && worldPointToSphere.dot(worldNormal)>0){\r\n            // Intersects plane. Now check if the sphere is inside the face polygon\r\n            var faceVerts = []; // Face vertices, in world coords\r\n            for(var j=0, Nverts=face.length; j!==Nverts; j++){\r\n                var worldVertex = v3pool.get();\r\n                qj.vmult(verts[face[j]], worldVertex);\r\n                xj.vadd(worldVertex,worldVertex);\r\n                faceVerts.push(worldVertex);\r\n            }\r\n\r\n            if(pointInPolygon(faceVerts,worldNormal,xi)){ // Is the sphere center in the face polygon?\r\n                found = true;\r\n                var r = this.createContactEquation(bi,bj,si,sj);\r\n\r\n                worldNormal.mult(-R, r.ri); // Contact offset, from sphere center to contact\r\n                worldNormal.negate(r.ni); // Normal pointing out of sphere\r\n\r\n                var penetrationVec2 = v3pool.get();\r\n                worldNormal.mult(-penetration, penetrationVec2);\r\n                var penetrationSpherePoint = v3pool.get();\r\n                worldNormal.mult(-R, penetrationSpherePoint);\r\n\r\n                //xi.vsub(xj).vadd(penetrationSpherePoint).vadd(penetrationVec2 , r.rj);\r\n                xi.vsub(xj,r.rj);\r\n                r.rj.vadd(penetrationSpherePoint,r.rj);\r\n                r.rj.vadd(penetrationVec2 , r.rj);\r\n\r\n                // Should be relative to the body.\r\n                r.rj.vadd(xj, r.rj);\r\n                r.rj.vsub(bj.position, r.rj);\r\n\r\n                // Should be relative to the body.\r\n                r.ri.vadd(xi, r.ri);\r\n                r.ri.vsub(bi.position, r.ri);\r\n\r\n                v3pool.release(penetrationVec2);\r\n                v3pool.release(penetrationSpherePoint);\r\n\r\n                this.result.push(r);\r\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n\r\n                // Release world vertices\r\n                for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\r\n                    v3pool.release(faceVerts[j]);\r\n                }\r\n\r\n                return; // We only expect *one* face contact\r\n            } else {\r\n                // Edge?\r\n                for(var j=0; j!==face.length; j++){\r\n\r\n                    // Get two world transformed vertices\r\n                    var v1 = v3pool.get();\r\n                    var v2 = v3pool.get();\r\n                    qj.vmult(verts[face[(j+1)%face.length]], v1);\r\n                    qj.vmult(verts[face[(j+2)%face.length]], v2);\r\n                    xj.vadd(v1, v1);\r\n                    xj.vadd(v2, v2);\r\n\r\n                    // Construct edge vector\r\n                    var edge = sphereConvex_edge;\r\n                    v2.vsub(v1,edge);\r\n\r\n                    // Construct the same vector, but normalized\r\n                    var edgeUnit = sphereConvex_edgeUnit;\r\n                    edge.unit(edgeUnit);\r\n\r\n                    // p is xi projected onto the edge\r\n                    var p = v3pool.get();\r\n                    var v1_to_xi = v3pool.get();\r\n                    xi.vsub(v1, v1_to_xi);\r\n                    var dot = v1_to_xi.dot(edgeUnit);\r\n                    edgeUnit.mult(dot, p);\r\n                    p.vadd(v1, p);\r\n\r\n                    // Compute a vector from p to the center of the sphere\r\n                    var xi_to_p = v3pool.get();\r\n                    p.vsub(xi, xi_to_p);\r\n\r\n                    // Collision if the edge-sphere distance is less than the radius\r\n                    // AND if p is in between v1 and v2\r\n                    if(dot > 0 && dot*dot<edge.norm2() && xi_to_p.norm2() < R*R){ // Collision if the edge-sphere distance is less than the radius\r\n                        // Edge contact!\r\n                        var r = this.createContactEquation(bi,bj,si,sj);\r\n                        p.vsub(xj,r.rj);\r\n\r\n                        p.vsub(xi,r.ni);\r\n                        r.ni.normalize();\r\n\r\n                        r.ni.mult(R,r.ri);\r\n\r\n                        // Should be relative to the body.\r\n                        r.rj.vadd(xj, r.rj);\r\n                        r.rj.vsub(bj.position, r.rj);\r\n\r\n                        // Should be relative to the body.\r\n                        r.ri.vadd(xi, r.ri);\r\n                        r.ri.vsub(bi.position, r.ri);\r\n\r\n                        this.result.push(r);\r\n                        this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n\r\n                        // Release world vertices\r\n                        for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\r\n                            v3pool.release(faceVerts[j]);\r\n                        }\r\n\r\n                        v3pool.release(v1);\r\n                        v3pool.release(v2);\r\n                        v3pool.release(p);\r\n                        v3pool.release(xi_to_p);\r\n                        v3pool.release(v1_to_xi);\r\n\r\n                        return;\r\n                    }\r\n\r\n                    v3pool.release(v1);\r\n                    v3pool.release(v2);\r\n                    v3pool.release(p);\r\n                    v3pool.release(xi_to_p);\r\n                    v3pool.release(v1_to_xi);\r\n                }\r\n            }\r\n\r\n            // Release world vertices\r\n            for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\r\n                v3pool.release(faceVerts[j]);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nvar planeBox_normal = new Vec3();\r\nvar plane_to_corner = new Vec3();\r\n\r\n/**\r\n * @method planeBox\r\n * @param  {Array}      result\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.BOX] =\r\nNarrowphase.prototype.planeBox = function(si,sj,xi,xj,qi,qj,bi,bj){\r\n    sj.convexPolyhedronRepresentation.material = sj.material;\r\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\r\n    this.planeConvex(si,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj);\r\n};\r\n\r\nvar planeConvex_v = new Vec3();\r\nvar planeConvex_normal = new Vec3();\r\nvar planeConvex_relpos = new Vec3();\r\nvar planeConvex_projected = new Vec3();\r\n\r\n/**\r\n * @method planeConvex\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.CONVEXPOLYHEDRON] =\r\nNarrowphase.prototype.planeConvex = function(\r\n    planeShape,\r\n    convexShape,\r\n    planePosition,\r\n    convexPosition,\r\n    planeQuat,\r\n    convexQuat,\r\n    planeBody,\r\n    convexBody\r\n){\r\n    // Simply return the points behind the plane.\r\n    var worldVertex = planeConvex_v,\r\n        worldNormal = planeConvex_normal;\r\n    worldNormal.set(0,0,1);\r\n    planeQuat.vmult(worldNormal,worldNormal); // Turn normal according to plane orientation\r\n\r\n    var numContacts = 0;\r\n    var relpos = planeConvex_relpos;\r\n    for(var i = 0; i !== convexShape.vertices.length; i++){\r\n\r\n        // Get world convex vertex\r\n        worldVertex.copy(convexShape.vertices[i]);\r\n        convexQuat.vmult(worldVertex, worldVertex);\r\n        convexPosition.vadd(worldVertex, worldVertex);\r\n        worldVertex.vsub(planePosition, relpos);\r\n\r\n        var dot = worldNormal.dot(relpos);\r\n        if(dot <= 0.0){\r\n\r\n            var r = this.createContactEquation(planeBody, convexBody, planeShape, convexShape);\r\n\r\n            // Get vertex position projected on plane\r\n            var projected = planeConvex_projected;\r\n            worldNormal.mult(worldNormal.dot(relpos),projected);\r\n            worldVertex.vsub(projected, projected);\r\n            projected.vsub(planePosition, r.ri); // From plane to vertex projected on plane\r\n\r\n            r.ni.copy(worldNormal); // Contact normal is the plane normal out from plane\r\n\r\n            // rj is now just the vector from the convex center to the vertex\r\n            worldVertex.vsub(convexPosition, r.rj);\r\n\r\n            // Make it relative to the body\r\n            r.ri.vadd(planePosition, r.ri);\r\n            r.ri.vsub(planeBody.position, r.ri);\r\n            r.rj.vadd(convexPosition, r.rj);\r\n            r.rj.vsub(convexBody.position, r.rj);\r\n\r\n            this.result.push(r);\r\n            numContacts++;\r\n            if(!this.enableFrictionReduction){\r\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n            }\r\n        }\r\n    }\r\n\r\n    if(this.enableFrictionReduction && numContacts){\r\n        this.createFrictionFromAverage(numContacts);\r\n    }\r\n};\r\n\r\nvar convexConvex_sepAxis = new Vec3();\r\nvar convexConvex_q = new Vec3();\r\n\r\n/**\r\n * @method convexConvex\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON] =\r\nNarrowphase.prototype.convexConvex = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\r\n    var sepAxis = convexConvex_sepAxis;\r\n\r\n    if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\r\n        return;\r\n    }\r\n\r\n    if(si.findSeparatingAxis(sj,xi,qi,xj,qj,sepAxis,faceListA,faceListB)){\r\n        var res = [];\r\n        var q = convexConvex_q;\r\n        si.clipAgainstHull(xi,qi,sj,xj,qj,sepAxis,-100,100,res);\r\n        var numContacts = 0;\r\n        for(var j = 0; j !== res.length; j++){\r\n            var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\r\n                ri = r.ri,\r\n                rj = r.rj;\r\n            sepAxis.negate(r.ni);\r\n            res[j].normal.negate(q);\r\n            q.mult(res[j].depth, q);\r\n            res[j].point.vadd(q, ri);\r\n            rj.copy(res[j].point);\r\n\r\n            // Contact points are in world coordinates. Transform back to relative\r\n            ri.vsub(xi,ri);\r\n            rj.vsub(xj,rj);\r\n\r\n            // Make relative to bodies\r\n            ri.vadd(xi, ri);\r\n            ri.vsub(bi.position, ri);\r\n            rj.vadd(xj, rj);\r\n            rj.vsub(bj.position, rj);\r\n\r\n            this.result.push(r);\r\n            numContacts++;\r\n            if(!this.enableFrictionReduction){\r\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n            }\r\n        }\r\n        if(this.enableFrictionReduction && numContacts){\r\n            this.createFrictionFromAverage(numContacts);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * @method convexTrimesh\r\n * @param  {Array}      result\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\n// Narrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.TRIMESH] =\r\n// Narrowphase.prototype.convexTrimesh = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\r\n//     var sepAxis = convexConvex_sepAxis;\r\n\r\n//     if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\r\n//         return;\r\n//     }\r\n\r\n//     // Construct a temp hull for each triangle\r\n//     var hullB = new ConvexPolyhedron();\r\n\r\n//     hullB.faces = [[0,1,2]];\r\n//     var va = new Vec3();\r\n//     var vb = new Vec3();\r\n//     var vc = new Vec3();\r\n//     hullB.vertices = [\r\n//         va,\r\n//         vb,\r\n//         vc\r\n//     ];\r\n\r\n//     for (var i = 0; i < sj.indices.length / 3; i++) {\r\n\r\n//         var triangleNormal = new Vec3();\r\n//         sj.getNormal(i, triangleNormal);\r\n//         hullB.faceNormals = [triangleNormal];\r\n\r\n//         sj.getTriangleVertices(i, va, vb, vc);\r\n\r\n//         var d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\r\n//         if(!d){\r\n//             triangleNormal.scale(-1, triangleNormal);\r\n//             d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\r\n\r\n//             if(!d){\r\n//                 continue;\r\n//             }\r\n//         }\r\n\r\n//         var res = [];\r\n//         var q = convexConvex_q;\r\n//         si.clipAgainstHull(xi,qi,hullB,xj,qj,triangleNormal,-100,100,res);\r\n//         for(var j = 0; j !== res.length; j++){\r\n//             var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\r\n//                 ri = r.ri,\r\n//                 rj = r.rj;\r\n//             r.ni.copy(triangleNormal);\r\n//             r.ni.negate(r.ni);\r\n//             res[j].normal.negate(q);\r\n//             q.mult(res[j].depth, q);\r\n//             res[j].point.vadd(q, ri);\r\n//             rj.copy(res[j].point);\r\n\r\n//             // Contact points are in world coordinates. Transform back to relative\r\n//             ri.vsub(xi,ri);\r\n//             rj.vsub(xj,rj);\r\n\r\n//             // Make relative to bodies\r\n//             ri.vadd(xi, ri);\r\n//             ri.vsub(bi.position, ri);\r\n//             rj.vadd(xj, rj);\r\n//             rj.vsub(bj.position, rj);\r\n\r\n//             result.push(r);\r\n//         }\r\n//     }\r\n// };\r\n\r\nvar particlePlane_normal = new Vec3();\r\nvar particlePlane_relpos = new Vec3();\r\nvar particlePlane_projected = new Vec3();\r\n\r\n/**\r\n * @method particlePlane\r\n * @param  {Array}      result\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.PARTICLE] =\r\nNarrowphase.prototype.planeParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\r\n    var normal = particlePlane_normal;\r\n    normal.set(0,0,1);\r\n    bj.quaternion.vmult(normal,normal); // Turn normal according to plane orientation\r\n    var relpos = particlePlane_relpos;\r\n    xi.vsub(bj.position,relpos);\r\n    var dot = normal.dot(relpos);\r\n    if(dot <= 0.0){\r\n        var r = this.createContactEquation(bi,bj,si,sj);\r\n        r.ni.copy(normal); // Contact normal is the plane normal\r\n        r.ni.negate(r.ni);\r\n        r.ri.set(0,0,0); // Center of particle\r\n\r\n        // Get particle position projected on plane\r\n        var projected = particlePlane_projected;\r\n        normal.mult(normal.dot(xi),projected);\r\n        xi.vsub(projected,projected);\r\n        //projected.vadd(bj.position,projected);\r\n\r\n        // rj is now the projected world position minus plane position\r\n        r.rj.copy(projected);\r\n        this.result.push(r);\r\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n    }\r\n};\r\n\r\nvar particleSphere_normal = new Vec3();\r\n\r\n/**\r\n * @method particleSphere\r\n * @param  {Array}      result\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.SPHERE] =\r\nNarrowphase.prototype.sphereParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\r\n    // The normal is the unit vector from sphere center to particle center\r\n    var normal = particleSphere_normal;\r\n    normal.set(0,0,1);\r\n    xi.vsub(xj,normal);\r\n    var lengthSquared = normal.norm2();\r\n\r\n    if(lengthSquared <= sj.radius * sj.radius){\r\n        var r = this.createContactEquation(bi,bj,si,sj);\r\n        normal.normalize();\r\n        r.rj.copy(normal);\r\n        r.rj.mult(sj.radius,r.rj);\r\n        r.ni.copy(normal); // Contact normal\r\n        r.ni.negate(r.ni);\r\n        r.ri.set(0,0,0); // Center of particle\r\n        this.result.push(r);\r\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n    }\r\n};\r\n\r\n// WIP\r\nvar cqj = new Quaternion();\r\nvar convexParticle_local = new Vec3();\r\nvar convexParticle_normal = new Vec3();\r\nvar convexParticle_penetratedFaceNormal = new Vec3();\r\nvar convexParticle_vertexToParticle = new Vec3();\r\nvar convexParticle_worldPenetrationVec = new Vec3();\r\n\r\n/**\r\n * @method convexParticle\r\n * @param  {Array}      result\r\n * @param  {Shape}      si\r\n * @param  {Shape}      sj\r\n * @param  {Vec3}       xi\r\n * @param  {Vec3}       xj\r\n * @param  {Quaternion} qi\r\n * @param  {Quaternion} qj\r\n * @param  {Body}       bi\r\n * @param  {Body}       bj\r\n */\r\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.CONVEXPOLYHEDRON] =\r\nNarrowphase.prototype.convexParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\r\n    var penetratedFaceIndex = -1;\r\n    var penetratedFaceNormal = convexParticle_penetratedFaceNormal;\r\n    var worldPenetrationVec = convexParticle_worldPenetrationVec;\r\n    var minPenetration = null;\r\n    var numDetectedFaces = 0;\r\n\r\n    // Convert particle position xi to local coords in the convex\r\n    var local = convexParticle_local;\r\n    local.copy(xi);\r\n    local.vsub(xj,local); // Convert position to relative the convex origin\r\n    qj.conjugate(cqj);\r\n    cqj.vmult(local,local);\r\n\r\n    if(sj.pointIsInside(local)){\r\n\r\n        if(sj.worldVerticesNeedsUpdate){\r\n            sj.computeWorldVertices(xj,qj);\r\n        }\r\n        if(sj.worldFaceNormalsNeedsUpdate){\r\n            sj.computeWorldFaceNormals(qj);\r\n        }\r\n\r\n        // For each world polygon in the polyhedra\r\n        for(var i=0,nfaces=sj.faces.length; i!==nfaces; i++){\r\n\r\n            // Construct world face vertices\r\n            var verts = [ sj.worldVertices[ sj.faces[i][0] ] ];\r\n            var normal = sj.worldFaceNormals[i];\r\n\r\n            // Check how much the particle penetrates the polygon plane.\r\n            xi.vsub(verts[0],convexParticle_vertexToParticle);\r\n            var penetration = -normal.dot(convexParticle_vertexToParticle);\r\n            if(minPenetration===null || Math.abs(penetration)<Math.abs(minPenetration)){\r\n                minPenetration = penetration;\r\n                penetratedFaceIndex = i;\r\n                penetratedFaceNormal.copy(normal);\r\n                numDetectedFaces++;\r\n            }\r\n        }\r\n\r\n        if(penetratedFaceIndex!==-1){\r\n            // Setup contact\r\n            var r = this.createContactEquation(bi,bj,si,sj);\r\n            penetratedFaceNormal.mult(minPenetration, worldPenetrationVec);\r\n\r\n            // rj is the particle position projected to the face\r\n            worldPenetrationVec.vadd(xi,worldPenetrationVec);\r\n            worldPenetrationVec.vsub(xj,worldPenetrationVec);\r\n            r.rj.copy(worldPenetrationVec);\r\n            //var projectedToFace = xi.vsub(xj).vadd(worldPenetrationVec);\r\n            //projectedToFace.copy(r.rj);\r\n\r\n            //qj.vmult(r.rj,r.rj);\r\n            penetratedFaceNormal.negate( r.ni ); // Contact normal\r\n            r.ri.set(0,0,0); // Center of particle\r\n\r\n            var ri = r.ri,\r\n                rj = r.rj;\r\n\r\n            // Make relative to bodies\r\n            ri.vadd(xi, ri);\r\n            ri.vsub(bi.position, ri);\r\n            rj.vadd(xj, rj);\r\n            rj.vsub(bj.position, rj);\r\n\r\n            this.result.push(r);\r\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\r\n        } else {\r\n            console.warn(\"Point found inside convex, but did not find penetrating face!\");\r\n        }\r\n    }\r\n};\r\n\r\nNarrowphase.prototype[Shape.types.BOX | Shape.types.HEIGHTFIELD] =\r\nNarrowphase.prototype.boxHeightfield = function (si,sj,xi,xj,qi,qj,bi,bj){\r\n    si.convexPolyhedronRepresentation.material = si.material;\r\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\r\n    this.convexHeightfield(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj);\r\n};\r\n\r\nvar convexHeightfield_tmp1 = new Vec3();\r\nvar convexHeightfield_tmp2 = new Vec3();\r\nvar convexHeightfield_faceList = [0];\r\n\r\n/**\r\n * @method convexHeightfield\r\n */\r\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.HEIGHTFIELD] =\r\nNarrowphase.prototype.convexHeightfield = function (\r\n    convexShape,\r\n    hfShape,\r\n    convexPos,\r\n    hfPos,\r\n    convexQuat,\r\n    hfQuat,\r\n    convexBody,\r\n    hfBody\r\n){\r\n    var data = hfShape.data,\r\n        w = hfShape.elementSize,\r\n        radius = convexShape.boundingSphereRadius,\r\n        worldPillarOffset = convexHeightfield_tmp2,\r\n        faceList = convexHeightfield_faceList;\r\n\r\n    // Get sphere position to heightfield local!\r\n    var localConvexPos = convexHeightfield_tmp1;\r\n    Transform.pointToLocalFrame(hfPos, hfQuat, convexPos, localConvexPos);\r\n\r\n    // Get the index of the data points to test against\r\n    var iMinX = Math.floor((localConvexPos.x - radius) / w) - 1,\r\n        iMaxX = Math.ceil((localConvexPos.x + radius) / w) + 1,\r\n        iMinY = Math.floor((localConvexPos.y - radius) / w) - 1,\r\n        iMaxY = Math.ceil((localConvexPos.y + radius) / w) + 1;\r\n\r\n    // Bail out if we are out of the terrain\r\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMinY > data[0].length){\r\n        return;\r\n    }\r\n\r\n    // Clamp index to edges\r\n    if(iMinX < 0){ iMinX = 0; }\r\n    if(iMaxX < 0){ iMaxX = 0; }\r\n    if(iMinY < 0){ iMinY = 0; }\r\n    if(iMaxY < 0){ iMaxY = 0; }\r\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\r\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\r\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\r\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\r\n\r\n    var minMax = [];\r\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\r\n    var min = minMax[0];\r\n    var max = minMax[1];\r\n\r\n    // Bail out if we're cant touch the bounding height box\r\n    if(localConvexPos.z - radius > max || localConvexPos.z + radius < min){\r\n        return;\r\n    }\r\n\r\n    for(var i = iMinX; i < iMaxX; i++){\r\n        for(var j = iMinY; j < iMaxY; j++){\r\n\r\n            // Lower triangle\r\n            hfShape.getConvexTrianglePillar(i, j, false);\r\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\r\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\r\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\r\n            }\r\n\r\n            // Upper triangle\r\n            hfShape.getConvexTrianglePillar(i, j, true);\r\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\r\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\r\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nvar sphereHeightfield_tmp1 = new Vec3();\r\nvar sphereHeightfield_tmp2 = new Vec3();\r\n\r\n/**\r\n * @method sphereHeightfield\r\n */\r\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.HEIGHTFIELD] =\r\nNarrowphase.prototype.sphereHeightfield = function (\r\n    sphereShape,\r\n    hfShape,\r\n    spherePos,\r\n    hfPos,\r\n    sphereQuat,\r\n    hfQuat,\r\n    sphereBody,\r\n    hfBody\r\n){\r\n    var data = hfShape.data,\r\n        radius = sphereShape.radius,\r\n        w = hfShape.elementSize,\r\n        worldPillarOffset = sphereHeightfield_tmp2;\r\n\r\n    // Get sphere position to heightfield local!\r\n    var localSpherePos = sphereHeightfield_tmp1;\r\n    Transform.pointToLocalFrame(hfPos, hfQuat, spherePos, localSpherePos);\r\n\r\n    // Get the index of the data points to test against\r\n    var iMinX = Math.floor((localSpherePos.x - radius) / w) - 1,\r\n        iMaxX = Math.ceil((localSpherePos.x + radius) / w) + 1,\r\n        iMinY = Math.floor((localSpherePos.y - radius) / w) - 1,\r\n        iMaxY = Math.ceil((localSpherePos.y + radius) / w) + 1;\r\n\r\n    // Bail out if we are out of the terrain\r\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMaxY > data[0].length){\r\n        return;\r\n    }\r\n\r\n    // Clamp index to edges\r\n    if(iMinX < 0){ iMinX = 0; }\r\n    if(iMaxX < 0){ iMaxX = 0; }\r\n    if(iMinY < 0){ iMinY = 0; }\r\n    if(iMaxY < 0){ iMaxY = 0; }\r\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\r\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\r\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\r\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\r\n\r\n    var minMax = [];\r\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\r\n    var min = minMax[0];\r\n    var max = minMax[1];\r\n\r\n    // Bail out if we're cant touch the bounding height box\r\n    if(localSpherePos.z - radius > max || localSpherePos.z + radius < min){\r\n        return;\r\n    }\r\n\r\n    var result = this.result;\r\n    for(var i = iMinX; i < iMaxX; i++){\r\n        for(var j = iMinY; j < iMaxY; j++){\r\n\r\n            var numContactsBefore = result.length;\r\n\r\n            // Lower triangle\r\n            hfShape.getConvexTrianglePillar(i, j, false);\r\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\r\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\r\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\r\n            }\r\n\r\n            // Upper triangle\r\n            hfShape.getConvexTrianglePillar(i, j, true);\r\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\r\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\r\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\r\n            }\r\n\r\n            var numContacts = result.length - numContactsBefore;\r\n\r\n            if(numContacts > 2){\r\n                return;\r\n            }\r\n            /*\r\n            // Skip all but 1\r\n            for (var k = 0; k < numContacts - 1; k++) {\r\n                result.pop();\r\n            }\r\n            */\r\n        }\r\n    }\r\n};\r\n\r\n},{\"../collision/AABB\":3,\"../collision/Ray\":9,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43,\"../solver/Solver\":47,\"../utils/Vec3Pool\":54}],56:[function(_dereq_,module,exports){\r\n/* global performance */\r\n\r\nmodule.exports = World;\r\n\r\nvar Shape = _dereq_('../shapes/Shape');\r\nvar Vec3 = _dereq_('../math/Vec3');\r\nvar Quaternion = _dereq_('../math/Quaternion');\r\nvar GSSolver = _dereq_('../solver/GSSolver');\r\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\r\nvar ContactEquation = _dereq_('../equations/ContactEquation');\r\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\r\nvar Narrowphase = _dereq_('./Narrowphase');\r\nvar EventTarget = _dereq_('../utils/EventTarget');\r\nvar ArrayCollisionMatrix = _dereq_('../collision/ArrayCollisionMatrix');\r\nvar Material = _dereq_('../material/Material');\r\nvar ContactMaterial = _dereq_('../material/ContactMaterial');\r\nvar Body = _dereq_('../objects/Body');\r\nvar TupleDictionary = _dereq_('../utils/TupleDictionary');\r\nvar RaycastResult = _dereq_('../collision/RaycastResult');\r\nvar AABB = _dereq_('../collision/AABB');\r\nvar Ray = _dereq_('../collision/Ray');\r\nvar NaiveBroadphase = _dereq_('../collision/NaiveBroadphase');\r\n\r\n/**\r\n * The physics world\r\n * @class World\r\n * @constructor\r\n * @extends EventTarget\r\n */\r\nfunction World(){\r\n    EventTarget.apply(this);\r\n\r\n    /**\r\n     * Currently / last used timestep. Is set to -1 if not available. This value is updated before each internal step, which means that it is \"fresh\" inside event callbacks.\r\n     * @property {Number} dt\r\n     */\r\n    this.dt = -1;\r\n\r\n    /**\r\n     * Makes bodies go to sleep when they've been inactive\r\n     * @property allowSleep\r\n     * @type {Boolean}\r\n     */\r\n    this.allowSleep = false;\r\n\r\n    /**\r\n     * All the current contacts (instances of ContactEquation) in the world.\r\n     * @property contacts\r\n     * @type {Array}\r\n     */\r\n    this.contacts = [];\r\n    this.frictionEquations = [];\r\n\r\n    /**\r\n     * How often to normalize quaternions. Set to 0 for every step, 1 for every second etc.. A larger value increases performance. If bodies tend to explode, set to a smaller value (zero to be sure nothing can go wrong).\r\n     * @property quatNormalizeSkip\r\n     * @type {Number}\r\n     */\r\n    this.quatNormalizeSkip = 0;\r\n\r\n    /**\r\n     * Set to true to use fast quaternion normalization. It is often enough accurate to use. If bodies tend to explode, set to false.\r\n     * @property quatNormalizeFast\r\n     * @type {Boolean}\r\n     * @see Quaternion.normalizeFast\r\n     * @see Quaternion.normalize\r\n     */\r\n    this.quatNormalizeFast = false;\r\n\r\n    /**\r\n     * The wall-clock time since simulation start\r\n     * @property time\r\n     * @type {Number}\r\n     */\r\n    this.time = 0.0;\r\n\r\n    /**\r\n     * Number of timesteps taken since start\r\n     * @property stepnumber\r\n     * @type {Number}\r\n     */\r\n    this.stepnumber = 0;\r\n\r\n    /// Default and last timestep sizes\r\n    this.default_dt = 1/60;\r\n\r\n    this.nextId = 0;\r\n    /**\r\n     * @property gravity\r\n     * @type {Vec3}\r\n     */\r\n    this.gravity = new Vec3();\r\n\r\n    /**\r\n     * @property broadphase\r\n     * @type {Broadphase}\r\n     */\r\n    this.broadphase = new NaiveBroadphase();\r\n\r\n    /**\r\n     * @property bodies\r\n     * @type {Array}\r\n     */\r\n    this.bodies = [];\r\n\r\n    /**\r\n     * @property solver\r\n     * @type {Solver}\r\n     */\r\n    this.solver = new GSSolver();\r\n\r\n    /**\r\n     * @property constraints\r\n     * @type {Array}\r\n     */\r\n    this.constraints = [];\r\n\r\n    /**\r\n     * @property narrowphase\r\n     * @type {Narrowphase}\r\n     */\r\n    this.narrowphase = new Narrowphase(this);\r\n\r\n    /**\r\n     * @property {ArrayCollisionMatrix} collisionMatrix\r\n\t * @type {ArrayCollisionMatrix}\r\n\t */\r\n\tthis.collisionMatrix = new ArrayCollisionMatrix();\r\n\r\n    /**\r\n     * CollisionMatrix from the previous step.\r\n     * @property {ArrayCollisionMatrix} collisionMatrixPrevious\r\n\t * @type {ArrayCollisionMatrix}\r\n\t */\r\n\tthis.collisionMatrixPrevious = new ArrayCollisionMatrix();\r\n\r\n    /**\r\n     * All added materials\r\n     * @property materials\r\n     * @type {Array}\r\n     */\r\n    this.materials = [];\r\n\r\n    /**\r\n     * @property contactmaterials\r\n     * @type {Array}\r\n     */\r\n    this.contactmaterials = [];\r\n\r\n    /**\r\n     * Used to look up a ContactMaterial given two instances of Material.\r\n     * @property {TupleDictionary} contactMaterialTable\r\n     */\r\n    this.contactMaterialTable = new TupleDictionary();\r\n\r\n    this.defaultMaterial = new Material(\"default\");\r\n\r\n    /**\r\n     * This contact material is used if no suitable contactmaterial is found for a contact.\r\n     * @property defaultContactMaterial\r\n     * @type {ContactMaterial}\r\n     */\r\n    this.defaultContactMaterial = new ContactMaterial(this.defaultMaterial, this.defaultMaterial, { friction: 0.3, restitution: 0.0 });\r\n\r\n    /**\r\n     * @property doProfiling\r\n     * @type {Boolean}\r\n     */\r\n    this.doProfiling = false;\r\n\r\n    /**\r\n     * @property profile\r\n     * @type {Object}\r\n     */\r\n    this.profile = {\r\n        solve:0,\r\n        makeContactConstraints:0,\r\n        broadphase:0,\r\n        integrate:0,\r\n        narrowphase:0,\r\n    };\r\n\r\n    /**\r\n     * @property subsystems\r\n     * @type {Array}\r\n     */\r\n    this.subsystems = [];\r\n\r\n    this.addBodyEvent = {\r\n        type:\"addBody\",\r\n        body : null,\r\n    };\r\n\r\n    this.removeBodyEvent = {\r\n        type:\"removeBody\",\r\n        body : null,\r\n    };\r\n}\r\nWorld.prototype = new EventTarget();\r\n\r\n// Temp stuff\r\nvar tmpAABB1 = new AABB();\r\nvar tmpArray1 = [];\r\nvar tmpRay = new Ray();\r\n\r\n/**\r\n * Get the contact material between materials m1 and m2\r\n * @method getContactMaterial\r\n * @param {Material} m1\r\n * @param {Material} m2\r\n * @return {ContactMaterial} The contact material if it was found.\r\n */\r\nWorld.prototype.getContactMaterial = function(m1,m2){\r\n    return this.contactMaterialTable.get(m1.id,m2.id); //this.contactmaterials[this.mats2cmat[i+j*this.materials.length]];\r\n};\r\n\r\n/**\r\n * Get number of objects in the world.\r\n * @method numObjects\r\n * @return {Number}\r\n * @deprecated\r\n */\r\nWorld.prototype.numObjects = function(){\r\n    return this.bodies.length;\r\n};\r\n\r\n/**\r\n * Store old collision state info\r\n * @method collisionMatrixTick\r\n */\r\nWorld.prototype.collisionMatrixTick = function(){\r\n\tvar temp = this.collisionMatrixPrevious;\r\n\tthis.collisionMatrixPrevious = this.collisionMatrix;\r\n\tthis.collisionMatrix = temp;\r\n\tthis.collisionMatrix.reset();\r\n};\r\n\r\n/**\r\n * Add a rigid body to the simulation.\r\n * @method add\r\n * @param {Body} body\r\n * @todo If the simulation has not yet started, why recrete and copy arrays for each body? Accumulate in dynamic arrays in this case.\r\n * @todo Adding an array of bodies should be possible. This would save some loops too\r\n * @deprecated Use .addBody instead\r\n */\r\nWorld.prototype.add = World.prototype.addBody = function(body){\r\n    if(this.bodies.indexOf(body) !== -1){\r\n        return;\r\n    }\r\n    body.index = this.bodies.length;\r\n    this.bodies.push(body);\r\n    body.world = this;\r\n    body.initPosition.copy(body.position);\r\n    body.initVelocity.copy(body.velocity);\r\n    body.timeLastSleepy = this.time;\r\n    if(body instanceof Body){\r\n        body.initAngularVelocity.copy(body.angularVelocity);\r\n        body.initQuaternion.copy(body.quaternion);\r\n    }\r\n\tthis.collisionMatrix.setNumObjects(this.bodies.length);\r\n    this.addBodyEvent.body = body;\r\n    this.dispatchEvent(this.addBodyEvent);\r\n};\r\n\r\n/**\r\n * Add a constraint to the simulation.\r\n * @method addConstraint\r\n * @param {Constraint} c\r\n */\r\nWorld.prototype.addConstraint = function(c){\r\n    this.constraints.push(c);\r\n};\r\n\r\n/**\r\n * Removes a constraint\r\n * @method removeConstraint\r\n * @param {Constraint} c\r\n */\r\nWorld.prototype.removeConstraint = function(c){\r\n    var idx = this.constraints.indexOf(c);\r\n    if(idx!==-1){\r\n        this.constraints.splice(idx,1);\r\n    }\r\n};\r\n\r\n/**\r\n * Raycast test\r\n * @method rayTest\r\n * @param {Vec3} from\r\n * @param {Vec3} to\r\n * @param {Function|RaycastResult} result\r\n * @deprecated Use .raycastAll, .raycastClosest or .raycastAny instead.\r\n */\r\nWorld.prototype.rayTest = function(from, to, result){\r\n    if(result instanceof RaycastResult){\r\n        // Do raycastclosest\r\n        this.raycastClosest(from, to, {\r\n            skipBackfaces: true\r\n        }, result);\r\n    } else {\r\n        // Do raycastAll\r\n        this.raycastAll(from, to, {\r\n            skipBackfaces: true\r\n        }, result);\r\n    }\r\n};\r\n\r\n/**\r\n * Ray cast against all bodies. The provided callback will be executed for each hit with a RaycastResult as single argument.\r\n * @method raycastAll\r\n * @param  {Vec3} from\r\n * @param  {Vec3} to\r\n * @param  {Object} options\r\n * @param  {number} [options.collisionFilterMask=-1]\r\n * @param  {number} [options.collisionFilterGroup=-1]\r\n * @param  {boolean} [options.skipBackfaces=false]\r\n * @param  {boolean} [options.checkCollisionResponse=true]\r\n * @param  {Function} callback\r\n * @return {boolean} True if any body was hit.\r\n */\r\nWorld.prototype.raycastAll = function(from, to, options, callback){\r\n    options.mode = Ray.ALL;\r\n    options.from = from;\r\n    options.to = to;\r\n    options.callback = callback;\r\n    return tmpRay.intersectWorld(this, options);\r\n};\r\n\r\n/**\r\n * Ray cast, and stop at the first result. Note that the order is random - but the method is fast.\r\n * @method raycastAny\r\n * @param  {Vec3} from\r\n * @param  {Vec3} to\r\n * @param  {Object} options\r\n * @param  {number} [options.collisionFilterMask=-1]\r\n * @param  {number} [options.collisionFilterGroup=-1]\r\n * @param  {boolean} [options.skipBackfaces=false]\r\n * @param  {boolean} [options.checkCollisionResponse=true]\r\n * @param  {RaycastResult} result\r\n * @return {boolean} True if any body was hit.\r\n */\r\nWorld.prototype.raycastAny = function(from, to, options, result){\r\n    options.mode = Ray.ANY;\r\n    options.from = from;\r\n    options.to = to;\r\n    options.result = result;\r\n    return tmpRay.intersectWorld(this, options);\r\n};\r\n\r\n/**\r\n * Ray cast, and return information of the closest hit.\r\n * @method raycastClosest\r\n * @param  {Vec3} from\r\n * @param  {Vec3} to\r\n * @param  {Object} options\r\n * @param  {number} [options.collisionFilterMask=-1]\r\n * @param  {number} [options.collisionFilterGroup=-1]\r\n * @param  {boolean} [options.skipBackfaces=false]\r\n * @param  {boolean} [options.checkCollisionResponse=true]\r\n * @param  {RaycastResult} result\r\n * @return {boolean} True if any body was hit.\r\n */\r\nWorld.prototype.raycastClosest = function(from, to, options, result){\r\n    options.mode = Ray.CLOSEST;\r\n    options.from = from;\r\n    options.to = to;\r\n    options.result = result;\r\n    return tmpRay.intersectWorld(this, options);\r\n};\r\n\r\n/**\r\n * Remove a rigid body from the simulation.\r\n * @method remove\r\n * @param {Body} body\r\n * @deprecated Use .removeBody instead\r\n */\r\nWorld.prototype.remove = function(body){\r\n    body.world = null;\r\n    var n = this.bodies.length-1,\r\n        bodies = this.bodies,\r\n        idx = bodies.indexOf(body);\r\n    if(idx !== -1){\r\n        bodies.splice(idx, 1); // Todo: should use a garbage free method\r\n\r\n        // Recompute index\r\n        for(var i=0; i!==bodies.length; i++){\r\n            bodies[i].index = i;\r\n        }\r\n\r\n        this.collisionMatrix.setNumObjects(n);\r\n        this.removeBodyEvent.body = body;\r\n        this.dispatchEvent(this.removeBodyEvent);\r\n    }\r\n};\r\n\r\n/**\r\n * Remove a rigid body from the simulation.\r\n * @method removeBody\r\n * @param {Body} body\r\n */\r\nWorld.prototype.removeBody = World.prototype.remove;\r\n\r\n/**\r\n * Adds a material to the World.\r\n * @method addMaterial\r\n * @param {Material} m\r\n * @todo Necessary?\r\n */\r\nWorld.prototype.addMaterial = function(m){\r\n    this.materials.push(m);\r\n};\r\n\r\n/**\r\n * Adds a contact material to the World\r\n * @method addContactMaterial\r\n * @param {ContactMaterial} cmat\r\n */\r\nWorld.prototype.addContactMaterial = function(cmat) {\r\n\r\n    // Add contact material\r\n    this.contactmaterials.push(cmat);\r\n\r\n    // Add current contact material to the material table\r\n    this.contactMaterialTable.set(cmat.materials[0].id,cmat.materials[1].id,cmat);\r\n};\r\n\r\n// performance.now()\r\nif(typeof performance === 'undefined'){\r\n    performance = {};\r\n}\r\nif(!performance.now){\r\n    var nowOffset = Date.now();\r\n    if (performance.timing && performance.timing.navigationStart){\r\n        nowOffset = performance.timing.navigationStart;\r\n    }\r\n    performance.now = function(){\r\n        return Date.now() - nowOffset;\r\n    };\r\n}\r\n\r\nvar step_tmp1 = new Vec3();\r\n\r\n/**\r\n * Step the physics world forward in time.\r\n *\r\n * There are two modes. The simple mode is fixed timestepping without interpolation. In this case you only use the first argument. The second case uses interpolation. In that you also provide the time since the function was last used, as well as the maximum fixed timesteps to take.\r\n *\r\n * @method step\r\n * @param {Number} dt                       The fixed time step size to use.\r\n * @param {Number} [timeSinceLastCalled]    The time elapsed since the function was last called.\r\n * @param {Number} [maxSubSteps=10]         Maximum number of fixed steps to take per function call.\r\n *\r\n * @example\r\n *     // fixed timestepping without interpolation\r\n *     world.step(1/60);\r\n *\r\n * @see http://bulletphysics.org/mediawiki-1.5.8/index.php/Stepping_The_World\r\n */\r\nWorld.prototype.step = function(dt, timeSinceLastCalled, maxSubSteps){\r\n    maxSubSteps = maxSubSteps || 10;\r\n    timeSinceLastCalled = timeSinceLastCalled || 0;\r\n\r\n    if(timeSinceLastCalled === 0){ // Fixed, simple stepping\r\n\r\n        this.internalStep(dt);\r\n\r\n        // Increment time\r\n        this.time += dt;\r\n\r\n    } else {\r\n\r\n        // Compute the number of fixed steps we should have taken since the last step\r\n        var internalSteps = Math.floor((this.time + timeSinceLastCalled) / dt) - Math.floor(this.time / dt);\r\n        internalSteps = Math.min(internalSteps,maxSubSteps);\r\n\r\n        // Do some fixed steps to catch up\r\n        var t0 = performance.now();\r\n        for(var i=0; i!==internalSteps; i++){\r\n            this.internalStep(dt);\r\n            if(performance.now() - t0 > dt * 1000){\r\n                // We are slower than real-time. Better bail out.\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Increment internal clock\r\n        this.time += timeSinceLastCalled;\r\n\r\n        // Compute \"Left over\" time step\r\n        var h = this.time % dt;\r\n        var h_div_dt = h / dt;\r\n        var interpvelo = step_tmp1;\r\n        var bodies = this.bodies;\r\n\r\n        for(var j=0; j !== bodies.length; j++){\r\n            var b = bodies[j];\r\n            if(b.type !== Body.STATIC && b.sleepState !== Body.SLEEPING){\r\n\r\n                // Interpolate\r\n                b.position.vsub(b.previousPosition, interpvelo);\r\n                interpvelo.scale(h_div_dt, interpvelo);\r\n                b.position.vadd(interpvelo, b.interpolatedPosition);\r\n\r\n                // TODO: interpolate quaternion\r\n                // b.interpolatedAngle = b.angle + (b.angle - b.previousAngle) * h_div_dt;\r\n\r\n            } else {\r\n\r\n                // For static bodies, just copy. Who else will do it?\r\n                b.interpolatedPosition.copy(b.position);\r\n                b.interpolatedQuaternion.copy(b.quaternion);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Step the simulation\r\n * @method step\r\n * @param {Number} dt\r\n */\r\nvar World_step_postStepEvent = {type:\"postStep\"}, // Reusable event objects to save memory\r\n    World_step_preStepEvent = {type:\"preStep\"},\r\n    World_step_collideEvent = {type:\"collide\", body:null, contact:null },\r\n    World_step_oldContacts = [], // Pools for unused objects\r\n    World_step_frictionEquationPool = [],\r\n    World_step_p1 = [], // Reusable arrays for collision pairs\r\n    World_step_p2 = [],\r\n    World_step_gvec = new Vec3(), // Temporary vectors and quats\r\n    World_step_vi = new Vec3(),\r\n    World_step_vj = new Vec3(),\r\n    World_step_wi = new Vec3(),\r\n    World_step_wj = new Vec3(),\r\n    World_step_t1 = new Vec3(),\r\n    World_step_t2 = new Vec3(),\r\n    World_step_rixn = new Vec3(),\r\n    World_step_rjxn = new Vec3(),\r\n    World_step_step_q = new Quaternion(),\r\n    World_step_step_w = new Quaternion(),\r\n    World_step_step_wq = new Quaternion(),\r\n    invI_tau_dt = new Vec3();\r\nWorld.prototype.internalStep = function(dt){\r\n    this.dt = dt;\r\n\r\n    var world = this,\r\n        that = this,\r\n        contacts = this.contacts,\r\n        p1 = World_step_p1,\r\n        p2 = World_step_p2,\r\n        N = this.numObjects(),\r\n        bodies = this.bodies,\r\n        solver = this.solver,\r\n        gravity = this.gravity,\r\n        doProfiling = this.doProfiling,\r\n        profile = this.profile,\r\n        DYNAMIC = Body.DYNAMIC,\r\n        profilingStart,\r\n        constraints = this.constraints,\r\n        frictionEquationPool = World_step_frictionEquationPool,\r\n        gnorm = gravity.norm(),\r\n        gx = gravity.x,\r\n        gy = gravity.y,\r\n        gz = gravity.z,\r\n        i=0;\r\n\r\n    if(doProfiling){\r\n        profilingStart = performance.now();\r\n    }\r\n\r\n    // Add gravity to all objects\r\n    for(i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\r\n            var f = bi.force, m = bi.mass;\r\n            f.x += m*gx;\r\n            f.y += m*gy;\r\n            f.z += m*gz;\r\n        }\r\n    }\r\n\r\n    // Update subsystems\r\n    for(var i=0, Nsubsystems=this.subsystems.length; i!==Nsubsystems; i++){\r\n        this.subsystems[i].update();\r\n    }\r\n\r\n    // Collision detection\r\n    if(doProfiling){ profilingStart = performance.now(); }\r\n    p1.length = 0; // Clean up pair arrays from last step\r\n    p2.length = 0;\r\n    this.broadphase.collisionPairs(this,p1,p2);\r\n    if(doProfiling){ profile.broadphase = performance.now() - profilingStart; }\r\n\r\n    // Remove constrained pairs with collideConnected == false\r\n    var Nconstraints = constraints.length;\r\n    for(i=0; i!==Nconstraints; i++){\r\n        var c = constraints[i];\r\n        if(!c.collideConnected){\r\n            for(var j = p1.length-1; j>=0; j-=1){\r\n                if( (c.bodyA === p1[j] && c.bodyB === p2[j]) ||\r\n                    (c.bodyB === p1[j] && c.bodyA === p2[j])){\r\n                    p1.splice(j, 1);\r\n                    p2.splice(j, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    this.collisionMatrixTick();\r\n\r\n    // Generate contacts\r\n    if(doProfiling){ profilingStart = performance.now(); }\r\n    var oldcontacts = World_step_oldContacts;\r\n    var NoldContacts = contacts.length;\r\n\r\n    for(i=0; i!==NoldContacts; i++){\r\n        oldcontacts.push(contacts[i]);\r\n    }\r\n    contacts.length = 0;\r\n\r\n    // Transfer FrictionEquation from current list to the pool for reuse\r\n    var NoldFrictionEquations = this.frictionEquations.length;\r\n    for(i=0; i!==NoldFrictionEquations; i++){\r\n        frictionEquationPool.push(this.frictionEquations[i]);\r\n    }\r\n    this.frictionEquations.length = 0;\r\n\r\n    this.narrowphase.getContacts(\r\n        p1,\r\n        p2,\r\n        this,\r\n        contacts,\r\n        oldcontacts, // To be reused\r\n        this.frictionEquations,\r\n        frictionEquationPool\r\n    );\r\n\r\n    if(doProfiling){\r\n        profile.narrowphase = performance.now() - profilingStart;\r\n    }\r\n\r\n    // Loop over all collisions\r\n    if(doProfiling){\r\n        profilingStart = performance.now();\r\n    }\r\n\r\n    // Add all friction eqs\r\n    for (var i = 0; i < this.frictionEquations.length; i++) {\r\n        solver.addEquation(this.frictionEquations[i]);\r\n    }\r\n\r\n    var ncontacts = contacts.length;\r\n    for(var k=0; k!==ncontacts; k++){\r\n\r\n        // Current contact\r\n        var c = contacts[k];\r\n\r\n        // Get current collision indeces\r\n        var bi = c.bi,\r\n            bj = c.bj,\r\n            si = c.si,\r\n            sj = c.sj;\r\n\r\n        // Get collision properties\r\n        var cm;\r\n        if(bi.material && bj.material){\r\n            cm = this.getContactMaterial(bi.material,bj.material) || this.defaultContactMaterial;\r\n        } else {\r\n            cm = this.defaultContactMaterial;\r\n        }\r\n\r\n        // c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\r\n\r\n        var mu = cm.friction;\r\n        // c.restitution = cm.restitution;\r\n\r\n        // If friction or restitution were specified in the material, use them\r\n        if(bi.material && bj.material){\r\n            if(bi.material.friction >= 0 && bj.material.friction >= 0){\r\n                mu = bi.material.friction * bj.material.friction;\r\n            }\r\n\r\n            if(bi.material.restitution >= 0 && bj.material.restitution >= 0){\r\n                c.restitution = bi.material.restitution * bj.material.restitution;\r\n            }\r\n        }\r\n\r\n\t\t// c.setSpookParams(\r\n  //           cm.contactEquationStiffness,\r\n  //           cm.contactEquationRelaxation,\r\n  //           dt\r\n  //       );\r\n\r\n\t\tsolver.addEquation(c);\r\n\r\n\t\t// // Add friction constraint equation\r\n\t\t// if(mu > 0){\r\n\r\n\t\t// \t// Create 2 tangent equations\r\n\t\t// \tvar mug = mu * gnorm;\r\n\t\t// \tvar reducedMass = (bi.invMass + bj.invMass);\r\n\t\t// \tif(reducedMass > 0){\r\n\t\t// \t\treducedMass = 1/reducedMass;\r\n\t\t// \t}\r\n\t\t// \tvar pool = frictionEquationPool;\r\n\t\t// \tvar c1 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\r\n\t\t// \tvar c2 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\r\n\t\t// \tthis.frictionEquations.push(c1, c2);\r\n\r\n\t\t// \tc1.bi = c2.bi = bi;\r\n\t\t// \tc1.bj = c2.bj = bj;\r\n\t\t// \tc1.minForce = c2.minForce = -mug*reducedMass;\r\n\t\t// \tc1.maxForce = c2.maxForce = mug*reducedMass;\r\n\r\n\t\t// \t// Copy over the relative vectors\r\n\t\t// \tc1.ri.copy(c.ri);\r\n\t\t// \tc1.rj.copy(c.rj);\r\n\t\t// \tc2.ri.copy(c.ri);\r\n\t\t// \tc2.rj.copy(c.rj);\r\n\r\n\t\t// \t// Construct tangents\r\n\t\t// \tc.ni.tangents(c1.t, c2.t);\r\n\r\n  //           // Set spook params\r\n  //           c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\r\n  //           c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\r\n\r\n  //           c1.enabled = c2.enabled = c.enabled;\r\n\r\n\t\t// \t// Add equations to solver\r\n\t\t// \tsolver.addEquation(c1);\r\n\t\t// \tsolver.addEquation(c2);\r\n\t\t// }\r\n\r\n        if( bi.allowSleep &&\r\n            bi.type === Body.DYNAMIC &&\r\n            bi.sleepState  === Body.SLEEPING &&\r\n            bj.sleepState  === Body.AWAKE &&\r\n            bj.type !== Body.STATIC\r\n        ){\r\n            var speedSquaredB = bj.velocity.norm2() + bj.angularVelocity.norm2();\r\n            var speedLimitSquaredB = Math.pow(bj.sleepSpeedLimit,2);\r\n            if(speedSquaredB >= speedLimitSquaredB*2){\r\n                bi._wakeUpAfterNarrowphase = true;\r\n            }\r\n        }\r\n\r\n        if( bj.allowSleep &&\r\n            bj.type === Body.DYNAMIC &&\r\n            bj.sleepState  === Body.SLEEPING &&\r\n            bi.sleepState  === Body.AWAKE &&\r\n            bi.type !== Body.STATIC\r\n        ){\r\n            var speedSquaredA = bi.velocity.norm2() + bi.angularVelocity.norm2();\r\n            var speedLimitSquaredA = Math.pow(bi.sleepSpeedLimit,2);\r\n            if(speedSquaredA >= speedLimitSquaredA*2){\r\n                bj._wakeUpAfterNarrowphase = true;\r\n            }\r\n        }\r\n\r\n        // Now we know that i and j are in contact. Set collision matrix state\r\n\t\tthis.collisionMatrix.set(bi, bj, true);\r\n\r\n        if (!this.collisionMatrixPrevious.get(bi, bj)) {\r\n            // First contact!\r\n            // We reuse the collideEvent object, otherwise we will end up creating new objects for each new contact, even if there's no event listener attached.\r\n            World_step_collideEvent.body = bj;\r\n            World_step_collideEvent.contact = c;\r\n            bi.dispatchEvent(World_step_collideEvent);\r\n\r\n            World_step_collideEvent.body = bi;\r\n            bj.dispatchEvent(World_step_collideEvent);\r\n        }\r\n    }\r\n    if(doProfiling){\r\n        profile.makeContactConstraints = performance.now() - profilingStart;\r\n        profilingStart = performance.now();\r\n    }\r\n\r\n    // Wake up bodies\r\n    for(i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        if(bi._wakeUpAfterNarrowphase){\r\n            bi.wakeUp();\r\n            bi._wakeUpAfterNarrowphase = false;\r\n        }\r\n    }\r\n\r\n    // Add user-added constraints\r\n    var Nconstraints = constraints.length;\r\n    for(i=0; i!==Nconstraints; i++){\r\n        var c = constraints[i];\r\n        c.update();\r\n        for(var j=0, Neq=c.equations.length; j!==Neq; j++){\r\n            var eq = c.equations[j];\r\n            solver.addEquation(eq);\r\n        }\r\n    }\r\n\r\n    // Solve the constrained system\r\n    solver.solve(dt,this);\r\n\r\n    if(doProfiling){\r\n        profile.solve = performance.now() - profilingStart;\r\n    }\r\n\r\n    // Remove all contacts from solver\r\n    solver.removeAllEquations();\r\n\r\n    // Apply damping, see http://code.google.com/p/bullet/issues/detail?id=74 for details\r\n    var pow = Math.pow;\r\n    for(i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\r\n            var ld = pow(1.0 - bi.linearDamping,dt);\r\n            var v = bi.velocity;\r\n            v.mult(ld,v);\r\n            var av = bi.angularVelocity;\r\n            if(av){\r\n                var ad = pow(1.0 - bi.angularDamping,dt);\r\n                av.mult(ad,av);\r\n            }\r\n        }\r\n    }\r\n\r\n    this.dispatchEvent(World_step_preStepEvent);\r\n\r\n    // Invoke pre-step callbacks\r\n    for(i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        if(bi.preStep){\r\n            bi.preStep.call(bi);\r\n        }\r\n    }\r\n\r\n    // Leap frog\r\n    // vnew = v + h*f/m\r\n    // xnew = x + h*vnew\r\n    if(doProfiling){\r\n        profilingStart = performance.now();\r\n    }\r\n    var q = World_step_step_q;\r\n    var w = World_step_step_w;\r\n    var wq = World_step_step_wq;\r\n    var stepnumber = this.stepnumber;\r\n    var DYNAMIC_OR_KINEMATIC = Body.DYNAMIC | Body.KINEMATIC;\r\n    var quatNormalize = stepnumber % (this.quatNormalizeSkip+1) === 0;\r\n    var quatNormalizeFast = this.quatNormalizeFast;\r\n    var half_dt = dt * 0.5;\r\n    var PLANE = Shape.types.PLANE,\r\n        CONVEX = Shape.types.CONVEXPOLYHEDRON;\r\n\r\n    for(i=0; i!==N; i++){\r\n        var b = bodies[i],\r\n            force = b.force,\r\n            tau = b.torque;\r\n        if((b.type & DYNAMIC_OR_KINEMATIC) && b.sleepState !== Body.SLEEPING){ // Only for dynamic\r\n            var velo = b.velocity,\r\n                angularVelo = b.angularVelocity,\r\n                pos = b.position,\r\n                quat = b.quaternion,\r\n                invMass = b.invMass,\r\n                invInertia = b.invInertiaWorld;\r\n\r\n            velo.x += force.x * invMass * dt;\r\n            velo.y += force.y * invMass * dt;\r\n            velo.z += force.z * invMass * dt;\r\n\r\n            if(b.angularVelocity){\r\n                invInertia.vmult(tau,invI_tau_dt);\r\n                invI_tau_dt.mult(dt,invI_tau_dt);\r\n                invI_tau_dt.vadd(angularVelo,angularVelo);\r\n            }\r\n\r\n            // Use new velocity  - leap frog\r\n            pos.x += velo.x * dt;\r\n            pos.y += velo.y * dt;\r\n            pos.z += velo.z * dt;\r\n\r\n            if(b.angularVelocity){\r\n                w.set(angularVelo.x, angularVelo.y, angularVelo.z, 0);\r\n                w.mult(quat,wq);\r\n                quat.x += half_dt * wq.x;\r\n                quat.y += half_dt * wq.y;\r\n                quat.z += half_dt * wq.z;\r\n                quat.w += half_dt * wq.w;\r\n                if(quatNormalize){\r\n                    if(quatNormalizeFast){\r\n                        quat.normalizeFast();\r\n                    } else {\r\n                        quat.normalize();\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(b.aabb){\r\n                b.aabbNeedsUpdate = true;\r\n            }\r\n\r\n            // Update world inertia\r\n            if(b.updateInertiaWorld){\r\n                b.updateInertiaWorld();\r\n            }\r\n        }\r\n    }\r\n    this.clearForces();\r\n\r\n    this.broadphase.dirty = true;\r\n\r\n    if(doProfiling){\r\n        profile.integrate = performance.now() - profilingStart;\r\n    }\r\n\r\n    // Update world time\r\n    this.time += dt;\r\n    this.stepnumber += 1;\r\n\r\n    this.dispatchEvent(World_step_postStepEvent);\r\n\r\n    // Invoke post-step callbacks\r\n    for(i=0; i!==N; i++){\r\n        var bi = bodies[i];\r\n        var postStep = bi.postStep;\r\n        if(postStep){\r\n            postStep.call(bi);\r\n        }\r\n    }\r\n\r\n    // Sleeping update\r\n    if(this.allowSleep){\r\n        for(i=0; i!==N; i++){\r\n            bodies[i].sleepTick(this.time);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets all body forces in the world to zero.\r\n * @method clearForces\r\n */\r\nWorld.prototype.clearForces = function(){\r\n    var bodies = this.bodies;\r\n    var N = bodies.length;\r\n    for(var i=0; i !== N; i++){\r\n        var b = bodies[i],\r\n            force = b.force,\r\n            tau = b.torque;\r\n\r\n        b.force.set(0,0,0);\r\n        b.torque.set(0,0,0);\r\n    }\r\n};\r\n\r\n},{\"../collision/AABB\":3,\"../collision/ArrayCollisionMatrix\":4,\"../collision/NaiveBroadphase\":7,\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../material/ContactMaterial\":24,\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Shape\":43,\"../solver/GSSolver\":46,\"../utils/EventTarget\":49,\"../utils/TupleDictionary\":52,\"../utils/Vec3Pool\":54,\"./Narrowphase\":55}]},{},[2])\r\n(2)\r\n});","import * as THREE from \"three\";\r\n\r\nimport fragment from \"./shader/fragment.glsl\";\r\n\r\nimport vertex from \"./shader/vertex.glsl\";\r\n\r\nimport * as dat from \"dat.gui\";\r\n\r\nimport { gsap } from \"gsap\";\r\n\r\nimport OrbitControls from 'orbit-controls-es6';\r\n\r\nimport * as CANNON from 'cannon';\r\n\r\nimport sq from './sq.jpg';\r\n\r\nconsole.log('Three:', THREE);\r\n\r\nconsole.log('dat:', dat);\r\n\r\nconsole.log('gsap:', gsap, 'timeline:', gsap.timeline());\r\n\r\nconsole.log('Orbit Controls:', OrbitControls);\r\n\r\nconsole.log('Cannonjs:', CANNON);\r\n\r\nconsole.log('vertexShader:', vertex);\r\n\r\nconsole.log('fragmentShader:', fragment);\r\n\r\nclass Sketch {\r\n\r\n    constructor(selector) {\r\n\r\n        this.configScene();\r\n\r\n        this.initParameters();\r\n\r\n        this.configRenderer();\r\n\r\n        this.attachDOM(selector);\r\n\r\n        this.setDimensions(window.innerWidth - 20, window.innerHeight - 20);\r\n\r\n        this.configCamera();\r\n\r\n        this.resize();\r\n\r\n        this.configControls();\r\n\r\n        this.setupPhysics();\r\n\r\n        this.setupResize();\r\n\r\n        this.resize();\r\n\r\n        this.addObjects();\r\n\r\n        this.render();\r\n    }\r\n\r\n    configScene() {\r\n\r\n        this.scene = new THREE.Scene();\r\n    }\r\n\r\n    initParameters() {\r\n\r\n        this.paused = false;\r\n\r\n        this.lastTime = 0;\r\n\r\n        this.time = 0;\r\n\r\n        this.fixedTimestep = 1.0 / 60.0;\r\n\r\n        this.maxSubSteps = 3;\r\n    }\r\n\r\n    configRenderer() {\r\n\r\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n\r\n        this.renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n        this.renderer.setClearColor(0xeeeeee, 1);\r\n    }\r\n\r\n    attachDOM(selector) {\r\n\r\n        this.container = document.getElementById(selector);\r\n\r\n        this.container.appendChild(this.renderer.domElement);\r\n    }\r\n\r\n    setDimensions(w, h) {\r\n\r\n        this.width = window.innerWidth - 20;\r\n\r\n        this.height = window.innerHeight - 20;\r\n    }\r\n\r\n    configCamera() {\r\n\r\n        this.camera = new THREE.PerspectiveCamera(\r\n            70,\r\n            this.width / this.height,\r\n            0.001,\r\n            1000\r\n        );\r\n\r\n        this.camera.position.set(0, -4, 4);\r\n    }\r\n\r\n    configControls() {\r\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n        this.controls.autoRotate = false;\r\n        this.controls.enableZoom = true;\r\n        this.controls.enablePan = true;\r\n        this.controls.update();\r\n    }\r\n\r\n    configSettings() {\r\n\r\n        let that = this;\r\n\r\n        this.settings = {\r\n            time: 0,\r\n            amlitude: 1,\r\n            diffAmplitude: 1,\r\n            period1: 1,\r\n            period2: 1,\r\n            perlinAmplitude: 1,\r\n            timespeed: 1,\r\n            oneWave: 1000,\r\n            size: 5,\r\n            fly: function () {\r\n                alert(\"fly\");\r\n            }\r\n        };\r\n\r\n        this.gui = new dat.GUI();\r\n\r\n        this.gui.add(this.settings, \"time\", 0, 100, 0.01);\r\n\r\n        this.gui.add(this.settings, \"fly\").name(\"Test fly\");\r\n    }\r\n\r\n    setupResize() {\r\n\r\n        window.addEventListener(\"resize\", this.resize.bind(this));\r\n    }\r\n\r\n    resize() {\r\n\r\n        this.setDimensions(window.innerWidth - 20, window.innerHeight - 20);\r\n\r\n        this.renderer.setSize(this.width, this.height);\r\n\r\n        this.camera.aspect = this.width / this.height;\r\n\r\n        this.camera.updateProjectionMatrix();\r\n    }\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -9);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        const radius = 1;\r\n\r\n        this.cannonBody = new CANNON.Body({\r\n            mass: 5,\r\n            position: new CANNON.Vec3(0, 0, 10),\r\n            shape: new CANNON.Sphere(radius)\r\n        });\r\n\r\n        this.world.addBody(this.cannonBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        const geometry = new THREE.SphereGeometry(1, 32, 32);\r\n\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n\r\n        this.mesh = new THREE.Mesh(geometry, material);\r\n\r\n        this.scene.add(this.mesh);\r\n    }\r\n\r\n    stop() {\r\n\r\n        this.paused = true;\r\n    }\r\n\r\n    play() {\r\n\r\n        this.paused = false;\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.paused) {\r\n\r\n            return;\r\n        }\r\n\r\n        this.time += 0.05;\r\n\r\n        if (this.lastTime !== undefined) {\r\n\r\n            this.world.step(this.fixedTimestep);\r\n        }\r\n\r\n        this.lastTime = this.time;\r\n\r\n        this.mesh.position.copy(this.cannonBody.position);\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n}\r\n\r\nclass SketchBox extends Sketch {\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -9);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        this.cannonBody = new CANNON.Body({\r\n            mass: 5,\r\n            position: new CANNON.Vec3(0, 0, 10),\r\n            shape: new CANNON.Box(new CANNON.Vec3(1, 1, 1))\r\n        });\r\n\r\n        this.world.addBody(this.cannonBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        const geometry = new THREE.BoxGeometry(1, 1, 1);\r\n\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n\r\n        this.mesh = new THREE.Mesh(geometry, material);\r\n\r\n        this.scene.add(this.mesh);\r\n    }\r\n}\r\n\r\nclass SketchFallingCards extends SketchBox {\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -9);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        this.cannonBody = new CANNON.Body({\r\n            mass: 5,\r\n            position: new CANNON.Vec3(0, 0, 10),\r\n            shape: new CANNON.Box(new CANNON.Vec3(.5, .01, .5))\r\n        });\r\n\r\n        this.world.addBody(this.cannonBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        const geometry = new THREE.BoxGeometry(1, .1, 1);\r\n\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n\r\n        this.mesh = new THREE.Mesh(geometry, material);\r\n\r\n        this.scene.add(this.mesh);\r\n\r\n        const surfaceGeometry = new THREE.PlaneBufferGeometry(5, 20, 32);\r\n\r\n        const surfaceMaterial = new THREE.MeshBasicMaterial({ wireframe: true, color: 0x0000ff, side: THREE.DoubleSide });\r\n\r\n        this.plane = new THREE.Mesh(surfaceGeometry, surfaceMaterial);\r\n\r\n        this.scene.add(this.plane);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.paused) {\r\n\r\n            return;\r\n        }\r\n\r\n        this.time += 0.05;\r\n\r\n        if (this.lastTime !== undefined) {\r\n\r\n            this.world.step(this.fixedTimestep);\r\n        }\r\n\r\n        this.lastTime = this.time;\r\n\r\n        this.mesh.position.copy(this.cannonBody.position);\r\n\r\n        this.mesh.quaternion.copy(this.cannonBody.quaternion);\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n}\r\n\r\nclass SketchFallingTogether extends SketchFallingCards {\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -9);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        this.cannonBody = new CANNON.Body({\r\n            mass: 0.01,\r\n            position: new CANNON.Vec3(0, 0, 10),\r\n            shape: new CANNON.Box(new CANNON.Vec3(.5, .01, .5))\r\n        });\r\n\r\n        this.world.addBody(this.cannonBody);\r\n\r\n        this.cannonBody2 = new CANNON.Body({\r\n            mass: 0.01,\r\n            position: new CANNON.Vec3(0, 0, 12),\r\n            shape: new CANNON.Box(new CANNON.Vec3(.5, .05, .5))\r\n        });\r\n\r\n        this.world.addBody(this.cannonBody2);\r\n\r\n        this.createMatrix();\r\n\r\n        const hfShape = new CANNON.Heightfield(this.matrix, {\r\n            elementSize: 5\r\n        });\r\n\r\n        const hfBody = new CANNON.Body({ mass: 0 });\r\n\r\n        hfBody.addShape(hfShape);\r\n\r\n        this.world.addBody(hfBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    createMatrix() {\r\n\r\n        this.matrix = [];\r\n\r\n        const sizeX = 20;\r\n\r\n        const sizeY = 20;\r\n\r\n        for (let i = 0; i < sizeX; i++) {\r\n\r\n            this.matrix.push([]);\r\n\r\n            for (let j = 0; j < sizeY; j++) {\r\n\r\n                this.matrix[i].push(Math.random());\r\n            }\r\n        }\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        const geometry = new THREE.BoxGeometry(1, .1, 1);\r\n\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n\r\n        this.mesh = new THREE.Mesh(geometry, material);\r\n\r\n        this.scene.add(this.mesh);\r\n\r\n        const material2 = new THREE.MeshBasicMaterial({ color: 0x0000ff });\r\n\r\n        this.mesh2 = new THREE.Mesh(geometry, material2);\r\n\r\n        this.scene.add(this.mesh2);\r\n\r\n        const surfaceGeometry = new THREE.PlaneBufferGeometry(5, 20, 32);\r\n\r\n        const surfaceMaterial = new THREE.MeshBasicMaterial({ wireframe: true, color: 0x0000ff, side: THREE.DoubleSide });\r\n\r\n        this.plane = new THREE.Mesh(surfaceGeometry, surfaceMaterial);\r\n\r\n        this.scene.add(this.plane);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.paused) {\r\n\r\n            return;\r\n        }\r\n\r\n        this.time += 0.05;\r\n\r\n        if (this.lastTime !== undefined) {\r\n\r\n            this.world.step(this.fixedTimestep);\r\n        }\r\n\r\n        this.lastTime = this.time;\r\n\r\n        this.mesh.position.copy(this.cannonBody.position);\r\n\r\n        this.mesh.quaternion.copy(this.cannonBody.quaternion);\r\n\r\n        this.mesh2.position.copy(this.cannonBody2.position);\r\n\r\n        this.mesh2.quaternion.copy(this.cannonBody2.quaternion);\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n}\r\n\r\nclass SketchManyCards extends SketchFallingTogether {\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -2);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        this.physicsObjects = [];\r\n\r\n        this.number = 10;\r\n\r\n        for (let i = 0; i < this.number; i++) {\r\n\r\n            const body = new CANNON.Body({\r\n                mass: 0.01,\r\n                position: new CANNON.Vec3(10 * (Math.random() - 0.5), 10 * (Math.random() - 0.5), 4 + 4 * Math.random()),\r\n                shape: new CANNON.Box(new CANNON.Vec3(.5, .01, .5))\r\n            });\r\n\r\n            body.angularVelocity.set(Math.random(), 2 * Math.random(), 0);\r\n\r\n            this.physicsObjects.push(body);\r\n\r\n            this.world.addBody(body);\r\n        }\r\n\r\n        this.createMatrix();\r\n\r\n        const hfShape = new CANNON.Heightfield(this.matrix, {\r\n            elementSize: 5\r\n        });\r\n\r\n        const hfBody = new CANNON.Body({ mass: 0 });\r\n\r\n        hfBody.addShape(hfShape);\r\n\r\n        this.world.addBody(hfBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    createMatrix() {\r\n\r\n        this.matrix = [];\r\n\r\n        const sizeX = 20;\r\n\r\n        const sizeY = 20;\r\n\r\n        for (let i = 0; i < sizeX; i++) {\r\n\r\n            this.matrix.push([]);\r\n\r\n            for (let j = 0; j < sizeY; j++) {\r\n\r\n                this.matrix[i].push(Math.random() / 10);\r\n            }\r\n        }\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        this.objects = [];\r\n\r\n        this.physicsObjects.forEach(obj => {\r\n\r\n            const geometry = new THREE.PlaneBufferGeometry(1, 1);\r\n\r\n            geometry.rotateX(Math.PI / 2);\r\n\r\n            const material = new THREE.MeshBasicMaterial({ color: 0x0000ff, side: THREE.DoubleSide });\r\n\r\n            const mesh = new THREE.Mesh(geometry, material);\r\n\r\n            this.objects.push(mesh);\r\n\r\n            this.scene.add(mesh);\r\n        });\r\n\r\n        const surfaceGeometry = new THREE.PlaneBufferGeometry(5, 20, 32);\r\n\r\n        const surfaceMaterial = new THREE.MeshBasicMaterial({ wireframe: true, color: 0x0000ff, side: THREE.DoubleSide });\r\n\r\n        this.plane = new THREE.Mesh(surfaceGeometry, surfaceMaterial);\r\n\r\n        this.scene.add(this.plane);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.paused) {\r\n\r\n            return;\r\n        }\r\n\r\n        this.time += 0.05;\r\n\r\n        if (this.lastTime !== undefined) {\r\n\r\n            this.world.step(this.fixedTimestep);\r\n        }\r\n\r\n        this.lastTime = this.time;\r\n\r\n        this.physicsObjects.forEach((obj, i) => {\r\n\r\n            this.objects[i].position.copy(obj.position);\r\n\r\n            this.objects[i].quaternion.copy(obj.quaternion);\r\n        });\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n}\r\n\r\nclass SketchTrollCards extends SketchManyCards {\r\n\r\n    configScene() {\r\n\r\n        this.scene = new THREE.Scene();\r\n\r\n        this.scene.background = new THREE.Color(0x000000);\r\n    }\r\n\r\n    setupPhysics() {\r\n\r\n        this.world = new CANNON.World();\r\n\r\n        this.world.gravity.set(0, 0, -2);\r\n\r\n        this.world.broadphase = new CANNON.NaiveBroadphase();\r\n\r\n        this.physicsObjects = [];\r\n\r\n        this.number = Math.round(30 * Math.random());\r\n\r\n        for (let i = 0; i < this.number; i++) {\r\n\r\n            const body = new CANNON.Body({\r\n                mass: 0.01,\r\n                position: new CANNON.Vec3(10 * (Math.random() - 0.5), 10 * (Math.random() - 0.5), 4 + 4 * Math.random()),\r\n                shape: new CANNON.Box(new CANNON.Vec3(.5, .01, .5))\r\n            });\r\n\r\n            body.angularVelocity.set(Math.random(), 2 * Math.random(), 0);\r\n\r\n            this.physicsObjects.push(body);\r\n\r\n            this.world.addBody(body);\r\n        }\r\n\r\n        this.createMatrix();\r\n\r\n        const hfShape = new CANNON.Heightfield(this.matrix, {\r\n            elementSize: 5\r\n        });\r\n\r\n        const hfBody = new CANNON.Body({ mass: 0 });\r\n\r\n        hfBody.addShape(hfShape);\r\n\r\n        this.world.addBody(hfBody);\r\n\r\n        this.groundBody = new CANNON.Body({\r\n            mass: 0\r\n        });\r\n\r\n        this.groundShape = new CANNON.Plane();\r\n\r\n        this.groundBody.addShape(this.groundShape);\r\n\r\n        this.world.addBody(this.groundBody);\r\n    }\r\n\r\n    addObjects() {\r\n\r\n        let that = this;\r\n\r\n        this.objects = [];\r\n\r\n        this.physicsObjects.forEach(obj => {\r\n\r\n            const geometry = new THREE.PlaneBufferGeometry(1, 1);\r\n\r\n            geometry.rotateX(Math.PI / 2);\r\n\r\n            const material = new THREE.MeshBasicMaterial({\r\n                side: THREE.DoubleSide,\r\n                map: new THREE.TextureLoader().load(sq)\r\n            });\r\n\r\n            const mesh = new THREE.Mesh(geometry, material);\r\n\r\n            this.objects.push(mesh);\r\n\r\n            this.scene.add(mesh);\r\n        });\r\n\r\n        const surfaceGeometry = new THREE.PlaneBufferGeometry(5, 20, 32);\r\n\r\n        const surfaceMaterial = new THREE.MeshBasicMaterial({ wireframe: false, color: 0x000000, side: THREE.DoubleSide });\r\n\r\n        this.plane = new THREE.Mesh(surfaceGeometry, surfaceMaterial);\r\n\r\n        this.scene.add(this.plane);\r\n    }\r\n}\r\n\r\nconst sketch = new Sketch(\"container\");\r\n\r\nconst sketch2 = new SketchBox(\"containerBox\");\r\n\r\nconst sketch3 = new SketchFallingCards(\"containerCard\");\r\n\r\nconst sketch4 = new SketchFallingTogether(\"containerTwoCards\");\r\n\r\nconst sketch5 = new SketchManyCards(\"containerSetCards\");\r\n\r\nconst sketch6 = new SketchTrollCards(\"containerTrollCards\");"]}